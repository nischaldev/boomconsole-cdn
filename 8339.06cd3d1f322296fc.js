"use strict";(self.webpackChunkngx_boomconsole=self.webpackChunkngx_boomconsole||[]).push([[8339],{8339:(Ha,X,g)=>{g.r(X),g.d(X,{CrmModule:()=>Sa});var x=g(6895),S=g(7518),U=g(4718),M=g(5861),r=g(4006),$=g(6844),t=g(4650),O=g(9446),Y=g(8495),G=g(8180);function st(o,a){1&o&&(t.TgZ(0,"div",6)(1,"label",23),t._uU(2,"To: "),t.qZA(),t._UZ(3,"input",24),t.qZA())}function rt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",30),t._uU(1),t.TgZ(2,"span",31),t.NdJ("keyup",function(){const l=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.removeTag(l))})("click",function(){const l=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.removeTag(l))}),t._uU(3,"\u2715"),t.qZA()()}if(2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e," ")}}function dt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"label",25),t._uU(2,"To: "),t.TgZ(3,"span",26),t._uU(4," info "),t.qZA()(),t.TgZ(5,"div",27),t.YNc(6,rt,4,1,"span",28),t.TgZ(7,"input",29),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.currentInput=i)})("keypress",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.handleKeyPress(i))}),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.emailTags),t.xp6(1),t.Q6J("ngModel",e.currentInput)}}function _t(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.sendEmail())}),t._uU(1," Send Email "),t.qZA()}}function pt(o,a){1&o&&(t.TgZ(0,"button",33),t._uU(1," Sending.. "),t.qZA()),2&o&&t.Q6J("disabled",!0)}let z=(()=>{const a=class{constructor(n,i,l){this._activeModal=n,this._nodeService=i,this._snackbarService=l,this.composeMail=!1,this.emailTags=[],this.currentInput="",this.loading=!1,this.receivers=[],this.saveInEmail=!1}ngOnInit(){this.editor=new $.ML,this.mailCompose=new r.cw({from:new r.NI("",[r.kI.required]),to:new r.NI(""),subject:new r.NI(""),message:new r.NI("")}),this.patchvalues()}patchvalues(){Array.isArray(this.entity)?(this.composeMail=!0,this.entity.forEach(n=>{let i;i=n?.members?n?.members?.map(l=>l?.email).filter(l=>l&&l.trim().length>0):n?.contactInformation?.emails?.map(l=>l?.address?.value).filter(l=>l&&l.trim().length>0).filter(l=>l&&l.trim().length>0),i&&Array.isArray(i)&&i.length>0&&("groups"==this.source?(this.composeMail=!0,this.receivers=this.groupReceivers,this.emailTags=this.emailTagsGroups):i.forEach(l=>{if(!this.emailTags.includes(l)){const c={...n,email:l};this.emailTags.push(l),this.receivers.push(c)}}))})):this.entity?(this.composeMail=!1,this.mailCompose.patchValue({to:this.entity.contactInformation?.emails[0].address?.value}),this.sendToEmail=this.entity.contactInformation?.emails.map(n=>n.address?.value),this.receiverId=this.entity.id):this.composeMail=!0,this.mailCompose.patchValue({from:this.smtp.username})}addTag(){const n=this.currentInput.trim();n&&this.isValidEmail(n)&&(this.emailTags.push(n),this.currentInput="")}isValidEmail(n){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n)}removeTag(n){this.emailTags.splice(n,1),this.receivers.splice(n,1)}handleKeyPress(n){("Enter"===n.key||" "===n.key)&&this.addTag()}sendEmail(){var l,i,n=this;if(this.mailCompose.valid)if(this.loading=!0,this.mailCompose.value.application="email",this.mailCompose.value.receiverId=this.receiverId||"",this.mailCompose.value.to=this.sendToEmail||this.emailTags,this.mailCompose.value.attachments=[],this.mailCompose.value.receivers=this.receivers,this.composeMail){let i;i="groups"==this.source?this.groupId:"",this.mailCompose.value.receivers=this.receivers,console.log("MAIL COMPOSE VALUES",this.mailCompose.value),this._nodeService.sendBulkMail(i,this.mailCompose.value,this.saveInEmail).subscribe({next:(l=(0,M.Z)(function*(c){n._snackbarService.openSnackBar(c.message,"success"),n.loading=!1,n._activeModal.close()}),function(s){return l.apply(this,arguments)}),error:l=>{console.warn(l),this.loading=!1,this._snackbarService.openSnackBar("Error Sending Email","error")}})}else this._nodeService.sendMail(this.mailCompose.value).subscribe({next:(i=(0,M.Z)(function*(l){n._snackbarService.openSnackBar(l.message,"success"),n.loading=!1,n._activeModal.close()}),function(c){return i.apply(this,arguments)}),error:i=>{console.warn(i),this.loading=!1,this._snackbarService.openSnackBar("Error creating SMTP","error")}})}};let o=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(O.Kz),t.Y36(Y.s),t.Y36(G.o))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-email-modal"]],inputs:{entity:"entity",smtp:"smtp",source:"source",groupId:"groupId",groupReceivers:"groupReceivers",emailTagsGroups:"emailTagsGroups",saveInEmail:"saveInEmail"},decls:32,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-header-buttons"],["type","button",1,"btn-close","btn-close-white","text-white","bg-transparent","border-0",3,"click"],[1,"modal-body"],[1,"form",3,"formGroup"],[1,"mb-3"],["for","smtpUsername",1,"form-label"],[1,"d-flex","justify-content-between","gap-1","align-items-center"],["formControlName","from","type","email","id","from","placeholder","Enter your email address...",1,"form-control"],["class","mb-3",4,"ngIf","ngIfElse"],["groupmsg",""],["for","subject",1,"form-label"],["formControlName","subject","type","text","id","subject","placeholder","",1,"form-control"],["for","message",1,"form-label"],[1,"NgxEditor__Wrapper"],[3,"editor"],["formControlName","message",3,"editor","disabled","placeholder"],[1,"mb-3","d-flex","gap-2"],["type","button",1,"btn","btn-ternary","m-0","border","border-secondary",3,"click"],["type","button","class","btn btn-primary m-0",3,"click",4,"ngIf"],["type","button","class","btn btn-primary m-0",3,"disabled",4,"ngIf"],[1,"modal-footer"],["for","smtpPassword",1,"form-label"],["formControlName","to","type","email","id","to","placeholder","Enter your email address...",1,"form-control"],["for","smtpPassword",1,"form-label","d-flex","align-items-center","gap-2"],["ngbTooltip","Press space to add an email",1,"material-symbols-outlined","info-icon"],["id","emailInputContainer","tabindex","0"],["class","tag",4,"ngFor","ngForOf"],["formControlName","to","type","text","placeholder","Enter email..",1,"tempinput",3,"ngModel","ngModelChange","keypress"],[1,"tag"],["tabindex","",1,"remove",3,"keyup","click"],["type","button",1,"btn","btn-primary","m-0",3,"click"],["type","button",1,"btn","btn-primary","m-0",3,"disabled"]],template:function(i,l){if(1&i&&(t.ynx(0),t.TgZ(1,"div",0)(2,"h4",1),t._uU(3,"New mail"),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){let s;return l._activeModal.close(),null==(s=l.mailCompose.get("subject"))||s.reset(),null==(s=l.mailCompose.get("message"))?null:s.reset()}),t.qZA()()(),t.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"label",7),t._uU(10,"From:"),t.qZA(),t.TgZ(11,"div",8),t._UZ(12,"input",9),t.qZA()(),t.YNc(13,st,4,0,"div",10),t.YNc(14,dt,8,2,"ng-template",null,11,t.W1O),t.TgZ(16,"div",6)(17,"label",12),t._uU(18,"Subject: "),t.qZA(),t._UZ(19,"input",13),t.qZA(),t.TgZ(20,"div",6)(21,"label",14),t._uU(22,"Message:"),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"ngx-editor-menu",16)(25,"ngx-editor",17),t.qZA()(),t.TgZ(26,"div",18)(27,"button",19),t.NdJ("click",function(){let s;return l._activeModal.close(),null==(s=l.mailCompose.get("subject"))||s.reset(),null==(s=l.mailCompose.get("message"))?null:s.reset()}),t._uU(28," Discard "),t.qZA(),t.YNc(29,_t,2,0,"button",20),t.YNc(30,pt,2,1,"button",21),t.qZA()()(),t._UZ(31,"div",22),t.BQk()),2&i){const c=t.MAs(15);t.xp6(7),t.Q6J("formGroup",l.mailCompose),t.xp6(6),t.Q6J("ngIf",!l.composeMail)("ngIfElse",c),t.xp6(11),t.Q6J("editor",l.editor),t.xp6(1),t.Q6J("editor",l.editor)("disabled",!1)("placeholder","Type here..."),t.xp6(4),t.Q6J("ngIf",!l.loading),t.xp6(1),t.Q6J("ngIf",l.loading)}},dependencies:[x.sg,x.O5,r._Y,r.Fj,r.JJ,r.JL,O._L,r.sg,r.u,$.tP,$.Mn],styles:[".modal-header[_ngcontent-%COMP%]{height:42px;color:#fff;background:#3c4956}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.modal-header-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.compose[_ngcontent-%COMP%]{color:#fff;background:white;border:none;cursor:pointer;margin-right:10px}.btn-close-white[_ngcontent-%COMP%]{color:#fff;background-color:transparent;border:none;opacity:1}.btn-close-white[_ngcontent-%COMP%]:hover{color:#f1f1f1;opacity:.8}.modal-body[_ngcontent-%COMP%]{padding:16px 14px}.modal-footer[_ngcontent-%COMP%]{border-top:0px}.form-control[_ngcontent-%COMP%]{height:45px}.email-input-box[_ngcontent-%COMP%]{border:1px solid #000;padding:5px;border-radius:4px;display:flex;align-items:center;width:100%;max-width:500px}.email-tags[_ngcontent-%COMP%]{display:flex;gap:5px;flex-wrap:wrap}.email-tag[_ngcontent-%COMP%]{background-color:#e0e0e0;padding:4px 8px;border-radius:4px;display:flex;align-items:center;font-size:.9em}.remove-tag[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer;font-weight:700}.email-input[_ngcontent-%COMP%]{border:none;outline:none;flex-grow:1;margin-left:5px}.btn[_ngcontent-%COMP%]{height:42px;padding:2px 16px;border-radius:4px;font-size:16px;font-weight:500}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef598c 0%,#f48439 100%);margin-left:12px;border:none}#emailInputContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:9px;border:1px solid #ced4da;border-radius:.375rem;gap:3px;box-shadow:#00000026 1.95px 1.95px 2.6px}.tag[_ngcontent-%COMP%]{background:#f4f4f4;color:#000000b2;padding:5px 10px;border-radius:15px;margin-right:5px;display:flex;align-items:center}.tag[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer;color:#000}.tempinput[_ngcontent-%COMP%]{border:none;outline:none;flex:1}"]}),o})();var j=g(5412),F=g(384),ut=g(4467),mt=g(228),_=g(9402);const gt=["emailWidget"];let ft=(()=>{const a=class{constructor(n){this._activeModal=n,this.widgetId=102801651}ngAfterViewInit(){setTimeout(()=>{(0,_.FtU)(this.widgetId,this.emailWidget.nativeElement,{smtp:this.smtp,groupId:this.groupId,receivers:this.groupReceivers},!1)},0)}};let o=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(O.Kz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-email-modal-widget"]],viewQuery:function(i,l){if(1&i&&t.Gf(gt,5),2&i){let c;t.iGM(c=t.CRH())&&(l.emailWidget=c.first)}},inputs:{smtp:"smtp",groupId:"groupId",groupReceivers:"groupReceivers"},decls:10,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-header-buttons"],["type","button",1,"btn-close","btn-close-white","text-white","bg-transparent","border-0",3,"click"],[1,"modal-body"],["id","emailWidget",1,"email-widget"],["emailWidget",""],[1,"modal-footer"]],template:function(i,l){1&i&&(t.ynx(0),t.TgZ(1,"div",0)(2,"h4",1),t._uU(3,"New mail"),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return l._activeModal.close()}),t.qZA()()(),t.TgZ(6,"div",4),t._UZ(7,"div",5,6),t.qZA(),t._UZ(9,"div",7),t.BQk())},styles:[".modal-header[_ngcontent-%COMP%]{height:42px;color:#fff;background:#3c4956}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.modal-header-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.compose[_ngcontent-%COMP%]{color:#fff;background:white;border:none;cursor:pointer;margin-right:10px}.btn-close-white[_ngcontent-%COMP%]{color:#fff;background-color:transparent;border:none;opacity:1}.btn-close-white[_ngcontent-%COMP%]:hover{color:#f1f1f1;opacity:.8}.modal-body[_ngcontent-%COMP%]{padding:16px 14px}.modal-footer[_ngcontent-%COMP%]{border-top:0px}.form-control[_ngcontent-%COMP%]{height:45px}.email-input-box[_ngcontent-%COMP%]{border:1px solid #000;padding:5px;border-radius:4px;display:flex;align-items:center;width:100%;max-width:500px}.email-tags[_ngcontent-%COMP%]{display:flex;gap:5px;flex-wrap:wrap}.email-tag[_ngcontent-%COMP%]{background-color:#e0e0e0;padding:4px 8px;border-radius:4px;display:flex;align-items:center;font-size:.9em}.remove-tag[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer;font-weight:700}.email-input[_ngcontent-%COMP%]{border:none;outline:none;flex-grow:1;margin-left:5px}.btn[_ngcontent-%COMP%]{height:42px;padding:2px 16px;border-radius:4px;font-size:16px;font-weight:500}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef598c 0%,#f48439 100%);margin-left:12px;border:none}#emailInputContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:9px;border:1px solid #ced4da;border-radius:.375rem;gap:3px;box-shadow:#00000026 1.95px 1.95px 2.6px}.tag[_ngcontent-%COMP%]{background:#f4f4f4;color:#000000b2;padding:5px 10px;border-radius:15px;margin-right:5px;display:flex;align-items:center}.tag[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer;color:#000}.tempinput[_ngcontent-%COMP%]{border:none;outline:none;flex:1}"]}),o})();var ht=g(1905),Ct=g(3718);function vt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",7)(1,"button",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.syncEmail())}),t.TgZ(2,"span",9),t._uU(3,"sync"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.isFetchingHistory)}}const xt=["*"];let tt=(()=>{const a=class{constructor(){this.isOpen=!1,this.showSync=!1,this.title="",this.closed=new t.vpe,this.sync=new t.vpe}ngOnChanges(n){n.isFetchingHistory&&(this.isFetchingHistory=n.isFetchingHistory.currentValue)}closeOffcanvas(){this.isOpen=!1,this.closed.emit()}syncEmail(){this.isFetchingHistory=!0,this.sync.emit()}};let o=a;return a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-email-history"]],inputs:{isOpen:"isOpen",showSync:"showSync",title:"title",isFetchingHistory:"isFetchingHistory"},outputs:{closed:"closed",sync:"sync"},features:[t.TTD],ngContentSelectors:xt,decls:10,vars:4,consts:[[1,"offcanvas"],[1,"offcanvas-header"],[1,"d-flex","align-items-center","gap-2"],[1,"offcanvas-title"],["class","sync-mail",4,"ngIf"],["type","button",1,"close",3,"click"],[1,"offcanvas-body"],[1,"sync-mail"],["type","button",1,"btn","btn-primary","btn-sm","d-flex","justify-content-center","align-items-center","gap-2","p-2",3,"disabled","click"],[1,"material-symbols-outlined"]],template:function(i,l){1&i&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),t._uU(4),t.qZA(),t.YNc(5,vt,4,1,"div",4),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return l.closeOffcanvas()}),t._uU(7," \xd7 "),t.qZA()(),t.TgZ(8,"div",6),t.Hsn(9),t.qZA()()),2&i&&(t.ekj("open",l.isOpen),t.xp6(4),t.Oqu(l.title),t.xp6(1),t.Q6J("ngIf",l.showSync))},dependencies:[x.O5],styles:[".offcanvas-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1040}.offcanvas[_ngcontent-%COMP%]{position:fixed;top:0;right:-100%;width:30%;height:100%;overflow:auto;background-color:#fff;z-index:1050;transition:right .3s ease;box-shadow:0 0 10px #00000080}@media only screen and (max-width: 600px){.offcanvas[_ngcontent-%COMP%]{width:100%}}.offcanvas.open[_ngcontent-%COMP%]{right:0;display:block;visibility:visible}.offcanvas-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #dee2e6}.close[_ngcontent-%COMP%]{font-size:1.5rem;background:none;border:none;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{font-size:16px;border-radius:4px;height:36px}"]}),o})();function bt(o,a){1&o&&(t.TgZ(0,"div",25),t._UZ(1,"span",26),t.qZA())}function yt(o,a){if(1&o&&t._UZ(0,"img",41),2&o){const e=t.oxw().$implicit;t.s9C("src",null==e?null:e.image,t.LSH)}}function Tt(o,a){1&o&&t._UZ(0,"img",42),2&o&&t.Q6J("src","./assets/groups_default.jpg",t.LSH)}function Zt(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(2),t.hij(" ",n.truncateDescription(null==e?null:e.description),"")}}function wt(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1,"No description available."),t.qZA())}function Mt(o,a){if(1&o&&t._UZ(0,"img",45),2&o){const e=t.oxw().$implicit;t.s9C("alt",null==e?null:e.firstName),t.Q6J("src",null==e?null:e.avatar,t.LSH)}}function At(o,a){1&o&&t._UZ(0,"img",46)}function It(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Mt,1,2,"img",43),t.YNc(2,At,1,0,"ng-template",null,44,t.W1O),t.BQk()),2&o){const e=a.$implicit,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null==e?null:e.avatar)("ngIfElse",n)}}function Pt(o,a){if(1&o&&(t.TgZ(0,"span",47),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" +",(null==e||null==e.members?null:e.members.length)-3," ")}}const Nt=function(o,a){return{"private-badge":o,"public-badge":a}},kt=function(o){return["/groups/gr/",o]};function Ot(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t.YNc(2,yt,1,1,"img",28),t.YNc(3,Tt,1,1,"ng-template",null,29,t.W1O),t.TgZ(5,"span"),t._uU(6),t.qZA()(),t.TgZ(7,"td"),t.YNc(8,Zt,3,1,"ng-container",23),t.YNc(9,wt,2,0,"ng-template",null,30,t.W1O),t.qZA(),t.TgZ(11,"td")(12,"div",31)(13,"div",32),t.YNc(14,It,4,2,"ng-container",27),t.YNc(15,Pt,2,1,"span",33),t.qZA(),t.TgZ(16,"button",34),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.addMembers(l))}),t.TgZ(17,"span",5),t._uU(18," person_add "),t.qZA()()()(),t.TgZ(19,"td")(20,"span",35),t._uU(21),t.qZA()(),t.TgZ(22,"td",36)(23,"div",37)(24,"button",38),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.openHistory(l))}),t.TgZ(25,"span",5),t._uU(26,"mail"),t.qZA()(),t.TgZ(27,"button",39)(28,"span",5),t._uU(29," visibility "),t.qZA()(),t.TgZ(30,"button",40)(31,"span",5),t._uU(32,"share"),t.qZA()()()()()}if(2&o){const e=a.$implicit,n=t.MAs(4),i=t.MAs(10),l=t.oxw(2);t.xp6(2),t.Q6J("ngIf",null==e?null:e.image)("ngIfElse",n),t.xp6(4),t.Oqu(null==e?null:e.name),t.xp6(2),t.Q6J("ngIf",null==e?null:e.description)("ngIfElse",i),t.xp6(6),t.Q6J("ngForOf",null==e||null==e.members?null:e.members.slice(0,3)),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.members?null:e.members.length)>3),t.xp6(5),t.Q6J("ngClass",t.WLB(12,Nt,"private"===(null==e||null==e.status?null:e.status.toLowerCase()),"public"===(null==e||null==e.status?null:e.status.toLowerCase()))),t.xp6(1),t.hij(" ","private"===(null==e||null==e.status?null:e.status.toLowerCase())?"Private":"public"===(null==e||null==e.status?null:e.status.toLowerCase())?"Public":"Unknown"," "),t.xp6(3),t.Q6J("disabled",!l.isSmtpActive),t.uIk("title",l.isSmtpActive?null:"Please enable SMTP to use this feature"),t.xp6(3),t.Q6J("routerLink",t.VKq(15,kt,null==e?null:e.id))}}function qt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Ot,33,17,"tr",27),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.paginatedGroups)}}function Ut(o,a){1&o&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",48)(3,"p"),t._uU(4,"No data found..."),t.qZA()()(),t.BQk())}function Et(o,a){1&o&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",48)(3,"p"),t._uU(4,"Looking for data..."),t.qZA()()(),t.BQk())}function Jt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.goToPage(l))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,n=t.oxw();t.ekj("active",e===n.currentPage),t.xp6(1),t.hij(" ",e," ")}}function St(o,a){if(1&o&&(t.TgZ(0,"div",59)(1,"p")(2,"strong"),t._uU(3,"From:"),t.qZA(),t._uU(4),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",null==e||null==e.header||null==e.header.from?null:e.header.from[0]," ")}}function Ft(o,a){if(1&o&&(t.TgZ(0,"div",60)(1,"p")(2,"strong"),t._uU(3,"To:"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&o){const e=t.oxw().$implicit;t.xp6(5),t.hij(" ",null==e||null==e.header||null==e.header.to?null:e.header.to[0]," ")}}function Qt(o,a){if(1&o&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&o){const e=a.$implicit;t.xp6(2),t.hij(" ",e," ")}}function Lt(o,a){if(1&o&&(t.TgZ(0,"div",60)(1,"p")(2,"strong"),t._uU(3,"To:"),t.qZA(),t.TgZ(4,"span"),t.YNc(5,Qt,3,1,"ul",27),t.qZA()()()),2&o){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("ngForOf",null==e||null==e.header?null:e.header.to)}}function Yt(o,a){if(1&o&&(t.TgZ(0,"div",61)(1,"span",62),t._uU(2),t.qZA(),t.TgZ(3,"span",63),t._uU(4),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.ekj("sent","true"===(null==e?null:e.sent))("received","true"!==(null==e?null:e.sent)),t.xp6(1),t.hij(" ","true"===(null==e?null:e.sent)?"Sent":"Received"," "),t.xp6(2),t.Oqu(null==e?null:e.status)}}function Gt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",51)(1,"div",52)(2,"span")(3,"strong"),t._uU(4,"Subject:"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"span",53),t._uU(7),t.ALo(8,"date"),t.qZA()(),t.TgZ(9,"div",54),t.NdJ("keyup",function(){const l=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.toggleExpand(l))})("click",function(){const l=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.toggleExpand(l))}),t._UZ(10,"span",55),t.ALo(11,"slice"),t.qZA(),t.YNc(12,St,5,1,"div",56),t.YNc(13,Ft,6,1,"div",57),t.YNc(14,Lt,6,1,"div",57),t.YNc(15,Yt,5,6,"div",58),t.qZA()}if(2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(5),t.hij(" ",null==e?null:e.subject,""),t.xp6(2),t.hij(" ",t.xi3(8,7,e.created_at,"M/d/yyyy h:mm:ss a"),""),t.xp6(3),t.Q6J("innerHTML",i.isExpanded[n]?e.message:t.Dn7(11,10,e.message,0,100)+"...",t.oJD),t.xp6(2),t.Q6J("ngIf",i.isExpanded[n]),t.xp6(1),t.Q6J("ngIf",!i.isExpanded[n]),t.xp6(1),t.Q6J("ngIf",i.isExpanded[n]),t.xp6(1),t.Q6J("ngIf",i.isExpanded[n])}}function jt(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Gt,16,14,"div",50),t._UZ(2,"hr"),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.emailHistory)}}function Ht(o,a){1&o&&(t.ynx(0),t.TgZ(1,"p",64),t._uU(2,"Looking for data....."),t.qZA(),t.BQk())}function $t(o,a){1&o&&(t.ynx(0),t.TgZ(1,"p",64),t._uU(2,"No email history available."),t.qZA(),t.BQk())}function Dt(o,a){if(1&o&&t.YNc(0,$t,3,0,"ng-container",15),2&o){const e=t.oxw();t.Q6J("ngIf",!e.isFetchingHistory)}}let Vt=(()=>{const a=class{constructor(n,i,l,c,s){this._ngbModal=n,this._nodeService=i,this._auth=l,this._profileServiceV2=c,this._groupsServiceV2=s,this.allGroups=[],this.filteredGroups=[],this.isLoading=!1,this.searchQuery="",this.isMinimized=!1,this.emailTags=[],this.currentInput="",this.isHistoryOpen=!1,this.isExpanded=[],this.receivers=[],this.isFetchingHistory=!1,this.isSmtpActive=!1,this.paginatedGroups=[],this.currentPage=1,this.itemsPerPage=10;const d=this._auth.loadFromLocalStorage();this.conceptId=d?.userConcept,this.entityId=Number(d?.entityId)}ngOnInit(){this.loadGroups(),this.getSingleSMTPActiveList()}loadGroups(){var n=this;return(0,M.Z)(function*(){try{n.isLoading=!0,n.allGroups=yield n._groupsServiceV2.getGroups(n.entityId),n.isLoading=!1;const i=n._auth.loadFromLocalStorage().entityId;n.getUserProfile(i),n.updatePagination()}catch(i){console.error("Error loading groups:",i)}})()}truncateDescription(n){const i=n?.split(" ")||[];return i.length>10?i.slice(0,10).join(" ")+"...":n}createGroup(){this._ngbModal.open(ut.t,{size:"lg"}).componentInstance.groupCreated.subscribe(()=>{this.loadGroups()})}addMembers(n){const i=this._ngbModal.open(mt.g,{size:"md"});i.componentInstance.groupDetail=n,i.componentInstance.inviteType="crm",i.componentInstance.userDetail=this.userDetails}filterGroups(){this.filteredGroups=this.allGroups.filter(n=>n.name.toLowerCase().includes(this.searchQuery.toLowerCase())),this.allGroups=this.filteredGroups,this.paginatedGroups=this.allGroups,0===this.searchQuery.length&&this.loadGroups()}onSearchChange(){this.filterGroups()}openVerticallyCentered(n){this.emailTags=n.members.map(l=>l.email),this.receivers=n.members.map(l=>l),this.receiverId=n.members.map(l=>l.id),this.groupId=n.id;const i=this._ngbModal.open(ft,{size:"xl"});i.componentInstance.entity=[n],i.componentInstance.smtp=this.smtp,i.componentInstance.groupReceivers=this.receivers,i.componentInstance.groupId=this.groupId,i.componentInstance.emailTagsGroups=this.emailTags,i.componentInstance.source="groups"}minimizeModal(){this.isMinimized=!this.isMinimized}getSingleSMTPActiveList(){this._nodeService.getSingleSmtpServerActiveList().subscribe({next:n=>{this.smtp=n?.data,"true"==this.smtp?.active&&(this.isSmtpActive=!0)}})}openHistory(n){var i=this;return(0,M.Z)(function*(){i.isHistoryOpen=!i.isHistoryOpen,i.entityData={entity:n},i.isFetchingHistory=!0,i._nodeService.getConversations(n?.id,"groups",!0).subscribe({next:l=>{i.emailHistory=l?.data,i.isExpanded=new Array(i.emailHistory.length).fill(!1),i.isFetchingHistory=!1}})})()}toggleExpand(n){this.isExpanded[n]=!this.isExpanded[n]}handleOffcanvasClosed(){this.isHistoryOpen=!this.isHistoryOpen}openEmailModal(){this.openVerticallyCentered(this.entityData.entity),this.handleOffcanvasClosed()}getUserProfile(n){var i=this;return(0,M.Z)(function*(){const l=yield i._profileServiceV2.fetchUserDetails(n);i.userDetails=l})()}nextPage(){this.currentPage<Math.ceil(this.allGroups.length/this.itemsPerPage)&&(this.currentPage++,this.updatePagination())}prevPage(){this.currentPage>1&&(this.currentPage--,this.updatePagination())}updatePagination(){const n=(this.currentPage-1)*this.itemsPerPage;this.paginatedGroups=this.allGroups.slice(n,n+this.itemsPerPage)}get totalPages(){return Math.ceil(this.allGroups.length/this.itemsPerPage)}get pageRange(){const i=Math.max(1,this.currentPage-Math.floor(2.5)),l=Math.min(this.totalPages,i+5-1);return Array.from({length:l-i+1},(c,s)=>i+s)}goToPage(n){n>=1&&n<=this.totalPages&&(this.currentPage=n,this.updatePagination())}};let o=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(O.FF),t.Y36(Y.s),t.Y36(F.e),t.Y36(ht.S),t.Y36(Ct.c))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-groups-tab"]],inputs:{SMPTstatus:"SMPTstatus"},decls:50,vars:17,consts:[["class","loading",4,"ngIf"],[1,""],[1,"topBar","d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"left","d-flex","w-50"],[1,"input-container"],[1,"material-symbols-outlined"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],[1,"d-flex"],[1,"btn","btn-primary","d-flex","align-items-center","gap-2",3,"click"],[1,"table-responsive","card","border-0"],[1,"table","table-bordered"],["scope","col"],["scope","col","width","180px"],["scope","col","width","100px"],["scope","col","width","130px"],[4,"ngIf"],[1,"pagination-container","d-flex","justify-content-end","mt-4"],[1,"pagination-btn",3,"disabled","click"],["class","pagination-btn",3,"active","click",4,"ngFor","ngForOf"],[3,"isOpen","title","closed"],[1,"email-history-container"],[1,"compose-mail","d-flex","justify-content-end"],[1,"btn","btn-primary","btn-sm","d-flex","align-items-center","justify-content-between",3,"click"],[4,"ngIf","ngIfElse"],["noHistory",""],[1,"loading"],[1,"loader"],[4,"ngFor","ngForOf"],["class","group-img","alt","Group Image",3,"src",4,"ngIf","ngIfElse"],["noImage",""],["noDescription",""],[1,"members-container"],[1,"members-list"],["class","remaining-members-badge",4,"ngIf"],[1,"add-member-btn",3,"click"],[1,"badge",3,"ngClass"],[1,"text-center","align-middle"],[1,"d-flex","gap-2","align-items-center","justify-content-center"],[1,"btn","btn-view","border","border-warning","bg-transparent",3,"disabled","click"],[1,"btn","btn-view","border","border-info","bg-transparent",3,"routerLink"],[1,"btn","btn-view","border","border-danger","bg-transparent"],["alt","Group Image",1,"group-img",3,"src"],["alt","",1,"group-img",3,"src"],["class","member-image",3,"src","alt",4,"ngIf","ngIfElse"],["defaultImage",""],[1,"member-image",3,"src","alt"],["src","./assets/man.png","alt","",1,"member-image"],[1,"remaining-members-badge"],["colspan","5"],[1,"pagination-btn",3,"click"],["class","email-item",4,"ngFor","ngForOf"],[1,"email-item"],[1,"email-header"],[1,"email-date"],["tabindex","",1,"email-preview",3,"keyup","click"],[3,"innerHTML"],["class","email-meta",4,"ngIf"],["class","email-meta mt-2",4,"ngIf"],["class","email-status",4,"ngIf"],[1,"email-meta"],[1,"email-meta","mt-2"],[1,"email-status"],[1,"status-badge"],[1,"status-text"],[1,"no-history-message"]],template:function(i,l){if(1&i&&(t.YNc(0,bt,2,0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),t._uU(6,"search"),t.qZA(),t.TgZ(7,"input",6),t.NdJ("ngModelChange",function(s){return l.searchQuery=s})("input",function(){return l.onSearchChange()}),t.qZA()()(),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){return l.createGroup()}),t.TgZ(10,"span",5),t._uU(11," add "),t.qZA(),t._uU(12," Create Group "),t.qZA()()(),t.TgZ(13,"div",9)(14,"table",10)(15,"thead")(16,"tr")(17,"th",11),t._uU(18,"Group Name"),t.qZA(),t.TgZ(19,"th",11),t._uU(20,"Description"),t.qZA(),t.TgZ(21,"th",12),t._uU(22,"Members"),t.qZA(),t.TgZ(23,"th",13),t._uU(24,"Status"),t.qZA(),t.TgZ(25,"th",14),t._uU(26,"Action"),t.qZA()()(),t.TgZ(27,"tbody"),t.YNc(28,qt,2,1,"ng-container",15),t.YNc(29,Ut,5,0,"ng-container",15),t.YNc(30,Et,5,0,"ng-container",15),t.qZA()()()(),t.TgZ(31,"div",16)(32,"button",17),t.NdJ("click",function(){return l.prevPage()}),t._uU(33," Prev "),t.qZA(),t.YNc(34,Jt,2,3,"button",18),t.TgZ(35,"button",17),t.NdJ("click",function(){return l.nextPage()}),t._uU(36," Next "),t.qZA()(),t.ynx(37),t.TgZ(38,"app-email-history",19),t.NdJ("closed",function(){return l.handleOffcanvasClosed()}),t.TgZ(39,"div",20),t.ynx(40),t.TgZ(41,"div",21)(42,"button",22),t.NdJ("click",function(){return l.openEmailModal()}),t.TgZ(43,"span",5),t._uU(44," add "),t.qZA(),t._uU(45," Compose "),t.qZA()(),t.BQk(),t.YNc(46,jt,3,1,"ng-container",23),t.YNc(47,Ht,3,0,"ng-container",15),t.YNc(48,Dt,1,1,"ng-template",null,24,t.W1O),t.qZA()(),t.BQk()),2&i){const c=t.MAs(49);t.Q6J("ngIf",l.isLoading),t.xp6(7),t.Q6J("ngModel",l.searchQuery),t.xp6(21),t.Q6J("ngIf",l.allGroups),t.xp6(1),t.Q6J("ngIf",!l.isLoading&&0===(null==l.allGroups?null:l.allGroups.length)),t.xp6(1),t.Q6J("ngIf",l.isLoading),t.xp6(2),t.ekj("disabled",1===l.currentPage),t.Q6J("disabled",1===l.currentPage),t.xp6(2),t.Q6J("ngForOf",l.pageRange),t.xp6(1),t.ekj("disabled",l.currentPage>=l.totalPages),t.Q6J("disabled",l.currentPage>=l.totalPages),t.xp6(3),t.Q6J("isOpen",l.isHistoryOpen)("title","Email History"),t.xp6(8),t.Q6J("ngIf",(null==l.emailHistory?null:l.emailHistory.length)&&!l.isFetchingHistory)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf",l.isFetchingHistory)}},dependencies:[x.mk,x.sg,x.O5,S.rH,r.Fj,r.JJ,r.On,tt,x.OU,x.uU],styles:['h5[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#000}.topBar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px;width:100%;max-width:394px;height:42px;border:1px solid #dddddd;border-radius:4px;color:#fff}.btn[_ngcontent-%COMP%]{height:42px;padding:2px 16px;border-radius:4px;font-size:16px;font-weight:500}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef598c 0%,#f48439 100%);margin-left:12px;border:none}.table-responsive[_ngcontent-%COMP%]{margin-top:12px}.table[_ngcontent-%COMP%]{font-size:14px;table-layout:fixed;width:100%}.btn-view[_ngcontent-%COMP%]{width:30px;height:24px;padding:4px 8px;display:flex;align-items:center;justify-content:center}.left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:40px;font-size:14px;color:#0009;background-size:16px}.input-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 20px 10px 40px;font-size:16px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.input-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:60%;left:10px;transform:translateY(-50%);font-size:18px;color:#aaa}.autocomplete-items[_ngcontent-%COMP%]{position:absolute;border:1px solid #d4d4d4;z-index:99;background-color:#fff;max-height:150px;overflow-y:auto;width:100%}.autocomplete-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px;cursor:pointer}.autocomplete-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#e9e9e9}@media (max-width: 768px){.topBar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.btn.btn-filter[_ngcontent-%COMP%], .btn.btn-export[_ngcontent-%COMP%]{font-size:12px}h5[_ngcontent-%COMP%]{font-size:20px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}.btn-view[_ngcontent-%COMP%]{width:24px;height:20px}.input-container[_ngcontent-%COMP%]{max-width:100%}.input-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{left:10px}}@media (max-width: 576px){.btn.btn-primary[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-top:8px}.topBar[_ngcontent-%COMP%]{flex-direction:column}.topBar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .topBar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.d-flex.gap-2[_ngcontent-%COMP%]{flex-wrap:wrap}}.badge[_ngcontent-%COMP%]{padding:5px 10px;border-radius:4px;color:#fff}.private-badge[_ngcontent-%COMP%]{background-color:red}.public-badge[_ngcontent-%COMP%]{background-color:green}.unknown-badge[_ngcontent-%COMP%]{background-color:gray}.members-container[_ngcontent-%COMP%]{position:relative;display:flex;overflow:hidden;justify-content:space-between}.member-image[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;border:1px solid #ccc}.add-member-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;margin-left:-10px;display:flex;align-items:center;padding:5px}.add-member-btn[_ngcontent-%COMP%]:hover{background-color:#9b9b9b99;border-radius:5px}.material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px!important}.member-image[_ngcontent-%COMP%]:nth-child(1){left:0}.member-image[_ngcontent-%COMP%]:nth-child(2){left:25px}.member-image[_ngcontent-%COMP%]:nth-child(3){left:50px}.remaining-members-badge[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:#007bff;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;margin-left:-10px;position:relative}.members-list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.group-img[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;margin-right:10px;object-fit:cover}.modal-header[_ngcontent-%COMP%]{height:42px;color:#fff;background:#3c4956}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.modal-header-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.compose[_ngcontent-%COMP%]{color:#fff;background:white;border:none;cursor:pointer;margin-right:10px}button.btn-close[_ngcontent-%COMP%]{color:#fff}.modal-body[_ngcontent-%COMP%]{padding:16px 14px}.modal-footer[_ngcontent-%COMP%]{border-top:0px}#emailInputContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:9px;border:1px solid #ced4da;border-radius:.375rem;gap:3px;box-shadow:#00000026 1.95px 1.95px 2.6px}.tag[_ngcontent-%COMP%]{background:#f4f4f4;color:#000000b2;padding:5px 10px;border-radius:15px;margin-right:5px;display:flex;align-items:center}.tempinput[_ngcontent-%COMP%]{border:none;outline:none}.tag[_ngcontent-%COMP%] > .remove[_ngcontent-%COMP%]{margin-left:8px;cursor:pointer}.tag[_ngcontent-%COMP%] > .remove[_ngcontent-%COMP%]:after{content:"x";padding:0}.email-item[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;background-color:#fff;border:1px solid #e0e0e0;border-radius:6px;box-shadow:0 2px 4px #0000001a}.email-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;padding-bottom:8px;margin-bottom:10px;font-size:14px;color:#555}.email-date[_ngcontent-%COMP%]{font-size:12px;color:#888}.email-body[_ngcontent-%COMP%]{margin:10px 0;font-size:14px;color:#333;line-height:1.5}.email-meta[_ngcontent-%COMP%]{margin:10px 0;font-size:12px;color:#666}.email-status[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}.status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;color:#fff;text-transform:uppercase}.status-badge.sent[_ngcontent-%COMP%]{background-color:#4caf50}.status-badge.pending[_ngcontent-%COMP%]{background-color:#36def4}.status-text[_ngcontent-%COMP%]{font-size:12px;color:#888}.no-history-message[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#999;margin-top:20px}.email-preview[_ngcontent-%COMP%]{cursor:pointer;font-size:14px;color:#333;background-color:#f8f8f8;padding:10px;border-radius:6px;transition:background-color .3s}.email-preview[_ngcontent-%COMP%]:hover{background-color:#e8e8e8}.compose-mail[_ngcontent-%COMP%]{margin:0 0 10px;text-align:end}.info-icon[_ngcontent-%COMP%]{font-size:18px!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem!important}.btn-primary[_ngcontent-%COMP%]{font-size:16px;border-radius:4px;height:42px}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;margin-top:16px}.pagination-btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:14px;background:linear-gradient(to right,rgb(242,112,156),rgb(255,148,114));color:#fff;border:1px solid rgb(242,112,156);border-radius:6px;cursor:pointer;transition:all .3s ease;font-weight:700;display:flex;align-items:center;justify-content:center}.pagination-btn[_ngcontent-%COMP%]:hover:not(.disabled){background:linear-gradient(to right,rgb(255,148,114),rgb(242,112,156));transform:scale(1.05);box-shadow:0 2px 6px #0000001a}.pagination-btn.disabled[_ngcontent-%COMP%]{background-color:#ccc;color:#fff;cursor:not-allowed;box-shadow:none;border:none}.pagination-btn.active[_ngcontent-%COMP%], .pagination-btn.active[_ngcontent-%COMP%]:hover{background:transparent;color:#000}.pagination-btn.disabled[_ngcontent-%COMP%]:hover{background-color:#fff;transform:none;box-shadow:none}']}),o})();var et=g(7579),zt=g(1135),nt=g(8372),Kt=g(3900),Bt=g(457),Rt=g(262),Wt=g(4477),Xt=g(296),te=g(1937),I=g(9788),K=g(6636),ee=g.n(K),ne=g(2340),oe=g(2902),ie=g(8154),le=g(9653);const ae=["formControl"];function ce(o,a){if(1&o&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function se(o,a){1&o&&(t.TgZ(0,"small",38),t._uU(1," Please select a entity type."),t.qZA())}function re(o,a){1&o&&(t.TgZ(0,"small",38),t._uU(1," Please enter title. "),t.qZA())}function de(o,a){1&o&&(t.TgZ(0,"small",38),t._uU(1," Please enter a valid first name. "),t.qZA())}function _e(o,a){1&o&&(t.TgZ(0,"div",50)(1,"label",68),t._uU(2,"Display Name "),t.qZA(),t._UZ(3,"input",69),t.qZA())}function pe(o,a){1&o&&(t.TgZ(0,"div",41)(1,"label",70),t._uU(2,"D.O.B: "),t.qZA(),t._UZ(3,"input",71),t.qZA())}function ue(o,a){1&o&&(t.TgZ(0,"div",41)(1,"label",72),t._uU(2,"Employee Type "),t.qZA(),t.TgZ(3,"select",73)(4,"option",45),t._uU(5,"--- Select ---"),t.qZA(),t.TgZ(6,"option",74),t._uU(7,"Part time"),t.qZA(),t.TgZ(8,"option",75),t._uU(9,"Full Time."),t.qZA(),t.TgZ(10,"option",76),t._uU(11,"Intern"),t.qZA(),t.TgZ(12,"option",77),t._uU(13,"Trainee"),t.qZA(),t.TgZ(14,"option",78),t._uU(15,"Remote"),t.qZA()()())}function me(o,a){1&o&&(t.TgZ(0,"div",50)(1,"label",79),t._uU(2,"Employee Id "),t.qZA(),t._UZ(3,"input",80),t.qZA())}function ge(o,a){1&o&&(t.TgZ(0,"div",50)(1,"label",81),t._uU(2,"Student Id "),t.qZA(),t._UZ(3,"input",82),t.qZA())}function fe(o,a){1&o&&(t.TgZ(0,"small",38),t._uU(1," Please enter valid last name. "),t.qZA())}function he(o,a){1&o&&(t.TgZ(0,"div",41)(1,"label",83),t._uU(2,"Student Status "),t.qZA(),t.TgZ(3,"select",84)(4,"option",45),t._uU(5,"--- Select ---"),t.qZA(),t.TgZ(6,"option",85),t._uU(7,"Freshman"),t.qZA(),t.TgZ(8,"option",86),t._uU(9,"Junior"),t.qZA(),t.TgZ(10,"option",87),t._uU(11,"Senior"),t.qZA(),t.TgZ(12,"option",88),t._uU(13,"Graduate"),t.qZA(),t.TgZ(14,"option",89),t._uU(15,"Post Graduate"),t.qZA()()())}function Ce(o,a){1&o&&(t.TgZ(0,"div",50)(1,"label",90),t._uU(2,"Job Title "),t.qZA(),t._UZ(3,"input",91),t.qZA())}function ve(o,a){if(1&o&&(t.TgZ(0,"div",39)(1,"div",40)(2,"div",41)(3,"label",42),t._uU(4,"Title "),t.TgZ(5,"span",43),t._uU(6,"*"),t.qZA()(),t.TgZ(7,"select",44,12)(9,"option",45),t._uU(10,"--- Select ---"),t.qZA(),t.TgZ(11,"option",46),t._uU(12,"Mr."),t.qZA(),t.TgZ(13,"option",47),t._uU(14,"Mrs."),t.qZA(),t.TgZ(15,"option",48),t._uU(16,"Miss"),t.qZA(),t.TgZ(17,"option",49),t._uU(18,"Others"),t.qZA()(),t.YNc(19,re,2,0,"small",15),t.qZA(),t.TgZ(20,"div",50)(21,"label",51),t._uU(22,"First Name "),t.TgZ(23,"span",43),t._uU(24,"*"),t.qZA()(),t._UZ(25,"input",52,12),t.YNc(27,de,2,0,"small",15),t.qZA(),t.YNc(28,_e,4,0,"div",53),t.YNc(29,pe,4,0,"div",54),t.YNc(30,ue,16,0,"div",54),t.YNc(31,me,4,0,"div",53),t.YNc(32,ge,4,0,"div",53),t.qZA(),t.TgZ(33,"div",40)(34,"div",41)(35,"label",55),t._uU(36,"Gender "),t.qZA(),t.TgZ(37,"select",56)(38,"option",45),t._uU(39,"--- Select ---"),t.qZA(),t.TgZ(40,"option",57),t._uU(41,"Male"),t.qZA(),t.TgZ(42,"option",58),t._uU(43,"Female"),t.qZA(),t.TgZ(44,"option",49),t._uU(45,"Others"),t.qZA()()(),t.TgZ(46,"div",59)(47,"label",60),t._uU(48,"Last Name "),t.TgZ(49,"span",43),t._uU(50,"*"),t.qZA()(),t._UZ(51,"input",61,12),t.YNc(53,fe,2,0,"small",15),t.qZA(),t.TgZ(54,"div",41)(55,"label",62),t._uU(56,"Relation "),t.qZA(),t.TgZ(57,"select",63,12)(59,"option",64),t._uU(60,"Select Relation"),t.qZA(),t.TgZ(61,"option",65),t._uU(62,"Prospect"),t.qZA(),t.TgZ(63,"option",66),t._uU(64,"Client"),t.qZA(),t.TgZ(65,"option",67),t._uU(66,"Lead"),t.qZA(),t.TgZ(67,"option",49),t._uU(68,"Others"),t.qZA()()(),t.YNc(69,he,16,0,"div",54),t.YNc(70,Ce,4,0,"div",53),t.qZA()()),2&o){const e=t.oxw(),n=t.MAs(1);t.xp6(19),t.Q6J("ngIf",e.title&&e.title.invalid&&(e.title.touched||n.submitted)),t.xp6(8),t.Q6J("ngIf",e.firstName&&e.firstName.invalid&&(e.firstName.touched||n.submitted)),t.xp6(1),t.Q6J("ngIf","individual"===e.selectedType),t.xp6(1),t.Q6J("ngIf","student"===e.selectedType||"patient"===e.selectedType),t.xp6(1),t.Q6J("ngIf","employee"===e.selectedType),t.xp6(1),t.Q6J("ngIf","employee"===e.selectedType),t.xp6(1),t.Q6J("ngIf","student"===e.selectedType),t.xp6(21),t.Q6J("ngIf",e.lastName&&e.lastName.invalid&&(e.lastName.touched||n.submitted)),t.xp6(16),t.Q6J("ngIf","student"===e.selectedType),t.xp6(1),t.Q6J("ngIf","employee"===e.selectedType)}}function xe(o,a){1&o&&(t.TgZ(0,"div",50)(1,"label",97),t._uU(2,"Company Name "),t.qZA(),t._UZ(3,"input",98),t.qZA())}function be(o,a){1&o&&(t.TgZ(0,"div",50)(1,"label",99),t._uU(2,"Agency/Depart Name "),t.qZA(),t._UZ(3,"input",100),t.qZA())}function ye(o,a){1&o&&(t.TgZ(0,"div",41)(1,"label",101),t._uU(2,"Industry Type "),t.qZA(),t.TgZ(3,"select",102,12)(5,"option",45),t._uU(6,"Select Type"),t.qZA(),t.TgZ(7,"option",103),t._uU(8,"Agriculture & Farming"),t.qZA(),t.TgZ(9,"option",104),t._uU(10,"Banking & Finance"),t.qZA(),t.TgZ(11,"option",105),t._uU(12,"Education"),t.qZA(),t.TgZ(13,"option",106),t._uU(14," Government & Public Administration "),t.qZA(),t.TgZ(15,"option",107),t._uU(16," Information Technology (IT) "),t.qZA(),t.TgZ(17,"option",108),t._uU(18,"E-commerce"),t.qZA(),t.TgZ(19,"option",109),t._uU(20,"Telecommunications"),t.qZA()()())}function Te(o,a){1&o&&(t.TgZ(0,"div",41)(1,"label",110),t._uU(2,"Department Type "),t.qZA(),t.TgZ(3,"select",111,12)(5,"option",45),t._uU(6,"Select type"),t.qZA(),t.TgZ(7,"option",112),t._uU(8,"Regulatory Agencies"),t.qZA(),t.TgZ(9,"option",113),t._uU(10,"Public Service"),t.qZA(),t.TgZ(11,"option",114),t._uU(12,"Municipal/Local"),t.qZA(),t.TgZ(13,"option",115),t._uU(14," Defense and Security "),t.qZA(),t.TgZ(15,"option",116),t._uU(16,"Tax and Revenue"),t.qZA(),t.TgZ(17,"option",117),t._uU(18," Research Institutions "),t.qZA(),t.TgZ(19,"option",118),t._uU(20,"Public Healthcare"),t.qZA()()())}function Ze(o,a){if(1&o&&(t.TgZ(0,"div",92),t.YNc(1,xe,4,0,"div",53),t.YNc(2,be,4,0,"div",53),t.TgZ(3,"div",50)(4,"label",93),t._uU(5," Wesite "),t.qZA(),t._UZ(6,"input",94),t.qZA(),t.TgZ(7,"div",95),t.YNc(8,ye,21,0,"div",54),t.YNc(9,Te,21,0,"div",54),t.TgZ(10,"div",41)(11,"label",62),t._uU(12,"Relation "),t.qZA(),t.TgZ(13,"select",63,12)(15,"option",45),t._uU(16,"Select Relation"),t.qZA(),t.TgZ(17,"option",96),t._uU(18,"Prospect"),t.qZA(),t.TgZ(19,"option",66),t._uU(20,"Client"),t.qZA(),t.TgZ(21,"option",67),t._uU(22,"Lead"),t.qZA(),t.TgZ(23,"option",49),t._uU(24,"Others"),t.qZA()()()()()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","company"===e.selectedType),t.xp6(1),t.Q6J("ngIf","government"===e.selectedType),t.xp6(6),t.Q6J("ngIf","company"===e.selectedType),t.xp6(1),t.Q6J("ngIf","government"===e.selectedType)}}function we(o,a){1&o&&(t.TgZ(0,"div",119),t._UZ(1,"span",120),t.qZA())}function Me(o,a){if(1&o){const e=t.EpF();t.ynx(0),t._UZ(1,"img",121),t.TgZ(2,"div",122),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.removeProfileImage())})("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.removeProfileImage())}),t.TgZ(3,"span",123),t._uU(4,"delete"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("src",e.profileImgSrc,t.LSH)}}function Ae(o,a){if(1&o){const e=t.EpF();t._UZ(0,"img",124),t.TgZ(1,"div",125)(2,"img",126),t.NdJ("keyup",function(){t.CHM(e);const i=t.MAs(4);return t.KtG(i.click())})("click",function(){t.CHM(e);const i=t.MAs(4);return t.KtG(i.click())}),t.qZA(),t.TgZ(3,"input",127,128),t.NdJ("change",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onFileSelected(i,"profileImage"))}),t.qZA()()}}function Ie(o,a){if(1&o&&(t.TgZ(0,"option",140),t._uU(1),t.qZA()),2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e.value)("selected",n.contactForm.controls.emailLabel.value===e.value),t.xp6(1),t.hij(" ",e.label," ")}}function Pe(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",141),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addEmail())})("keyup",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addEmail())}),t._uU(1,"add"),t.qZA()}}function Ne(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",142),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw();return t.KtG(l.deleteEmail(i))})("keyup",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw();return t.KtG(l.deleteEmail(i))}),t._uU(1,"delete"),t.qZA()}}function ke(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",129)(1,"div",130)(2,"div",131)(3,"div",132)(4,"label",133),t._uU(5,"Type "),t.qZA(),t.TgZ(6,"select",134),t.NdJ("change",function(i){const c=t.CHM(e).index,s=t.oxw();return t.KtG(s.onTypeChange(i,"email",c))}),t.TgZ(7,"option",64),t._uU(8,"Select Email Type"),t.qZA(),t.YNc(9,Ie,2,3,"option",135),t.qZA()(),t.TgZ(10,"div",136)(11,"label",133),t._uU(12,"Email Address "),t.qZA(),t._UZ(13,"input",137),t.qZA()()(),t.YNc(14,Pe,2,0,"span",138),t.YNc(15,Ne,2,0,"span",139),t.qZA()}if(2&o){const e=a.index,n=t.oxw();t.Q6J("formGroupName",e),t.xp6(4),t.MGl("for","emailLabel",e,""),t.xp6(2),t.MGl("id","emailLabel",e,""),t.xp6(3),t.Q6J("ngForOf",n.emailTypes),t.xp6(2),t.MGl("for","email",e,""),t.xp6(2),t.MGl("id","email",e,""),t.xp6(1),t.Q6J("ngIf",0===e),t.xp6(1),t.Q6J("ngIf",0!==e)}}function Oe(o,a){if(1&o&&(t.TgZ(0,"option",140),t._uU(1),t.qZA()),2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e.value)("selected",n.contactForm.controls.addressLabel.value===e.value),t.xp6(1),t.hij(" ",e.label," ")}}function qe(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",141),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addAddress())})("keyup",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addAddress())}),t._uU(1,"add"),t.qZA()}}function Ue(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",142),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw();return t.KtG(l.deleteAddress(i))})("keyup",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw();return t.KtG(l.deleteAddress(i))}),t._uU(1,"delete"),t.qZA()}}function Ee(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",129)(1,"div",130)(2,"div",143)(3,"div",144)(4,"div",145)(5,"label",133),t._uU(6,"Type "),t.qZA(),t.TgZ(7,"select",146),t.NdJ("change",function(i){const c=t.CHM(e).index,s=t.oxw();return t.KtG(s.onTypeChange(i,"address",c))}),t.TgZ(8,"option",13),t._uU(9," Select Address Type "),t.qZA(),t.YNc(10,Oe,2,3,"option",135),t.qZA()(),t.TgZ(11,"div",145)(12,"label",133),t._uU(13,"street Address: "),t.qZA(),t._UZ(14,"input",147),t.qZA(),t.TgZ(15,"div",148)(16,"div",149)(17,"label",133),t._uU(18,"State: "),t.qZA(),t._UZ(19,"input",150),t.qZA(),t.TgZ(20,"div",149)(21,"label",133),t._uU(22,"Postal/Zip code: "),t.qZA(),t._UZ(23,"input",151),t.qZA()()(),t.TgZ(24,"div",152)(25,"div",145)(26,"label",133),t._uU(27,"City: "),t.qZA(),t._UZ(28,"input",153),t.qZA(),t.TgZ(29,"div",154)(30,"label",133),t._uU(31,"Country "),t.qZA(),t._UZ(32,"input",155),t.qZA()()()(),t.YNc(33,qe,2,0,"span",138),t.YNc(34,Ue,2,0,"span",139),t.qZA()}if(2&o){const e=a.index,n=t.oxw();t.Q6J("formGroupName",e),t.xp6(5),t.MGl("for","addressLabel",e,""),t.xp6(2),t.MGl("id","addressLabel",e,""),t.xp6(3),t.Q6J("ngForOf",n.addressTypes),t.xp6(2),t.MGl("for","street",e,""),t.xp6(2),t.MGl("id","street",e,""),t.xp6(3),t.MGl("for","state",e,""),t.xp6(2),t.MGl("id","state",e,""),t.xp6(2),t.MGl("for","postalCode",e,""),t.xp6(2),t.MGl("id","postalCode",e,""),t.xp6(3),t.MGl("for","city",e,""),t.xp6(2),t.MGl("id","city",e,""),t.xp6(2),t.MGl("for","country",e,""),t.xp6(2),t.MGl("id","country",e,""),t.xp6(1),t.Q6J("ngIf",0===e),t.xp6(1),t.Q6J("ngIf",0!==e)}}function Je(o,a){if(1&o&&(t.TgZ(0,"option",140),t._uU(1),t.qZA()),2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e.value)("selected",n.contactForm.controls.phoneLabel.value===e.value),t.xp6(1),t.hij(" ",e.label," ")}}function Se(o,a){if(1&o&&(t.TgZ(0,"option",162),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.countryCallingCode),t.xp6(1),t.AsE(" ",e.name," ",e.countryCallingCode," ")}}function Fe(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",141),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addPhoneNumbers())})("keyup",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addPhoneNumbers())}),t._uU(1,"add"),t.qZA()}}function Qe(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",142),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw();return t.KtG(l.deletePhoneNumbers(i))})("keyup",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw();return t.KtG(l.deletePhoneNumbers(i))}),t._uU(1,"delete"),t.qZA()}}function Le(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",129)(1,"div",130)(2,"div",156)(3,"div",157)(4,"label",133),t._uU(5,"Label "),t.qZA(),t.TgZ(6,"select",158),t.NdJ("change",function(i){const c=t.CHM(e).index,s=t.oxw();return t.KtG(s.onTypeChange(i,"phone",c))}),t.TgZ(7,"option",13),t._uU(8,"Select Phone Type"),t.qZA(),t.YNc(9,Je,2,3,"option",135),t.qZA()(),t.TgZ(10,"div",157)(11,"label",133),t._uU(12,"Country Code "),t.qZA(),t.TgZ(13,"select",159)(14,"option",45),t._uU(15,"-- Select --"),t.qZA(),t.YNc(16,Se,2,3,"option",160),t.qZA()(),t.TgZ(17,"div",157)(18,"label",133),t._uU(19,"Phone Number "),t.qZA(),t._UZ(20,"input",161),t.qZA()()(),t.YNc(21,Fe,2,0,"span",138),t.YNc(22,Qe,2,0,"span",139),t.qZA()}if(2&o){const e=a.index,n=t.oxw();t.Q6J("formGroupName",e),t.xp6(4),t.MGl("for","phoneLabel",e,""),t.xp6(2),t.MGl("id","phoneLabel",e,""),t.xp6(3),t.Q6J("ngForOf",n.phoneTypes),t.xp6(2),t.MGl("for","countryCode",e,""),t.xp6(2),t.MGl("id","countryCode",e,""),t.xp6(3),t.Q6J("ngForOf",n.countries),t.xp6(2),t.MGl("for","phone",e,""),t.xp6(2),t.MGl("id","phone",e,""),t.xp6(1),t.Q6J("ngIf",0===e),t.xp6(1),t.Q6J("ngIf",0!==e)}}function Ye(o,a){1&o&&(t.TgZ(0,"div",23)(1,"h5",7),t._uU(2,"Emergency Contact Information"),t.qZA()())}function Ge(o,a){1&o&&(t.TgZ(0,"div",163)(1,"div",130)(2,"div",131)(3,"div",164)(4,"div",145)(5,"label",165),t._uU(6,"Emerg Contact Number "),t.qZA(),t._UZ(7,"input",166),t.qZA(),t.TgZ(8,"div",145)(9,"label",167),t._uU(10,"Relation "),t.qZA(),t._UZ(11,"input",168),t.qZA()(),t.TgZ(12,"div",169)(13,"div",145)(14,"label",170),t._uU(15," Emerg. Contact Name "),t.qZA(),t._UZ(16,"input",171),t.qZA(),t.TgZ(17,"div",145)(18,"label",172),t._uU(19,"Emerg. Contact Address "),t.qZA(),t._UZ(20,"input",173),t.qZA()()()(),t._UZ(21,"span",174),t.qZA())}function je(o,a){1&o&&(t.TgZ(0,"div",23)(1,"h5",7),t._uU(2,"Office Information"),t.qZA()())}function He(o,a){1&o&&(t.TgZ(0,"div",163)(1,"div",130)(2,"div",131)(3,"div",164)(4,"div",145)(5,"label",175),t._uU(6,"Supervisor Name "),t.qZA(),t._UZ(7,"input",176),t.qZA(),t.TgZ(8,"div",145)(9,"label",177),t._uU(10,"Office Number "),t.qZA(),t._UZ(11,"input",178),t.qZA()(),t.TgZ(12,"div",169)(13,"div",145)(14,"label",179),t._uU(15," Office's Email "),t.qZA(),t._UZ(16,"input",180),t.qZA(),t.TgZ(17,"div",145)(18,"label",181),t._uU(19,"Office Address "),t.qZA(),t._UZ(20,"input",182),t.qZA()()()(),t._UZ(21,"span",174),t.qZA())}function $e(o,a){1&o&&(t.TgZ(0,"div",163)(1,"div",183)(2,"div",184)(3,"div",144)(4,"div",145)(5,"label",185),t._uU(6," CEO/Owner Name"),t.qZA(),t._UZ(7,"input",186),t.qZA(),t.TgZ(8,"div",187)(9,"div",188)(10,"label",189),t._uU(11,'Company Size"'),t.qZA(),t._UZ(12,"input",190),t.qZA(),t.TgZ(13,"div",188)(14,"label",191),t._uU(15,"Founded"),t.qZA(),t._UZ(16,"input",192),t.qZA()()(),t.TgZ(17,"div",193)(18,"div",145)(19,"label",194),t._uU(20,"Company Type"),t.qZA(),t.TgZ(21,"select",195,12)(23,"option",64),t._uU(24,"Select Type"),t.qZA(),t.TgZ(25,"option",196),t._uU(26,"Public"),t.qZA(),t.TgZ(27,"option",197),t._uU(28,"Private"),t.qZA(),t.TgZ(29,"option",198),t._uU(30,"Non-Profit"),t.qZA(),t.TgZ(31,"option",199),t._uU(32,"Startup"),t.qZA()()(),t.TgZ(33,"div",145)(34,"label",200),t._uU(35,"Company Revenue"),t.qZA(),t._UZ(36,"input",201),t.qZA()()(),t.TgZ(37,"div",145)(38,"label",202),t._uU(39,"About Company"),t.qZA(),t._UZ(40,"textarea",203),t.qZA()(),t._UZ(41,"span",204),t.qZA())}function De(o,a){if(1&o&&(t.TgZ(0,"option",140),t._uU(1),t.qZA()),2&o){const e=a.$implicit,n=t.oxw(2);t.Q6J("value",e.value)("selected",n.contactForm.controls.linkLabel.value===e.value),t.xp6(1),t.hij(" ",e.label," ")}}function Ve(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",141),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addContactLink())})("keyup",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addContactLink())}),t._uU(1,"add"),t.qZA()}}function ze(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",142),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw();return t.KtG(l.deleteContactLink(i))})("keyup",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw();return t.KtG(l.deleteContactLink(i))}),t._uU(1,"delete"),t.qZA()}}function Ke(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",129)(1,"div",130)(2,"div",131)(3,"div",132)(4,"label",133),t._uU(5,"Label "),t.qZA(),t.TgZ(6,"select",205),t.NdJ("change",function(i){const c=t.CHM(e).index,s=t.oxw();return t.KtG(s.onTypeChange(i,"socialLink",c))}),t.TgZ(7,"option",13),t._uU(8,"Select Link Type"),t.qZA(),t.YNc(9,De,2,3,"option",135),t.qZA()(),t.TgZ(10,"div",136)(11,"label",133),t._uU(12,"Social Link "),t.qZA(),t._UZ(13,"input",206),t.qZA()()(),t.YNc(14,Ve,2,0,"span",138),t.YNc(15,ze,2,0,"span",139),t.qZA()}if(2&o){const e=a.index,n=t.oxw();t.Q6J("formGroupName",e),t.xp6(4),t.MGl("for","linkLabel",e,""),t.xp6(2),t.MGl("id","linkLabel",e,""),t.xp6(3),t.Q6J("ngForOf",n.socialLinkTypes),t.xp6(2),t.MGl("for","socialLinks",e,""),t.xp6(2),t.MGl("id","socialLinks",e,""),t.xp6(1),t.Q6J("ngIf",0===e),t.xp6(1),t.Q6J("ngIf",0!==e)}}function Be(o,a){1&o&&(t.TgZ(0,"div",23)(1,"h5",7),t._uU(2,"Medical Information"),t.qZA()())}function Re(o,a){1&o&&(t.TgZ(0,"div",163)(1,"div",183)(2,"div",184)(3,"div",193)(4,"div",145)(5,"label",207),t._uU(6,'Patient Id"'),t.qZA(),t._UZ(7,"input",208),t.qZA(),t.TgZ(8,"div",145)(9,"label",209),t._uU(10,"Doctor's Name:"),t.qZA(),t._UZ(11,"input",210),t.qZA()(),t.TgZ(12,"div",193)(13,"div",145)(14,"label",211),t._uU(15,"Insurance Provider"),t.qZA(),t._UZ(16,"input",212),t.qZA(),t.TgZ(17,"div",145)(18,"label",170),t._uU(19,"Emerg. Contact Name"),t.qZA(),t._UZ(20,"input",213),t.qZA()(),t.TgZ(21,"div",193)(22,"div",145)(23,"label",214),t._uU(24,"Policy Number"),t.qZA(),t._UZ(25,"input",215),t.qZA(),t.TgZ(26,"div",145)(27,"label",165),t._uU(28,"Emerg. Contact Number"),t.qZA(),t._UZ(29,"input",216),t.qZA()()()(),t._UZ(30,"span",204),t.qZA())}function We(o,a){1&o&&(t.TgZ(0,"div",23)(1,"h5",7),t._uU(2,"Add Contact Person"),t.qZA()())}function Xe(o,a){if(1&o&&(t.TgZ(0,"option",162),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function tn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",141),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index,l=t.oxw(2);return t.KtG(l.addContactPersonEmail(i))})("keyup",function(){t.CHM(e);const i=t.oxw(2).index,l=t.oxw(2);return t.KtG(l.addContactPersonEmail(i))}),t._uU(1,"add"),t.qZA()}}function en(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",142),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw().index,c=t.oxw(2);return t.KtG(c.deleteContactPersonEmail(l,i))})("keyup",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw().index,c=t.oxw(2);return t.KtG(c.deleteContactPersonEmail(l,i))}),t._uU(1,"delete"),t.qZA()}}function nn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",129)(1,"div",130)(2,"div",131)(3,"div",132)(4,"label",133),t._uU(5,"Label "),t.qZA(),t.TgZ(6,"select",134),t.NdJ("change",function(i){const c=t.CHM(e).index,s=t.oxw().index,d=t.oxw(2);return t.KtG(d.onTypeChange(i,"contactPersonEmail",c,s))}),t.TgZ(7,"option",64),t._uU(8,"Select Email Type"),t.qZA(),t.YNc(9,Xe,2,2,"option",160),t.qZA()(),t.TgZ(10,"div",234)(11,"label",235),t._uU(12,"Email Address "),t.qZA(),t._UZ(13,"input",236),t.qZA()()(),t.YNc(14,tn,2,0,"span",138),t.YNc(15,en,2,0,"span",139),t.qZA()}if(2&o){const e=a.index,n=t.oxw(3);t.Q6J("formGroupName",e),t.xp6(4),t.MGl("for","personEmailLabel",e,""),t.xp6(2),t.MGl("id","personEmailLabel",e,""),t.xp6(3),t.Q6J("ngForOf",n.emailTypes),t.xp6(5),t.Q6J("ngIf",0===e),t.xp6(1),t.Q6J("ngIf",0!==e)}}function on(o,a){if(1&o&&(t.TgZ(0,"option",162),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function ln(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",141),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index,l=t.oxw(2);return t.KtG(l.addContactPersonAddress(i))})("keyup",function(){t.CHM(e);const i=t.oxw(2).index,l=t.oxw(2);return t.KtG(l.addContactPersonAddress(i))}),t._uU(1,"add"),t.qZA()}}function an(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",142),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw().index,c=t.oxw(2);return t.KtG(c.deleteContactPersonAddress(l,i))})("keyup",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw().index,c=t.oxw(2);return t.KtG(c.deleteContactPersonAddress(l,i))}),t._uU(1,"delete"),t.qZA()}}function cn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",129)(1,"div",130)(2,"div",143)(3,"div",144)(4,"div",145)(5,"label",133),t._uU(6,"Label "),t.qZA(),t.TgZ(7,"select",146),t.NdJ("change",function(i){const c=t.CHM(e).index,s=t.oxw().index,d=t.oxw(2);return t.KtG(d.onTypeChange(i,"contactPersonAddress",c,s))}),t.TgZ(8,"option",13),t._uU(9," Select Address Type "),t.qZA(),t.YNc(10,on,2,2,"option",160),t.qZA()(),t.TgZ(11,"div",145)(12,"label",237),t._uU(13,"street Address: "),t.qZA(),t._UZ(14,"input",238),t.qZA(),t.TgZ(15,"div",148)(16,"div",149)(17,"label",239),t._uU(18,"State: "),t.qZA(),t._UZ(19,"input",240),t.qZA(),t.TgZ(20,"div",149)(21,"label",241),t._uU(22,"Postal/Zip code: "),t.qZA(),t._UZ(23,"input",242),t.qZA()()(),t.TgZ(24,"div",152)(25,"div",145)(26,"label",243),t._uU(27,"City: "),t.qZA(),t._UZ(28,"input",244),t.qZA(),t.TgZ(29,"div",154)(30,"label",245),t._uU(31,"Country "),t.qZA(),t._UZ(32,"input",246),t.qZA()()()(),t.YNc(33,ln,2,0,"span",138),t.YNc(34,an,2,0,"span",139),t.qZA()}if(2&o){const e=a.index,n=t.oxw(3);t.Q6J("formGroupName",e),t.xp6(5),t.MGl("for","personAddressLabel",e,""),t.xp6(2),t.MGl("id","personAddressLabel",e,""),t.xp6(3),t.Q6J("ngForOf",n.addressTypes),t.xp6(23),t.Q6J("ngIf",0===e),t.xp6(1),t.Q6J("ngIf",0!==e)}}function sn(o,a){if(1&o&&(t.TgZ(0,"option",162),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function rn(o,a){if(1&o&&(t.TgZ(0,"option",162),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.countryCallingCode),t.xp6(1),t.AsE(" ",e.name," ",e.countryCallingCode," ")}}function dn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",141),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index,l=t.oxw(2);return t.KtG(l.addContactPersonPhone(i))})("keyup",function(){t.CHM(e);const i=t.oxw(2).index,l=t.oxw(2);return t.KtG(l.addContactPersonPhone(i))}),t._uU(1,"add"),t.qZA()}}function _n(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",142),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw().index,c=t.oxw(2);return t.KtG(c.deleteContactPersonPhone(l,i))})("keyup",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw().index,c=t.oxw(2);return t.KtG(c.deleteContactPersonPhone(l,i))}),t._uU(1,"delete"),t.qZA()}}function pn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",129)(1,"div",130)(2,"div",156)(3,"div",157)(4,"label",133),t._uU(5,"Label "),t.qZA(),t.TgZ(6,"select",158),t.NdJ("change",function(i){const c=t.CHM(e).index,s=t.oxw().index,d=t.oxw(2);return t.KtG(d.onTypeChange(i,"contactPersonPhone",c,s))}),t.TgZ(7,"option",13),t._uU(8," Select Phone Type "),t.qZA(),t.YNc(9,sn,2,2,"option",160),t.qZA()(),t.TgZ(10,"div",157)(11,"label",247),t._uU(12,"Country Code "),t.qZA(),t.TgZ(13,"select",248)(14,"option",45),t._uU(15,"-- Select --"),t.qZA(),t.YNc(16,rn,2,3,"option",160),t.qZA()(),t.TgZ(17,"div",157)(18,"label",249),t._uU(19,"Phone Number "),t.qZA(),t._UZ(20,"input",250),t.qZA()()(),t.YNc(21,dn,2,0,"span",138),t.YNc(22,_n,2,0,"span",139),t.qZA()}if(2&o){const e=a.index,n=t.oxw(3);t.Q6J("formGroupName",e),t.xp6(4),t.MGl("for","personPhoneLabel",e,""),t.xp6(2),t.MGl("id","personPhoneLabel",e,""),t.xp6(3),t.Q6J("ngForOf",n.phoneTypes),t.xp6(7),t.Q6J("ngForOf",n.countries),t.xp6(5),t.Q6J("ngIf",0===e),t.xp6(1),t.Q6J("ngIf",0!==e)}}function un(o,a){if(1&o&&(t.TgZ(0,"option",162),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function mn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",141),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).index,l=t.oxw(2);return t.KtG(l.addContactPersonLink(i))})("keyup",function(){t.CHM(e);const i=t.oxw(2).index,l=t.oxw(2);return t.KtG(l.addContactPersonLink(i))}),t._uU(1,"add"),t.qZA()}}function gn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",142),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw().index,c=t.oxw(2);return t.KtG(c.deleteContactPersonLink(l,i))})("keyup",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw().index,c=t.oxw(2);return t.KtG(c.deleteContactPersonLink(l,i))}),t._uU(1,"delete"),t.qZA()}}function fn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",129)(1,"div",130)(2,"div",131)(3,"div",132)(4,"label",133),t._uU(5,"Label "),t.qZA(),t.TgZ(6,"select",205),t.NdJ("change",function(i){const c=t.CHM(e).index,s=t.oxw().index,d=t.oxw(2);return t.KtG(d.onTypeChange(i,"contactPersonLink",c,s))}),t.TgZ(7,"option",64),t._uU(8,"Select Link Type"),t.qZA(),t.YNc(9,un,2,2,"option",160),t.qZA()(),t.TgZ(10,"div",234)(11,"label",251),t._uU(12,"Social Link "),t.qZA(),t._UZ(13,"input",252),t.qZA()()(),t.YNc(14,mn,2,0,"span",138),t.YNc(15,gn,2,0,"span",139),t.qZA()}if(2&o){const e=a.index,n=t.oxw(3);t.Q6J("formGroupName",e),t.xp6(4),t.MGl("for","personLinkLabel",e,""),t.xp6(2),t.MGl("id","PersonLinkLabel",e,""),t.xp6(3),t.Q6J("ngForOf",n.socialLinkTypes),t.xp6(5),t.Q6J("ngIf",0===e),t.xp6(1),t.Q6J("ngIf",0!==e)}}function hn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",219),t._UZ(1,"hr",220),t.TgZ(2,"div",221)(3,"h5",222),t._uU(4),t.qZA(),t.TgZ(5,"span",223),t.NdJ("click",function(){const l=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.deleteContactPerson(l))})("keyup",function(){const l=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.deleteContactPerson(l))}),t._uU(6,"delete"),t.qZA()(),t.TgZ(7,"div",163)(8,"div",224)(9,"div",225)(10,"div",40)(11,"div",41)(12,"label",133),t._uU(13,"Title "),t.qZA(),t.TgZ(14,"select",226)(15,"option",45),t._uU(16,"--- Select ---"),t.qZA(),t.TgZ(17,"option",46),t._uU(18,"Mr."),t.qZA(),t.TgZ(19,"option",47),t._uU(20,"Mrs."),t.qZA(),t.TgZ(21,"option",48),t._uU(22,"Miss"),t.qZA(),t.TgZ(23,"option",49),t._uU(24,"Others"),t.qZA()()(),t.TgZ(25,"div",59)(26,"label",133),t._uU(27,"Last Name "),t.qZA(),t._UZ(28,"input",227),t.qZA()(),t.TgZ(29,"div",40)(30,"div",50)(31,"label",133),t._uU(32,"First Name "),t.qZA(),t._UZ(33,"input",228),t.qZA(),t.TgZ(34,"div",59)(35,"label",133),t._uU(36,"Designation"),t.qZA(),t._UZ(37,"input",229),t.qZA()()()(),t._UZ(38,"span",204),t.qZA(),t.TgZ(39,"div",23)(40,"h5",7),t._uU(41,"Contact Information"),t.qZA()(),t.TgZ(42,"div",230),t.YNc(43,nn,16,6,"div",25),t.qZA(),t.TgZ(44,"div",231),t.YNc(45,cn,35,6,"div",25),t.qZA(),t.TgZ(46,"div",232),t.YNc(47,pn,23,7,"div",25),t.qZA(),t.TgZ(48,"div",233),t.YNc(49,fn,16,6,"div",25),t.qZA(),t._UZ(50,"hr",220),t.qZA()}if(2&o){const e=a.index,n=t.oxw(2);t.Q6J("formGroupName",e),t.xp6(4),t.hij("Contact Person ",e+1,""),t.xp6(1),t.MGl("title","Remove Contact Person ",e+1,""),t.xp6(7),t.MGl("for","title",e,""),t.xp6(2),t.MGl("id","title",e,""),t.xp6(12),t.MGl("for","lastName",e,""),t.xp6(2),t.MGl("id","lastName",e,""),t.xp6(3),t.MGl("for","firstName",e,""),t.xp6(2),t.MGl("id","firstName",e,""),t.xp6(2),t.MGl("for","designation",e,""),t.xp6(2),t.MGl("id","designation",e,""),t.xp6(6),t.Q6J("ngForOf",n.getContactPersonEmails(e).controls),t.xp6(2),t.Q6J("ngForOf",n.getContactPersonAddress(e).controls),t.xp6(2),t.Q6J("ngForOf",n.getContactPersonPhones(e).controls),t.xp6(2),t.Q6J("ngForOf",n.getContactPersonLinks(e).controls)}}function Cn(o,a){if(1&o&&(t.TgZ(0,"div",217),t.YNc(1,hn,51,15,"div",218),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.contactPersons.controls)}}function vn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",253)(1,"button",254),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addContactPerson())}),t._uU(2," Add Contact Person "),t.qZA()()}}function xn(o,a){1&o&&(t.TgZ(0,"button",255)(1,"div",256)(2,"span",257),t._uU(3,"."),t.qZA()(),t._uU(4," Loading... "),t.qZA()),2&o&&t.Q6J("disabled",!0)}function bn(o,a){1&o&&(t.TgZ(0,"button",258),t._uU(1," Save "),t.qZA())}let yn=(()=>{const a=class{constructor(n,i,l,c,s,d,u,m,p){this._fb=n,this._activeModal=i,this._itemService=l,this._router=c,this._snackbarService=s,this.store=d,this._authService=u,this._nodeService=m,this.dialog=p,this.contactUpdated=new t.vpe,this.countries=Xt.o,this.entityTypes=U.w8,this.selectedType="",this.emailTypes=U.Hs,this.selectedEmailType="personal",this.addressTypes=U.vE,this.selectedAddressType="home",this.phoneTypes=U.hG,this.selectedPhoneType="personal",this.socialLinkTypes=U.mV,this.selectedSocialLinkType="linkedIn",this.loading=!1,this.isUploading=!1,this.profileImgSrc="",this.errorEntitySelect=!1,this.contactForm=this._fb.group({contactPersons:this._fb.array([]),linkLabel:new r.NI(""),emailLabel:new r.NI(""),phoneLabel:new r.NI(""),addressLabel:new r.NI(""),postalCode:new r.NI(""),countryCode:new r.NI(""),socialLinks:new r.NI(""),country:new r.NI("",[r.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),city:new r.NI("",[r.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),street:new r.NI("",[r.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),state:new r.NI("",[r.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),avatar:new r.NI(""),title:new r.NI(""),gender:new r.NI(""),relation:new r.NI("prospect"),firstName:new r.NI("",[r.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/),r.kI.required]),lastName:new r.NI("",[r.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/),r.kI.required]),displayName:new r.NI("",[r.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),emergContactAddress:new r.NI(""),relationship:new r.NI(""),supervisor:new r.NI(""),officeAddress:new r.NI(""),officeEmail:new r.NI(""),officeNumber:new r.NI(""),ceo:new r.NI(""),companySize:new r.NI(""),founded:new r.NI(""),companyType:new r.NI(""),companyRevenue:new r.NI(""),about:new r.NI(""),patientId:new r.NI(""),doctorName:new r.NI(""),InsuranceProvider:new r.NI(""),emergContactName:new r.NI(""),policyNumber:new r.NI(""),emergContactNumber:new r.NI(""),dateOfBirth:new r.NI(""),employeeType:new r.NI(""),employeeId:new r.NI(""),studentId:new r.NI(""),studentStatus:new r.NI(""),jobTitle:new r.NI("",[r.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),companyName:new r.NI("",[r.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),departmentName:new r.NI("",[r.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]),website:new r.NI("",[r.kI.pattern(/^(https?:\/\/)?([\w\-]+(\.[\w\-]+)+)([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/)]),departmentType:new r.NI(""),industryType:new r.NI(""),contactLinks:this._fb.array([this._fb.group({linkLabel:"",socialLinks:""})]),phoneNumbers:this._fb.array([this._fb.group({phoneLabel:"",countryCode:"",phone:""})]),addresses:this._fb.array([this._fb.group({addressLabel:"",street:"",state:"",postalCode:"",city:"",country:""})]),emails:this._fb.array([this._fb.group({emailLabel:"",email:""})])})}get title(){return this.contactForm.get("title")}get gender(){return this.contactForm.get("gender")}get relation(){return this.contactForm.get("relation")}get username(){return this.contactForm.get("username")}get firstName(){return this.contactForm.get("firstName")}get lastName(){return this.contactForm.get("lastName")}get addresses(){return this.contactForm.controls.addresses}get contactLinks(){return this.contactForm.controls.contactLinks}get contactPersons(){return this.contactForm.controls.contactPersons}getContactPersonLinks(n){return this.contactPersons.at(n).get("personLinks")}getContactPersonEmails(n){return this.contactPersons.at(n).get("personEmails")}getContactPersonAddress(n){return this.contactPersons.at(n).get("personAddress")}getContactPersonPhones(n){return this.contactPersons.at(n).get("personPhones")}get phoneNumbers(){return this.contactForm.controls.phoneNumbers}get emails(){return this.contactForm.controls.emails}openCustomTypeDialog(n,i,l){this.dialog.open(Wt.n,{width:"500px",data:{type:n}}).afterClosed().subscribe(s=>{if(s){const d={label:s,value:s.toLowerCase().replace(/\s+/g,"-")};switch(n){case"Email":this.emailTypes.push(d),this.contactForm.get("emails").at(i).patchValue({emailLabel:d.value}),setTimeout(()=>{const m=document.getElementById("emailLabel"+i);m&&(m.value=d.value)});break;case"Address":this.addressTypes.push(d),this.contactForm.get("addresses").at(i).patchValue({addressLabel:d.value}),setTimeout(()=>{const m=document.getElementById("addressLabel"+i);m&&(m.value=d.value)});break;case"Phone":this.phoneTypes.push(d),this.contactForm.get("phoneNumbers").at(i).patchValue({phoneLabel:d.value}),setTimeout(()=>{const m=document.getElementById("phoneLabel"+i);m&&(m.value=d.value)});break;case"SocialLink":this.socialLinkTypes.push(d),this.contactForm.get("contactLinks").at(i).patchValue({linkLabel:d.value}),setTimeout(()=>{const m=document.getElementById("linkLabel"+i);m&&(m.value=d.value)});break;case"ContactPersonLink":this.socialLinkTypes.push(d),null!=l&&(this.contactForm.get("contactPersons").at(l).get("personLinks").at(i).patchValue({linkLabel:d.value}),setTimeout(()=>{const p=document.getElementById(`personLinkLabel${l}-${i}`);p&&(p.value=d.value)}));break;case"ContactPersonEmail":this.emailTypes.push(d),null!=l&&(this.contactForm.get("contactPersons").at(l).get("personEmails").at(i).patchValue({emailLabel:d.value}),setTimeout(()=>{const p=document.getElementById(`personEmailLabel${l}-${i}`);p&&(p.value=d.value)}));break;case"ContactPersonAddress":this.addressTypes.push(d),null!=l&&(this.contactForm.get("contactPersons").at(l).get("personAddress").at(i).patchValue({addressLabel:d.value}),setTimeout(()=>{const p=document.getElementById(`personAddressLabel${l}-${i}`);p&&(p.value=d.value)}));break;case"ContactPersonPhone":this.phoneTypes.push(d),null!=l&&(this.contactForm.get("contactPersons").at(l).get("personPhones").at(i).patchValue({phoneLabel:d.value}),setTimeout(()=>{const p=document.getElementById(`personPhoneLabel${l}-${i}`);p&&(p.value=d.value)}))}}})}onTypeChange(n,i,l,c){const s=n.target.value;"email"==i?(this.contactForm.get("emails").at(l).patchValue({emailLabel:s}),"custom"==s&&this.openCustomTypeDialog("Email",l)):"address"==i?(this.contactForm.get("addresses").at(l).patchValue({addressLabel:s}),"custom"==s&&this.openCustomTypeDialog("Address",l)):"phone"==i?(this.contactForm.get("phoneNumbers").at(l).patchValue({phoneLabel:s}),"custom"==s&&this.openCustomTypeDialog("Phone",l)):"socialLink"==i?(this.contactForm.get("contactLinks").at(l).patchValue({linkLabel:s}),"custom"==s&&this.openCustomTypeDialog("SocialLink",l)):"contactPersonLink"==i&&null!=c?(this.getContactPersonLinks(c).at(l).patchValue({linkLabel:s}),"custom"==s&&this.openCustomTypeDialog("ContactPersonLink",l,c)):"contactPersonEmail"==i&&null!=c?(this.getContactPersonEmails(c).at(l).patchValue({emailLabel:s}),"custom"==s&&this.openCustomTypeDialog("ContactPersonEmail",l,c)):"contactPersonAddress"==i&&null!=c?(this.getContactPersonAddress(c).at(l).patchValue({addressLabel:s}),"custom"==s&&this.openCustomTypeDialog("ContactPersonAddress",l,c)):"contactPersonPhone"==i&&null!=c&&(this.getContactPersonPhones(c).at(l).patchValue({phoneLabel:s}),"custom"==s&&this.openCustomTypeDialog("ContactPersonPhone",l,c))}addEmail(){const n=this._fb.group({emailLabel:"",email:""});this.emails.push(n)}deleteEmail(n){this.emails.removeAt(n)}addAddress(){const n=this._fb.group({addressLabel:"",street:"",state:"",postalCode:"",city:"",country:""});this.addresses.push(n)}deleteAddress(n){this.addresses.removeAt(n)}addContactLink(){const n=this._fb.group({linkLabel:"",socialLinks:""});this.contactLinks.push(n)}deleteContactLink(n){this.contactLinks.removeAt(n)}addContactPerson(){const n=this.contactForm.get("contactPersons"),i=this._fb.group({title:"",firstName:"",lastName:"",designation:"",personLinks:this._fb.array([this.createPersonLink()]),personEmails:this._fb.array([this.createPersonEmail()]),personAddress:this._fb.array([this.createPersonAddress()]),personPhones:this._fb.array([this.createPersonPhone()])});n.push(i)}createPersonLink(){return this._fb.group({linkLabel:"",socialLinks:""})}createPersonEmail(){return this._fb.group({emailLabel:"",email:""})}createPersonAddress(){return this._fb.group({addressLabel:"",street:"",state:"",postalCode:"",city:"",country:""})}createPersonPhone(){return this._fb.group({phoneLabel:"",countryCode:"",phone:""})}deleteContactPerson(n){this.contactPersons.removeAt(n)}addContactPersonLink(n){const i=this.getContactPersonLinks(n),l=this._fb.group({linkLabel:"",socialLinks:""});i.push(l)}deleteContactPersonLink(n,i){this.getContactPersonLinks(n).removeAt(i)}addContactPersonEmail(n){this.contactForm.get("contactPersons").at(n).get("personEmails").push(this.createPersonEmail())}deleteContactPersonEmail(n,i){const l=this.contactForm.get("contactPersons").at(n).get("personEmails");l.length>1&&l.removeAt(i)}addContactPersonAddress(n){this.contactForm.get("contactPersons").at(n).get("personAddress").push(this.createPersonAddress())}deleteContactPersonAddress(n,i){const l=this.contactForm.get("contactPersons").at(n).get("personAddress");l.length>1&&l.removeAt(i)}addContactPersonPhone(n){this.contactForm.get("contactPersons").at(n).get("personPhones").push(this.createPersonPhone())}deleteContactPersonPhone(n,i){const l=this.contactForm.get("contactPersons").at(n).get("personPhones");l.length>1&&l.removeAt(i)}addPhoneNumbers(){const n=this._fb.group({phoneLabel:"",countryCode:"",phone:["",[r.kI.required,r.kI.minLength(9)]]});this.phoneNumbers.push(n)}deletePhoneNumbers(n){this.phoneNumbers.removeAt(n)}onEntityTypeChange(n){this.selectedType=n.target.value,this.errorEntitySelect=!1}onFileSelected(n,i){if(this.updateImageType=i,this.isUploading=!0,n.target.files&&n.target.files[0]){const l=n.target.files[0],c=new FormData;c.append("image",l),this.uploadImage(c);const s=new FileReader;s.onload=()=>{this.profileImgSrc=s.result},s.readAsDataURL(l)}n.target.value=null}uploadImage(n){this._itemService.uploadNewImage(n).subscribe({next:i=>{this.isUploading=!1;const l=i.data;this.contactForm.patchValue({avatar:l}),this.imageUrl=l},error:i=>{this._snackbarService.openSnackBar(i?.error,"error"),this.isUploading=!1,this.profileImgSrc=null}})}removeProfileImage(){this.profileImgSrc=null,this.contactForm.patchValue({avatar:null})}ngOnInit(){const n=this._authService.loadFromLocalStorage();this.userCompositionId=n.userConcept,ee()({token:n.token,userId:parseInt(n.theUserId)||parseInt(n.userId),userConcept:parseInt(n.userConcept),...ne.d}).then(()=>{K.FolderTreeModule.getAllFolders().then(()=>{this.globalFolders=K.FolderTreeModule.globalFolders})}).catch(i=>{console.error("Error during FMS initialization:",i)})}scrollToFirstInvalidControl(){const n=this.formControls.find(i=>i.nativeElement.classList.contains("ng-invalid"));n&&(n.nativeElement.scrollIntoView({behavior:"smooth",block:"center"}),n.nativeElement.focus())}addEntity(){var n=this;return(0,M.Z)(function*(){if(Object.keys(n.contactForm.controls).forEach(p=>{const h=n.contactForm.get(p);h?.markAsTouched(),h?.updateValueAndValidity()}),""==n.selectedType)return n.errorEntitySelect=!0,void n.scrollToFirstInvalidControl();n.errorEntitySelect=!1;const i=n.contactForm.get("firstName"),l=n.contactForm.get("lastName"),c=n.contactForm.get("title"),s=n.contactForm.get("companyName"),d=n.contactForm.get("departmentName");if("company"==n.selectedType||"government"==n.selectedType?(i?.clearValidators(),l?.clearValidators(),c?.clearValidators(),"company"==n.selectedType?(s?.setValidators([r.kI.required,r.kI.pattern(/^(\s*\S+\s*)*(?!\s).*$/)]),s?.updateValueAndValidity()):(s?.clearValidators(),s?.updateValueAndValidity()),"government"==n.selectedType?(d?.setValidators([r.kI.required,r.kI.pattern(/^(\s*\S+\s*)*(?!\s).*$/)]),d?.updateValueAndValidity()):(d?.clearValidators(),d?.updateValueAndValidity())):(s?.clearValidators(),s?.updateValueAndValidity(),d?.clearValidators(),d?.updateValueAndValidity(),i?.setValidators([r.kI.required,r.kI.pattern(/^(\s*\S+\s*)*(?!\s).*$/)]),i?.updateValueAndValidity(),l?.setValidators([r.kI.required,r.kI.pattern(/^(\s*\S+\s*)*(?!\s).*$/)]),l?.updateValueAndValidity(),c?.setValidators([r.kI.required]),c?.updateValueAndValidity()),i?.updateValueAndValidity(),l?.updateValueAndValidity(),c?.updateValueAndValidity(),s?.updateValueAndValidity(),d?.updateValueAndValidity(),console.warn("this.contactForm.invalid",n.contactForm.invalid),n.contactForm.invalid)return void n.scrollToFirstInvalidControl();if(!n.contactForm.valid)return;n.loading=!0;let u={type:n.selectedType??"",first_name:n.contactForm.value.firstName??"",last_name:n.contactForm.value.lastName??"",..."company"!==n.selectedType&&"government"!==n.selectedType&&{name:(n.contactForm.value.firstName??"")+" "+(n.contactForm.value.lastName??""),title:n.contactForm.value.title??"",gender:n.contactForm.value.gender??""},..."student"==n.selectedType&&{student_id:n.contactForm.value.studentId??"",student_status:n.contactForm.value.studentStatus??"",relationship:n.contactForm.value.relationship??"",emerg_contact_address:n.contactForm.value.emergContactAddress??"",emerg_contact_name:n.contactForm.value.emergContactName??"",emerg_contact_number:n.contactForm.value.emergContactNumber??"",date_of_birth:n.contactForm.value.dateOfBirth??""},..."government"==n.selectedType&&{name:n.contactForm.value.departmentName??"",department_type:n.contactForm.value.departmentType??"",website:n.contactForm.value.website??""},..."individual"==n.selectedType&&{display_name:n.contactForm.value.displayName??""},..."company"==n.selectedType&&{revenue:n.contactForm.value.companyRevenue??"",company_size:n.contactForm.value.companySize??"",company_type:n.contactForm.value.companyType??"",about:n.contactForm.value.about??"",founded:n.contactForm.value.founded??"",ceo:n.contactForm.value.ceo??"",industry_type:n.contactForm.value.industryType??"",name:n.contactForm.value.companyName??"",website:n.contactForm.value.website??""},..."employee"==n.selectedType&&{supervisor:n.contactForm.value.supervisor??"",office_address:n.contactForm.value.officeAddress??"",office_email:n.contactForm.value.officeEmail??"",office_number:n.contactForm.value.officeNumber??"",employee_id:n.contactForm.value.employeeId??"",employee_type:n.contactForm.value.employeeType??"",job_title:n.contactForm.value.jobTitle??"",name:n.contactForm.value.firstName+" "+n.contactForm.value.lastName},..."patient"==n.selectedType&&{patient_id:n.contactForm.value.patientId??"",doctor_name:n.contactForm.value.doctorName??"",policy_number:n.contactForm.value.policyNumber??"",insurance_provider:n.contactForm.value.InsuranceProvider??"",date_of_birth:n.contactForm.value.dateOfBirth??""},tag:n.contactForm.value.relation??"",avatar:n.contactForm.value.avatar??""};u=Object.fromEntries(Object.entries(u).filter(([p,h])=>null!=h&&("string"!=typeof h||""!==h.trim())));const m=yield n.createContactEntity("entity",Number(n.userCompositionId),u,n.emails.controls,n.phoneNumbers.controls,n.contactLinks.controls,n.addresses.controls);if("company"===n.selectedType||"government"===n.selectedType)for(const p of n.contactPersons.controls){const h=p.get("firstName")?.value,f=p.get("lastName")?.value,C=p.get("title")?.value,b=p.get("designation")?.value,w=p.get("personEmails"),v=p.get("personAddress"),T=p.get("personPhones"),y=p.get("personLinks")?.controls||[],A=w?.controls||[],q=T?.controls||[],k=v?.controls||[];let N={title:C??"",designation:b??"",name:(h??"")+" "+(f??"")};N=Object.fromEntries(Object.entries(N).filter(([J,D])=>null!=D&&""!==D.trim()));const E=yield n.createContactEntity("contact_person",Number(n.userCompositionId),N,A,q,y,k);yield(0,I.G$)(m,E,"s_contact_person"),yield _.smK.SyncDataOnline(),yield(0,_.J0M)(E.id)}if(n.loading=!1,n._activeModal.close(),yield(0,_.J0M)(m.id),m){const h=n._authService.loadFromLocalStorage().entityId,f=yield(0,_.Mu8)(Number(h));yield(0,I.G$)(f,m,"s_crm_contact_s");const C=n.globalFolders.find(b=>b.name.trim().toLowerCase()==="contacts".toLowerCase());if(C){const b=yield(0,_.Mu8)(C.id);yield(0,_.KFq)(b,m,oe.u)}yield _.smK.SyncDataOnline()}n.contactUpdated.emit()})()}createContactEntity(n,i,l,c,s,d,u){return(0,M.Z)(function*(){const m=yield(0,te.V)(i,l,n);for(const p of c){if(!p||!p.value||!p.value.email)continue;const h=yield(0,_.Fsb)("the_email","",!0,i,4,999);if(yield(0,I.G$)(m,h,"s_email"),p.value.emailLabel){const f=yield(0,_.Fsb)("the_type",p.value.emailLabel,!1,i,4,999);yield(0,I.G$)(h,f,"type")}for(const[f,C]of Object.entries(p.value)){if("emailLabel"==f||!C)continue;const b=yield(0,_.Fsb)(`${f}`,`${C}`,!1,i,4,999);yield(0,I.G$)(h,b,f.toLowerCase())}}for(const p of s){if(!p||!p.value||!p.value.phone&&!p.value.countryCode)continue;const h=yield(0,_.Fsb)("the_phone","",!0,i,4,999);if(yield(0,I.G$)(m,h,"s_phone"),p.value.phoneLabel){const f=yield(0,_.Fsb)("the_type",p.value.phoneLabel,!1,i,4,999);yield(0,I.G$)(h,f,"type")}for(const[f,C]of Object.entries(p.value)){if("phoneLabel"==f||!C)continue;const b=yield(0,_.Fsb)(`${f}`,`${C}`,!1,i,4,999);yield(0,I.G$)(h,b,f.toLowerCase())}}for(const p of d){if(!p||!p.value||!p.value.socialLinks)continue;const h=yield(0,_.Fsb)("the_link","",!0,i,4,999);if(yield(0,I.G$)(m,h,"s_link"),p.value.linkLabel){const f=yield(0,_.Fsb)("the_type",p.value.linkLabel,!1,i,4,999);yield(0,I.G$)(h,f,"type")}for(const[f,C]of Object.entries(p.value)){if("linkLabel"===f||!C)continue;const b=yield(0,_.Fsb)(`${f}`,`${C}`,!1,i,4,999);yield(0,I.G$)(h,b,f.toLowerCase())}}for(const p of u){if(!p||!p.value)continue;const{city:h,country:f,postalCode:C,street:b,state:w}=p.value;if(!(h||f||C||b||w))continue;const v=yield(0,_.Fsb)("the_address","",!0,i,4,999);if(yield(0,I.G$)(m,v,"s_address"),p.value.addressLabel){const T=yield(0,_.Fsb)("the_type",p.value.addressLabel,!1,i,4,999);yield(0,I.G$)(v,T,"type")}for(const[T,Z]of Object.entries(p.value)){if("addressLabel"===T||!Z)continue;const y=yield(0,_.Fsb)(`${T}`,`${Z}`,!1,i,4,999);yield(0,I.G$)(v,y,T.toLowerCase())}}return yield _.smK.SyncDataOnline(),m})()}};let o=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(r.qu),t.Y36(O.Kz),t.Y36(ie.e),t.Y36(S.F0),t.Y36(G.o),t.Y36(le.yh),t.Y36(F.e),t.Y36(Y.s),t.Y36(j.uw))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-new-contact"]],viewQuery:function(i,l){if(1&i&&t.Gf(ae,5),2&i){let c;t.iGM(c=t.CRH())&&(l.formControls=c)}},outputs:{contactUpdated:"contactUpdated"},decls:58,vars:26,consts:[[3,"formGroup","ngSubmit"],["createMenuFormId","ngForm"],[1,"modal-header"],[1,"modal-title","text-white","ms-4"],["type","button",1,"material-symbols-outlined","text-white","bg-transparent","border-0",3,"click"],[1,"modal-body","pt-2"],[1,"w-100","mb-2"],[1,"fw-semibold","fs-5"],[1,"d-flex","align-items-center","justify-content-between","row"],[1,"col-md-8","border","rounded","bg-light","p-3","pb-0"],[1,"w-100","mb-3"],[1,"bg-light","form-select",3,"change"],["formControl",""],["value","","disabled","","selected",""],["class","",3,"value",4,"ngFor","ngForOf"],["class","err_msg",4,"ngIf"],["class","row d-flex align-items-center justify-content-between gap-5 mb-0",4,"ngIf"],["class","mb-0",4,"ngIf"],[1,"col-md-3","me-5"],[1,"position-relative","profile-img"],["class","loading",4,"ngIf"],[4,"ngIf","ngIfElse"],["defaultProfile",""],[1,"w-100","mb-2","mt-2"],["formArrayName","emails"],["class","d-flex align-items-start gap-2 mb-2",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","addresses"],["formArrayName","phoneNumbers"],["class","w-100 mb-2 mt-2",4,"ngIf"],["class","d-flex align-items-start gap-2 mb-2",4,"ngIf"],["formArrayName","contactLinks"],["formArrayName","contactPersons",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-start","ms-4","gap-5","row"],["type","button","class","btn btn-primary col m-width h-25 fs-6 px-3 py-2 rounded-1",3,"disabled",4,"ngIf","ngIfElse"],["notLoading",""],["type","button",1,"btn","btn-secondary-outline","fs-6","px-3","py-2","rounded-1","col","m-width","h-25",3,"click"],[1,"",3,"value"],[1,"err_msg"],[1,"row","d-flex","align-items-center","justify-content-between","gap-5","mb-0"],[1,"col","p-0"],[1,"w-100","form-group","position-relative"],["for","title",1,"label"],[1,"text-danger"],["id","title","required","","formControlName","title",1,"input","bg-light","form-select","py-2","shadow-none"],["value","","selected","","disabled",""],["value","mr"],["value","mrs"],["value","miss"],["value","others"],[1,"form-group","position-relative","w-100"],["for","firstName",1,"label"],["type","text","id","firstName","formControlName","firstName",1,"form-control","shadow-none","p-2","input"],["class","form-group position-relative w-100",4,"ngIf"],["class","w-100 form-group position-relative",4,"ngIf"],["for","gender",1,"label"],["id","gender","formControlName","gender",1,"input","form-select","bg-light","py-2","shadow-none"],["value","male"],["value","female"],[1,"bg-light","form-group","position-relative","w-100"],["for","lastName",1,"label"],["type","text","id","lastName","formControlName","lastName",1,"input","form-control","shadow-none","p-2"],["for","relation",1,"label"],["id","relation","formControlName","relation",1,"input","form-select","py-2","shadow-none","bg-light"],["value","","disabled",""],["value","prospect","selected",""],["value","client"],["value","lead"],["for","displayName",1,"label"],["type","text","id","displayName","formControlName","displayName",1,"input","form-control","shadow-none","p-2"],["for","dateOfBirth",1,"label"],["type","date","id","dateOfBirth","formControlName","dateOfBirth",1,"input","bg-light","form-select","py-2","shadow-none"],["for","employeeType",1,"label"],["id","employeeType","formControlName","employeeType",1,"input","bg-light","form-select","py-2","shadow-none"],["value","part time"],["value","full time"],["value","intern"],["value","trainee"],["value","remote"],["for","employeeId",1,"label"],["type","number","id","employeeId","formControlName","employeeId",1,"input","form-control","shadow-none","p-2"],["for","studentId",1,"label"],["type","number","id","studentId","formControlName","studentId",1,"input","form-control","shadow-none","p-2"],["for","studentStatus",1,"label"],["id","studentStatus","formControlName","studentStatus",1,"input","bg-light","form-select","py-2","shadow-none"],["value","freshman"],["value","junior"],["value","senior"],["value","graduate"],["value","post graduate"],["for","jobTitle",1,"label"],["type","text","id","jobTitle","formControlName","jobTitle",1,"input","form-control","shadow-none","p-2"],[1,"mb-0"],["for","website",1,"label"],["type","text","id","website","formControlName","website",1,"input","form-control","shadow-none","p-2"],[1,"d-flex","align-items-center","justify-content-between","gap-5"],["value","prospect"],["for","companyName",1,"label"],["type","text","id","companyName","formControlName","companyName",1,"input","form-control","shadow-none","p-2"],["for","departmentName",1,"label"],["type","text","id","departmentName","formControlName","departmentName",1,"input","form-control","shadow-none","p-2"],["for","industryType",1,"label"],["id","industryType","formControlName","industryType",1,"input","form-select","py-2","shadow-none","bg-light"],["value","agriculture"],["value","banking"],["value","education"],["value","government"],["value","information technology"],["value","e-commerce"],["value","telecommunications"],["for","departmentType",1,"label"],["id","departmentType","formControlName","departmentType",1,"input","form-select","py-2","shadow-none","bg-light"],["value","regulatory agencies"],["value","public service"],["value","municipal/local"],["value","defense and security"],["value","tax and revenue"],["value","research institutions"],["value","public healthcare"],[1,"loading"],[1,"loader"],["alt","Display Profile Image",1,"img-fluid",3,"src"],["tabindex","",1,"position-absolute","p-1","top-0","end-0","mt-1","me-1","w-25","h-25","bg-danger","bg-gradient","rounded","cursor-pointer","d-flex","align-items-center","justify-content-center",3,"click","keyup"],[1,"material-symbols-outlined","text-white"],["src","/assets/contact-crm/profile-image.png","alt","Profile Image",1,"img-fluid"],[1,"w-100","h-100","position-absolute","top-0","d-flex","justify-content-center","align-items-center","overlay"],["src","/assets/contact-crm/browse.png","alt","Browse Image","tabindex","",1,"img-fluid","cursor-pointer",3,"keyup","click"],["type","file","accept",".png, .jpg, .jpeg",2,"display","none",3,"change"],["fileInput",""],[1,"d-flex","align-items-start","gap-2","mb-2",3,"formGroupName"],[1,"flex-grow-1","border","rounded","bg-light","p-3"],[1,"d-flex","align-items-center","justify-content-between","row","p-0","m-0","gap-3"],[1,"col-md-4","m-width","form-group","position-relative","m-0","p-0"],[1,"label",3,"for"],["formControlName","emailLabel",1,"input","form-select","bg-light","p-2","shadow-none",3,"id","change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"col-md-8","form-group","position-relative","m-0","p-0",2,"max-width","404px"],["type","text","formControlName","email",1,"input","form-control","shadow-none","p-2",3,"id"],["class","material-symbols-outlined border border-secondary-subtle rounded cursor-pointer mt-0","tabindex","",3,"click","keyup",4,"ngIf"],["class","material-symbols-outlined text-danger border border-danger rounded cursor-pointer mt-0","tabindex","",3,"click","keyup",4,"ngIf"],[3,"value","selected"],["tabindex","",1,"material-symbols-outlined","border","border-secondary-subtle","rounded","cursor-pointer","mt-0",3,"click","keyup"],["tabindex","",1,"material-symbols-outlined","text-danger","border","border-danger","rounded","cursor-pointer","mt-0",3,"click","keyup"],[1,"d-flex","align-items-end","justify-content-between","row","gap-5","m-0","p-0"],[1,"col-md-7","p-0"],[1,"form-group","position-relative"],["formControlName","addressLabel",1,"input","form-select","bg-light","py-2","shadow-none",3,"id","change"],["type","text","formControlName","street",1,"input","form-control","shadow-none","p-2",3,"id"],[1,"d-flex","align-items-center","justify-content-between","row","p-0","m-0","gap-5"],[1,"form-group","position-relative","m-0","col","p-0"],["type","text","formControlName","state",1,"input","form-control","shadow-none","p-2",3,"id"],["type","number","formControlName","postalCode",1,"input","form-control","shadow-none","p-2",3,"id"],[1,"col-md-4","p-0"],["type","text","formControlName","city",1,"input","form-control","shadow-none","p-2",3,"id"],[1,"form-group","position-relative","m-0"],["type","text","formControlName","country",1,"input","form-control","shadow-none","p-2",3,"id"],[1,"d-flex","align-items-center","justify-content-between","row","p-0","m-0","gap-4"],[1,"col","form-group","position-relative","m-0","p-0"],["formControlName","phoneLabel",1,"input","form-select","bg-light","py-2","shadow-none",3,"id","change"],["formControlName","countryCode",1,"input","form-select","bg-light","py-2","shadow-none",3,"id"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","phone",1,"input","form-control","shadow-none","p-2",3,"id"],[3,"value"],[1,"d-flex","align-items-start","gap-2","mb-2"],[1,"col-md-4","m-width","m-0","p-0"],["for","emergContactNumber",1,"label"],["type","number","id","emergContactNumber","formControlName","emergContactNumber",1,"input","form-control","shadow-none","p-2"],["for","relationship",1,"label"],["type","text","id","relationship","formControlName","relationship",1,"input","form-control","shadow-none","p-2"],[1,"col-md-8","m-0","p-0",2,"max-width","404px"],["for","emergContactName",1,"label"],["type","text","id","emergContactName","formControlName","emergContactName",1,"input","form-control","shadow-none","p-2"],["for","emergContactAddress",1,"label"],["type","text","id","emergContactAddress","formControlName","emergContactAddress",1,"input","form-control","shadow-none","p-2"],[1,"invisible",2,"min-width","26px"],["for","supervisor",1,"label"],["type","text","id","supervisor","formControlName","supervisor",1,"input","form-control","shadow-none","p-2"],["for","officeNumber",1,"label"],["type","number","id","officeNumber","formControlName","officeNumber",1,"input","form-control","shadow-none","p-2"],["for","officeEmail",1,"label"],["type","text","id","officeEmail","formControlName","officeEmail",1,"input","form-control","shadow-none","p-2"],["for","officeAddress",1,"label"],["type","text","id","officeAddress","formControlName","officeAddress",1,"input","form-control","shadow-none","p-2"],[1,"border","rounded","bg-light","p-3","pb-0","flex-grow-1"],[1,"row","m-0","d-flex","align-items-center","justify-content-between"],["for","ceo",1,"label"],["type","text","id","ceo","formControlName","ceo",1,"form-control","shadow-none","p-2"],[1,"row","gap-4","m-0"],[1,"col","p-0","form-group","position-relative"],["for","companySize",1,"label"],["type","number","id","companySize","formControlName","companySize",1,"form-control","shadow-none","p-2"],["for","founded",1,"label"],["type","text","id","founded","formControlName","founded",1,"form-control","shadow-none","p-2"],[1,"col-md-4","m-width","p-0"],["for","companyType",1,"label"],["id","companyType","formControlName","companyType",1,"input","form-select","py-2","shadow-none","bg-light"],["value","public"],["value","private"],["value","non-profit"],["value","Startup"],["for","companyRevenue",1,"label"],["type","number","id","companyRevenue","formControlName","companyRevenue",1,"form-control","shadow-none","p-2"],["for","about",1,"label"],["id","about","formControlName","about",1,"form-control","shadow-none","p-2"],[1,"bg-transparent","invisible",2,"min-width","26px"],["formControlName","linkLabel",1,"input","form-select","bg-light","p-2","shadow-none",3,"id","change"],["type","text","formControlName","socialLinks",1,"input","form-control","shadow-none","p-2",3,"id"],["for","patientId",1,"label"],["type","number","id","patientId","formControlName","patientId",1,"form-control","shadow-none","p-2"],["for","doctorName",1,"label"],["type","text","id","doctorName","formControlName","doctorName",1,"form-control","shadow-none","p-2"],["for","InsuranceProvider",1,"label"],["type","text","id","InsuranceProvider","formControlName","InsuranceProvider",1,"form-control","shadow-none","p-2"],["type","text","id","emergContactName","formControlName","emergContactName",1,"form-control","shadow-none","p-2"],["for","policyNumber",1,"label"],["type","number","id","policyNumber","formControlName","policyNumber",1,"form-control","shadow-none","p-2"],["type","number","id","emergContactNumber","formControlName","emergContactNumber",1,"form-control","shadow-none","p-2"],["formArrayName","contactPersons"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[2,"border","none","border-top","2px solid #000","margin","20px 0"],[1,"d-flex","align-items-center","border-bottom","w-100","mb-2","mt-2"],[1,"fw-semibold","fs-5","mx-auto"],["tabindex","",1,"mx-auto","material-symbols-outlined","text-danger","border","border-danger","rounded","cursor-pointer","mt-0",3,"title","click","keyup"],[1,"flex-grow-1","border","rounded","bg-light","p-3","pb-0"],[1,"row","gap-5","m-0"],["formControlName","title",1,"input","bg-light","form-select","py-2","shadow-none",3,"id"],["type","text","formControlName","lastName",1,"input","form-control","shadow-none","p-2",3,"id"],["type","text","formControlName","firstName",1,"form-control","shadow-none","p-2","input",3,"id"],["type","text","formControlName","designation",1,"input","form-control","shadow-none","p-2",3,"id"],["formArrayName","personEmails"],["formArrayName","personAddress"],["formArrayName","personPhones"],["formArrayName","personLinks"],[1,"col-md-7","form-group","position-relative","m-0","p-0",2,"max-width","404px"],["for","email",1,"label"],["type","text","id","email","formControlName","email",1,"input","form-control","shadow-none","p-2"],["for","street",1,"label"],["type","text","id","street","formControlName","street",1,"input","form-control","shadow-none","p-2"],["for","state",1,"label"],["type","text","id","state","formControlName","state",1,"input","form-control","shadow-none","p-2"],["for","postalCode",1,"label"],["type","number","id","postalCode","formControlName","postalCode",1,"input","form-control","shadow-none","p-2"],["for","city",1,"label"],["type","text","id","city","formControlName","city",1,"input","form-control","shadow-none","p-2"],["for","country",1,"label"],["type","text","id","country","formControlName","country",1,"input","form-control","shadow-none","p-2"],["for","countryCode",1,"label"],["id","countryCode","formControlName","countryCode",1,"input","form-select","bg-light","py-2","shadow-none"],["for","phone",1,"label"],["type","number","id","phone","formControlName","phone",1,"input","form-control","shadow-none","p-2"],["for","socialLinks",1,"label"],["type","text","id","socialLinks","formControlName","socialLinks",1,"input","form-control","shadow-none","p-2"],[1,"mb-2"],["type","button",1,"btn","btn-primary-outline","fs-6","px-3","py-2","m-width","h-25","rounded-1",3,"click"],["type","button",1,"btn","btn-primary","col","m-width","h-25","fs-6","px-3","py-2","rounded-1",3,"disabled"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"],["type","submit",1,"btn","btn-primary","fs-6","px-3","py-2","col","m-width","h-25","rounded-1"]],template:function(i,l){if(1&i&&(t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){return l.addEntity()}),t.TgZ(2,"div",2)(3,"h4",3),t._uU(4,"Add Entity"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return l._activeModal.dismiss()}),t._uU(6," close "),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"h5",7),t._uU(10,"Profile Information"),t.qZA()(),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"select",11,12),t.NdJ("change",function(s){return l.onEntityTypeChange(s)}),t.TgZ(16,"option",13),t._uU(17,"Select The Entity Type"),t.qZA(),t.YNc(18,ce,2,2,"option",14),t.qZA(),t.YNc(19,se,2,0,"small",15),t.qZA(),t.YNc(20,ve,71,10,"div",16),t.YNc(21,Ze,25,4,"div",17),t.qZA(),t.TgZ(22,"div",18)(23,"div",19),t.YNc(24,we,2,0,"div",20),t.YNc(25,Me,5,1,"ng-container",21),t.YNc(26,Ae,5,0,"ng-template",null,22,t.W1O),t.qZA()()(),t.TgZ(28,"div",23)(29,"h5",7),t._uU(30,"Contact Information"),t.qZA()(),t.TgZ(31,"div",24),t.YNc(32,ke,16,8,"div",25),t.qZA(),t.TgZ(33,"div",26),t.YNc(34,Ee,35,16,"div",25),t.qZA(),t.TgZ(35,"div",27),t.YNc(36,Le,23,11,"div",25),t.qZA(),t.YNc(37,Ye,3,0,"div",28),t.YNc(38,Ge,22,0,"div",29),t.YNc(39,je,3,0,"div",28),t.YNc(40,He,22,0,"div",29),t.TgZ(41,"div",23)(42,"h5",7),t._uU(43,"Other Information"),t.qZA()(),t.YNc(44,$e,42,0,"div",29),t.TgZ(45,"div",30),t.YNc(46,Ke,16,8,"div",25),t.qZA(),t.YNc(47,Be,3,0,"div",28),t.YNc(48,Re,31,0,"div",29),t.YNc(49,We,3,0,"div",28),t.YNc(50,Cn,2,1,"div",31),t.YNc(51,vn,3,0,"div",32),t.qZA(),t.TgZ(52,"div",33),t.YNc(53,xn,5,1,"button",34),t.YNc(54,bn,2,0,"ng-template",null,35,t.W1O),t.TgZ(56,"button",36),t.NdJ("click",function(){return l._activeModal.close()}),t._uU(57," Discard "),t.qZA()()()),2&i){const c=t.MAs(27),s=t.MAs(55);t.Q6J("formGroup",l.contactForm),t.xp6(14),t.ekj("errorEntity",l.errorEntitySelect),t.xp6(4),t.Q6J("ngForOf",l.entityTypes),t.xp6(1),t.Q6J("ngIf",l.errorEntitySelect),t.xp6(1),t.Q6J("ngIf","government"!==l.selectedType&&"company"!==l.selectedType),t.xp6(1),t.Q6J("ngIf","company"===l.selectedType||"government"===l.selectedType),t.xp6(3),t.Q6J("ngIf",l.isUploading),t.xp6(1),t.Q6J("ngIf",l.profileImgSrc)("ngIfElse",c),t.xp6(7),t.Q6J("ngForOf",l.emails.controls),t.xp6(2),t.Q6J("ngForOf",l.addresses.controls),t.xp6(2),t.Q6J("ngForOf",l.phoneNumbers.controls),t.xp6(1),t.Q6J("ngIf","student"===l.selectedType),t.xp6(1),t.Q6J("ngIf","student"===l.selectedType),t.xp6(1),t.Q6J("ngIf","employee"===l.selectedType),t.xp6(1),t.Q6J("ngIf","employee"===l.selectedType),t.xp6(4),t.Q6J("ngIf","company"===l.selectedType),t.xp6(2),t.Q6J("ngForOf",l.contactLinks.controls),t.xp6(1),t.Q6J("ngIf","patient"===l.selectedType),t.xp6(1),t.Q6J("ngIf","patient"===l.selectedType),t.xp6(1),t.Q6J("ngIf","company"===l.selectedType||"government"===l.selectedType),t.xp6(1),t.Q6J("ngIf","company"===l.selectedType||"government"===l.selectedType),t.xp6(1),t.Q6J("ngIf","company"===l.selectedType||"government"===l.selectedType),t.xp6(2),t.Q6J("ngIf",l.loading)("ngIfElse",s)}},dependencies:[x.sg,x.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.Q7,r.sg,r.u,r.x0,r.CE],styles:[".modal-header[_ngcontent-%COMP%]{background:#3c4956;height:44px}.modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.multi_form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.add_btn[_ngcontent-%COMP%]{border:1px solid;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:5px;gap:10px;color:#2e3032}.add_btn[_ngcontent-%COMP%]:hover{color:#1b1c1d;background-color:#5f5f5f;color:#fff;transition:all .3s ease-in-out}.remove_btn[_ngcontent-%COMP%]{border:1px solid;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:5px;gap:10px;color:#e63939}.remove_btn[_ngcontent-%COMP%]:hover{color:#eb0a0a;background-color:#e63939;color:#fff;transition:all .3s ease-in-out}.profile-image[_ngcontent-%COMP%]{position:relative;border-radius:1rem;border:1px solid #ededed;background-color:#fff;height:150px;width:150px}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:1rem;position:relative;background-color:#fff;height:150px;width:150px;object-fit:cover}.profile-image[_ngcontent-%COMP%]:hover   .edit-profile-image[_ngcontent-%COMP%]{display:block}.edit-image[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem;z-index:0;background-color:#eee;border:none;outline:none;border-radius:50px;width:32px;height:32px;display:flex;justify-content:center;align-items:center;cursor:pointer;opacity:.5}.edit-image[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:-4px}.edit-image[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, .edit-image[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:focus{opacity:1}.nav-tabs[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;--bs-nav-tabs-border-width: 0px !important}.nav-item[_ngcontent-%COMP%]{width:50%}.nav-link[_ngcontent-%COMP%]{background-color:#cccccc7d;border-radius:0;color:#333;text-align:center;font-weight:bolder}.nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(242,112,156),rgb(255,148,114));color:#fff;border:none}.modal-title[_ngcontent-%COMP%]{font-weight:bolder}  .modal{z-index:9999999!important}.overlay[_ngcontent-%COMP%]{background-color:#00000080}.form-group[_ngcontent-%COMP%]{position:relative}.label[_ngcontent-%COMP%]{position:absolute;top:-10px;left:15px;background-color:#fafafa;padding:0 5px;font-size:14px;color:#333}.input[_ngcontent-%COMP%]{padding-top:15px;border:1px solid #ced4da;background-color:#fafafa}input[_ngcontent-%COMP%]:-webkit-autofill, input[_ngcontent-%COMP%]:-webkit-autofill:hover, input[_ngcontent-%COMP%]:-webkit-autofill:focus, input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.profile-img[_ngcontent-%COMP%]{min-width:172px;min-height:172px;border-radius:4px}.m-width[_ngcontent-%COMP%]{max-width:198px}.btn-secondary-outline[_ngcontent-%COMP%]:hover, .btn-primary-outline[_ngcontent-%COMP%]:hover{color:#fff}.errorEntity[_ngcontent-%COMP%]{border:1px solid red}"]}),o})();var Tn=g(8698),H=g(1206),B=g(4859);function Zn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw();return t.KtG(l.removeColumn(i))}),t._uU(1," close "),t.qZA()}}function wn(o,a){if(1&o&&(t.TgZ(0,"li",13)(1,"div",14)(2,"div",15)(3,"span",16),t._uU(4,"drag_indicator"),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA()(),t.YNc(7,Zn,2,0,"button",17),t.qZA()()),2&o){const e=a.$implicit;t.xp6(6),t.Oqu(e),t.xp6(1),t.Q6J("ngIf","Contact Name"!==e&&"Action"!==e)}}function Mn(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"label")(2,"input",19),t.NdJ("change",function(i){const c=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onColumnChange(c,i))}),t.qZA(),t._uU(3),t.qZA()()}if(2&o){const e=a.$implicit,n=t.oxw();t.xp6(2),t.Q6J("checked",n.selectedColumns.includes(e)),t.xp6(1),t.hij(" ",e," ")}}function An(o,a){1&o&&t._UZ(0,"span",20)}function In(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1,"Apply"),t.qZA())}let Pn=(()=>{const a=class{constructor(n,i,l){this._auth=n,this.dialogRef=i,this.data=l,this.draggedColumn="",this.isLoading=!1,this.availableColumns=["Phone Number","Address","Website","Location URL","Company Size","Company Owner","Company Revenue","Founded Date","Label","Relation","Email"],this.selectedColumns=["Contact Name","Action"],this.currentSelectedColumns=[],this.entityId=this._auth.loadFromLocalStorage().entityId,this.userId=this._auth.loadFromLocalStorage().theUserId}ngOnInit(){this.data&&this.data.selectedColumns&&(this.currentSelectedColumns=this.data.selectedColumns,this.data.selectedColumns.forEach(n=>{"Contact Name"!==n&&"Action"!==n&&this.availableColumns.includes(n)&&this.selectedColumns.push(n)})),this.updateSelectedColumnsOrder()}onColumnChange(n,i){i.target.checked?this.selectedColumns.includes(n)||this.selectedColumns.push(n):this.removeColumn(n),this.updateSelectedColumnsOrder()}removeColumn(n){this.selectedColumns=this.selectedColumns.filter(i=>i!==n),this.updateSelectedColumnsOrder()}updateSelectedColumnsOrder(){const n=this.selectedColumns.indexOf("Contact Name"),i=this.selectedColumns.indexOf("Action");n>-1&&(this.selectedColumns.splice(n,1),this.selectedColumns.unshift("Contact Name")),i>-1&&(this.selectedColumns.splice(i,1),this.selectedColumns.push("Action"))}drop(n){(0,H.bA)(this.selectedColumns,n.previousIndex,n.currentIndex)}onNoClick(){this.dialogRef.close(this.currentSelectedColumns||[])}applyChanges(){var n=this;return(0,M.Z)(function*(){if(n.selectedColumns){n.isLoading=!0;const i=n.selectedColumns.map((s,d)=>({value:s.replace(/\s+/g,"_").toLowerCase(),name:s,order:d}));n?.data?.tableId&&(yield(0,_.Ac7)(Number(n.data?.tableId)));const l=yield(0,_.J0M)(Number(n.entityId)),c=yield(0,_.Fsb)("the_table","",!0,n.userId,4,999);yield(0,I.G$)(l,c,"contact_table");for(const s of i){const d=yield(0,_.Fsb)(s.value,s.order.toString(),!1,n.userId,s.order,999);yield(0,I.G$)(c,d,s.value)}return yield _.smK.SyncDataOnline(),n.isLoading=!1,n.dialogRef.close(n.selectedColumns||[]),l}return n.selectedColumns})()}};let o=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(F.e),t.Y36(j.so),t.Y36(j.WI))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-edit-columns"]],decls:21,vars:6,consts:[[1,"header","d-flex","align-items-center","justify-content-between"],["type","button",1,"material-symbols-outlined","text-white","bg-transparent","border-0",3,"click"],[1,"row"],[1,"col","selected-columns"],["cdkDropList","",1,"list-unstyled",3,"cdkDropListDropped"],["class","mb-2","cdkDrag","",4,"ngFor","ngForOf"],[1,"col","add-columns"],[4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"action-buttons"],["mat-button","",1,"btn","btn-primary","ms-2","text-white","apply-button",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],[4,"ngIf"],["mat-button","",1,"btn","btn-secondary-outline","discard-button",3,"click"],["cdkDrag","",1,"mb-2"],[1,"d-flex","align-items-center","justify-content-between","border","rounded-1","ps-2"],[1,"d-flex","align-items-center"],["cdkDragHandle","",1,"material-symbols-outlined","me-2"],["type","button","class","material-symbols-outlined border-0 fs-6 bg-transparent",3,"click",4,"ngIf"],["type","button",1,"material-symbols-outlined","border-0","fs-6","bg-transparent",3,"click"],["type","checkbox",3,"checked","change"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(i,l){1&i&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2,"Customize Your Columns:"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return l.onNoClick()}),t._uU(4," close "),t.qZA()(),t.TgZ(5,"div",2)(6,"div",3)(7,"strong"),t._uU(8),t.qZA(),t.TgZ(9,"ul",4),t.NdJ("cdkDropListDropped",function(s){return l.drop(s)}),t.YNc(10,wn,8,2,"li",5),t.qZA()(),t.TgZ(11,"div",6)(12,"strong"),t._uU(13,"Add to Columns:"),t.qZA(),t.YNc(14,Mn,4,2,"div",7),t.qZA(),t.TgZ(15,"div",8)(16,"button",9),t.NdJ("click",function(){return l.applyChanges()}),t.YNc(17,An,1,0,"span",10),t.YNc(18,In,2,0,"span",11),t.qZA(),t.TgZ(19,"button",12),t.NdJ("click",function(){return l.onNoClick()}),t._uU(20," Discard "),t.qZA()()()),2&i&&(t.xp6(8),t.hij("Selected Columns (",l.selectedColumns.length,")"),t.xp6(2),t.Q6J("ngForOf",l.selectedColumns),t.xp6(4),t.Q6J("ngForOf",l.availableColumns),t.xp6(2),t.Q6J("disabled",l.isLoading),t.xp6(1),t.Q6J("ngIf",l.isLoading),t.xp6(1),t.Q6J("ngIf",!l.isLoading))},dependencies:[x.sg,x.O5,B.lW,H.Wj,H.Zt,H.Bh],styles:[".header[_ngcontent-%COMP%]{width:816px;height:40px;padding:0 10px 0 20px;border-radius:4px 4px 0 0;border:1px solid transparent;background-color:#3c4956}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:500;padding:0;margin:0}.selected-columns[_ngcontent-%COMP%], .add-columns[_ngcontent-%COMP%]{padding:0 20px;position:relative}.selected-columns[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:30px;min-height:30px;max-height:30px}.selected-columns[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .add-columns[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.search-box[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.search-box[_ngcontent-%COMP%]::placeholder{font-weight:400;font-size:14px;color:#0006}.apply-button[_ngcontent-%COMP%]{width:176px;height:34px;border-radius:4px;padding:4px 12px;border:none;cursor:pointer}.discard-button[_ngcontent-%COMP%]{width:176px;height:34px;border-radius:4px;border:1px solid #555556;padding:4px 12px;background-color:transparent;cursor:pointer}.discard-button[_ngcontent-%COMP%]:hover{color:#fff}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.cdk-drag-preview[_ngcontent-%COMP%]{position:absolute;pointer-events:none;box-sizing:border-box;border-radius:4px;z-index:4000}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background-color:#ccc;font-size:14px;height:40px;text-align:center;padding-top:10px}[cdkDragHandle][_ngcontent-%COMP%]{cursor:move}"]}),o})();var Nn=g(4660),R=g(5495);function kn(o,a){1&o&&(t.ynx(0),t.TgZ(1,"div",6),t._UZ(2,"div",7),t.qZA(),t.BQk())}function On(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",26,27),t.NdJ("error",function(){t.CHM(e);const i=t.MAs(1);return t.KtG(i.src="./assets/man.png")}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("src",null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.avatar?null:e.selectedContact.profileInformation.avatar.value,t.LSH)}}function qn(o,a){1&o&&t._UZ(0,"img",28)}function Un(o,a){if(1&o&&(t.TgZ(0,"div",29),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.tag?null:e.selectedContact.profileInformation.tag.value," ")}}function En(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"person"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Full Name:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.name?null:e.selectedContact.profileInformation.name.value," ")}}function Jn(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"group"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Relation:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.tag?null:e.selectedContact.profileInformation.tag.value," ")}}function Sn(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"language"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Website:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.website?null:e.selectedContact.profileInformation.website.value," ")}}function Fn(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"factory"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Industry Type:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.industryType?null:e.selectedContact.profileInformation.industryType.value," ")}}function Qn(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"factory"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Department Type:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.departmentType?null:e.selectedContact.profileInformation.departmentType.value," ")}}function Ln(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"calendar_month"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"DOB:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.dateOfBirth?null:e.selectedContact.profileInformation.dateOfBirth.value," ")}}function Yn(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"wc"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Gender:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.gender?null:e.selectedContact.profileInformation.gender.value," ")}}function Gn(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"military_tech"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Student Status:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.studentStatus?null:e.selectedContact.profileInformation.studentStatus.value," ")}}function jn(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"remember_me"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Student ID:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.studentId?null:e.selectedContact.profileInformation.studentId.value," ")}}function Hn(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"work"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Job title:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.jobTitle?null:e.selectedContact.profileInformation.jobTitle.value," ")}}function $n(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"badge"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Employee type:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.employeeType?null:e.selectedContact.profileInformation.employeeType.value," ")}}function Dn(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"remember_me"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Employee ID:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(2);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.employeeId?null:e.selectedContact.profileInformation.employeeId.value," ")}}function Vn(o,a){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.address?null:e.address.value," ")}}function zn(o,a){if(1&o&&(t.TgZ(0,"div",35),t.YNc(1,Vn,2,1,"div",37),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",null==e.selectedContact||null==e.selectedContact.contactInformation?null:e.selectedContact.contactInformation.emails)}}function Kn(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"mail"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Email address:"),t.qZA(),t.YNc(7,zn,2,1,"div",36),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(7),t.Q6J("ngIf",(null==e.selectedContact||null==e.selectedContact.contactInformation||null==e.selectedContact.contactInformation.emails?null:e.selectedContact.contactInformation.emails.length)>0)}}function Bn(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.xDo(" ",null!=e&&null!=e.street&&e.street.value?e.street.value+",":""," ",null!=e&&null!=e.city&&e.city.value?e.city.value+",":""," ",null!=e&&null!=e.state&&e.state.value?e.state.value+" -":""," ",null!=e&&null!=e.postalCode&&e.postalCode.value?e.postalCode.value+",":""," ",null!=e&&null!=e.country&&e.country.value?e.country.value:""," ")}}function Rn(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.address?null:e.address.value," ")}}function Wn(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Bn,2,5,"ng-container",2),t.YNc(2,Rn,2,1,"ng-container",2),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!(null!=e&&null!=e.address&&e.address.value)),t.xp6(1),t.Q6J("ngIf",null==e?null:e.address)}}function Xn(o,a){if(1&o&&(t.TgZ(0,"div",35),t.YNc(1,Wn,3,2,"div",37),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",null==e.selectedContact||null==e.selectedContact.contactInformation?null:e.selectedContact.contactInformation.addresses)}}function to(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"location_on"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Location:"),t.qZA(),t.YNc(7,Xn,2,1,"div",36),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(7),t.Q6J("ngIf",(null==e.selectedContact||null==e.selectedContact.contactInformation||null==e.selectedContact.contactInformation.addresses?null:e.selectedContact.contactInformation.addresses.length)>0)}}function eo(o,a){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.AsE(" ",null==e||null==e.countryCode?null:e.countryCode.value," ",null==e||null==e.number?null:e.number.value," ")}}function no(o,a){if(1&o&&(t.TgZ(0,"div",35),t.YNc(1,eo,2,2,"div",37),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",null==e.selectedContact||null==e.selectedContact.contactInformation?null:e.selectedContact.contactInformation.phoneNumbers)}}function oo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"call"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Phone number:"),t.qZA(),t.YNc(7,no,2,1,"div",36),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(7),t.Q6J("ngIf",(null==e.selectedContact||null==e.selectedContact.contactInformation||null==e.selectedContact.contactInformation.phoneNumbers?null:e.selectedContact.contactInformation.phoneNumbers.length)>0)}}function io(o,a){if(1&o&&(t.TgZ(0,"div",20)(1,"span",21),t._uU(2,"Contact Information"),t.qZA(),t.YNc(3,Kn,8,1,"div",22),t.YNc(4,to,8,1,"div",22),t.YNc(5,oo,8,1,"div",22),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",(null==e.selectedContact||null==e.selectedContact.contactInformation||null==e.selectedContact.contactInformation.emails?null:e.selectedContact.contactInformation.emails.length)>0),t.xp6(1),t.Q6J("ngIf",(null==e.selectedContact||null==e.selectedContact.contactInformation||null==e.selectedContact.contactInformation.addresses?null:e.selectedContact.contactInformation.addresses.length)>0),t.xp6(1),t.Q6J("ngIf",(null==e.selectedContact||null==e.selectedContact.contactInformation||null==e.selectedContact.contactInformation.phoneNumbers?null:e.selectedContact.contactInformation.phoneNumbers.length)>0)}}function lo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"person"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Name:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.emergencyContact||null==e.selectedContact.emergencyContact.name?null:e.selectedContact.emergencyContact.name.value," ")}}function ao(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"location_on"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Address:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.emergencyContact||null==e.selectedContact.emergencyContact.address?null:e.selectedContact.emergencyContact.address.value," ")}}function co(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"call"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Number:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.emergencyContact||null==e.selectedContact.emergencyContact.number?null:e.selectedContact.emergencyContact.number.value," ")}}function so(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"person_add"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Relation:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.emergencyContact||null==e.selectedContact.emergencyContact.relation?null:e.selectedContact.emergencyContact.relation.value," ")}}function ro(o,a){if(1&o&&(t.TgZ(0,"div",20)(1,"span",21),t._uU(2,"Emergency Contact"),t.qZA(),t.YNc(3,lo,9,1,"div",22),t.YNc(4,ao,9,1,"div",22),t.YNc(5,co,9,1,"div",22),t.YNc(6,so,9,1,"div",22),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.emergencyContact||null==e.selectedContact.emergencyContact.name?null:e.selectedContact.emergencyContact.name.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.emergencyContact||null==e.selectedContact.emergencyContact.address?null:e.selectedContact.emergencyContact.address.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.emergencyContact||null==e.selectedContact.emergencyContact.number?null:e.selectedContact.emergencyContact.number.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.emergencyContact||null==e.selectedContact.emergencyContact.relation?null:e.selectedContact.emergencyContact.relation.value)}}function _o(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"account_circle"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Supervisor:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.officeInformation||null==e.selectedContact.officeInformation.supervisorName?null:e.selectedContact.officeInformation.supervisorName.value," ")}}function po(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"location_on"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Address:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.officeInformation||null==e.selectedContact.officeInformation.address?null:e.selectedContact.officeInformation.address.value," ")}}function uo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"call"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Phone number:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.officeInformation||null==e.selectedContact.officeInformation.phoneNumber?null:e.selectedContact.officeInformation.phoneNumber.value," ")}}function mo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"mail"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Email:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.officeInformation||null==e.selectedContact.officeInformation.email?null:e.selectedContact.officeInformation.email.value," ")}}function go(o,a){if(1&o&&(t.TgZ(0,"div",20)(1,"span",21),t._uU(2,"Office Information"),t.qZA(),t.YNc(3,_o,9,1,"div",22),t.YNc(4,po,9,1,"div",22),t.YNc(5,uo,9,1,"div",22),t.YNc(6,mo,9,1,"div",22),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.officeInformation||null==e.selectedContact.officeInformation.supervisorName?null:e.selectedContact.officeInformation.supervisorName.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.officeInformation||null==e.selectedContact.officeInformation.address?null:e.selectedContact.officeInformation.address.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.officeInformation||null==e.selectedContact.officeInformation.phoneNumber?null:e.selectedContact.officeInformation.phoneNumber.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.officeInformation||null==e.selectedContact.officeInformation.email?null:e.selectedContact.officeInformation.email.value)}}function fo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"remember_me"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Patient ID:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.patientId?null:e.selectedContact.medicalInformation.patientId.value," ")}}function ho(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"source_environment"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Insurance provider:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.insuranceProvider?null:e.selectedContact.medicalInformation.insuranceProvider.value," ")}}function Co(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"policy"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Policy Number:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.policyNumber?null:e.selectedContact.medicalInformation.policyNumber.value," ")}}function vo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"medication"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Doctor name:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.doctorName?null:e.selectedContact.medicalInformation.doctorName.value," ")}}function xo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"person"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Emergency contact name:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.emergContactName?null:e.selectedContact.medicalInformation.emergContactName.value," ")}}function bo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"phone_in_talk"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Emergency contact number:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.emergContactNumber?null:e.selectedContact.medicalInformation.emergContactNumber.value," ")}}function yo(o,a){if(1&o&&(t.TgZ(0,"div",20)(1,"span",21),t._uU(2,"Medical Information"),t.qZA(),t.YNc(3,fo,9,1,"div",22),t.YNc(4,ho,9,1,"div",22),t.YNc(5,Co,9,1,"div",22),t.YNc(6,vo,9,1,"div",22),t.YNc(7,xo,9,1,"div",22),t.YNc(8,bo,9,1,"div",22),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.patientId?null:e.selectedContact.medicalInformation.patientId.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.insuranceProvider?null:e.selectedContact.medicalInformation.insuranceProvider.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.policyNumber?null:e.selectedContact.medicalInformation.policyNumber.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.doctorName?null:e.selectedContact.medicalInformation.doctorName.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.emergContactName?null:e.selectedContact.medicalInformation.emergContactName.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.medicalInformation||null==e.selectedContact.medicalInformation.emergContactNumber?null:e.selectedContact.medicalInformation.emergContactNumber.value)}}function To(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"person"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Full Name:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw().$implicit;t.xp6(8),t.AsE(" ",null==e.profileInformation||null==e.profileInformation.title?null:e.profileInformation.title.value," ",null==e.profileInformation||null==e.profileInformation.name?null:e.profileInformation.name.value," ")}}function Zo(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"div",33)(2,"div",34),t._uU(3),t.qZA(),t.TgZ(4,"div",35),t._uU(5),t.qZA()(),t.BQk()),2&o){const e=a.$implicit;t.xp6(3),t.hij("",null==e||null==e.type?null:e.type.value,":"),t.xp6(2),t.hij(" ",null==e||null==e.url?null:e.url.value," ")}}function wo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"public"),t.qZA()(),t.YNc(4,Zo,6,2,"ng-container",37),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.Q6J("ngForOf",null==e||null==e.otherInformation?null:e.otherInformation.links)}}function Mo(o,a){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",null==e||null==e.address?null:e.address.value," ")}}function Ao(o,a){if(1&o&&(t.TgZ(0,"div",35),t.YNc(1,Mo,2,1,"div",37),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",null==e||null==e.contactInformation?null:e.contactInformation.emails)}}function Io(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"mail"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Email address:"),t.qZA(),t.YNc(7,Ao,2,1,"div",36),t.qZA()()),2&o){const e=t.oxw(2).$implicit;t.xp6(7),t.Q6J("ngIf",(null==e||null==e.contactInformation||null==e.contactInformation.emails?null:e.contactInformation.emails.length)>0)}}function Po(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.xDo(" ",null==e||null==e.street?null:e.street.value,", ",null==e||null==e.city?null:e.city.value,", ",null==e||null==e.state?null:e.state.value," - ",null==e||null==e.postalCode?null:e.postalCode.value,", ",null==e||null==e.country?null:e.country.value," ")}}function No(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.address?null:e.address.value," ")}}function ko(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Po,2,5,"ng-container",2),t.YNc(2,No,2,1,"ng-container",2),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.address)),t.xp6(1),t.Q6J("ngIf",null==e?null:e.address)}}function Oo(o,a){if(1&o&&(t.TgZ(0,"div",35),t.YNc(1,ko,3,2,"div",37),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",null==e||null==e.contactInformation?null:e.contactInformation.addresses)}}function qo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"location_on"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Location:"),t.qZA(),t.YNc(7,Oo,2,1,"div",36),t.qZA()()),2&o){const e=t.oxw(2).$implicit;t.xp6(7),t.Q6J("ngIf",(null==e||null==e.contactInformation||null==e.contactInformation.addresses?null:e.contactInformation.addresses.length)>0)}}function Uo(o,a){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.AsE(" ",null==e||null==e.countryCode?null:e.countryCode.value," ",null==e||null==e.number?null:e.number.value," ")}}function Eo(o,a){if(1&o&&(t.TgZ(0,"div",35),t.YNc(1,Uo,2,2,"div",37),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",null==e||null==e.contactInformation?null:e.contactInformation.phoneNumbers)}}function Jo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"call"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Phone number:"),t.qZA(),t.YNc(7,Eo,2,1,"div",36),t.qZA()()),2&o){const e=t.oxw(2).$implicit;t.xp6(7),t.Q6J("ngIf",(null==e||null==e.contactInformation||null==e.contactInformation.phoneNumbers?null:e.contactInformation.phoneNumbers.length)>0)}}function So(o,a){if(1&o&&(t.TgZ(0,"div",20)(1,"span",21),t._uU(2,"Contact Information"),t.qZA(),t.YNc(3,Io,8,1,"div",22),t.YNc(4,qo,8,1,"div",22),t.YNc(5,Jo,8,1,"div",22),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",(null==e||null==e.contactInformation||null==e.contactInformation.emails?null:e.contactInformation.emails.length)>0),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.contactInformation||null==e.contactInformation.addresses?null:e.contactInformation.addresses.length)>0),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.contactInformation||null==e.contactInformation.phoneNumbers?null:e.contactInformation.phoneNumbers.length)>0)}}function Fo(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"div",20)(2,"span",21),t._uU(3,"Personal Information"),t.qZA(),t.YNc(4,To,9,2,"div",22),t.YNc(5,wo,5,1,"div",22),t.qZA(),t.YNc(6,So,6,3,"div",23),t.BQk()),2&o){const e=a.$implicit,n=t.oxw(3);t.xp6(4),t.Q6J("ngIf",null==e||null==e.profileInformation||null==e.profileInformation.name?null:e.profileInformation.name.value),t.xp6(1),t.Q6J("ngIf",null==e||null==e.otherInformation||null==e.otherInformation.links||null==e.otherInformation.links[0]||null==e.otherInformation.links[0].url?null:e.otherInformation.links[0].url.value),t.xp6(1),t.Q6J("ngIf",n.hasContactInformation())}}function Qo(o,a){if(1&o&&(t.TgZ(0,"div",19)(1,"span",21),t._uU(2,"Contact Person Information"),t.qZA(),t.YNc(3,Fo,7,3,"ng-container",37),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",null==e.selectedContact?null:e.selectedContact.contactPerson)}}function Lo(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"div",33)(2,"div",34),t._uU(3),t.qZA(),t.TgZ(4,"div",35)(5,"a",38),t._uU(6),t.qZA()()(),t.BQk()),2&o){const e=a.$implicit,n=t.oxw(4);t.xp6(3),t.hij("",null==e||null==e.type?null:e.type.value,":"),t.xp6(2),t.Q6J("href",n.getSafeUrl(null==e||null==e.url?null:e.url.value),t.LSH),t.xp6(1),t.hij(" ",null==e||null==e.url?null:e.url.value," ")}}function Yo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"public"),t.qZA()(),t.TgZ(4,"div"),t.YNc(5,Lo,7,3,"ng-container",37),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(5),t.Q6J("ngForOf",null==e.selectedContact||null==e.selectedContact.otherInformation?null:e.selectedContact.otherInformation.links)}}function Go(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"account_circle"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"CEO / Owner:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.ceo?null:e.selectedContact.otherInformation.ceo.value," ")}}function jo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"stars"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Rating and Reviews:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.rating?null:e.selectedContact.otherInformation.rating.value," ")}}function Ho(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"digital_wellbeing"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Work Well being:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.workWellbeing?null:e.selectedContact.otherInformation.workWellbeing.value," ")}}function $o(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"pin_drop"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Google Location:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.googleLocation?null:e.selectedContact.otherInformation.googleLocation.value," ")}}function Do(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"description"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Note:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.note?null:e.selectedContact.otherInformation.note.value," ")}}function Vo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"groups"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Company size:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.companySize?null:e.selectedContact.otherInformation.companySize.value," ")}}function zo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"apartment"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Company type:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.companyType?null:e.selectedContact.otherInformation.companyType.value," ")}}function Ko(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"paid"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Revenue:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.revenue?null:e.selectedContact.otherInformation.revenue.value," ")}}function Bo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"date_range"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Founded:"),t.qZA(),t.TgZ(7,"div",35),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.hij(" ",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.founded?null:e.selectedContact.otherInformation.founded.value," ")}}function Ro(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",32),t._uU(3,"link"),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34),t._uU(6,"Source URL:"),t.qZA(),t.TgZ(7,"div",35)(8,"a",38),t._uU(9),t.qZA()()()()),2&o){const e=t.oxw(3);t.xp6(8),t.Q6J("href",e.getSafeUrl(null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.source_url?null:e.selectedContact.otherInformation.source_url.value),t.LSH),t.xp6(1),t.hij(" ",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.source_url?null:e.selectedContact.otherInformation.source_url.value," ")}}function Wo(o,a){if(1&o&&(t.TgZ(0,"div",20)(1,"span",21),t._uU(2,"Other Information"),t.qZA(),t.YNc(3,Yo,6,1,"div",22),t.YNc(4,Go,9,1,"div",22),t.YNc(5,jo,9,1,"div",22),t.YNc(6,Ho,9,1,"div",22),t.YNc(7,$o,9,1,"div",22),t.YNc(8,Do,9,1,"div",22),t.YNc(9,Vo,9,1,"div",22),t.YNc(10,zo,9,1,"div",22),t.YNc(11,Ko,9,1,"div",22),t.YNc(12,Bo,9,1,"div",22),t.YNc(13,Ro,10,2,"div",22),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.links||null==e.selectedContact.otherInformation.links[0]||null==e.selectedContact.otherInformation.links[0].url?null:e.selectedContact.otherInformation.links[0].url.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.ceo?null:e.selectedContact.otherInformation.ceo.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.rating?null:e.selectedContact.otherInformation.rating.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.workWellbeing?null:e.selectedContact.otherInformation.workWellbeing.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.googleLocation?null:e.selectedContact.otherInformation.googleLocation.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.note?null:e.selectedContact.otherInformation.note.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.companySize?null:e.selectedContact.otherInformation.companySize.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.companyType?null:e.selectedContact.otherInformation.companyType.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.revenue?null:e.selectedContact.otherInformation.revenue.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.founded?null:e.selectedContact.otherInformation.founded.value),t.xp6(1),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.otherInformation||null==e.selectedContact.otherInformation.source_url?null:e.selectedContact.otherInformation.source_url.value)}}function Xo(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",39),t._uU(3," info "),t.qZA()(),t.TgZ(4,"div",33)(5,"div",35),t._uU(6),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(6),t.hij(" ",null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.about?null:e.selectedContact.profileInformation.about.value," ")}}function ti(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"span",21),t._uU(2,"About:"),t.qZA(),t.YNc(3,Xo,7,1,"div",22),t.BQk()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.profileInformation?null:e.selectedContact.profileInformation.about)}}function ei(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",39),t._uU(3," school "),t.qZA()(),t.TgZ(4,"div",33),t._UZ(5,"span",40),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(5),t.Q6J("innerHTML",e.formatData(null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.education?null:e.selectedContact.profileInformation.education.value),t.oJD)}}function ni(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"span",21),t._uU(2,"Education:"),t.qZA(),t.YNc(3,ei,6,1,"div",22),t.BQk()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.profileInformation?null:e.selectedContact.profileInformation.education)}}function oi(o,a){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"span",39),t._uU(3," timeline "),t.qZA()(),t.TgZ(4,"div",33),t._UZ(5,"span",40),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(5),t.Q6J("innerHTML",e.formatData(null==e.selectedContact||null==e.selectedContact.profileInformation||null==e.selectedContact.profileInformation.experience?null:e.selectedContact.profileInformation.experience.value),t.oJD)}}function ii(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"span",21),t._uU(2,"Experience:"),t.qZA(),t.YNc(3,oi,6,1,"div",22),t.BQk()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==e.selectedContact||null==e.selectedContact.profileInformation?null:e.selectedContact.profileInformation.experience)}}function li(o,a){if(1&o&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),t.YNc(4,On,2,1,"img",12),t.YNc(5,qn,1,0,"ng-template",null,13,t.W1O),t.TgZ(7,"div",14)(8,"div",15),t._uU(9),t.qZA(),t.TgZ(10,"div",16),t.YNc(11,Un,2,1,"div",17),t.TgZ(12,"div",18),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",19)(15,"div",20)(16,"span",21),t._uU(17,"Personal Information"),t.qZA(),t.YNc(18,En,9,1,"div",22),t.YNc(19,Jn,9,1,"div",22),t.YNc(20,Sn,9,1,"div",22),t.YNc(21,Fn,9,1,"div",22),t.YNc(22,Qn,9,1,"div",22),t.YNc(23,Ln,9,1,"div",22),t.YNc(24,Yn,9,1,"div",22),t.YNc(25,Gn,9,1,"div",22),t.YNc(26,jn,9,1,"div",22),t.YNc(27,Hn,9,1,"div",22),t.YNc(28,$n,9,1,"div",22),t.YNc(29,Dn,9,1,"div",22),t.qZA(),t.YNc(30,io,6,3,"div",23),t.qZA(),t.TgZ(31,"div",19),t.YNc(32,ro,7,4,"div",23),t.YNc(33,go,7,4,"div",23),t.qZA(),t.TgZ(34,"div",19),t.YNc(35,yo,9,6,"div",23),t.YNc(36,Qo,4,1,"div",24),t.YNc(37,Wo,14,11,"div",23),t.qZA(),t.TgZ(38,"div",19)(39,"div",25),t.YNc(40,ti,4,1,"ng-container",2),t.YNc(41,ni,4,1,"ng-container",2),t.YNc(42,ii,4,1,"ng-container",2),t.qZA()()()()()),2&o){const e=t.MAs(6),n=t.oxw();t.xp6(4),t.Q6J("ngIf",null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.avatar?null:n.selectedContact.profileInformation.avatar.value)("ngIfElse",e),t.xp6(5),t.hij(" ",null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.name?null:n.selectedContact.profileInformation.name.value," "),t.xp6(2),t.Q6J("ngIf",null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.tag?null:n.selectedContact.profileInformation.tag.value),t.xp6(2),t.hij(" ",null==n.selectedContact?null:n.selectedContact.type," "),t.xp6(5),t.Q6J("ngIf",null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.name?null:n.selectedContact.profileInformation.name.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.tag?null:n.selectedContact.profileInformation.tag.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.website?null:n.selectedContact.profileInformation.website.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.industryType?null:n.selectedContact.profileInformation.industryType.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.departmentType?null:n.selectedContact.profileInformation.departmentType.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.dateOfBirth?null:n.selectedContact.profileInformation.dateOfBirth.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.gender?null:n.selectedContact.profileInformation.gender.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.studentStatus?null:n.selectedContact.profileInformation.studentStatus.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.studentId?null:n.selectedContact.profileInformation.studentId.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation?null:n.selectedContact.profileInformation.jobTitle),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation?null:n.selectedContact.profileInformation.employeeType),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation?null:n.selectedContact.profileInformation.employeeId),t.xp6(1),t.Q6J("ngIf",n.hasContactInformation()),t.xp6(2),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.emergencyContact||null==n.selectedContact.emergencyContact.name?null:n.selectedContact.emergencyContact.name.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact?null:n.selectedContact.officeInformation),t.xp6(2),t.Q6J("ngIf",null==n.selectedContact?null:n.selectedContact.medicalInformation),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact?null:n.selectedContact.contactPerson),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact?null:n.selectedContact.otherInformation),t.xp6(3),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.about?null:n.selectedContact.profileInformation.about.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.education?null:n.selectedContact.profileInformation.education.value),t.xp6(1),t.Q6J("ngIf",null==n.selectedContact||null==n.selectedContact.profileInformation||null==n.selectedContact.profileInformation.experience?null:n.selectedContact.profileInformation.experience.value)}}let ot=(()=>{const a=class{constructor(n,i){this._activeModal=n,this._crmService=i,this.selectedContact=null,this.isLoading=!1}ngOnInit(){var n=this;return(0,M.Z)(function*(){if(!0===n.entityData.isBoomgpt||"true"===n.entityData.isBoomgpt)n.selectedContact=n.entityData;else{n.isLoading=!0;const i=yield n._crmService.getSingleEntityDetails(n.entityData.id);i&&(n.isLoading=!1,n.selectedContact=i?.[0],console.log("selected contact",n.selectedContact))}})()}getSafeUrl(n){return n?n.startsWith("http")?n:`http://${n}`:""}formatData(n){return n?n.split("\n").map(l=>`<p>${l}</p>`).join(""):""}onImageError(n){n.target.src="./assets/man.png"}hasContactInformation(){const n=this.selectedContact?.contactInformation;return n?.emails&&n?.emails.length>0||n?.phoneNumbers&&n?.phoneNumbers.length>0||n?.addresses&&n?.addresses.length>0}};let o=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(O.Kz),t.Y36(R._))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-entity-view"]],inputs:{entityData:"entityData"},decls:7,vars:2,consts:[[1,"container"],[1,"row","vh-90"],[4,"ngIf"],["tabindex","",1,"close-icon",3,"click","keyup"],[1,"material-symbols-outlined","cursor-pointer"],["class","border-col p-3",4,"ngIf"],[1,"loading"],[1,"loader"],[1,"border-col","p-3"],[1,"panel","panel-default"],[1,"panel-body"],[1,"profile-section","gap-3"],["class","rounded-circle shadow-sm profile-image","alt","Profile Picture",3,"src","error",4,"ngIf","ngIfElse"],["defaultProfileImg",""],[1,"profile-info"],[1,"name"],[1,"d-flex","gap-3"],["class","tag badge bg-warning",4,"ngIf"],[1,"type","badge","bg-info"],[1,"row"],[1,"info-section","col-md-6"],[1,"section-title"],["class","info-item",4,"ngIf"],["class","info-section col-md-6",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-12"],["alt","Profile Picture",1,"rounded-circle","shadow-sm","profile-image",3,"src","error"],["profileRef",""],["src","./assets/man.png","alt","Profile Picture",1,"profile-image","rounded-circle","shadow-sm"],[1,"tag","badge","bg-warning"],[1,"info-item"],[1,"icon-section"],[1,"material-symbols-outlined","icon"],[1,"data-item"],[1,"label"],[1,"data"],["class","data",4,"ngIf"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"material-symbols-outlined"],[1,"data",3,"innerHTML"]],template:function(i,l){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,kn,3,0,"ng-container",2),t.TgZ(3,"div",3),t.NdJ("click",function(){return l._activeModal.close()})("keyup",function(){return l._activeModal.close()}),t.TgZ(4,"span",4),t._uU(5,"close"),t.qZA()(),t.YNc(6,li,43,26,"div",5),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngIf",l.isLoading),t.xp6(4),t.Q6J("ngIf",l.selectedContact))},dependencies:[x.sg,x.O5],styles:[".panel-body[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;border-radius:8px;font-family:Arial,sans-serif;max-width:750px;margin:auto;overflow:hidden}.profile-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.profile-image[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover;margin-right:10px}.profile-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.profile-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1em;font-weight:600;color:#333}.profile-info[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%], .profile-info[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{font-size:.9em;color:#fff;width:-moz-fit-content;width:fit-content}.section-title[_ngcontent-%COMP%]{font-size:1.1em;font-weight:600;color:#ef598c;margin-bottom:10px}.info-item[_ngcontent-%COMP%]{display:flex;margin-bottom:8px;padding:8px 0}.info-item[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]{margin-right:10px;font-size:1.3em;color:#ef598c}.label[_ngcontent-%COMP%]{font-size:.95em;font-weight:500;color:#6c757d}.data[_ngcontent-%COMP%]{font-size:1em;color:#333;font-weight:400}@media (max-width: 768px){.panel-body[_ngcontent-%COMP%]{padding:10px}.profile-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.profile-image[_ngcontent-%COMP%]{margin-bottom:8px}.info-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.label[_ngcontent-%COMP%], .data[_ngcontent-%COMP%]{font-size:.9em}.icon-section[_ngcontent-%COMP%]{font-size:1.3em}}.close-icon[_ngcontent-%COMP%]{display:flex;text-align:end;justify-content:end}"]}),o})();var ai=g(2126);let ci=(()=>{const a=class{constructor(n,i,l){this._authService=n,this._crmhelperService=i,this._crmService=l,this.storedData=[],this.sentIndex=0,this.previousOrder=""}getContacts(n,i,l){var c=this;return(0,M.Z)(function*(){try{const s=c._authService.loadFromLocalStorage(),d=s.token,u=s?.userConcept,m=s?.entityId,p=new _.LtL;p.typeConnection="the_entity_s_maps_contact_s",p.isOldConnectionType=!0,p.name="mapname",p.selectors=["self"];const h=new _.LtL;h.typeConnection="the_entity_s_linkedin_contact_s",h.isOldConnectionType=!0,h.name="linkedinname",h.selectors=["self"];const f=new _.LtL;f.typeConnection="the_entity_s_whatsapp_contact_s",f.isOldConnectionType=!0,f.name="whatsappname",f.selectors=["self"];const C=new _.LtL;C.typeConnection="the_entity_s_indeed_contact_s",C.isOldConnectionType=!0,C.name="indeedname",C.selectors=["self"];const b=new _.LtL;b.typeConnection="the_entity_s_monster_contact_s",b.isOldConnectionType=!0,b.name="monstername",b.selectors=["self"];const w=new _.LtL;w.typeConnection="the_entity_s_crm_contact_s",w.isOldConnectionType=!0,w.name="crmname",w.selectors=["self"];const v=new _.LtL;v.typeConnection="the_user_s_contact_s",v.inpage=i,v.page=n,v.limit=!0,v.isOldConnectionType=!0,v.name="contactname",v.selectors=["the_entity_name"],v.freeschemaQueries=[p,h,f,C,b,w];const T=new _.LtL;T.typeConnection="the_address_country",T.name="itemaddress";const Z=new _.LtL;Z.typeConnection="the_entity_s_address",Z.freeschemaQueries=[T],Z.name="addressname",Z.selectors=["the_address_address","the_address_type","the_address_postalcode","the_address_city","the_address_country","the_address_street"];const y=new _.LtL;y.typeConnection="the_phone_phone",y.name="itemphone";const A=new _.LtL;A.typeConnection="the_entity_s_phone",A.freeschemaQueries=[y],A.name="phonename",A.selectors=["the_phone_phone","the_phone_countryCode","the_phone_type"];const q=new _.LtL;q.typeConnection="the_email_email",q.name="itememail";const k=new _.LtL;k.typeConnection="the_entity_s_email",k.freeschemaQueries=[q],k.name="emailname",k.selectors=["the_email_email"];const N=new _.LtL;N.typeConnection="the_entity_s_crm_contact_s",N.limit=!0,N.page=n,N.inpage=i,N.isOldConnectionType=!1,N.freeschemaQueries=[Z,A,k],N.name="entitycontacts",N.selectors=["the_entity_avatar","the_entity_name","the_entity_source_url","the_entity_last_name","the_entity_middle_name","the_entity_first_name","the_entity_company_name","the_entity_department_name","the_entity_website","the_entity_tag","the_entity_data_type","the_entity_type","the_entity_googleLocation","the_entity_companySize","the_entity_ceo","the_entity_revenue","the_entity_founded","the_entity_created_at","the_entity_email","the_entity_title","the_entity_gender","the_entity_phone","the_entity_firstname","the_entity_lastname","the_entity_s_email","the_entity_s_phone","the_entity_s_address"];const E=new _.LtL;E.typeConnection="the_entity_contact_table",E.isOldConnectionType=!1,E.name="contacttable",E.selectors=["the_table_contact_name","the_table_phone_number","the_table_address","the_table_website","the_table_location_url","the_table_company_size","the_table_company_owner","the_table_company_revenue","the_table_founded_date","the_table_label","the_table_relation","the_table_email"];const J=new _.LtL;J.conceptIds=[Number(u),Number(m)],J.name="top",J.freeschemaQueries=[v,N,E],J.outputFormat=_.Zec,J.order=l;const Q=yield(0,_.og0)(J,d).bind();if(console.log("data...",Q),1==n){c.storedData=[],c.sentIndex=0;const P=Q?.find(L=>L?.the_user_s_contact_s_count)?.the_user_s_contact_s_count||0,V=Q?.find(L=>L?.the_entity_s_crm_contact_s_count)?.the_entity_s_crm_contact_s_count||0;c.totalCount=P+V}const Fa=Q?.filter(P=>P?.the_user?.the_user_s_contact_s)?.flatMap(P=>P.the_user.the_user_s_contact_s),Qa=Q?.filter(P=>P?.the_entity?.the_entity_s_crm_contact_s)?.flatMap(P=>P.the_entity.the_entity_s_crm_contact_s),La=Q?.filter(P=>P?.the_entity?.the_entity_contact_table)?.flatMap(P=>P.the_entity.the_entity_contact_table),Ya=yield c._crmhelperService.formatData(Fa),Ga=c._crmhelperService.formatEntityContacts(Qa);c.previousOrder!==l&&(c.storedData=[],c.sentIndex=0,c.previousOrder=l),c.storedData=[...c.storedData,...Ya,...Ga];const at=c.storedData.sort((P,V)=>{const L=P?.created_at?new Date(P.created_at).getTime():0,ct=V?.created_at?new Date(V.created_at).getTime():0;return"ASC"===l?L-ct:ct-L}),W=Math.min(i,at.length-c.sentIndex);if(W<=0)return{allContacts:[],tableData:[],totalCount:0};const ja=at.slice(c.sentIndex,c.sentIndex+W);return c.sentIndex+=W,{allContacts:ja,tableData:La,totalCount:c.totalCount}}catch(s){return console.error("error in getContactsV2:",s),[{success:!1}]}})()}};let o=a;return a.\u0275fac=function(i){return new(i||a)(t.LFG(F.e),t.LFG(ai.z),t.LFG(R._))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),o})();function si(o,a){1&o&&(t.TgZ(0,"div",40),t._UZ(1,"span",41),t.qZA())}function ri(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",46),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.sortContacts())})("keyup",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.sortContacts())}),t._uU(2," swap_vert "),t.qZA(),t.BQk()}}function di(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li",53),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.onOptionClick(l))})("keyup",function(){const l=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.onOptionClick(l))}),t.TgZ(1,"div",54)(2,"div",55),t._UZ(3,"img",56),t.TgZ(4,"span",57),t._uU(5),t.qZA()(),t.TgZ(6,"input",58),t.NdJ("change",function(i){t.CHM(e);const l=t.oxw(4);return t.KtG(l.onOptionChange(i))}),t.qZA()()()}if(2&o){const e=a.$implicit,n=t.oxw(4);t.xp6(3),t.MGl("alt","",e.name," icon"),t.Q6J("src",e.icon,t.LSH),t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("checked",n.isChecked(e.value))("value",e.value)}}function _i(o,a){if(1&o&&(t.TgZ(0,"ul",51),t.YNc(1,di,7,5,"li",52),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.contactDataTypes)}}function pi(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",47,48)(3,"span",49),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.toggleDropdown())})("keyup",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.toggleDropdown())}),t._uU(4," arrow_drop_down "),t.qZA(),t.YNc(5,_i,2,1,"ul",50),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.isDropdownOpen)}}function ui(o,a){if(1&o&&(t.TgZ(0,"th",42)(1,"div",43)(2,"span",44),t._uU(3),t.qZA(),t.YNc(4,ri,3,0,"ng-container",45),t.YNc(5,pi,6,1,"ng-container",45),t.qZA()()),2&o){const e=a.$implicit,n=t.oxw();t.Q6J("ngClass",n.getColumnClass(e)),t.xp6(3),t.Oqu(e),t.xp6(1),t.Q6J("ngIf","Contact Name"===e),t.xp6(1),t.Q6J("ngIf","Label"===e)}}function mi(o,a){if(1&o&&(t.TgZ(0,"span",66),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",null==e||null==e.contacts?null:e.contacts.length," ")}}function gi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr",61)(1,"td",62)(2,"input",20),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.selected=i)})("change",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.toggleEntitySelect(i))}),t.qZA()(),t.TgZ(3,"td",63),t._uU(4),t.YNc(5,mi,2,1,"span",64),t.TgZ(6,"span",65),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw(2);return t.KtG(l.toggleEntityContacts(i))})("keyup",function(){t.CHM(e);const i=t.oxw().index,l=t.oxw(2);return t.KtG(l.toggleEntityContacts(i))}),t._uU(7),t.qZA()()()}if(2&o){const e=t.oxw(),n=e.$implicit,i=e.index,l=t.oxw(2);t.xp6(2),t.Q6J("ngModel",n.selected),t.xp6(2),t.hij(" ",null==n?null:n.name," "),t.xp6(1),t.Q6J("ngIf",l.isExpandedEntity[i]),t.xp6(2),t.hij(" ",l.isExpandedEntity[i]?"keyboard_arrow_up":"keyboard_arrow_down"," ")}}function fi(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"img",77),t.NdJ("error",function(i){t.CHM(e);const l=t.oxw(7);return t.KtG(l.handleError(i))}),t.qZA()}if(2&o){const e=t.oxw(4).$implicit;t.Q6J("src",null==e||null==e.profileInformation||null==e.profileInformation.avatar?null:e.profileInformation.avatar.value,t.LSH)}}function hi(o,a){1&o&&t._UZ(0,"img",78)}function Ci(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"div",72),t.YNc(2,fi,1,1,"img",75),t.YNc(3,hi,1,0,"ng-template",null,76,t.W1O),t.TgZ(5,"span"),t._uU(6),t.qZA()(),t.BQk()),2&o){const e=t.MAs(4),n=t.oxw(3).$implicit;t.xp6(2),t.Q6J("ngIf",null==n||null==n.profileInformation||null==n.profileInformation.avatar?null:n.profileInformation.avatar.value)("ngIfElse",e),t.xp6(4),t.Oqu(null==n||null==n.profileInformation||null==n.profileInformation.name?null:n.profileInformation.name.value)}}function vi(o,a){if(1&o&&(t.TgZ(0,"span")(1,"span"),t._uU(2),t.qZA()()),2&o){const e=t.oxw(4).$implicit;t.xp6(2),t.hij(" ",null==e||null==e.contactInformation||null==e.contactInformation.emails[0]||null==e.contactInformation.emails[0].address?null:e.contactInformation.emails[0].address.value," ")}}function xi(o,a){1&o&&t._uU(0,"No email address available")}function bi(o,a){if(1&o&&(t.ynx(0),t.YNc(1,vi,3,1,"span",79),t.YNc(2,xi,1,0,"ng-template",null,80,t.W1O),t.BQk()),2&o){const e=t.MAs(3),n=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",(null==n||null==n.contactInformation?null:n.contactInformation.emails)&&(null==n||null==n.contactInformation?null:n.contactInformation.emails.length))("ngIfElse",e)}}function yi(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw(3).$implicit;t.xp6(2),t.Oqu((null==e||null==e.otherInformation||null==e.otherInformation.companySize?null:e.otherInformation.companySize.value)||"Not available")}}function Ti(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw(3).$implicit;t.xp6(2),t.Oqu((null==e||null==e.otherInformation||null==e.otherInformation.ceo?null:e.otherInformation.ceo.value)||"Not available")}}function Zi(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw(3).$implicit;t.xp6(2),t.Oqu((null==e||null==e.otherInformation||null==e.otherInformation.revenue?null:e.otherInformation.revenue.value)||"Not available")}}function wi(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw(3).$implicit;t.xp6(2),t.Oqu((null==e||null==e.otherInformation||null==e.otherInformation.founded?null:e.otherInformation.founded.value)||"Not available")}}function Mi(o,a){if(1&o&&(t.TgZ(0,"option",84),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Ai(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"select",81),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw(3).$implicit,c=t.oxw(3);return t.KtG(c.onTagChange(i,l))}),t.TgZ(2,"option",82),t._uU(3),t.qZA(),t.YNc(4,Mi,2,2,"option",83),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3).$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngClass",n.getRelationClass((null==e||null==e.profileInformation||null==e.profileInformation.tag?null:e.profileInformation.tag.value)||n.selectedTag))("ngModel",null==e||null==e.profileInformation||null==e.profileInformation.tag?null:e.profileInformation.tag.value),t.xp6(1),t.Q6J("value",null==e||null==e.profileInformation||null==e.profileInformation.tag?null:e.profileInformation.tag.value),t.xp6(1),t.hij(" ",(null==e||null==e.profileInformation||null==e.profileInformation.tag?null:e.profileInformation.tag.value)||"others"," "),t.xp6(1),t.Q6J("ngForOf",n.availableTags(null==e||null==e.profileInformation||null==e.profileInformation.tag?null:e.profileInformation.tag.value))}}function Ii(o,a){if(1&o&&(t.TgZ(0,"a",88),t._uU(1),t.qZA()),2&o){const e=t.oxw(5).$implicit;t.Q6J("href",null==e||null==e.profileInformation||null==e.profileInformation.website?null:e.profileInformation.website.value,t.LSH)("title",null==e||null==e.profileInformation||null==e.profileInformation.website?null:e.profileInformation.website.value),t.xp6(1),t.hij(" ",null==e||null==e.profileInformation||null==e.profileInformation.website?null:e.profileInformation.website.value," ")}}function Pi(o,a){1&o&&(t.TgZ(0,"span",89),t._uU(1,"Not available"),t.qZA())}function Ni(o,a){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Ii,2,3,"a",86),t.YNc(2,Pi,2,0,"ng-template",null,87,t.W1O),t.qZA()),2&o){const e=t.MAs(3),n=t.oxw(4).$implicit;t.xp6(1),t.Q6J("ngIf",null==n||null==n.profileInformation||null==n.profileInformation.website?null:n.profileInformation.website.value)("ngIfElse",e)}}function ki(o,a){1&o&&(t.TgZ(0,"span",89),t._uU(1,"Not available"),t.qZA())}function Oi(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Ni,4,2,"div",79),t.YNc(2,ki,2,0,"ng-template",null,85,t.W1O),t.BQk()),2&o){const e=t.MAs(3),n=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf","company"===(null==n?null:n.type)||"government"===(null==n?null:n.type))("ngIfElse",e)}}function qi(o,a){if(1&o&&(t.TgZ(0,"a",88),t._uU(1),t.qZA()),2&o){const e=t.oxw(4).$implicit;t.Q6J("href",null==e||null==e.otherInformation||null==e.otherInformation.googleLocation?null:e.otherInformation.googleLocation.value,t.LSH)("title",null==e||null==e.otherInformation||null==e.otherInformation.googleLocation?null:e.otherInformation.googleLocation.value),t.xp6(1),t.hij(" ",null==e||null==e.otherInformation||null==e.otherInformation.googleLocation?null:e.otherInformation.googleLocation.value," ")}}function Ui(o,a){1&o&&(t.TgZ(0,"span",89),t._uU(1,"Not available"),t.qZA())}function Ei(o,a){if(1&o&&(t.ynx(0),t.YNc(1,qi,2,3,"a",86),t.YNc(2,Ui,2,0,"ng-template",null,90,t.W1O),t.BQk()),2&o){const e=t.MAs(3),n=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",null==n||null==n.otherInformation||null==n.otherInformation.googleLocation?null:n.otherInformation.googleLocation.value)("ngIfElse",e)}}function Ji(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw(5).$implicit;t.xp6(1),t.hij(" ",(null==e||null==e.contactInformation||null==e.contactInformation.phoneNumbers[0]||null==e.contactInformation.phoneNumbers[0].countryCode||null==e.contactInformation.phoneNumbers[0].countryCode.value?null:e.contactInformation.phoneNumbers[0].countryCode.value.trim())+" "+(null==e||null==e.contactInformation||null==e.contactInformation.phoneNumbers[0]||null==e.contactInformation.phoneNumbers[0].number||null==e.contactInformation.phoneNumbers[0].number.value?null:e.contactInformation.phoneNumbers[0].number.value.trim())," ")}}function Si(o,a){if(1&o&&t._uU(0),2&o){const e=t.oxw(5).$implicit;t.hij(" ",null==e||null==e.contactInformation||null==e.contactInformation.phoneNumbers[0]||null==e.contactInformation.phoneNumbers[0].number||null==e.contactInformation.phoneNumbers[0].number.value?null:e.contactInformation.phoneNumbers[0].number.value.trim()," ")}}function Fi(o,a){if(1&o&&(t.TgZ(0,"span")(1,"span"),t.YNc(2,Ji,2,1,"ng-container",79),t.YNc(3,Si,1,1,"ng-template",null,92,t.W1O),t.qZA()()),2&o){const e=t.MAs(4),n=t.oxw(4).$implicit;t.xp6(2),t.Q6J("ngIf",null==n||null==n.contactInformation||null==n.contactInformation.phoneNumbers[0]||null==n.contactInformation.phoneNumbers[0].countryCode||null==n.contactInformation.phoneNumbers[0].countryCode.value?null:n.contactInformation.phoneNumbers[0].countryCode.value.trim())("ngIfElse",e)}}function Qi(o,a){1&o&&t._uU(0," No phone number available ")}function Li(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Fi,5,2,"span",79),t.YNc(2,Qi,1,0,"ng-template",null,91,t.W1O),t.BQk()),2&o){const e=t.MAs(3),n=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",(null==n||null==n.contactInformation?null:n.contactInformation.phoneNumbers)&&(null==n||null==n.contactInformation||null==n.contactInformation.phoneNumbers?null:n.contactInformation.phoneNumbers.length)&&(null==n||null==n.contactInformation||null==n.contactInformation.phoneNumbers||null==n.contactInformation.phoneNumbers[0]||null==n.contactInformation.phoneNumbers[0].number||null==n.contactInformation.phoneNumbers[0].number.value?null:n.contactInformation.phoneNumbers[0].number.value.trim()))("ngIfElse",e)}}function Yi(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.xDo(" ",null!=e&&null!=e.street&&e.street.value?e.street.value+(null!=e.city&&e.city.value||null!=e.state&&e.state.value||null!=e.postalCode&&e.postalCode.value||null!=e.country&&e.country.value?", ":""):""," ",null!=e&&null!=e.city&&e.city.value?e.city.value+(null!=e.state&&e.state.value||null!=e.postalCode&&e.postalCode.value||null!=e.country&&e.country.value?", ":""):""," ",null!=e&&null!=e.state&&e.state.value?e.state.value+(null!=e.postalCode&&e.postalCode.value||null!=e.country&&e.country.value?" - ":""):""," ",null!=e&&null!=e.postalCode&&e.postalCode.value?e.postalCode.value+(null!=e.country&&e.country.value?", ":""):""," ",null!=e&&null!=e.country&&e.country.value?e.country.value:""," ")}}function Gi(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.address?null:e.address.value," ")}}function ji(o,a){if(1&o&&(t.TgZ(0,"span"),t.YNc(1,Yi,2,5,"ng-container",45),t.YNc(2,Gi,2,1,"ng-container",45),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",!(null!=e&&null!=e.address&&e.address.value)),t.xp6(1),t.Q6J("ngIf",null==e?null:e.address)}}function Hi(o,a){if(1&o&&(t.TgZ(0,"span"),t.YNc(1,ji,3,2,"span",59),t.qZA()),2&o){const e=t.oxw(4).$implicit;t.xp6(1),t.Q6J("ngForOf",null==e||null==e.contactInformation?null:e.contactInformation.addresses)}}function $i(o,a){1&o&&t._uU(0,"Address information unavailable")}function Di(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Hi,2,1,"span",79),t.YNc(2,$i,1,0,"ng-template",null,93,t.W1O),t.BQk()),2&o){const e=t.MAs(3),n=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",(null==n||null==n.contactInformation?null:n.contactInformation.addresses)&&(null==n||null==n.contactInformation||null==n.contactInformation.addresses?null:n.contactInformation.addresses.length))("ngIfElse",e)}}const Vi=function(o,a){return{color:o,"border-color":a,"border-width":"1px","border-style":"solid","border-radius":"4px"}};function zi(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",94),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3).$implicit,l=t.oxw(3);return t.KtG(l.redirectToSourceUrl(null==i||null==i.otherInformation||null==i.otherInformation.source_url?null:i.otherInformation.source_url.value))})("keyup",function(){t.CHM(e);const i=t.oxw(3).$implicit,l=t.oxw(3);return t.KtG(l.redirectToSourceUrl(null==i||null==i.otherInformation||null==i.otherInformation.source_url?null:i.otherInformation.source_url.value))}),t._uU(2),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3).$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngStyle",t.WLB(2,Vi,n.getContactLabel(e||"").color,n.getContactLabel(e||"").color)),t.xp6(1),t.hij(" ",n.getContactLabel(e||"").text," ")}}function Ki(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",95)(2,"a",96),t.NdJ("click",function(i){t.CHM(e);const l=t.oxw(3).$implicit,c=t.oxw(3);return t.KtG(null!=l&&null!=l.contactInformation&&l.contactInformation.emails&&0!==(null==l||null==l.contactInformation||null==l.contactInformation.emails?null:l.contactInformation.emails.length)&&c.SMPTstatus?c.openHistory(l):i.preventDefault())})("keyup",function(i){t.CHM(e);const l=t.oxw(3).$implicit,c=t.oxw(3);return t.KtG(null!=l&&null!=l.contactInformation&&l.contactInformation.emails&&0!==(null==l||null==l.contactInformation||null==l.contactInformation.emails?null:l.contactInformation.emails.length)&&c.SMPTstatus?c.openHistory(l):i.preventDefault())}),t.TgZ(3,"span",97),t._uU(4," email "),t.qZA()(),t.TgZ(5,"a",98),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3).$implicit,l=t.oxw(3);return t.KtG(l.viewContact(i))})("keyup",function(){t.CHM(e);const i=t.oxw(3).$implicit,l=t.oxw(3);return t.KtG(l.viewContact(i))}),t.TgZ(6,"span",97),t._uU(7,"visibility"),t.qZA()(),t.TgZ(8,"a",99),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3).$implicit,l=t.oxw(3);return t.KtG(l.editContact(i))})("keyup",function(){t.CHM(e);const i=t.oxw(3).$implicit,l=t.oxw(3);return t.KtG(l.editContact(i))}),t.TgZ(9,"span",97),t._uU(10,"edit"),t.qZA()(),t.TgZ(11,"a",100),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3).$implicit,l=t.oxw(3);return t.KtG(l.deleteContactEntity(i))})("keyup",function(){t.CHM(e);const i=t.oxw(3).$implicit,l=t.oxw(3);return t.KtG(l.deleteContactEntity(i))}),t.TgZ(12,"span",101),t._uU(13,"delete"),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw(3).$implicit,n=t.oxw(3);t.xp6(2),t.ekj("disabled-link",!(null!=e&&null!=e.contactInformation&&e.contactInformation.emails&&0!==(null==e||null==e.contactInformation||null==e.contactInformation.emails?null:e.contactInformation.emails.length)&&n.SMPTstatus)),t.uIk("title",null!=e&&null!=e.contactInformation&&e.contactInformation.emails?0===(null==e||null==e.contactInformation||null==e.contactInformation.emails?null:e.contactInformation.emails.length)?"No email address available":n.SMPTstatus?null:"Please enable SMTP to use this feature":"No email address available")}}function Bi(o,a){if(1&o&&(t.TgZ(0,"td",71)(1,"div",72),t.ynx(2,73),t.YNc(3,Ci,7,3,"ng-container",74),t.YNc(4,bi,4,2,"ng-container",74),t.YNc(5,yi,3,1,"ng-container",74),t.YNc(6,Ti,3,1,"ng-container",74),t.YNc(7,Zi,3,1,"ng-container",74),t.YNc(8,wi,3,1,"ng-container",74),t.YNc(9,Ai,5,5,"ng-container",74),t.YNc(10,Oi,4,2,"ng-container",74),t.YNc(11,Ei,4,2,"ng-container",74),t.YNc(12,Li,4,2,"ng-container",74),t.YNc(13,Di,4,2,"ng-container",74),t.YNc(14,zi,3,5,"ng-container",74),t.YNc(15,Ki,14,3,"ng-container",74),t.BQk(),t.qZA()()),2&o){const e=a.$implicit,n=t.oxw(5);t.Q6J("ngClass",n.getColumnClass(e)),t.xp6(2),t.Q6J("ngSwitch",e),t.xp6(1),t.Q6J("ngSwitchCase","Contact Name"),t.xp6(1),t.Q6J("ngSwitchCase","Email"),t.xp6(1),t.Q6J("ngSwitchCase","Company Size"),t.xp6(1),t.Q6J("ngSwitchCase","Company Owner"),t.xp6(1),t.Q6J("ngSwitchCase","Company Revenue"),t.xp6(1),t.Q6J("ngSwitchCase","Founded Date"),t.xp6(1),t.Q6J("ngSwitchCase","Relation"),t.xp6(1),t.Q6J("ngSwitchCase","Website"),t.xp6(1),t.Q6J("ngSwitchCase","Location URL"),t.xp6(1),t.Q6J("ngSwitchCase","Phone Number"),t.xp6(1),t.Q6J("ngSwitchCase","Address"),t.xp6(1),t.Q6J("ngSwitchCase","Label"),t.xp6(1),t.Q6J("ngSwitchCase","Action")}}function Ri(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr",68)(1,"td",62)(2,"input",69),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.selected=i)})("change",function(){t.CHM(e);const i=t.oxw(2).$implicit,l=t.oxw(2);return t.KtG(l.onContactSelectionChange(i))}),t.qZA()(),t.YNc(3,Bi,16,15,"td",70),t.qZA()}if(2&o){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(2),t.MGl("name","contactCheckbox_",e.id,""),t.Q6J("ngModel",e.selected),t.xp6(1),t.Q6J("ngForOf",n.selectedColumns)}}function Wi(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Ri,4,3,"tr",67),t.BQk()),2&o){const e=t.oxw(),n=e.$implicit,i=e.index,l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1===(null==n||null==n.contacts?null:n.contacts.length)||l.isExpandedEntity[i])}}function Xi(o,a){if(1&o&&(t.ynx(0),t.YNc(1,gi,8,4,"tr",60),t.YNc(2,Wi,2,1,"ng-container",59),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",(null==e||null==e.contacts?null:e.contacts.length)>1),t.xp6(1),t.Q6J("ngForOf",e.contacts)}}function tl(o,a){if(1&o&&(t.TgZ(0,"tbody",18),t.YNc(1,Xi,3,2,"ng-container",59),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.filteredContacts)}}function el(o,a){if(1&o&&(t.TgZ(0,"tr")(1,"td",102)(2,"span"),t._uU(3,"No contacts available"),t.qZA()()()),2&o){const e=t.oxw();t.xp6(1),t.uIk("colspan",e.selectedColumns.length+1)}}function nl(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",103)(1,"div",104)(2,"div"),t._UZ(3,"input",105),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",5)(7,"div",106),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.SMPTstatus&&i.checkedCount>0?i.processCheckedEntities("compose"):null)})("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.SMPTstatus&&i.checkedCount>0?i.processCheckedEntities("compose"):null)}),t.TgZ(8,"span",3),t._uU(9,"email"),t.qZA(),t.TgZ(10,"span"),t._uU(11,"Compose"),t.qZA()(),t.TgZ(12,"div",107),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.processCheckedEntities("delete"))})("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.processCheckedEntities("delete"))}),t.TgZ(13,"span",3),t._uU(14,"delete"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"Delete"),t.qZA()()()(),t.TgZ(17,"span",108),t.NdJ("keyup",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closePopup())})("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closePopup())}),t._uU(18,"close"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("checked",e.checkedCount>0),t.xp6(2),t.hij("",e.checkedCount," Entities Selected"),t.xp6(2),t.ekj("cursor-pointer",e.SMPTstatus&&e.checkedCount>0)("text-black-50",!e.SMPTstatus||0===e.checkedCount),t.uIk("title",0===e.checkedCount?"Please select at least one contact":e.SMPTstatus?null:"Please enable SMTP to use this feature")}}function ol(o,a){if(1&o&&(t.TgZ(0,"option",109),t._uU(1),t.qZA()),2&o){const e=a.$implicit,n=a.index;t.Q6J("value",e)("selected",0===n),t.xp6(1),t.hij(" ",e," ")}}function il(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li",29)(1,"button",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onPageChange(1))}),t._uU(2," 1 "),t.qZA()()}if(2&o){const e=t.oxw();t.ekj("active",1===e.currentPage)}}function ll(o,a){1&o&&(t.TgZ(0,"li",29)(1,"span",110),t._uU(2,"..."),t.qZA()())}function al(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li",29)(1,"button",36),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onPageChange(l))}),t._uU(2),t.qZA()()}if(2&o){const e=a.$implicit,n=t.oxw();t.ekj("active",e===n.currentPage),t.xp6(2),t.hij(" ",e," ")}}function cl(o,a){1&o&&(t.TgZ(0,"li",29)(1,"span",110),t._uU(2,"..."),t.qZA()())}function sl(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li",29)(1,"button",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onPageChange(i.totalPages))}),t._uU(2),t.qZA()()}if(2&o){const e=t.oxw();t.ekj("active",e.currentPage===e.totalPages),t.xp6(2),t.hij(" ",e.totalPages," ")}}const rl=function(o,a){return{"text-black-50":o,"cursor-pointer":a}},dl=function(o,a){return{"text-black-50":o,"text-black":a}},_l=function(){return["/entity/mails"]};let pl=(()=>{const a=class{constructor(n,i,l,c,s,d,u){this._crmService=n,this._crmService2=i,this.modalService=l,this.dialog=c,this._authService=s,this._snackbar=d,this.el=u,this.currentPage=1,this.totalItems=0,this.totalPages=0,this.gotoPage=1,this.rows=[10,20,50],this.rowOptions=[5,10,20],this.middlePages=[],this.hasMoreItems=!0,this.currentPageItemsCount=0,this.pagesToShow=[],this.loading=!1,this.isCheckedAll=!1,this.isDropdownOpen=!1,this.isHistoryOpen=!1,this.isFetchingHistory=!1,this.isExpandedEntity=[],this.sortMethod="DESC",this.selectedTag="",this.searchTerm="",this.filteredContacts=[],this.allContacts=[],this.selectedContacts=[],this.selectedEntities=[],this.selectedContactDataType=[],this.filteredSelectedDataTypeContacts=[],this.expandedEntity=null,this.selectedColumns=U.mS,this.contactDataTypes=U.x5,this.openHistoryEmit=new t.vpe,this.emailHistoryEmit=new t.vpe,this.entitiesCount=new t.vpe,this.searchTerm$=new et.x,this.searchTermSubject=new zt.X(""),this.debounceDelay=1e3,this.cache=new Map;const m=this._authService.loadFromLocalStorage();this.entityId=m.entityId,this.theUserId=m.theUserId}ngOnInit(){this.setupSearchSubscription(),this.inpage=this.rows[0],this.listAllContacts(1,this.inpage,!0),document.addEventListener("fetchContacts",this.refreshContact.bind(this))}ngOnChanges(n){n.entityDataUpdated&&(this.entityData=n.entityDataUpdated.currentValue)}onClickOutside(n){const i=this.el.nativeElement.querySelector("#dropdownContainer");i&&!i.contains(n.target)&&(this.isDropdownOpen=!1)}listAllContacts(){var n=this;return(0,M.Z)(function*(i=1,l=n.inpage,c=!1,s){if(n.loading=c,!n.cache.has(i)||c||s){const{allContacts:d,tableData:u,totalCount:m}=yield n._crmService2.getContacts(i,l,n.sortMethod);n.allContacts=d,n.cache.set(i,d),1===i&&(n.totalItems=m),n.entitiesCount.emit(n.totalItems),n.totalPages=Math.ceil(n.totalItems/l),n.getSelectedColumns(u),n.updateMiddlePages()}n.filteredContacts=n.cache.get(i)||[],n.loading=!1}).apply(this,arguments)}openHistory(n){var i=this;return(0,M.Z)(function*(){i.entityData={entity:n};const l=n?.contactInformation?.emails[0]?.address?.value;i.isFetchingHistory=!0,i.activeEmails=l,i.activeContact=n?.id,i.openHistoryEmit.emit({entityData:i.entityData,activeContact:i.activeContact,activeEmails:i.activeEmails}),i.isHistoryOpen=!i.isHistoryOpen;const c=new _.Jbg;c.composition=n?.id,c.listLinkers=["message_s"],c.inpage=2e3,c.page=1;const s=yield(0,_.eHe)([c]);i.emailHistory=[...s?.data?.boomgpt?.boomgpt_s_message_s||[],...s?.data?.the_entity?.the_entity_s_message_s||[]].map(m=>({...m?.data?.message})),i.isExpanded=new Array(i.emailHistory.length).fill(!1),i.isFetchingHistory=!1,i.emailHistoryEmit.emit({emailHistory:i.emailHistory,isFetchingHistory:i.isFetchingHistory})})()}setupSearchSubscription(){this.searchTermSubject.pipe((0,nt.b)(this.debounceDelay),(0,Kt.w)(n=>n?.trim()?(0,Bt.D)(this._crmService.searchAllContacts(n)).pipe((0,Rt.K)(i=>(console.error("Error fetching contacts:",i),[]))):(this.listAllContacts(this.currentPage,this.inpage,!1),[]))).subscribe(n=>{this.filteredContacts=n||[]})}onSearchTermChange(n){const i=n.target.value.trim();this.searchTermSubject.next(i)}filterSelectedDataTypeContacts(){const n=this.allContacts;0===this.selectedContactDataType.length?this.filteredContacts=n:(this.filteredSelectedDataTypeContacts=n.filter(i=>i.contacts.some(l=>{const c=(l?.dataType||l?.type)?.toLocaleLowerCase()||"web_crm";return!(!this.selectedContactDataType.includes("web_crm")||!U.Ri.includes(c))||this.selectedContactDataType.includes(c)})),this.filteredContacts=this.filteredSelectedDataTypeContacts)}updateMiddlePages(){if(this.totalPages<=2)this.middlePages=[];else if(3===this.totalPages)this.middlePages=[2];else{const i=Math.max(2,this.currentPage-2),l=Math.min(this.totalPages-1,this.currentPage+2);this.middlePages=Array.from({length:l-i+1},(c,s)=>i+s)}}onPageChange(n){var i=this;return(0,M.Z)(function*(){i.selectedContactDataType=[],i.isDropdownOpen=!1,!(n<1||n>i.totalPages)&&(i.currentPage=n,i.cache.has(n)?i.filteredContacts=i.cache.get(n)||[]:yield i.listAllContacts(n,i.inpage,!0),i.updateMiddlePages(),i.isCheckedAll=i.filteredContacts.every(l=>l.contacts.every(c=>c.selected)))})()}onGotoPageInput(n){const i=Math.max(1,Math.min(this.totalPages,n.target.value));this.gotoPage=i}onGotoPage(){this.gotoPage>=1&&this.gotoPage<=this.totalPages&&this.onPageChange(this.gotoPage)}onItemsPerPageChange(n){this.selectedContactDataType=[],this.isDropdownOpen=!1;const i=n.target;i&&i.value&&(this.inpage=Number(i.value),this.listAllContacts(1,this.inpage,!0))}openVerticallyCentered(n){const i=this.modalService.open(z,{size:"md"});i.componentInstance.entity=n,i.componentInstance.smtp=this.smtp}deleteContactEntity(n){const i=this.modalService.open(Tn.$,{size:"md",centered:!0});i.componentInstance.entity=n,i.componentInstance.contactUpdated.subscribe(()=>{this.closePopup(),this.listAllContacts(this.currentPage,this.inpage,!0)})}viewContact(n){this.modalService.open(ot,{size:"lg"}).componentInstance.entityData=n}addContact(){const n=this.modalService.open(yn,{size:"lg"});this.loading=!0,n.componentInstance.contactUpdated.subscribe(()=>{this.listAllContacts(1,this.inpage,!0),this.loading=!1}),n.result.finally(()=>this.loading=!1)}editContact(n){const i=this.modalService.open(Nn.P,{size:"lg"});i.componentInstance.entityData=n,this.clearSelections(),i.componentInstance.contactUpdated.subscribe(()=>{setTimeout(()=>this.listAllContacts(1,this.inpage,!0),500)})}openEditColumnsDialog(){this.dialog.open(Pn,{width:"816px",data:{selectedColumns:this.selectedColumns,tableId:this.tableId}}).afterClosed().subscribe(i=>{i&&(this.selectedColumns=i)})}get checkedCount(){return this.selectedEntities.length}toggleSelectAll(){const n=this.isCheckedAll;this.filteredContacts?.forEach(i=>{i.contacts.forEach(l=>{l.selected=n,this.updateSelectedContacts(l,n)}),i.selected=i.contacts.every(l=>l.selected),this.updateSelectedEntities(i)})}toggleEntitySelect(n){const i=n.contacts.every(l=>l.selected);n.contacts.forEach(l=>{l.selected=!i}),this.updateSelectionState()}updateEntityState(n){const i=n.contacts.every(l=>l.selected);n.selected=i,i?(n.contacts.forEach(l=>{this.selectedContacts?.includes(l)||this.selectedContacts?.push(l)}),this.selectedEntities?.includes(n)||this.selectedEntities?.push(n)):this.clearEntitySelections(n)}onContactSelectionChange(n){this.isCheckedAll=this.filteredContacts.every(i=>i.contacts.every(l=>l.selected)),this.updateEntityState(n)}processCheckedEntities(n){"compose"===n?this.openVerticallyCentered(this.selectedContacts):"delete"===n&&this.deleteContactEntity(this.selectedContacts)}toggleEntityContacts(n){this.isExpandedEntity[n]=!this.isExpandedEntity[n]}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}isChecked(n){return this.selectedContactDataType.includes(n)}onOptionClick(n){const i=this.isChecked(n.value);this.onOptionChange({target:{checked:!i,value:n.value}})}onOptionChange(n){const i=n.target.value;n.target.checked?this.selectedContactDataType.push(i):this.selectedContactDataType=this.selectedContactDataType.filter(l=>l!==i),this.filterSelectedDataTypeContacts()}getSelectedColumns(n){const i=n?.[0]?.the_table?.data||{};this.tableId=n?.[0]?.the_table?.id;const l={the_table_contact_name:"Contact Name",the_table_address:"Address",the_table_phone_number:"Phone Number",the_table_website:"Website",the_table_location_url:"Location URL",the_table_company_size:"Company Size",the_table_company_owner:"Company Owner",the_table_company_revenue:"Company Revenue",the_table_founded_date:"Founded Date",the_table_label:"Label",the_table_relation:"Relation",the_table_email:"Email"},c=Object.keys(i).map(d=>{const u=i[d]?.[Object.keys(i[d])[0]];if(u&&u.data){const m=parseInt(u.data,10);if(!isNaN(m))return{value:l[d]||d,order:m}}return null}).filter(d=>null!==d).sort((d,u)=>d.order-u.order);this.ensureDefaultColumns(c);const s=c.map(d=>d.value);return this.tableId&&(this.selectedColumns=s),s}getColumnClass(n){return{"Contact Name":"contact-name-column","Company Name":"company-name-column",Email:"email-column",Website:"email-column","Phone Number":"phone-column","Location URL":"email-column","Company Size":"email-column","Company Owner":"email-column","Company Revenue":"email-column","Founded Date":"phone-column",Relation:"phone-column",Label:"label-column",Address:"address-action-column",Action:"address-action-column"}[n]||""}getContactLabel(n){if("extension_merojob"===n?.dataType)return{text:"Merojob",color:"#0077B5"};switch(n?.type||n?.dataType){case"extension_maps":return{text:"Map",color:"#4285F4"};case"extension_linkedin":return{text:"LinkedIn",color:"#0077B5"};case"extension_whatsapp":return{text:"WhatsApp",color:"#25D366"};case"extension_monster":return{text:"Monster",color:"#6E46AE"};case"extension_indeed":return{text:"Indeed",color:"#0033A0"};default:return{text:n?.type?.charAt(0).toUpperCase()+n?.type?.slice(1)||"",color:"#000000"}}}getRelationClass(n){switch(n){case"prospect":return"prospect-class";case"lead":return"lead-class";case"client":return"client-class";default:return"others-class"}}refreshContact(){this.listAllContacts(1,this.inpage,!1,!0)}closePopup(){this.filteredContacts.forEach(n=>{n.selected=!1,n.contacts.forEach(i=>i.selected=!1)}),this.cache.forEach(n=>{n.forEach(i=>{i.selected=!1,i.contacts.forEach(l=>l.selected=!1)})}),this.selectedContacts=[],this.selectedEntities=[],this.isCheckedAll=!1}sortContacts(){this.sortMethod="ASC"===this.sortMethod?"DESC":"ASC",this.listAllContacts(1,this.inpage,!0,!0)}redirectToSourceUrl(n){n&&"string"==typeof n&&window.open(n,"_blank")}handleError(n){n.target.src="/assets/man.png"}availableTags(n){const i=["lead","client","prospect","others"];return n?i.filter(l=>l!==n):i}onTagChange(n,i){var l=this;return(0,M.Z)(function*(){i?.profileInformation?.tag?i.profileInformation.tag.value=n:i.profileInformation.tag={value:n};const c=i?.profileInformation?.tag?.id;if(!1===i?.isBoomgpt){const s=yield(0,_.J0M)(c),d=yield(0,_.J0M)(i?.id),u=yield(0,_.kqu)(d,s,"","the_entity_tag",!0);for(const p of u)yield(0,_.TAP)(p?.id);const m=yield(0,_.Fsb)("the_tag",n,!0,Number(l.theUserId),4,999);yield(0,_.G$0)(d,m,"tag"),yield _.smK.SyncDataOnline()}else{const s=yield(0,_.wPO)([i?.id]),d=new _.MYZ;d.userId=l.theUserId,d.compositionId=i?.id,d.patchObject={...s?.[0]?.boomgpt,crm_data:{...s?.[0]?.boomgpt?.crm_data,tag:n}},yield(0,_.hrH)(d),yield _.smK.SyncDataOnline()}l._snackbar.openSnackBar("Tag Updated Successfully","success")})()}updateSelectedContacts(n,i){i?this.selectedContacts?.includes(n)||this.selectedContacts?.push(n):this.selectedContacts=this.selectedContacts?.filter(l=>l!==n)}updateSelectedEntities(n){n.selected?this.selectedEntities?.includes(n)||this.selectedEntities?.push(n):this.selectedEntities=this.selectedEntities?.filter(i=>i!==n)}clearEntitySelections(n){n.contacts.forEach(i=>{this.selectedContacts=this.selectedContacts?.filter(l=>l!==i)}),this.selectedEntities=this.selectedEntities?.filter(i=>i!==n)}clearSelections(){this.selectedEntities=[],this.selectedContacts=[],this.filteredContacts.forEach(n=>{n.contacts.forEach(i=>{i.selected=!1})}),this.isCheckedAll=!1}updateSelectionState(){this.isCheckedAll=this.filteredContacts.every(n=>n.contacts.every(i=>i.selected))}ensureDefaultColumns(n){const i=n.findIndex(c=>"Contact Name"===c.value),l=n.findIndex(c=>"Action"===c.value);if(-1===i)n.unshift({value:"Contact Name",order:-1});else{const c=n.splice(i,1)[0];n.unshift(c)}if(-1===l)n.push({value:"Action",order:20});else{const c=n.splice(l,1)[0];n.push(c)}}};let o=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(R._),t.Y36(ci),t.Y36(O.FF),t.Y36(j.uw),t.Y36(F.e),t.Y36(G.o),t.Y36(t.SBq))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-entities-tab"]],hostBindings:function(i,l){1&i&&t.NdJ("click",function(s){return l.onClickOutside(s)},!1,t.evT)},inputs:{smtp:"smtp",SMPTstatus:"SMPTstatus",entityDataUpdated:"entityDataUpdated"},outputs:{openHistoryEmit:"openHistoryEmit",emailHistoryEmit:"emailHistoryEmit",entitiesCount:"entitiesCount"},features:[t.TTD],decls:65,vars:33,consts:[[1,"d-flex","align-items-center","justify-content-between","mt-3","position-relative"],[1,"d-flex","align-items-center","gap-2","input-contaciner-main"],[1,"input-container"],[1,"material-symbols-outlined"],["type","text","placeholder","Search Contact, email, name...",3,"ngModel","ngModelChange","input"],[1,"d-flex","align-items-center","gap-2"],[1,"height-btn","d-flex","align-items-center","border","rounded-1","px-3","py-1","bg-transparent","filter-text",3,"disabled","ngClass","click"],[1,"material-symbols-outlined","me-2","fs-5","p-0",3,"ngClass"],[1,"filter-text","p-1"],[1,"height-btn","d-flex","align-items-center","border","rounded-1","px-3","py-1","cursor-pointer","text-black-50","bg-transparent",3,"href"],[1,"material-symbols-outlined","text-black-50","me-2","fs-5","p-0"],[1,"text-black-50","filter-text","p-1"],[1,"height-btn","d-flex","align-items-center","border","rounded-1","px-3","py-1","cursor-pointer","text-black-50","bg-transparent",3,"click"],[1,"height-btn","btn","btn-primary","rounded-1","fw-medium","d-flex","align-items-center","px-4","py-1",3,"click"],[1,"me-2","material-symbols-outlined"],["class","loading",4,"ngIf"],[1,"card","mt-4","table-responsive","custom-scroll"],[1,"table","table-bordered","table-stripe"],[1,"align-middle"],["name","selectAllCheckbox","scope","col",1,"text-center","no-right-border","checkbox-column","selectall","align-middle","px-2"],["type","checkbox",3,"ngModel","ngModelChange","change"],["scope","col",3,"ngClass",4,"ngFor","ngForOf"],["class","align-middle",4,"ngIf","ngIfElse"],["notFound",""],["class","sticky-popup d-flex align-items-center gap-2",4,"ngIf"],[1,"page-navigation","example","mt-4","d-flex","flex-column","flex-lg-row","justify-content-between","align-items-center"],[1,"d-flex","flex-column","flex-lg-row","align-items-center","mb-3","mb-lg-0"],[1,"d-flex","align-items-center","me-lg-3","mb-3","mb-lg-0"],[1,"pagination","mb-0"],[1,"page-item"],["id","goto-page","type","number","min","1","placeholder","Page",1,"page-link",3,"max","ngModel","ngModelChange","input"],[1,"page-link",3,"disabled","click"],[1,"col-md-6"],["id","agentType",1,"form-select","py-2","shadow-none",3,"ngModel","ngModelChange","change"],["value","","disabled",""],[3,"value","selected",4,"ngFor","ngForOf"],[1,"page-link","cursor-pointer",3,"click"],["class","page-item",3,"active",4,"ngIf"],["class","page-item",4,"ngIf"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"loading"],[1,"loader"],["scope","col",3,"ngClass"],[1,"d-flex","align-items-center","gap-2","d-flex","justify-content-between"],[1,"me-1"],[4,"ngIf"],["tabindex","",1,"material-symbols-outlined","cursor-pointer","sort-icon",3,"click","keyup"],[1,"position-relative","d-flex","align-items-center"],["dropdownContainer",""],["tabindex","",1,"material-symbols-outlined","cursor-pointer","text-secondary","border","rounded","p-0",3,"click","keyup"],["class","dropdown-menu show p-2",4,"ngIf"],[1,"dropdown-menu","show","p-2"],["tabindex","","class","dropdown-item border p-0 cursor-pointer",3,"click","keyup",4,"ngFor","ngForOf"],["tabindex","",1,"dropdown-item","border","p-0","cursor-pointer",3,"click","keyup"],[1,"d-flex","align-items-center","justify-content-between","m-0","p-1"],[1,"d-flex","align-items-center","gap-1","me-3"],[1,"icon-img",3,"src","alt"],[1,"m-0"],["type","checkbox",1,"form-check-input","ms-auto",3,"checked","value","change"],[4,"ngFor","ngForOf"],["class","w-full entity-row",4,"ngIf"],[1,"w-full","entity-row"],[1,"align-middle","border-start","border-end-0","checkbox-column","px-2"],[1,"td-entity"],["class","badge bg-primary",4,"ngIf"],["tabindex","",1,"material-symbols-outlined","dropdow-class","cursor-pointer",3,"click","keyup"],[1,"badge","bg-primary"],["class","align-middle abc",4,"ngIf"],[1,"align-middle","abc"],["type","checkbox",3,"ngModel","name","ngModelChange","change"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"d-flex","align-items-center"],[3,"ngSwitch"],[4,"ngSwitchCase"],["alt","","class","rounded-circle me-2",3,"src","error",4,"ngIf","ngIfElse"],["defaultImage",""],["alt","",1,"rounded-circle","me-2",3,"src","error"],["alt","","src","/assets/man.png",1,"rounded-circle","me-2"],[4,"ngIf","ngIfElse"],["noEmail",""],[1,"text-white","cursor-pointer","select-tag",3,"ngClass","ngModel","ngModelChange"],["selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["noSite",""],["class","text-truncate d-inline-block w-100","target","_blank","rel","noopener noreferrer",3,"href","title",4,"ngIf","ngIfElse"],["noWebsite",""],["target","_blank","rel","noopener noreferrer",1,"text-truncate","d-inline-block","w-100",3,"href","title"],[1,"text-wrap"],["noUrl",""],["noPhone",""],["noCountryCode",""],["noAddress",""],["tabindex","",1,"px-1",3,"ngStyle","click","keyup"],[1,"d-flex","flex-row","align-items-center","justify-content-between","gap-1"],["tabindex","0",1,"border","border-success","rounded-1","px-1",3,"click","keyup"],[1,"material-symbols-outlined","fs-5","text-black","align-middle"],["tabindex","",1,"border","border-warning","rounded-1","px-1",3,"click","keyup"],["tabindex","",1,"border","border-primary","rounded-1","px-1",3,"click","keyup"],["tabindex","",1,"border","border-danger","rounded-1","px-1",3,"click","keyup"],[1,"material-symbols-outlined","fs-5","text-danger","align-middle"],[1,"text-center"],[1,"sticky-popup","d-flex","align-items-center","gap-2"],[1,"flex-grow-1","d-flex","align-items-center","justify-content-between","gap-5"],["type","checkbox","disabled","",1,"form-check-input","me-1",3,"checked"],["tabindex","0",1,"d-flex","align-items-center","gap-1",3,"click","keyup"],["tabindex","",1,"d-flex","align-items-center","cursor-pointer","gap-1",3,"click","keyup"],["tabindex","",1,"material-symbols-outlined","rounded-circle",3,"keyup","click"],[3,"value","selected"],[1,"page-link"]],template:function(i,l){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"search"),t.qZA(),t.TgZ(5,"input",4),t.NdJ("ngModelChange",function(s){return l.searchTerm=s})("input",function(s){return l.onSearchTermChange(s)}),t.qZA()()(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return l.checkedCount>0&&l.SMPTstatus?l.openVerticallyCentered(l.selectedContacts):null}),t.TgZ(8,"span",7),t._uU(9," edit_square "),t.qZA(),t.TgZ(10,"span",8),t._uU(11,"Compose"),t.qZA()(),t.TgZ(12,"a",9)(13,"span",10),t._uU(14,"mail"),t.qZA(),t.TgZ(15,"span",11),t._uU(16," Mails"),t.qZA()(),t.TgZ(17,"button",12),t.NdJ("click",function(){return l.openEditColumnsDialog()}),t.TgZ(18,"span",10),t._uU(19,"table_edit"),t.qZA(),t.TgZ(20,"span",11),t._uU(21," Edit Columns"),t.qZA()(),t.TgZ(22,"button",13),t.NdJ("click",function(){return l.addContact()}),t.TgZ(23,"span",14),t._uU(24,"person_add"),t.qZA(),t._uU(25," Add Entity "),t.qZA()()(),t.YNc(26,si,2,0,"div",15),t.ynx(27),t.TgZ(28,"div",16)(29,"table",17)(30,"thead",18)(31,"tr",18)(32,"th",19)(33,"input",20),t.NdJ("ngModelChange",function(s){return l.isCheckedAll=s})("change",function(){return l.toggleSelectAll()}),t.qZA()(),t.YNc(34,ui,6,4,"th",21),t.qZA()(),t.YNc(35,tl,2,1,"tbody",22),t.qZA()(),t.YNc(36,el,4,1,"ng-template",null,23,t.W1O),t.YNc(38,nl,19,7,"div",24),t.TgZ(39,"div",25)(40,"div",26)(41,"div",27)(42,"ul",28)(43,"li",29)(44,"input",30),t.NdJ("ngModelChange",function(s){return l.gotoPage=s})("input",function(s){return l.onGotoPageInput(s)}),t.qZA()(),t.TgZ(45,"li",29)(46,"button",31),t.NdJ("click",function(){return l.onGotoPage()}),t._uU(47," Go "),t.qZA()()()(),t.TgZ(48,"div",32)(49,"select",33),t.NdJ("ngModelChange",function(s){return l.inpage=s})("change",function(s){return l.onItemsPerPageChange(s)}),t.TgZ(50,"option",34),t._uU(51,"Select items per page"),t.qZA(),t.YNc(52,ol,2,3,"option",35),t.qZA()()(),t.TgZ(53,"ul",28)(54,"li",29)(55,"button",36),t.NdJ("click",function(){return l.onPageChange(l.currentPage-1)}),t._uU(56," Previous "),t.qZA()(),t.YNc(57,il,3,2,"li",37),t.YNc(58,ll,3,0,"li",38),t.YNc(59,al,3,3,"li",39),t.YNc(60,cl,3,0,"li",38),t.YNc(61,sl,3,3,"li",37),t.TgZ(62,"li",29)(63,"button",36),t.NdJ("click",function(){return l.onPageChange(l.currentPage+1)}),t._uU(64," Next "),t.qZA()()()(),t.BQk()),2&i){const c=t.MAs(37);t.xp6(5),t.Q6J("ngModel",l.searchTerm),t.xp6(2),t.Q6J("disabled",0===l.checkedCount||!l.SMPTstatus)("ngClass",t.WLB(26,rl,0===l.checkedCount||!l.SMPTstatus,l.checkedCount>0&&l.SMPTstatus)),t.uIk("title",0===l.checkedCount?"Please select at least one contact":l.SMPTstatus?null:"Please enable SMTP to use this feature"),t.xp6(1),t.Q6J("ngClass",t.WLB(29,dl,0===l.checkedCount||!l.SMPTstatus,l.checkedCount>0&&l.SMPTstatus)),t.xp6(4),t.Q6J("href",t.DdM(32,_l),t.LSH),t.xp6(14),t.Q6J("ngIf",l.loading),t.xp6(7),t.Q6J("ngModel",l.isCheckedAll),t.xp6(1),t.Q6J("ngForOf",l.selectedColumns),t.xp6(1),t.Q6J("ngIf",l.filteredContacts.length>0)("ngIfElse",c),t.xp6(3),t.Q6J("ngIf",l.checkedCount>0),t.xp6(6),t.Q6J("max",l.totalPages)("ngModel",l.gotoPage),t.xp6(2),t.Q6J("disabled",l.gotoPage<1||l.gotoPage>l.totalPages),t.xp6(3),t.Q6J("ngModel",l.inpage),t.xp6(3),t.Q6J("ngForOf",l.rows),t.xp6(2),t.ekj("disabled",1===l.currentPage),t.xp6(3),t.Q6J("ngIf",l.totalPages>=1),t.xp6(1),t.Q6J("ngIf",l.middlePages.length&&l.currentPage>3),t.xp6(1),t.Q6J("ngForOf",l.middlePages),t.xp6(1),t.Q6J("ngIf",l.middlePages.length&&l.currentPage<l.totalPages-2),t.xp6(1),t.Q6J("ngIf",l.totalPages>=2),t.xp6(1),t.ekj("disabled",l.currentPage===l.totalPages)}},dependencies:[x.mk,x.sg,x.O5,x.PC,x.RF,x.n9,r.YN,r.Kr,r.Fj,r.wV,r.Wl,r.EJ,r.JJ,r.qQ,r.Fd,r.On],styles:[".main_container[_ngcontent-%COMP%]{position:relative}.heading[_ngcontent-%COMP%]{border-top:1px solid #dddddd;border-bottom:1px solid #dddddd;background-color:#fff4e5}.warning-msg[_ngcontent-%COMP%]{border-left:3px solid #eb8600}.warning-title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:19.2px}.warning-text[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:19.2px}.warning-icon[_ngcontent-%COMP%]{color:#fff;display:flex;justify-content:center;align-items:center;width:40px;height:40px}.warning-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.filter-text[_ngcontent-%COMP%]{font-weight:400;font-size:14px}.table-stripe[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{font-weight:500}.table-stripe[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2)   img[_ngcontent-%COMP%], .table-stripe[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3)   img[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:28px}.table-stripe[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;line-height:25.6px;color:#000;padding:8px 16px}.table-stripe[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:22.4px;color:#161616}.table-stripe[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4)   span[_ngcontent-%COMP%]{border-radius:4px;padding:4px}.tab[_ngcontent-%COMP%]{width:766px;height:auto}.tab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;list-style:none;font-size:20px;font-weight:400;cursor:pointer}.tab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-right:40px}.tab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b9b9b9;transition:.05s ease;text-decoration:none}.tab[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ef598c;position:relative;border-bottom:2px solid #ef598c;font-weight:500;cursor:context-menu;z-index:1;padding:3px}.contact-name-column[_ngcontent-%COMP%], .company-name-column[_ngcontent-%COMP%]{width:260px;max-width:260px;min-width:260px}.company-name-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .contact-name-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:28px}.email-column[_ngcontent-%COMP%]{width:260px;max-width:260px;min-width:260px}.phone-column[_ngcontent-%COMP%]{width:168px;max-width:168px;min-width:168px}.label-column[_ngcontent-%COMP%]{width:118px;max-width:118px;min-width:118px}.address-action-column[_ngcontent-%COMP%]{width:175px;max-width:175px;min-width:175px}.checkbox-column[_ngcontent-%COMP%], .selectall[_ngcontent-%COMP%]{text-align:center;width:20px}.checkbox-column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:14px;height:14px;padding:4px}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;transform:translateY(4px);z-index:1050;border-radius:8px;box-shadow:0 4px 12px #0000001a;background-color:#fff;width:auto}.no-right-border[_ngcontent-%COMP%]{box-sizing:unset!important}.pagination[_ngcontent-%COMP%]{padding:0}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;margin:0 5px}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:600;border:none;list-style:none;background-color:transparent}.pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]{display:flex;align-items:center;width:28px;height:28px;font-size:13px;font-weight:600;border:1px solid #dddddd!important;border-radius:4px;padding:10px;background-color:#f4f4f4;cursor:pointer;transition:background-color .3s ease}.pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]:hover{background-color:#f2709c!important;color:#fff}.pagination[_ngcontent-%COMP%]   .page-button.active[_ngcontent-%COMP%]{background-color:#f2709c!important;border-radius:5px;color:#fff}.pagination[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e9ecef;color:#6c757d;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   .ellipsis[_ngcontent-%COMP%]{padding:6px 10px;color:#6c757d;line-height:1.5}.sticky-popup[_ngcontent-%COMP%]{position:fixed;top:94%;right:40%;background-color:#3f4d5b;border-radius:8px;padding:10px 15px;box-shadow:0 8px 16px #00000042;z-index:1000}.sticky-popup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:4px;z-index:2000}.sticky-popup[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#fff}.sticky-popup[_ngcontent-%COMP%]:has( > .material-symbols-outlined)[_ngcontent-%COMP%] > .material-symbols-outlined[_ngcontent-%COMP%]{cursor:pointer;padding:1px;border:1.5px solid #ffffff}.email-item[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;background-color:#fff;border:1px solid #e0e0e0;border-radius:6px;box-shadow:0 2px 4px #0000001a}.email-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;padding-bottom:8px;margin-bottom:10px;font-size:14px;color:#555}.email-date[_ngcontent-%COMP%]{font-size:12px;color:#888}.email-body[_ngcontent-%COMP%]{margin:10px 0;font-size:14px;color:#333;line-height:1.5}.email-meta[_ngcontent-%COMP%]{margin:10px 0;font-size:12px;color:#666}.email-status[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}.status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;color:#fff;text-transform:uppercase}.status-badge.sent[_ngcontent-%COMP%]{background-color:#4caf50}.status-badge.received[_ngcontent-%COMP%]{background-color:#36def4}.status-text[_ngcontent-%COMP%]{font-size:12px;color:#888}.no-history-message[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#999;margin-top:20px}.email-preview[_ngcontent-%COMP%]{cursor:pointer;font-size:14px;color:#333;background-color:#f8f8f8;padding:10px;border-radius:6px;transition:background-color .3s}.email-preview[_ngcontent-%COMP%]:hover{background-color:#e8e8e8}.email-meta[_ngcontent-%COMP%], .email-status[_ngcontent-%COMP%]{margin-top:10px;font-size:12px;color:#555}.compose-mail[_ngcontent-%COMP%]{margin:0 0 10px;text-align:end}.not-found[_ngcontent-%COMP%]{height:250px}.card[_ngcontent-%COMP%]{min-height:275px;box-shadow:none}.input-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 20px 10px 40px;font-size:16px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;height:42px}.input-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;left:10px;transform:translateY(-50%);font-size:18px;color:#aaa}.input-contaciner-main[_ngcontent-%COMP%]{width:340px}.height-btn[_ngcontent-%COMP%]{height:42px;white-space:nowrap}.height-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem!important}.prospect-class[_ngcontent-%COMP%]{background-color:#7dc6ff;color:#fff;padding:4px 8px;border-radius:4px;font-size:14px}.no-border[_ngcontent-%COMP%]{border-radius:0!important}.lead-class[_ngcontent-%COMP%]{background-color:#ffb74d;color:#fff;padding:4px 8px;border-radius:4px;font-size:14px}.client-class[_ngcontent-%COMP%]{background-color:#66bb6a;color:#fff;padding:4px 8px;border-radius:4px;font-size:14px}.others-class[_ngcontent-%COMP%]{background-color:#b0bec5;color:#fff;padding:4px 8px;border-radius:4px;font-size:14px}th[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#f586a3;color:#fff;border-color:#f586a3;font-weight:700;cursor:pointer}table[_ngcontent-%COMP%]{margin-bottom:4px}.table-responsive.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-responsive.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#b6b4b4;border-radius:4px}.table-responsive.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#838282}.entity-row[_ngcontent-%COMP%]{border:1px solid #ccc}.entity-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:none}.td-entity[_ngcontent-%COMP%]{display:flex;align-items:center;border-bottom:none;gap:7px}.dropdow-class[_ngcontent-%COMP%]{border-radius:4px;background-color:#f586a3;color:#fff;transition:.3s ease-in-out}.dropdow-class[_ngcontent-%COMP%]:hover{background-color:#ff9472}.abc[_ngcontent-%COMP%]{transition:.5s ease-in-out}.tag-dropdown[_ngcontent-%COMP%]{background-color:#fff}.sort-icon[_ngcontent-%COMP%]{font-size:18px;color:#39393a}.icon-img[_ngcontent-%COMP%]{width:19px}.select-tag[_ngcontent-%COMP%]{border:none;outline:none}.disabled-link[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}"]}),o})();const ul=["dropdownContainer"];function ml(o,a){1&o&&(t.TgZ(0,"div",17),t._UZ(1,"span",18),t.qZA())}function gl(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",19)(1,"div")(2,"div",20)(3,"div",21),t._UZ(4,"img",22),t.qZA(),t.TgZ(5,"div",23)(6,"p",24),t._uU(7,"Warning"),t.qZA(),t.TgZ(8,"p",25),t._uU(9," Your email sending SMTP not configured. You need to set SMTP setting to send emails to your contacts "),t.qZA()()()(),t.TgZ(10,"div")(11,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.redirectToSMTP())}),t._UZ(12,"img",27),t._uU(13," Set SMTP "),t.qZA()()()}}function fl(o,a){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("(",e.totalEntities,")")}}const hl=function(o){return{active:o}};function Cl(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li",28),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.selectTab(l))})("keyup",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.selectTab(l))}),t.TgZ(1,"a"),t._uU(2),t.qZA()()}if(2&o){const e=a.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,hl,n.activeTab===e)),t.xp6(2),t.Oqu(e)}}function vl(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-entities-tab",29),t.NdJ("entitiesCount",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.entitiesCount(i))})("openHistoryEmit",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.openEmailHistory(i))})("emailHistoryEmit",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.emailHistoryEmitEvent(i))}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("SMPTstatus",e.SMPTstatus)("smtp",e.smtp)("entityDataUpdated",e.entityData)}}function xl(o,a){if(1&o&&(t.ynx(0),t._UZ(1,"app-groups-tab",30),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("SMPTstatus",e.SMPTstatus)}}function bl(o,a){if(1&o&&(t.TgZ(0,"div",39)(1,"p")(2,"strong"),t._uU(3,"From:"),t.qZA(),t._uU(4),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",e.header.from[0],"")}}function yl(o,a){if(1&o&&(t.TgZ(0,"div",40)(1,"p")(2,"strong"),t._uU(3,"To:"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&o){const e=t.oxw().$implicit;t.xp6(5),t.hij(" ",e.header.to[0]," ")}}function Tl(o,a){if(1&o&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&o){const e=a.$implicit;t.xp6(2),t.hij(" ",e," ")}}function Zl(o,a){if(1&o&&(t.TgZ(0,"div",40)(1,"p")(2,"strong"),t._uU(3,"To:"),t.qZA(),t.TgZ(4,"span"),t.YNc(5,Tl,3,1,"ul",41),t.qZA()()()),2&o){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("ngForOf",e.header.to)}}function wl(o,a){if(1&o&&(t.TgZ(0,"div",42)(1,"span",43),t._uU(2),t.qZA(),t.TgZ(3,"span",44),t._uU(4),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.ekj("sent","true"===e.sent)("received","true"!==e.sent),t.xp6(1),t.hij(" ","true"===e.sent?"Sent":"Received"," "),t.xp6(2),t.Oqu(e.status)}}function Ml(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"span")(3,"strong"),t._uU(4,"Subject:"),t.qZA(),t._uU(5),t.qZA(),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"div",34),t.NdJ("keyup",function(){const l=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.toggleExpand(l))})("click",function(){const l=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.toggleExpand(l))}),t._UZ(9,"span",35),t.ALo(10,"slice"),t.qZA(),t.YNc(11,bl,5,1,"div",36),t.YNc(12,yl,6,1,"div",37),t.YNc(13,Zl,6,1,"div",37),t.YNc(14,wl,5,6,"div",38),t.qZA()}if(2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.xp6(5),t.hij(" ",e.subject,""),t.xp6(1),t.hij(" ",t.xi3(7,7,e.created_at,"M/d/yyyy h:mm:ss a")," "),t.xp6(3),t.Q6J("innerHTML",i.isExpanded[n]?e.message:t.Dn7(10,10,e.message,0,100)+"...",t.oJD),t.xp6(2),t.Q6J("ngIf",i.isExpanded[n]),t.xp6(1),t.Q6J("ngIf",!i.isExpanded[n]),t.xp6(1),t.Q6J("ngIf",i.isExpanded[n]),t.xp6(1),t.Q6J("ngIf",i.isExpanded[n])}}function Al(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Ml,15,14,"div",31),t._UZ(2,"hr"),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.emailHistory)}}function Il(o,a){1&o&&(t.ynx(0),t.TgZ(1,"p",45),t._uU(2,"Looking for data....."),t.qZA(),t.BQk())}function Pl(o,a){1&o&&(t.ynx(0),t.TgZ(1,"p",45),t._uU(2,"No email history available."),t.qZA(),t.BQk())}function Nl(o,a){if(1&o&&t.YNc(0,Pl,3,0,"ng-container",6),2&o){const e=t.oxw();t.Q6J("ngIf",!e.isFetchingHistory)}}let kl=(()=>{const a=class{constructor(n,i,l,c,s,d,u){this.dialog=n,this._nodeService=i,this._snackbarService=l,this.router=c,this._authService=s,this.modalService=d,this.route=u,this.tabs=U.eA,this.isExpanded=[],this.activeTab=this.tabs[0],this.SMPTstatus=!1,this.isHistoryOpen=!1,this.loading=!1,this.isFetchingHistory=!1,this.isDropdownOpen=!1,this.entityId=this._authService.loadFromLocalStorage().entityId}ngOnInit(){this.getSingleSMTPActiveList(),this.route.queryParams.subscribe(n=>{const i=n.page;if(i){const l=this.tabs.find(c=>c.toLowerCase().replace(/\s+/g,"-")===i.toLowerCase());l&&(this.activeTab=l)}})}selectTab(n){this.activeTab=n;const i=n.toLowerCase().replace(/\s+/g,"-");this.router.navigate([],{relativeTo:this.route,queryParams:{page:i},queryParamsHandling:"merge",replaceUrl:!0})}onClick(n){n.target.closest(".dropdown-menu")||n.target.closest(".dropdown")||(this.isDropdownOpen=!1)}getSingleSMTPActiveList(){this._nodeService.getSingleSmtpServerActiveList().subscribe({next:n=>{this.SMPTstatus=!!n.data,this.smtp=n.data,console.log("STATUSSSS",this.SMPTstatus,this.smtp)}})}redirectToSMTP(){this.router.navigate(["/smtp"])}toggleExpand(n){this.isExpanded[n]=!this.isExpanded[n]}handleOffcanvasClosed(){this.isHistoryOpen=!this.isHistoryOpen}openEmailModal(){this.openVerticallyCentered(this.entityData.entity),this.handleOffcanvasClosed()}openEmailHistory(n){this.handleOffcanvasClosed(),this.isFetchingHistory=n,this.entityData=n.entityData,this.activeContact=n.activeContact,this.activeEmails=n.activeEmails}entitiesCount(n){this.totalEntities=n}emailHistoryEmitEvent(n){this.emailHistory=n.emailHistory,this.isFetchingHistory=n.isFetchingHistory}openVerticallyCentered(n){const i=this.modalService.open(z,{size:"md"});i.componentInstance.entity=n,i.componentInstance.smtp=this.smtp}syncEmail(){this.isFetchingHistory=!0,this._nodeService.getConversations(this.activeContact,"",!0,this.activeEmails).subscribe({next:n=>{this.emailHistory=n?.data,this.isFetchingHistory=!1,this.isExpanded=new Array(this.emailHistory.length).fill(!1),this._snackbarService.openSnackBar("Email History Synced!","success")},error:()=>{this.isFetchingHistory=!1,this._snackbarService.openSnackBar("Error syncing email history","error")}})}};let o=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(j.uw),t.Y36(Y.s),t.Y36(G.o),t.Y36(S.F0),t.Y36(F.e),t.Y36(O.FF),t.Y36(S.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-all-contacts"]],viewQuery:function(i,l){if(1&i&&t.Gf(ul,5),2&i){let c;t.iGM(c=t.CRH())&&(l.dropdownContainer=c.first)}},hostBindings:function(i,l){1&i&&t.NdJ("click",function(s){return l.onClick(s)},!1,t.evT)},decls:26,vars:13,consts:[[1,"bg-white"],[1,"container","p-4"],["class","loading",4,"ngIf"],[1,"main_container"],["class","mb-3 d-flex align-items-center justify-content-between heading",4,"ngIf"],[1,"title-section","d-flex","gap-1"],[4,"ngIf"],[1,"d-flex","align-items-end","justify-content-between","mt-4","border-bottom","border-2"],[1,"tab","d-flex"],["tabindex","",3,"ngClass","click","keyup",4,"ngFor","ngForOf"],[3,"isOpen","title","showSync","isFetchingHistory","sync","closed"],[1,"email-history-container"],[1,"compose-mail","d-flex","justify-content-end","gap-2","mb-3"],["type","button",1,"btn","btn-primary","btn-sm","d-flex","align-items-center","justify-content-between",3,"click"],[1,"material-symbols-outlined"],[4,"ngIf","ngIfElse"],["noHistory",""],[1,"loading"],[1,"loader"],[1,"mb-3","d-flex","align-items-center","justify-content-between","heading"],[1,"py-1","px-2","warning-msg","d-flex","align-items-center"],[1,"warning-icon","d-flex","align-items-center"],["alt","","src","/assets/contact-crm/warning-icon.png"],[1,"py-1","px-2"],[1,"m-0","warning-title"],[1,"m-0","warning-text"],[1,"btn-secondary","rounded-1","px-3","py-1","fs-6","fw-medium","d-flex","align-items-center",3,"click"],["alt","","src","/assets/contact-crm/smtp-set-icon.png",1,"me-2"],["tabindex","",3,"ngClass","click","keyup"],[3,"SMPTstatus","smtp","entityDataUpdated","entitiesCount","openHistoryEmit","emailHistoryEmit"],[3,"SMPTstatus"],["class","email-item",4,"ngFor","ngForOf"],[1,"email-item"],[1,"email-header"],["tabindex","",1,"email-preview",3,"keyup","click"],[1,"break-word",3,"innerHTML"],["class","email-meta",4,"ngIf"],["class","email-meta mt-2",4,"ngIf"],["class","email-status",4,"ngIf"],[1,"email-meta"],[1,"email-meta","mt-2"],[4,"ngFor","ngForOf"],[1,"email-status"],[1,"status-badge"],[1,"status-text"],[1,"no-history-message"]],template:function(i,l){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ml,2,0,"div",2),t.TgZ(3,"div",3),t.YNc(4,gl,14,0,"div",4),t.TgZ(5,"span",5),t._uU(6,"CONTACTS "),t.YNc(7,fl,2,1,"span",6),t.qZA(),t.TgZ(8,"div",7)(9,"div",8),t.YNc(10,Cl,3,4,"li",9),t.qZA()(),t.YNc(11,vl,2,3,"ng-container",6),t.YNc(12,xl,2,1,"ng-container",6),t.qZA()()(),t.ynx(13),t.TgZ(14,"app-email-history",10),t.NdJ("sync",function(){return l.syncEmail()})("closed",function(){return l.handleOffcanvasClosed()}),t.TgZ(15,"div",11),t.ynx(16),t.TgZ(17,"div",12)(18,"button",13),t.NdJ("click",function(){return l.openEmailModal()}),t.TgZ(19,"span",14),t._uU(20," add "),t.qZA(),t._uU(21," Compose "),t.qZA()(),t.BQk(),t.YNc(22,Al,3,1,"ng-container",15),t.YNc(23,Il,3,0,"ng-container",6),t.YNc(24,Nl,1,1,"ng-template",null,16,t.W1O),t.qZA()(),t.BQk()),2&i){const c=t.MAs(25);t.xp6(2),t.Q6J("ngIf",l.loading),t.xp6(2),t.Q6J("ngIf",!l.SMPTstatus),t.xp6(3),t.Q6J("ngIf",l.totalEntities),t.xp6(3),t.Q6J("ngForOf",l.tabs),t.xp6(1),t.Q6J("ngIf","All Entities"===l.activeTab),t.xp6(1),t.Q6J("ngIf","Groups"===l.activeTab),t.xp6(2),t.Q6J("isOpen",l.isHistoryOpen)("title","Email History")("showSync",!0)("isFetchingHistory",l.isFetchingHistory),t.xp6(8),t.Q6J("ngIf",(null==l.emailHistory?null:l.emailHistory.length)&&!l.isFetchingHistory)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf",l.isFetchingHistory)}},dependencies:[x.mk,x.sg,x.O5,Vt,tt,pl,x.OU,x.uU],styles:[".main_container[_ngcontent-%COMP%]{position:relative}.main_container[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{font-size:24px;font-weight:700;line-height:34px}.main_container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{border-top:1px solid #dddddd;border-bottom:1px solid #dddddd;background-color:#fff4e5}.main_container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]{border-left:3px solid #eb8600}.main_container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{color:#fff;display:flex;justify-content:center;align-items:center;width:40px;height:40px}.main_container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.main_container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]   .warning-title[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:19.2px}.main_container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:19.2px}.tab[_ngcontent-%COMP%]{width:766px;height:auto}.tab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;list-style:none;font-size:20px;font-weight:400;cursor:pointer}.tab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-right:40px}.tab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#b9b9b9;transition:.05s ease;text-decoration:none}.tab[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ef598c;position:relative;border-bottom:3px solid #ef598c;font-weight:500;cursor:context-menu;z-index:1;padding:3px}.email-item[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;background-color:#fff;border:1px solid #e0e0e0;border-radius:6px;box-shadow:0 2px 4px #0000001a}.email-item[_ngcontent-%COMP%]   .email-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;padding-bottom:8px;margin-bottom:10px;font-size:14px;color:#555}.email-item[_ngcontent-%COMP%]   .email-meta[_ngcontent-%COMP%]{margin:10px 0;font-size:12px;color:#666}.email-item[_ngcontent-%COMP%]   .email-status[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px;font-size:12px;color:#555}.email-item[_ngcontent-%COMP%]   .email-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;color:#fff;text-transform:uppercase}.email-item[_ngcontent-%COMP%]   .email-status[_ngcontent-%COMP%]   .status-badge.sent[_ngcontent-%COMP%]{background-color:#4caf50}.email-item[_ngcontent-%COMP%]   .email-status[_ngcontent-%COMP%]   .status-badge.received[_ngcontent-%COMP%]{background-color:#36def4}.email-item[_ngcontent-%COMP%]   .email-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:12px;color:#888}.email-item[_ngcontent-%COMP%]   .email-preview[_ngcontent-%COMP%]{cursor:pointer;font-size:14px;color:#333;background-color:#f8f8f8;padding:10px;border-radius:6px;transition:background-color .3s}.email-item[_ngcontent-%COMP%]   .email-preview[_ngcontent-%COMP%]:hover{background-color:#e8e8e8}.no-history-message[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#999;margin-top:20px}.break-word[_ngcontent-%COMP%]{word-wrap:break-word!important;overflow-wrap:break-word!important}.btn-primary[_ngcontent-%COMP%]{font-size:16px;border-radius:4px;height:36px}"]}),o})();var Ol=g(9493),ql=g.n(Ol);let Ul=(()=>{const a=class{static getGravatarUrl(n,i=200){return n?`https://www.gravatar.com/avatar/${ql()(n.trim().toLowerCase()).toString()}?s=${i}&d=identicon`:""}};let o=a;return a.\u0275fac=function(i){return new(i||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),o})();var El=g(1884),Jl=g(1481),Sl=g(6613);function Fl(o,a){1&o&&(t.ynx(0),t.TgZ(1,"option"),t._uU(2,"Select an Option"),t.qZA(),t.BQk())}function Ql(o,a){if(1&o&&(t.TgZ(0,"option",42),t._uU(1),t.qZA()),2&o){const e=a.$implicit,n=t.oxw();t.Q6J("value",e.id)("selected",e.id==(null==n.activeSMTP?null:n.activeSMTP.id)),t.xp6(1),t.hij(" ",e.username," ")}}function Ll(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",43)(1,"span",9),t._uU(2,"search"),t.qZA(),t.TgZ(3,"input",44),t.NdJ("ngModelChange",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.searchMailKey=i)})("input",function(i){t.CHM(e);const l=t.oxw();return t.KtG(l.onMailSearch(i))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("placeholder","Search Mail in "+e.getCleanedFolderName(e.activeMailFolder))("ngModel",e.searchMailKey)}}function Yl(o,a){if(1&o&&(t.TgZ(0,"span",45),t._uU(1),t.ALo(2,"date"),t.ALo(3,"UTCToLocalTime"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("Last Sync: ",t.lcZ(2,1,t.lcZ(3,3,e.smtpSyncDate)),"")}}function Gl(o,a){1&o&&(t.TgZ(0,"span",9),t._uU(1,"mail"),t.qZA())}function jl(o,a){1&o&&(t.TgZ(0,"span",9),t._uU(1,"description"),t.qZA())}function Hl(o,a){1&o&&(t.TgZ(0,"span",9),t._uU(1,"send"),t.qZA())}function $l(o,a){1&o&&(t.TgZ(0,"span",9),t._uU(1,"delete"),t.qZA())}function Dl(o,a){1&o&&(t.TgZ(0,"span",9),t._uU(1,"warning"),t.qZA())}function Vl(o,a){1&o&&(t.TgZ(0,"span",9),t._uU(1,"archive"),t.qZA())}const it=function(o){return{"active-mail-folder":o}};function zl(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"div",46),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.setActiveMailFolder(l))}),t.YNc(2,Gl,2,0,"span",47),t.YNc(3,jl,2,0,"span",47),t.YNc(4,Hl,2,0,"span",47),t.YNc(5,$l,2,0,"span",47),t.YNc(6,Dl,2,0,"span",47),t.YNc(7,Vl,2,0,"span",47),t.TgZ(8,"span"),t._uU(9),t.qZA()()()}if(2&o){const e=a.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(8,it,e==n.activeMailFolder)),t.xp6(1),t.Q6J("ngIf","Inbox"==e),t.xp6(1),t.Q6J("ngIf","Draft"==e),t.xp6(1),t.Q6J("ngIf","Sent"==e),t.xp6(1),t.Q6J("ngIf","Trash"==e),t.xp6(1),t.Q6J("ngIf","Spam"==e),t.xp6(1),t.Q6J("ngIf","Archive"==e),t.xp6(2),t.Oqu(e)}}function Kl(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li")(1,"div",46),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.setActiveMailFolder(l))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&o){const e=a.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,it,e==n.activeMailFolder)),t.xp6(2),t.Oqu(n.getCleanedFolderName(e))}}function Bl(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"h6",48),t._uU(2,"Others Folders"),t.qZA(),t.YNc(3,Kl,4,4,"li",18),t.BQk()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.otherMailFolders)}}function Rl(o,a){1&o&&(t.ynx(0),t.TgZ(1,"div",49)(2,"div",7)(3,"p")(4,"b"),t._uU(5,"No SMTP Connection Set"),t.qZA()(),t.TgZ(6,"a",50),t._uU(7,"Set SMTP"),t.qZA()()(),t.BQk())}function Wl(o,a){1&o&&(t.TgZ(0,"div",51),t._UZ(1,"div",52),t.qZA())}function Xl(o,a){1&o&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",53),t._uU(3,"No Mails"),t.qZA()(),t.BQk())}const lt=function(o){return{"fw-bold":o}};function ta(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr",55),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.setActiveEmail(l))}),t.TgZ(1,"td",56),t._uU(2),t.qZA(),t.TgZ(3,"td",56),t._uU(4),t.qZA(),t.TgZ(5,"td",56),t._uU(6),t.qZA(),t.TgZ(7,"td",57),t._uU(8),t.ALo(9,"date"),t.ALo(10,"UTCToLocalTime"),t.qZA()()}if(2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.Q6J("ngClass",t.VKq(10,lt,!(null!=e&&null!=e.flags&&e.flags.includes("Seen")))),t.xp6(2),t.hij(" ",n+1+(i.currentPage-1)*i.inpage," "),t.xp6(2),t.hij(" ",(null==e||null==e.from||null==e.from[0]?null:e.from[0].name)||(null==e||null==e.from||null==e.from[0]?null:e.from[0].address)," "),t.xp6(2),t.Oqu(e.subject),t.xp6(2),t.hij(" ",t.xi3(9,5,t.lcZ(10,8,e.date),"yyyy-MM-dd")," ")}}function ea(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ta,11,12,"tr",54),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.searchMailList)}}function na(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"tr",55),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.setActiveEmail(l))}),t.TgZ(1,"td",56),t._uU(2),t.qZA(),t.TgZ(3,"td",56),t._uU(4),t.qZA(),t.TgZ(5,"td",56),t._uU(6),t.qZA(),t.TgZ(7,"td",57),t._uU(8),t.ALo(9,"date"),t.ALo(10,"UTCToLocalTime"),t.qZA()()}if(2&o){const e=a.$implicit,n=a.index,i=t.oxw(2);t.Q6J("ngClass",t.VKq(10,lt,!(null!=e&&null!=e.flags&&e.flags.includes("Seen")))),t.xp6(2),t.hij(" ",n+1+(i.currentPage-1)*i.inpage," "),t.xp6(2),t.hij(" ",(null==e||null==e.from||null==e.from[0]?null:e.from[0].name)||(null==e||null==e.from||null==e.from[0]?null:e.from[0].address)," "),t.xp6(2),t.Oqu(e.subject),t.xp6(2),t.hij(" ",t.xi3(9,5,t.lcZ(10,8,e.date),"yyyy-MM-dd")," ")}}function oa(o,a){if(1&o&&t.YNc(0,na,11,12,"tr",54),2&o){const e=t.oxw();t.Q6J("ngForOf",e.smtpMails[null==e.activeSMTP?null:e.activeSMTP.id])}}function ia(o,a){if(1&o&&(t.TgZ(0,"option",42),t._uU(1),t.qZA()),2&o){const e=a.$implicit,n=a.index;t.Q6J("value",e)("selected",0===n),t.xp6(1),t.hij(" ",e," ")}}function la(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li",36)(1,"button",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onPageChange(1))}),t._uU(2," 1 "),t.qZA()()}if(2&o){const e=t.oxw();t.ekj("active",1===e.currentPage)}}function aa(o,a){1&o&&(t.TgZ(0,"li",36)(1,"span",58),t._uU(2,"..."),t.qZA()())}function ca(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li",36)(1,"button",37),t.NdJ("click",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onPageChange(l))}),t._uU(2),t.qZA()()}if(2&o){const e=a.$implicit,n=t.oxw();t.ekj("active",e===n.currentPage),t.xp6(2),t.hij(" ",e," ")}}function sa(o,a){1&o&&(t.TgZ(0,"li",36)(1,"span",58),t._uU(2,"..."),t.qZA()())}function ra(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"li",36)(1,"button",37),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onPageChange(i.totalPages))}),t._uU(2),t.qZA()()}if(2&o){const e=t.oxw();t.ekj("active",e.currentPage===e.totalPages),t.xp6(2),t.hij(" ",e.totalPages," ")}}function da(o,a){if(1&o&&(t.TgZ(0,"span",72),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("<",null==e.activeMail||null==e.activeMail.from||null==e.activeMail.from[0]?null:e.activeMail.from[0].address,">")}}function _a(o,a){if(1&o&&(t.TgZ(0,"span",76),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.Q6J("title",null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[1]?null:e.activeMail.to[1].address),t.xp6(1),t.hij(", ",(null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[1]?null:e.activeMail.to[1].name)||(null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[1]?null:e.activeMail.to[1].address),"")}}function pa(o,a){if(1&o&&(t.TgZ(0,"span",72),t._uU(1,"and "),t.TgZ(2,"span",78),t._uU(3,"more"),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(2),t.Q6J("title",e.getTextForMoreReceiver(null==e.activeMail?null:e.activeMail.to,2))}}function ua(o,a){if(1&o&&(t.TgZ(0,"div",75)(1,"span",72),t._uU(2,"to"),t.qZA(),t.TgZ(3,"span",76),t._uU(4),t.qZA(),t.YNc(5,_a,2,2,"span",77),t.YNc(6,pa,4,1,"span",70),t.qZA()),2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("title",null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[0]?null:e.activeMail.to[0].address),t.xp6(1),t.Oqu((null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[0]?null:e.activeMail.to[0].name)||(null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[0]?null:e.activeMail.to[0].address)),t.xp6(1),t.Q6J("ngIf",null==e.activeMail||null==e.activeMail.to?null:e.activeMail.to[1]),t.xp6(1),t.Q6J("ngIf",(null==e.activeMail||null==e.activeMail.to?null:e.activeMail.to.length)>2)}}function ma(o,a){if(1&o&&t._UZ(0,"img",83),2&o){const e=t.oxw().$implicit;t.Q6J("src",e,t.LSH)}}function ga(o,a){if(1&o&&(t.TgZ(0,"a",84),t._uU(1,"Document"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("href",e,t.LSH)}}function fa(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ma,1,1,"img",81),t.YNc(2,ga,2,1,"ng-template",null,82,t.W1O),t.BQk()),2&o){const e=a.$implicit,n=t.MAs(3),i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.isAttachmentImage(e))("ngIfElse",n)}}function ha(o,a){if(1&o&&(t.TgZ(0,"div")(1,"h6",79),t._uU(2,"Attachments"),t.qZA(),t.TgZ(3,"div",80),t.YNc(4,fa,4,2,"ng-container",18),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.activeMail.attachments)}}function Ca(o,a){if(1&o&&(t.TgZ(0,"span",72),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij("<",null==e||null==e.from||null==e.from[0]?null:e.from[0].address,">")}}function va(o,a){if(1&o&&(t.TgZ(0,"span",76),t._uU(1),t.qZA()),2&o){const e=t.oxw(5);t.Q6J("title",null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[1]?null:e.activeMail.to[1].address),t.xp6(1),t.hij(", ",(null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[1]?null:e.activeMail.to[1].name)||(null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[1]?null:e.activeMail.to[1].address),"")}}function xa(o,a){if(1&o&&(t.TgZ(0,"span",72),t._uU(1,"and "),t.TgZ(2,"span",78),t._uU(3,"more"),t.qZA()()),2&o){const e=t.oxw(5);t.xp6(2),t.Q6J("title",e.getTextForMoreReceiver(null==e.activeMail?null:e.activeMail.to,2))}}function ba(o,a){if(1&o&&(t.TgZ(0,"div",75)(1,"span",72),t._uU(2,"to"),t.qZA(),t.TgZ(3,"span",76),t._uU(4),t.qZA(),t.YNc(5,va,2,2,"span",77),t.YNc(6,xa,4,1,"span",70),t.qZA()),2&o){const e=t.oxw(4);t.xp6(3),t.Q6J("title",null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[0]?null:e.activeMail.to[0].address),t.xp6(1),t.Oqu((null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[0]?null:e.activeMail.to[0].name)||(null==e.activeMail||null==e.activeMail.to||null==e.activeMail.to[0]?null:e.activeMail.to[0].address)),t.xp6(1),t.Q6J("ngIf",null==e.activeMail||null==e.activeMail.to?null:e.activeMail.to[1]),t.xp6(1),t.Q6J("ngIf",(null==e.activeMail||null==e.activeMail.to?null:e.activeMail.to.length)>2)}}function ya(o,a){if(1&o&&t._UZ(0,"img",83),2&o){const e=t.oxw().$implicit;t.Q6J("src",e,t.LSH)}}function Ta(o,a){if(1&o&&(t.TgZ(0,"a",84),t._uU(1,"Document"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("href",e,t.LSH)}}function Za(o,a){if(1&o&&(t.ynx(0),t.YNc(1,ya,1,1,"img",81),t.YNc(2,Ta,2,1,"ng-template",null,82,t.W1O),t.BQk()),2&o){const e=a.$implicit,n=t.MAs(3),i=t.oxw(5);t.xp6(1),t.Q6J("ngIf",i.isAttachmentImage(e))("ngIfElse",n)}}function wa(o,a){if(1&o&&(t.TgZ(0,"div")(1,"h6",79),t._uU(2,"Attachments"),t.qZA(),t.TgZ(3,"div",80),t.YNc(4,Za,4,2,"ng-container",18),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.Q6J("ngForOf",e.attachments)}}function Ma(o,a){if(1&o&&(t.TgZ(0,"div")(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"div",66)(4,"div",67),t._UZ(5,"img",68),t.TgZ(6,"div",7)(7,"div",69)(8,"span"),t._uU(9),t.qZA(),t.YNc(10,Ca,2,1,"span",70),t.qZA(),t.YNc(11,ba,7,4,"div",71),t.qZA()(),t.TgZ(12,"span",72),t._uU(13),t.ALo(14,"date"),t.ALo(15,"UTCToLocalTime"),t.qZA()(),t.TgZ(16,"div",86),t._UZ(17,"iframe",87),t.qZA(),t.YNc(18,wa,5,1,"div",4),t._UZ(19,"hr"),t.qZA()),2&o){const e=a.$implicit,n=t.oxw(3);t.xp6(2),t.Oqu(e.subject),t.xp6(3),t.Q6J("src",n.getGravatar(null==e||null==e.from||null==e.from[0]?null:e.from[0].address),t.LSH),t.xp6(4),t.Oqu((null==e||null==e.from||null==e.from[0]?null:e.from[0].name)||(null==e||null==e.from||null==e.from[0]?null:e.from[0].address)),t.xp6(1),t.Q6J("ngIf",null==e||null==e.from||null==e.from[0]?null:e.from[0].name),t.xp6(1),t.Q6J("ngIf",null==n.activeMail||null==n.activeMail.to?null:n.activeMail.to.length),t.xp6(2),t.Oqu(t.xi3(14,8,t.lcZ(15,11,e.date),"medium")),t.xp6(4),t.Q6J("srcdoc",n.activeMail.html||n.activeMail.textAsHtml,t.oJD),t.xp6(1),t.Q6J("ngIf",null==e||null==e.attachments?null:e.attachments.length)}}function Aa(o,a){if(1&o&&(t.ynx(0),t._UZ(1,"hr"),t.TgZ(2,"h4"),t._uU(3,"Replies"),t.qZA(),t._UZ(4,"hr"),t.TgZ(5,"div",85),t.YNc(6,Ma,20,13,"div",18),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(6),t.Q6J("ngForOf",null==e.activeMailReplies?null:e.activeMailReplies[null==e.activeMail?null:e.activeMail.messageId])}}function Ia(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",59)(1,"div",60),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.removeActiveEmail())}),t.qZA(),t.TgZ(2,"div",61)(3,"div",62)(4,"a",63),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.removeActiveEmail())}),t.TgZ(5,"span",64),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"div",65)(8,"h4"),t._uU(9),t.qZA(),t.TgZ(10,"div",66)(11,"div",67),t._UZ(12,"img",68),t.TgZ(13,"div",7)(14,"div",69)(15,"span"),t._uU(16),t.qZA(),t.YNc(17,da,2,1,"span",70),t.qZA(),t.YNc(18,ua,7,4,"div",71),t.qZA()(),t.TgZ(19,"span",72),t._uU(20),t.ALo(21,"date"),t.ALo(22,"UTCToLocalTime"),t.qZA()(),t.TgZ(23,"div",73),t._UZ(24,"iframe",74),t.qZA(),t.YNc(25,ha,5,1,"div",4),t.qZA(),t.YNc(26,Aa,7,1,"ng-container",4),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(9),t.Oqu(e.activeMail.subject),t.xp6(3),t.Q6J("src",e.getGravatar(null==e.activeMail||null==e.activeMail.from||null==e.activeMail.from[0]?null:e.activeMail.from[0].address),t.LSH),t.xp6(4),t.Oqu((null==e.activeMail||null==e.activeMail.from||null==e.activeMail.from[0]?null:e.activeMail.from[0].name)||(null==e.activeMail||null==e.activeMail.from||null==e.activeMail.from[0]?null:e.activeMail.from[0].address)),t.xp6(1),t.Q6J("ngIf",null==e.activeMail||null==e.activeMail.from||null==e.activeMail.from[0]?null:e.activeMail.from[0].name),t.xp6(1),t.Q6J("ngIf",null==e.activeMail||null==e.activeMail.to?null:e.activeMail.to.length),t.xp6(2),t.Oqu(t.xi3(21,9,t.lcZ(22,12,e.activeMail.date),"medium")),t.xp6(4),t.Q6J("src",(null==e.mailContentSrc?null:e.mailContentSrc[null==e.activeMail?null:e.activeMail.id])||"",t.uOi),t.xp6(1),t.Q6J("ngIf",null==e.activeMail||null==e.activeMail.attachments?null:e.activeMail.attachments.length),t.xp6(1),t.Q6J("ngIf",null==e.activeMailReplies||null==e.activeMailReplies[null==e.activeMail?null:e.activeMail.messageId]?null:e.activeMailReplies[null==e.activeMail?null:e.activeMail.messageId].length)}}const Pa=[{path:"",component:kl},{path:"view/:entityId",component:ot},{path:"mails",component:(()=>{const a=class{constructor(n,i,l,c){this._nodeService=n,this._snackbarService=i,this._modalService=l,this.sanitizer=c,this.loading=!0,this.emailLoading=!0,this.searchMailKey="",this.smtpList=[],this.searchingMail=!1,this.searchMailList=[],this.defaultMailFolders=["Inbox","Sent","Draft","Trash","Spam","Archive"],this.activeMailFolder="Inbox",this.otherMailFolders=[],this.activeMailReplies={},this.syncingSmtp=!0,this.mailContentSrc={},this.mailPaginationCache=new Map,this.smtpSyncDate="",this.smtpMails={},this.validImageExtension=["png","jpeg","jpg","gif","svg","webp"],this.validDocumentExtension=["pdf","txt","docx","doc","xls","xlsx","ppt","pptx","cs","mp4","mp3","m4a","wav","mov","flv","ogg","webm"],this.modelChanged=new et.x,this.onMailSearch=s=>this.modelChanged.next(s.target.value),this.rows=[10,20,50],this.inpage=10,this.currentPage=1,this.totalPages=1,this.middlePages=[]}ngOnInit(){this.loadSmtpList(),this.checkSmtpSyncStatus(!1),this.modelChanged.pipe((0,nt.b)(300),(0,El.x)()).subscribe({next:n=>{this.searchingMail=!!n,this.currentPage=1,this.fetchMail(this.searchMailKey)}})}getGravatar(n){return Ul.getGravatarUrl(n)}checkSmtpSyncStatus(n=!0){this._nodeService.checkSmtpSyncStatus().subscribe({next:i=>{1==i?.sync?(this.syncingSmtp=i.sync,setTimeout(()=>{this.checkSmtpSyncStatus()},1e4)):0==i?.sync&&(this.syncingSmtp=!1,this.fetchLastSyncDate()),this.activeSMTP&&!this.syncingSmtp&&n&&this.fetchMail()},error:i=>{this._snackbarService.openSnackBar("Failed to check SMTP sync","error"),console.debug(i)}})}loadSmtpList(){this._nodeService.getSmtpServerList().subscribe({next:n=>{this.smtpList=n.data,this.activeSMTP=this.smtpList.find(i=>"true"==i.active),this.fetchLastSyncDate(),this.activeSMTP?.id&&this.getSmtpExtraMailFolders(this.activeSMTP?.id),this.activeSMTP?this.fetchMail():this.emailLoading=!1},error:()=>this.emailLoading=!1,complete:()=>this.loading=!1})}changeSMTPOption(n){const i=n.target.value;i&&(this.activeSMTP=this.smtpList.find(l=>l.id==i),this.activeSMTP&&(this.searchingMail=!1,this.searchMailList=[],this.searchMailKey="",this.getSmtpExtraMailFolders(this.activeSMTP.id),this.activeMailFolder="Inbox",this.resetPagination(),this.fetchMail(),this.fetchLastSyncDate()))}setActiveEmail(n){this.activeMail=n,this.fetchReplies(this.activeMail.messageId),this.createMailIframeSrc(n),this.activeMail?.uid&&this.markEmailAsRead(void 0,[Number(this.activeMail?.uid)])}removeActiveEmail(){this.activeMail=void 0}createMailIframeSrc(n){const i=new Blob([n.html||n.textAsHtml],{type:"text/html"}),l=URL.createObjectURL(i);this.mailContentSrc[n.id]=this.sanitizer.bypassSecurityTrustResourceUrl(l)}setActiveMailFolder(n){this.searchingMail=!1,this.searchMailList=[],this.searchMailKey="",this.activeMailFolder=n,this.resetPagination(),this.fetchMail()}isAttachmentImage(n){const i=n.split(".");return!!this.validImageExtension.includes(i[i.length-1])}syncAllSmtpMails(){this.syncingSmtp=!0,this._nodeService.syncAllSmtpMails().subscribe({error:n=>console.error(n),complete:()=>{this.checkSmtpSyncStatus()}})}getSmtpExtraMailFolders(n){this.otherMailFolders=[];const i=new _.LtL;i.name="mail_type",i.typeConnection="smtpDetail_s_mail_folder_type";const l=new _.LtL;l.name="smtp",l.conceptIds=[n],l.freeschemaQueries=[i];const c=localStorage.getItem("profile"),s=JSON.parse(c||"");(0,_.og0)(l,s.token).subscribe(d=>{console.log("value types",d);const u=d?.[0]?.smtpDetail?.smtpDetail_s_mail_folder_type;for(let m=0;m<u?.length;m++)this.otherMailFolders=[...new Set([...this.otherMailFolders,u[m]?.the_mail_folder||""])]})}formatMails(n){const i=[];for(let l=0;l<n.length;l++){const c=n[l],s=c?.the_mail?.data?.the_mail_s_from?.map(u=>({name:u?.the_from?.data?.the_from_name?.the_name?.data,address:u?.the_from?.data?.the_from_address?.the_address?.data})),d=c?.the_mail?.data?.the_mail_s_to?.map(u=>({name:u?.the_to?.data?.the_to_name?.the_name?.data,address:u?.the_to?.data?.the_to_address?.the_address?.data}));i?.push({id:c?.the_mail?.id,textAsHtml:c?.the_mail?.data?.the_mail_textashtml?.the_textAsHtml?.data,text:c?.the_mail?.data?.the_mail_text?.the_text?.data,html:c?.the_mail?.data?.the_mail_html?.the_html?.data,headers:c?.the_mail?.data?.the_mail_headers?.the_headers?.data,date:c?.the_mail?.data?.the_mail_date?.the_date?.data,receivedDate:c?.the_mail?.data?.the_mail_receiveddate?.the_receivedDate?.data,subject:c?.the_mail?.data?.the_mail_subject?.the_subject?.data,uid:c?.the_mail?.data?.the_mail_uid?.the_uid?.data,messageId:c?.the_mail?.data?.the_mail_messageid?.the_messageId?.data,inReplytTo:c?.the_mail?.data?.the_mail_inreplyto?.the_inReplyTo?.data,from:s,to:d,attachments:c?.the_mail?.data?.the_mail_s_attachment?.map(u=>u?.the_attachment?.data)||[],flags:c?.the_mail?.data?.the_mail_s_flag?.map(u=>u?.the_flag?.data)||[]})}return i}composeMail(){const n=this._modalService.open(z,{size:"md"});n.componentInstance.smtp=this.activeSMTP,n.componentInstance.saveInEmail=!0}fetchMail(n){var i=this;return(0,M.Z)(function*(){if(!i.activeSMTP||!i.activeMailFolder||i.searchingMail&&!n)return;i.emailLoading=!0;let l=`smtp-${i.activeSMTP.id}-folder-${i.activeMailFolder}-page-${i.currentPage}-inpage-${i.inpage}`;i.searchingMail&&(l=`search-${n}-${l}`),i.mailPaginationCache.has(l)&&(i.searchingMail?i.searchMailList=i.mailPaginationCache.get(l)||[]:i.smtpMails[i.activeSMTP.id]=i.mailPaginationCache.get(l)||[],i.emailLoading=!1);const c=localStorage.getItem("profile"),s=JSON.parse(c||"");let d="mail";d&&(d=i.activeMailFolder);const u=new _.Kbf;u.name="mailFolderFilter",u.type="the_mail_folder",u.logicoperator="=",u.search=i.activeMailFolder,u.operateon="mailFolder";const m=new _.Kbf;m.name="subjectFilter",m.type="the_subject",m.logicoperator="like",m.search=n||"",m.operateon="subject";const p=new _.Kbf;p.name="mailTextFilter",p.type="the_text",p.logicoperator="like",p.search=n||"",p.operateon="mail_text";const h=new _.LtL;h.name="mailFolder",h.typeConnection="the_mail_s_mail_folder";const f=new _.LtL;f.name="flag",f.typeConnection="the_mail_s_flag";const C=new _.LtL;C.name="attachment",C.typeConnection="the_mail_s_attachment";const b=new _.LtL;b.name="inReplyTo",b.typeConnection="the_mail_inreplyto";const w=new _.LtL;w.name="subject",w.typeConnection="the_mail_subject";const v=new _.LtL;v.name="mail_text",v.typeConnection="the_mail_text";const T=new _.LtL;T.name="to",T.typeConnection="the_mail_s_to",T.selectors=["the_to_address","the_to_name"];const Z=new _.LtL;Z.name="from",Z.typeConnection="the_mail_s_from",Z.selectors=["the_from_address","the_from_name"];const y=new _.LtL;y.name="mail",y.typeConnection=i.defaultMailFolders.includes(d)?`smtpDetail_s_${d.toLocaleLowerCase()}`:"smtpDetail_s_mail",y.freeschemaQueries=[w,Z,T,C,f,v,b,h],y.selectors=["the_mail_uid","the_mail_messageid","the_mail_receiveddate","the_mail_date","the_mail_headers","the_mail_html","the_mail_textashtml"],y.order="DESC",y.includeInFilter=!0,y.page=i.currentPage,y.inpage=i.inpage,y.limit=!0;const A=new _.LtL;A.name="smtp",A.conceptIds=[i.activeSMTP?.id],A.freeschemaQueries=[y],A.outputFormat=_.Zec,i.searchingMail?(A.filters=[m,p],A.filterLogic="( subjectFilter OR mailTextFilter )"):i.defaultMailFolders.includes(d)||(A.filters=[u],A.filterLogic="( mailFolderFilter )");const q=yield(0,_.T0c)(A,s.token);let k=i.defaultMailFolders.includes(d)?q?.[0]?.smtpDetail?.[`smtpDetail_s_${d.toLowerCase()}`]||[]:q?.[0]?.smtpDetail?.smtpDetail_s_mail||[];k=i.formatMails(k);const N=i.defaultMailFolders.includes(d)?q?.[0]?.[`smtpDetail_s_${d.toLowerCase()}_count`]||0:q?.[0]?.smtpDetail_s_mail_count||0;i.totalPages=Math.ceil(N/i.inpage),i.updateMiddlePages(),i.searchingMail?i.searchMailList=k:i.smtpMails[i.activeSMTP.id]=k,console.log("mails",k,q),i.mailPaginationCache.set(l,k),i.emailLoading=!1})()}markEmailAsRead(n="INBOX",i=[]){if("Inbox"!=this.activeMailFolder||this.searchingMail)return;const l=this.smtpMails[this?.activeSMTP?.id]?.filter(c=>i.includes(Number(c.uid))&&!c.flags.includes("Seen"));this.smtpMails[this.activeSMTP?.id]=this.smtpMails[this?.activeSMTP?.id]?.map(c=>i.includes(Number(c.uid))&&!c.flags.includes("Seen")?{...c,flags:[...c.flags,"Seen"]}:c),0!=l.length&&this._nodeService.markEmailAsRead(this.activeSMTP.id,{folder:n,uids:i}).subscribe({next:()=>{const c=localStorage.getItem("profile"),s=JSON.parse(c||"").token,d=JSON.parse(c||"").userId,u=new _.LtL;u.name="mail",u.typeConnection="smtpDetail_s_inbox",u.selectors=["the_mail_uid","the_mail_s_flag"];const m=new _.LtL;m.conceptIds=[this.activeSMTP.id],m.freeschemaQueries=[u],m.outputFormat=_.Zec,(0,_.og0)(m,s).subscribe(function(){var p=(0,M.Z)(function*(h){const f=[],C=h?.[0]?.smtpDetail?.smtpDetail_s_inbox;for(let v=0;v<C?.length;v++){const T=C[v],Z=T?.the_mail?.data?.the_mail_s_flag?.map(y=>({id:y?.the_flag?.id,flag:y?.the_flag?.data}))||[];f.push({id:T?.the_mail?.id,uid:Number(T?.the_mail?.data?.the_mail_uid?.the_uid?.data||""),flags:Z})}const w=f.filter(v=>i.includes(v.uid)).filter(v=>!v.flags.map(Z=>Z.flag).includes("Seen"));for(let v=0;v<w.length;v++){const T=w[v],Z=yield(0,_.J0M)(T.id),y=yield(0,_.Fsb)("the_flag","Seen",!1,d,4);yield(0,_.G$0)(Z,y,"s_flag")}yield _.smK.SyncDataOnline()});return function(h){return p.apply(this,arguments)}}())},error:c=>console.error(c)})}fetchReplies(n){var i=this;return(0,M.Z)(function*(){i.emailLoading=!0;const l=new _.Kbf;l.name="inReplyToFilter",l.type="the_inReplyTo",l.logicoperator="like",l.search=n,l.operateon="inReplyTo";const c=localStorage.getItem("profile"),s=JSON.parse(c||""),d=new _.LtL;d.name="flag",d.typeConnection="the_mail_s_flag";const u=new _.LtL;u.name="attachment",u.typeConnection="the_mail_s_attachment";const m=new _.LtL;m.name="inReplyTo",m.typeConnection="the_mail_inreplyto";const p=new _.LtL;p.name="to",p.typeConnection="the_mail_s_to",p.selectors=["the_to_address","the_to_name"];const h=new _.LtL;h.name="from",h.typeConnection="the_mail_s_from",h.selectors=["the_from_address","the_from_name"];const f=new _.LtL;f.name="mail",f.typeConnection=i.defaultMailFolders.includes(i.activeMailFolder)?`smtpDetail_s_${i.activeMailFolder.toLocaleLowerCase()}`:"smtpDetail_s_mail",f.freeschemaQueries=[h,p,u,d,m],f.selectors=["the_mail_uid","the_mail_messageid","the_mail_receiveddate","the_mail_date","the_mail_headers","the_mail_html","the_mail_textashtml","the_mail_text","the_mail_subject"],f.includeInFilter=!0;const C=new _.LtL;C.name="smtp",C.conceptIds=[i.activeSMTP?.id],C.freeschemaQueries=[f],C.filters=[l],C.filterLogic="( inReplyToFilter )",C.outputFormat=_.Zec;const b=yield(0,_.T0c)(C,s.token);let w=i.defaultMailFolders.includes(i.activeMailFolder)?b?.[0]?.smtpDetail?.[`smtpDetail_s_${i.activeMailFolder.toLowerCase()}`]||[]:b?.[0]?.smtpDetail?.smtpDetail_s_mail||[];w=i.formatMails(w),i.activeMailReplies[n]=w,i.emailLoading=!1})()}resetPagination(){this.inpage=10,this.currentPage=1,this.totalPages=1}onItemsPerPageChange(n){const i=n.target;i&&i.value&&(this.currentPage=1,this.inpage=Number(i.value),this.fetchMail())}onPageChange(n){var i=this;return(0,M.Z)(function*(){n<1||n>i.totalPages||(i.currentPage=n,i.fetchMail(i.searchMailKey),i.updateMiddlePages())})()}updateMiddlePages(){if(this.totalPages<=2)this.middlePages=[];else if(3===this.totalPages)this.middlePages=[2];else{const i=[],l=Math.max(2,this.currentPage-2),c=Math.min(this.totalPages-1,this.currentPage+2);for(let s=l;s<=c;s++)i.push(s);this.middlePages=i}}fetchLastSyncDate(){var n=this;return(0,M.Z)(function*(){n.activeSMTP&&(0,_.$Er)(n.activeSMTP.id,"smtpDetail_last_synced").then(i=>{n.smtpSyncDate=i?.[0]?.data?.the_syncDate||""})})()}getCleanedFolderName(n){return n.startsWith("[Gmail]/")?n.slice(8,n.length):n}getTextForMoreReceiver(n,i){let l="";for(let c=0;c<n.length;c++){const s=n[c];c<i||(l+=s?.name||s?.address,c<n.length-1&&(l+=", \n"))}return l}};let o=a;return a.\u0275fac=function(i){return new(i||a)(t.Y36(Y.s),t.Y36(G.o),t.Y36(O.FF),t.Y36(Jl.H7))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mail-consolate"]],decls:68,vars:26,consts:[[1,"container"],[1,"d-flex","justify-content-between","align-items-start","m-2"],[1,"d-flex","align-items-center","gap-2"],[1,"form-select","from-select-sm",3,"change"],[4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],["class","input-container",4,"ngIf"],[1,"d-flex","flex-column"],[1,"btn","btn-primary","d-flex","align-items-center","gap-2",3,"disabled","click"],[1,"material-symbols-outlined"],["class","text-muted text-center fs-14",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[1,"mb-4","d-flex"],["type","button",1,"btn","btn-primary","btn-sm","d-flex","align-items-center","w-100","gap-2",3,"click"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"col-md-9"],["class","loading",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered"],[2,"width","50px"],["width","25%"],[1,"flex-grow-1"],["width","15%"],[2,"font-size","14px"],[4,"ngIf","ngIfElse"],["currentMailList",""],[1,"page-navigation","example","mt-4","d-flex","flex-column","flex-lg-row","justify-content-between","align-items-center"],[1,"d-flex","flex-column","flex-lg-row","align-items-center","mb-3","mb-lg-0"],[1,"col-md-6"],["id","agentType",1,"form-select","py-2","shadow-none",3,"ngModel","ngModelChange","change"],["value","","disabled",""],[1,"pagination","mb-0"],[1,"page-item"],[1,"page-link","cursor-pointer",3,"click"],["class","page-item",3,"active",4,"ngIf"],["class","page-item",4,"ngIf"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["class","detail",4,"ngIf"],[3,"value","selected"],[1,"input-container"],["type","text",3,"placeholder","ngModel","ngModelChange","input"],[1,"text-muted","text-center","fs-14"],[1,"px-3","py-1","bg-info","bg-opacity-25","rounded","mb-1","cursor-pointer","d-flex","align-items-center","gap-2",3,"ngClass","click"],["class","material-symbols-outlined",4,"ngIf"],[1,"fw-bold","mt-3"],[1,"d-flex","align-items-center","justify-content-center"],["href","/smtp",1,"btn","btn-primary"],[1,"loading"],[1,"loader"],["colspan","4",1,"py-0","text-center"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"py-0"],[1,"py-0","text-muted"],[1,"page-link"],[1,"detail"],[2,"height","100vh","width","calc(100% - 800px)",3,"click"],[1,"detail-body","p-4"],[1,"d-flex","align-items-center","justify-content-end"],["role","button",3,"click"],[1,"material-symbols-outlined","text-danger"],[1,"h-75"],[1,"d-flex","flex-row","justify-content-between","align-items-start","mb-3"],[1,"d-flex","flex-row","gap-3"],["alt","",1,"avatar",3,"src"],[1,"d-flex","gap-2","flex-row"],["class","text-muted fs-14",4,"ngIf"],["class","d-flex gap-1 flex-row",4,"ngIf"],[1,"text-muted","fs-14"],[1,"p-3","h-100"],[3,"src"],[1,"d-flex","gap-1","flex-row"],[1,"text-muted","fs-14",3,"title"],["class","text-muted fs-14",3,"title",4,"ngIf"],[1,"text-primary",3,"title"],[1,"fw-bold"],[1,"d-flex","flex-row","flex-wrap","gap-2"],["alt","Image Attachment","class","mail-attachment border shadow-sm",3,"src",4,"ngIf","ngIfElse"],["documentCheck",""],["alt","Image Attachment",1,"mail-attachment","border","shadow-sm",3,"src"],["target","_blank",1,"bg-muted","mail-attachment","border","shadow-sm",3,"href"],[1,"p-4"],[1,"p-3"],[3,"srcdoc"]],template:function(i,l){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"select",3),t.NdJ("change",function(s){return l.changeSMTPOption(s)}),t.YNc(4,Fl,3,0,"ng-container",4),t.YNc(5,Ql,2,3,"option",5),t.qZA(),t.YNc(6,Ll,4,2,"div",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){return l.syncAllSmtpMails()}),t.TgZ(9,"span",9),t._uU(10,"sync"),t.qZA(),t.TgZ(11,"span"),t._uU(12),t.qZA()(),t.YNc(13,Yl,4,5,"span",10),t.qZA()(),t.TgZ(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"button",16),t.NdJ("click",function(){return l.composeMail()}),t.TgZ(20,"span",9),t._uU(21," add "),t.qZA(),t._uU(22," Compose "),t.qZA()(),t.TgZ(23,"ul",17),t.YNc(24,zl,10,10,"li",18),t.YNc(25,Bl,4,1,"ng-container",4),t.qZA()(),t.TgZ(26,"div",19),t.YNc(27,Rl,8,0,"ng-container",4),t.YNc(28,Wl,2,0,"div",20),t.TgZ(29,"h4"),t._uU(30),t.qZA(),t.TgZ(31,"div",21)(32,"table",22)(33,"thead")(34,"tr")(35,"th",23),t._uU(36,"S.N."),t.qZA(),t.TgZ(37,"th",24),t._uU(38,"Sender"),t.qZA(),t.TgZ(39,"th",25),t._uU(40,"Subject"),t.qZA(),t.TgZ(41,"th",26),t._uU(42,"Date"),t.qZA()()(),t.TgZ(43,"tbody",27),t.YNc(44,Xl,4,0,"ng-container",4),t.YNc(45,ea,2,1,"ng-container",28),t.YNc(46,oa,1,1,"ng-template",null,29,t.W1O),t.qZA()()(),t.TgZ(48,"div",30)(49,"div",31)(50,"div",32)(51,"select",33),t.NdJ("ngModelChange",function(s){return l.inpage=s})("change",function(s){return l.onItemsPerPageChange(s)}),t.TgZ(52,"option",34),t._uU(53,"Select items per page"),t.qZA(),t.YNc(54,ia,2,3,"option",5),t.qZA()()(),t.TgZ(55,"ul",35)(56,"li",36)(57,"button",37),t.NdJ("click",function(){return l.onPageChange(l.currentPage-1)}),t._uU(58," Previous "),t.qZA()(),t.YNc(59,la,3,2,"li",38),t.YNc(60,aa,3,0,"li",39),t.YNc(61,ca,3,3,"li",40),t.YNc(62,sa,3,0,"li",39),t.YNc(63,ra,3,3,"li",38),t.TgZ(64,"li",36)(65,"button",37),t.NdJ("click",function(){return l.onPageChange(l.currentPage+1)}),t._uU(66," Next "),t.qZA()()()()()()()(),t.YNc(67,Ia,27,14,"div",41),t.qZA()),2&i){const c=t.MAs(47);t.xp6(4),t.Q6J("ngIf",0==l.smtpList.length),t.xp6(1),t.Q6J("ngForOf",l.smtpList),t.xp6(1),t.Q6J("ngIf",null==l.activeSMTP?null:l.activeSMTP.id),t.xp6(2),t.Q6J("disabled",l.syncingSmtp),t.xp6(4),t.Oqu(l.syncingSmtp?"Sync Progress Checking ...":"Sync All SMTP"),t.xp6(1),t.Q6J("ngIf",l.smtpSyncDate),t.xp6(11),t.Q6J("ngForOf",l.defaultMailFolders),t.xp6(1),t.Q6J("ngIf",null==l.otherMailFolders?null:l.otherMailFolders.length),t.xp6(2),t.Q6J("ngIf",0==l.smtpList.length&&!l.loading),t.xp6(1),t.Q6J("ngIf",l.emailLoading),t.xp6(2),t.hij(" ",l.searchingMail?"Search Results":"All Mails From "+l.getCleanedFolderName(l.activeMailFolder)," "),t.xp6(14),t.Q6J("ngIf",l.searchingMail&&0==l.searchMailList.length||!l.searchingMail&&0==(null==l.smtpMails[null==l.activeSMTP?null:l.activeSMTP.id]?null:l.smtpMails[null==l.activeSMTP?null:l.activeSMTP.id].length)),t.xp6(1),t.Q6J("ngIf",l.searchingMail)("ngIfElse",c),t.xp6(6),t.Q6J("ngModel",l.inpage),t.xp6(3),t.Q6J("ngForOf",l.rows),t.xp6(2),t.ekj("disabled",1===l.currentPage),t.xp6(3),t.Q6J("ngIf",l.totalPages>=1),t.xp6(1),t.Q6J("ngIf",l.middlePages.length&&l.currentPage>3),t.xp6(1),t.Q6J("ngForOf",l.middlePages),t.xp6(1),t.Q6J("ngIf",l.middlePages.length&&l.currentPage<l.totalPages-2),t.xp6(1),t.Q6J("ngIf",l.totalPages>=2),t.xp6(1),t.ekj("disabled",l.currentPage===l.totalPages),t.xp6(3),t.Q6J("ngIf",l.activeMail)}},dependencies:[x.mk,x.sg,x.O5,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.On,x.uU,Sl.u],styles:[".detail[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100%;z-index:1000;background-color:#0006;display:flex;justify-content:end}.detail[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]{top:0;right:0;height:100vh;width:800px;background-color:#fff;overflow:scroll}.detail[_ngcontent-%COMP%]   .detail-body[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%}.mail-attachment[_ngcontent-%COMP%]{height:100px;width:100px;object-fit:contain;background-color:#f5f5f5;display:flex;align-items:center;justify-content:center}.active-mail-folder[_ngcontent-%COMP%]{color:#eee;background:linear-gradient(to top,rgb(255,148,114),rgb(242,112,156))}.avatar[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%}.input-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 20px 10px 40px;font-size:16px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;height:42px}.input-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;left:10px;transform:translateY(-50%);font-size:18px;color:#aaa}.pagination[_ngcontent-%COMP%]{padding:0}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;margin:0 5px}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:600;border:none;list-style:none;background-color:transparent}.pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]{display:flex;align-items:center;width:28px;height:28px;font-size:13px;font-weight:600;border:1px solid #dddddd!important;border-radius:4px;padding:10px;background-color:#f4f4f4;cursor:pointer;transition:background-color .3s ease}.pagination[_ngcontent-%COMP%]   .page-button[_ngcontent-%COMP%]:hover{background-color:#f2709c!important;color:#fff}.pagination[_ngcontent-%COMP%]   .page-button.active[_ngcontent-%COMP%]{background-color:#f2709c!important;border-radius:5px;color:#fff}.pagination[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#e9ecef;color:#6c757d;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   .ellipsis[_ngcontent-%COMP%]{padding:6px 10px;color:#6c757d;line-height:1.5}.page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#f586a3;color:#fff;border-color:#f586a3;font-weight:700;cursor:pointer}"]}),o})()}];let Na=(()=>{const a=class{};let o=a;return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[S.Bz.forChild(Pa),S.Bz]}),o})();var ka=g(8255),Oa=g(4385),qa=g(7392),Ua=g(5098),Ea=g(4144),Ja=g(9549);let Sa=(()=>{const a=class{};let o=a;return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[Ea.c,Ja.lN,x.ez,Na,B.ot,ka.Tx,r.u5,O.IJ,r.UX,Oa.LD,O.XC,B.ot,qa.Ps,Ua.CapturesModule,H._t,$.FP.forRoot({locals:{bold:"Bold",italic:"Italic",code:"Code",blockquote:"Blockquote",underline:"Underline",strike:"Strike",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"}})]}),o})()}}]);