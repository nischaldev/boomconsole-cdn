"use strict";(self.webpackChunkngx_boomconsole=self.webpackChunkngx_boomconsole||[]).push([[2353],{2353:(x,d,n)=>{n.r(d),n.d(d,{AccountingModule:()=>U});var u=n(6895),g=n(7518),h=n(2902),Z=n(4128),t=n(4650),T=n(8154);function p(o,e){if(1&o&&(t.ynx(0),t.TgZ(1,"div",3)(2,"div",4)(3,"h4",5),t._uU(4,"Affiliate Account"),t.qZA(),t.TgZ(5,"div",6)(6,"div",7)(7,"h6",8),t._uU(8,"Dr."),t.qZA(),t.TgZ(9,"table",9)(10,"thead",10)(11,"tr")(12,"th"),t._uU(13,"Date"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Particulars"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Amount"),t.qZA()()(),t.TgZ(18,"tbody")(19,"tr"),t._UZ(20,"td"),t.TgZ(21,"td"),t._uU(22,"To, Receivable a/c"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA()()(),t.TgZ(25,"tfoot")(26,"tr")(27,"td",11)(28,"b"),t._uU(29,"Total"),t.qZA()(),t.TgZ(30,"td")(31,"b"),t._uU(32),t.qZA()()()()()(),t.TgZ(33,"div",7)(34,"h6",12),t._uU(35,"Cr."),t.qZA(),t.TgZ(36,"table",9)(37,"thead",10)(38,"tr")(39,"th"),t._uU(40,"Date"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"Particulars"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"Account"),t.qZA()()(),t.TgZ(45,"tbody")(46,"tr"),t._UZ(47,"td"),t.TgZ(48,"td"),t._uU(49,"By, Payable a/c"),t.qZA(),t.TgZ(50,"td"),t._uU(51),t.qZA()()(),t.TgZ(52,"tfoot")(53,"tr")(54,"td",11)(55,"b"),t._uU(56,"Total"),t.qZA()(),t.TgZ(57,"td")(58,"b"),t._uU(59),t.qZA()()()()()()()()(),t.BQk()),2&o){const l=t.oxw();t.xp6(24),t.Oqu(l.journalTotal.debitTotal),t.xp6(8),t.Oqu(l.journalTotal.debitTotal),t.xp6(19),t.Oqu(l.journalTotal.creditTotal),t.xp6(8),t.Oqu(l.journalTotal.creditTotal)}}function m(o,e){1&o&&(t.TgZ(0,"div",13),t._UZ(1,"div",14),t.qZA())}const v=[{path:"ledger",component:(()=>{const e=class{constructor(a){this._itemService=a,this.loader=!1,this.journalTotal={debitTotal:0,creditTotal:0}}ngOnInit(){const a=localStorage.getItem("profile");let i;a&&(i=JSON.parse(a).email),i?.startsWith("admin@boomcon")?this._itemService.getOwner().subscribe({next:r=>{this.ownerConceptId=r.data,this.getEntries()}}):a&&(this.ownerConceptId=JSON.parse(a).userConcept,this.getEntries())}getEntries(){this.loader=!0,(0,Z.D)({debitValue:this._itemService.getLink(this.ownerConceptId,`${h.Tj}_s`,1,1e3),creditValue:this._itemService.getLink(this.ownerConceptId,`${h.Fc}_s`,1,1e3)}).subscribe({next:({debitValue:a,creditValue:i})=>{let r=0,s=0;a.output.map(c=>r+=parseFloat(c.data.journal_transaction.price)),i.output.map(c=>s+=parseFloat(c.data.journal_transaction.price)),console.log(r,s),this.journalTotal.debitTotal=parseFloat(r.toFixed(4)),this.journalTotal.creditTotal=parseFloat(s.toFixed(4))},error:a=>console.log(a),complete:()=>this.loader=!1})}};let o=e;return e.\u0275fac=function(i){return new(i||e)(t.Y36(T.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-ledger"]],decls:6,vars:2,consts:[[1,"m-4"],[4,"ngIf","ngIfElse"],["loading",""],[1,"card"],[1,"card-body"],[1,"text-center"],[1,"row"],[1,"col-md-6"],[1,"fw-bold"],[1,"table"],[1,"table-light"],["colspan","2",1,"text-end"],[1,"fw-bold","text-end"],[1,"loading"],[1,"loader"]],template:function(i,r){if(1&i&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Ledger"),t.qZA(),t.YNc(3,p,60,4,"ng-container",1),t.YNc(4,m,2,0,"ng-template",null,2,t.W1O),t.qZA()),2&i){const s=t.MAs(5);t.xp6(3),t.Q6J("ngIf",!r.loader)("ngIfElse",s)}},dependencies:[u.O5]}),o})(),canActivate:[n(3870).a]}];let b=(()=>{const e=class{};let o=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(v),g.Bz]}),o})(),U=(()=>{const e=class{};let o=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,b]}),o})()}}]);