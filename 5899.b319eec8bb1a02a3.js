"use strict";(self.webpackChunkngx_boomconsole=self.webpackChunkngx_boomconsole||[]).push([[5899],{5899:(Wl,Tt,D)=>{var ke;D.r(Tt),D.d(Tt,{ProjectsModule:()=>Ew});var I=D(6895),e=D(4650);const nt=["list"],ce=["defaultItemTemplate"];function $l(o,i){if(1&o&&e._uU(0),2&o){const t=i.item,n=e.oxw();e.hij(" ",t[n.labelKey]," ")}}function qe(o,i){}const de=function(o){return{item:o}};function Xi(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",4),e.NdJ("mousedown",function(r){const l=e.CHM(t).index,a=e.oxw();return a.activeIndex=l,a.itemClick.emit(),e.KtG(r.preventDefault())}),e.YNc(2,qe,0,0,"ng-template",5),e.qZA()()}if(2&o){const t=i.$implicit,n=i.index,r=e.oxw();e.ekj("active",r.activeIndex==n)("mention-active",!r.styleOff&&r.activeIndex==n),e.xp6(1),e.ekj("mention-item",!r.styleOff),e.xp6(1),e.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",e.VKq(8,de,t))}}function eo(o){return it(o)?o.value:o.textContent}function xn(o,i,t,n,r,s=!1){if(function Xl(o){return null!=o&&("INPUT"==o.nodeName||"TEXTAREA"==o.nodeName||"#text"==o.nodeName)}(o)){let d=eo(o);(function Kl(o,i){it(o)?o.value=i:o.textContent=i})(o,d.substring(0,i)+n+d.substring(t,d.length)),to(o,i+n.length,r)}else if(!s){let d=yt(r);if(d&&d.rangeCount>0){var a=d.getRangeAt(0).startOffset;xn(d.anchorNode,a-(t-i),a,n,r,!0)}}}function it(o){return null!=o&&("INPUT"==o.nodeName||"TEXTAREA"==o.nodeName)}function to(o,i,t=null){if(it(o)&&o.selectionStart)o.focus(),o.setSelectionRange(i,i);else{let n=Cn(t).createRange();n.setStart(o,i),n.collapse(!0);let r=yt(t);r.removeAllRanges(),r.addRange(n)}}function no(o,i=null){if(it(o))return o.value.slice(0,o.selectionStart).length;var n=yt(i);if(n.rangeCount>0){var r=n.getRangeAt(0),s=r.cloneRange();return s.selectNodeContents(o),s.setEnd(r.endContainer,r.endOffset),s.toString().length}}function Cn(o){return o?o.contentWindow.document:document}function yt(o){return o?o.contentWindow.getSelection():window.getSelection()}function io(o){let t="sel_"+(new Date).getTime()+"_"+Math.random().toString().substr(2),n=Cn(o?o.iframe:null),r=yt(o?o.iframe:null),s=r.getRangeAt(0),l=n.createRange();l.setStart(r.anchorNode,s.startOffset),l.setEnd(r.anchorNode,s.startOffset),l.collapse(!1);let a=n.createElement("span");a.id=t,a.appendChild(n.createTextNode("\ufeff")),l.insertNode(a),r.removeAllRanges(),r.addRange(s);let c={left:0,top:a.offsetHeight};return function ea(o,i,t){let n=i,r=o?o.iframe:null;for(;n&&(null==o.parent||o.parent!=n);)t.left+=n.offsetLeft+n.clientLeft,t.top+=n.offsetTop+n.clientTop,n=n.offsetParent,!n&&r&&(n=r,r=null);for(n=i,r=o?o.iframe:null;n!==Cn(null).body&&null!=n&&(null==o.parent||o.parent!=n);)n.scrollTop&&n.scrollTop>0&&(t.top-=n.scrollTop),n.scrollLeft&&n.scrollLeft>0&&(t.left-=n.scrollLeft),n=n.parentNode,!n&&r&&(n=r,r=null)}(o,a,c),a.parentNode.removeChild(a),c}var ta=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],oo=typeof window<"u",na=oo&&null!=window.mozInnerScreenX;let oa=(()=>{class o{constructor(t){this.element=t,this.labelKey="label",this.itemClick=new e.vpe,this.items=[],this.activeIndex=0,this.hidden=!1,this.dropUp=!1,this.styleOff=!1,this.coords={top:0,left:0},this.offset=0}ngAfterContentChecked(){this.itemTemplate||(this.itemTemplate=this.defaultItemTemplate)}position(t,n=null){if(it(t))this.coords=function ia(o,i,t){if(!oo)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var n=t&&t.debug||!1;if(n){var r=document.querySelector("#input-textarea-caret-position-mirror-div");r&&r.parentNode.removeChild(r)}var s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);var l=s.style,a=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,c="INPUT"===o.nodeName;l.whiteSpace="pre-wrap",c||(l.wordWrap="break-word"),l.position="absolute",n||(l.visibility="hidden"),ta.forEach(function(_){if(c&&"lineHeight"===_)if("border-box"===a.boxSizing){var m=parseInt(a.height),p=parseInt(a.paddingTop)+parseInt(a.paddingBottom)+parseInt(a.borderTopWidth)+parseInt(a.borderBottomWidth),f=p+parseInt(a.lineHeight);l.lineHeight=m>f?m-p+"px":m===f?a.lineHeight:"0"}else l.lineHeight=a.height;else l[_]=a[_]}),na?o.scrollHeight>parseInt(a.height)&&(l.overflowY="scroll"):l.overflow="hidden",s.textContent=o.value.substring(0,i),c&&(s.textContent=s.textContent.replace(/\s/g,"\xa0"));var d=document.createElement("span");d.textContent=o.value.substring(i)||".",s.appendChild(d);var u={top:d.offsetTop+parseInt(a.borderTopWidth),left:d.offsetLeft+parseInt(a.borderLeftWidth),height:parseInt(a.lineHeight)};return n?d.style.backgroundColor="#aaa":document.body.removeChild(s),u}(t,t.selectionStart,null),this.coords.top=t.offsetTop+this.coords.top-t.scrollTop,this.coords.left=t.offsetLeft+this.coords.left-t.scrollLeft,this.offset=this.getBlockCursorDimensions(t).height;else if(n)this.coords=io({iframe:n,parent:n.offsetParent});else{let r=document.documentElement,s=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),l=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),a=io({iframe:n}),c=t.getBoundingClientRect();this.coords.top=a.top-c.top+t.offsetTop-l,this.coords.left=a.left-c.left+t.offsetLeft-s}this.positionElement()}get activeItem(){return this.items[this.activeIndex]}activateNextItem(){let t=this.list.nativeElement,n=t.getElementsByClassName("active").item(0);if(n){let r=n.nextSibling;if(r&&"LI"==r.nodeName){let s=r.getBoundingClientRect();s.bottom>t.getBoundingClientRect().bottom&&(t.scrollTop=r.offsetTop+s.height-t.clientHeight)}}this.activeIndex=Math.max(Math.min(this.activeIndex+1,this.items.length-1),0)}activatePreviousItem(){let t=this.list.nativeElement,n=t.getElementsByClassName("active").item(0);if(n){let r=n.previousSibling;r&&"LI"==r.nodeName&&r.getBoundingClientRect().top<t.getBoundingClientRect().top&&(t.scrollTop=r.offsetTop)}this.activeIndex=Math.max(Math.min(this.activeIndex-1,this.items.length-1),0)}reset(){this.list.nativeElement.scrollTop=0,this.checkBounds()}checkBounds(){let t=this.coords.left,n=this.coords.top,r=this.dropUp;const s=this.list.nativeElement.getBoundingClientRect();s.left+s.width>window.innerWidth&&(t-=s.left+s.width-window.innerWidth+10),s.top<0&&(r=!1),this.positionElement(t,n,r)}positionElement(t=this.coords.left,n=this.coords.top,r=this.dropUp){const s=this.element.nativeElement;n+=r?0:this.offset,s.className=r?"dropup":null,s.style.position="absolute",s.style.left=t+"px",s.style.top=n+"px"}getBlockCursorDimensions(t){const n=window.getComputedStyle(t);return{height:parseFloat(n.lineHeight),width:parseFloat(n.fontSize)}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mention-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(nt,7),e.Gf(ce,7)),2&t){let r;e.iGM(r=e.CRH())&&(n.list=r.first),e.iGM(r=e.CRH())&&(n.defaultItemTemplate=r.first)}},inputs:{labelKey:"labelKey",itemTemplate:"itemTemplate"},outputs:{itemClick:"itemClick"},decls:5,vars:6,consts:[["defaultItemTemplate",""],[1,"dropdown-menu","scrollable-menu",3,"hidden"],["list",""],[3,"active","mention-active",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"mousedown"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){1&t&&(e.YNc(0,$l,1,1,"ng-template",null,0,e.W1O),e.TgZ(2,"ul",1,2),e.YNc(4,Xi,3,10,"li",3),e.qZA()),2&t&&(e.xp6(2),e.ekj("mention-menu",!n.styleOff)("mention-dropdown",!n.styleOff&&n.dropUp),e.Q6J("hidden",n.hidden),e.xp6(2),e.Q6J("ngForOf",n.items))},dependencies:[I.sg,I.tP],styles:[".mention-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:11em;padding:.5em 0;margin:.125em 0 0;font-size:1em;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25em}.mention-item[_ngcontent-%COMP%]{display:block;padding:.2em 1.5em;line-height:1.5em;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.mention-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;background-color:#337ab7;outline:0}.scrollable-menu[_ngcontent-%COMP%]{display:block;height:auto;max-height:292px;overflow:auto}[hidden][_ngcontent-%COMP%]{display:none}.mention-dropdown[_ngcontent-%COMP%]{bottom:100%;top:auto;margin-bottom:2px}"]}),o})(),da=(()=>{class o{constructor(t,n,r){this._element=t,this._componentResolver=n,this._viewContainerRef=r,this.mentionConfig={items:[]},this.DEFAULT_CONFIG={items:[],triggerChar:"@",labelKey:"label",maxItems:-1,allowSpace:!1,returnTrigger:!1,mentionSelect:(s,l)=>this.activeConfig.triggerChar+s[this.activeConfig.labelKey],mentionFilter:(s,l)=>{const a=s.toLowerCase();return l.filter(c=>c[this.activeConfig.labelKey].toLowerCase().startsWith(a))}},this.searchTerm=new e.vpe,this.itemSelected=new e.vpe,this.opened=new e.vpe,this.closed=new e.vpe,this.triggerChars={}}set mention(t){this.mentionItems=t}ngOnChanges(t){(t.mention||t.mentionConfig)&&this.updateConfig()}updateConfig(){let t=this.mentionConfig;this.triggerChars={},this.mentionItems&&(t.items=this.mentionItems),this.addConfig(t),t.mentions&&t.mentions.forEach(n=>this.addConfig(n))}addConfig(t){let n=Object.assign({},this.DEFAULT_CONFIG),r=(t=Object.assign(n,t)).items;r&&r.length>0&&("string"==typeof r[0]&&(r=r.map(s=>{let l={};return l[t.labelKey]=s,l})),t.labelKey&&(r=r.filter(s=>s[t.labelKey]),t.disableSort||r.sort((s,l)=>s[t.labelKey].localeCompare(l[t.labelKey])))),t.items=r,this.triggerChars[t.triggerChar]=t,this.activeConfig&&this.activeConfig.triggerChar==t.triggerChar&&(this.activeConfig=t,this.updateSearchList())}setIframe(t){this.iframe=t}stopEvent(t){t.wasClick||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}blurHandler(t){this.stopEvent(t),this.stopSearch()}inputHandler(t,n=this._element.nativeElement){if(229===this.lastKeyCode&&t.data){let r=t.data.charCodeAt(0);this.keyHandler({keyCode:r,inputEvent:!0},n)}}keyHandler(t,n=this._element.nativeElement){if(this.lastKeyCode=t.keyCode,t.isComposing||229===t.keyCode)return;let r=eo(n),s=no(n,this.iframe),l=t.key;if(!l){let c=t.which||t.keyCode;l=String.fromCharCode(!t.shiftKey&&c>=65&&c<=90?c+32:t.which||t.keyCode)}13==t.keyCode&&t.wasClick&&s<this.startPos&&(s=this.startNode.length,to(this.startNode,s,this.iframe));let a=this.triggerChars[l];if(a)this.activeConfig=a,this.startPos=t.inputEvent?s-1:s,this.startNode=(this.iframe?this.iframe.contentWindow.getSelection():window.getSelection()).anchorNode,this.searching=!0,this.searchString=null,this.showSearchList(n),this.updateSearchList(),a.returnTrigger&&this.searchTerm.emit(a.triggerChar);else if(this.startPos>=0&&this.searching)if(s<=this.startPos)this.searchList.hidden=!0;else if(16!==t.keyCode&&!t.metaKey&&!t.altKey&&!t.ctrlKey&&s>this.startPos){if(this.activeConfig.allowSpace||32!==t.keyCode){if(8===t.keyCode&&s>0)s--,s==this.startPos&&this.stopSearch();else if(this.searchList.hidden){if(9===t.keyCode||13===t.keyCode)return void this.stopSearch()}else if(!this.searchList.hidden){if(9===t.keyCode||13===t.keyCode){this.stopEvent(t),this.itemSelected.emit(this.searchList.activeItem);const c=this.activeConfig.mentionSelect(this.searchList.activeItem,this.activeConfig.triggerChar);if(xn(n,this.startPos,s,c,this.iframe),"createEvent"in document){let d=document.createEvent("HTMLEvents");d.initEvent(this.iframe?"change":"input",!0,!1),this._element.nativeElement.dispatchEvent(d)}return this.startPos=-1,this.stopSearch(),!1}if(27===t.keyCode)return this.stopEvent(t),this.stopSearch(),!1;if(40===t.keyCode)return this.stopEvent(t),this.searchList.activateNextItem(),!1;if(38===t.keyCode)return this.stopEvent(t),this.searchList.activatePreviousItem(),!1}}else this.startPos=-1;if(1!=l.length&&8!=t.keyCode)return this.stopEvent(t),!1;if(this.searching){let c=r.substring(this.startPos+1,s);if(8!==t.keyCode&&!t.inputEvent&&(c+=l),this.searchString=c,this.activeConfig.returnTrigger){const d=this.searchString||8===t.keyCode?r.substring(this.startPos,this.startPos+1):"";this.searchTerm.emit(d+this.searchString)}else this.searchTerm.emit(this.searchString);this.updateSearchList()}}}startSearch(t,n=this._element.nativeElement){t=t||this.mentionConfig.triggerChar||this.DEFAULT_CONFIG.triggerChar;const r=no(n,this.iframe);xn(n,r,r,t,this.iframe),this.keyHandler({key:t,inputEvent:!0},n)}stopSearch(){this.searchList&&!this.searchList.hidden&&(this.searchList.hidden=!0,this.closed.emit()),this.activeConfig=null,this.searching=!1}updateSearchList(){let t=[];if(this.activeConfig&&this.activeConfig.items){let n=this.activeConfig.items;!this.activeConfig.disableSearch&&this.searchString&&this.activeConfig.labelKey&&this.activeConfig.mentionFilter&&(n=this.activeConfig.mentionFilter(this.searchString,n)),t=n,this.activeConfig.maxItems>0&&(t=t.slice(0,this.activeConfig.maxItems))}this.searchList&&(this.searchList.items=t,this.searchList.hidden=0==t.length)}showSearchList(t){if(this.opened.emit(),null==this.searchList){let n=this._componentResolver.resolveComponentFactory(oa),r=this._viewContainerRef.createComponent(n);this.searchList=r.instance,this.searchList.itemTemplate=this.mentionListTemplate,r.instance.itemClick.subscribe(()=>{t.focus(),this.keyHandler({key:"Enter",keyCode:13,wasClick:!0},t)})}this.searchList.labelKey=this.activeConfig.labelKey,this.searchList.dropUp=this.activeConfig.dropUp,this.searchList.styleOff=this.mentionConfig.disableStyle,this.searchList.activeIndex=0,this.searchList.position(t,this.iframe),window.requestAnimationFrame(()=>this.searchList.reset())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e._Vd),e.Y36(e.s_b))},o.\u0275dir=e.lG2({type:o,selectors:[["","mention",""],["","mentionConfig",""]],hostAttrs:["autocomplete","off"],hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(s){return n.keyHandler(s)})("input",function(s){return n.inputHandler(s)})("blur",function(s){return n.blurHandler(s)})},inputs:{mention:"mention",mentionConfig:"mentionConfig",mentionListTemplate:"mentionListTemplate"},outputs:{searchTerm:"searchTerm",itemSelected:"itemSelected",opened:"opened",closed:"closed"},features:[e.TTD]}),o})(),ua=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[I.ez]}),o})();var H=D(7518),y=D(5861),ot=D(7579),lo=D(8372),ao=D(1884),k=D(9446),rt=D(8495),L=D(354),st=D(384),Q=D(8180),g=D(4006);function pa(o,i){1&o&&(e.TgZ(0,"div")(1,"li"),e._uU(2,"Looking for employee lists..."),e.qZA()())}function _a(o,i){1&o&&(e.TgZ(0,"div")(1,"li",13),e._uU(2,"Enter keyword to Search"),e.qZA()())}function ma(o,i){1&o&&(e.TgZ(0,"div")(1,"li",13),e._uU(2,"No User Found!"),e.qZA()())}function ga(o,i){if(1&o&&e._UZ(0,"img",18),2&o){const t=e.oxw(2).$implicit;e.Q6J("src",(null==t?null:t.the_entity_avatar)||t.profile_img,e.LSH)("alt","Profile Pic of "+(null==t?null:t.the_entity_firstname)||0)}}function ha(o,i){1&o&&e._UZ(0,"img",19)}function fa(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.addUser(r))}),e.YNc(2,ga,1,2,"img",15),e.YNc(3,ha,1,0,"ng-template",null,16,e.W1O),e.TgZ(5,"div")(6,"div"),e._uU(7),e.qZA(),e.TgZ(8,"div",17),e._uU(9),e.qZA()()(),e.BQk()}if(2&o){const t=e.MAs(4),n=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",(null==n?null:n.the_entity_avatar)||n.profile_img)("ngIfElse",t),e.xp6(5),e.AsE(" ",(null==n?null:n.the_entity_firstname)||(null==n?null:n.first_name)," ",(null==n?null:n.the_entity_lastname)||(null==n?null:n.last_name)," "),e.xp6(2),e.hij(" ",(null==n?null:n.the_entity_email)||(null==n?null:n.email)," ")}}function va(o,i){if(1&o&&(e.TgZ(0,"li"),e.YNc(1,fa,10,5,"ng-container",11),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t)}}function ba(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"a",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.closeSearchUserStatus())}),e.TgZ(2,"span",10),e._uU(3," cancel "),e.qZA()(),e.TgZ(4,"ul"),e.YNc(5,pa,3,0,"div",11),e.YNc(6,_a,3,0,"div",11),e.YNc(7,ma,3,0,"div",11),e.YNc(8,va,2,1,"li",12),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.loader),e.xp6(1),e.Q6J("ngIf",""==t.searchedText&&0==(null==t.allUsers?null:t.allUsers.length)),e.xp6(1),e.Q6J("ngIf",""!=t.searchedText&&0==(null==t.allUsers?null:t.allUsers.length)),e.xp6(1),e.Q6J("ngForOf",t.allUsers)}}function xa(o,i){1&o&&(e.TgZ(0,"div",20),e._UZ(1,"span",21),e.qZA())}function Ca(o,i){if(1&o&&e._UZ(0,"img",33),2&o){const t=e.oxw().$implicit;e.Q6J("src",(null==t?null:t.the_entity_avatar)||t.profileImg,e.LSH)("alt","Profile Pic of "+(null==t?null:t.the_entity_firstname)||0)}}function Ta(o,i){1&o&&e._UZ(0,"img",34)}function ya(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e.YNc(2,Ca,1,2,"img",27),e.YNc(3,Ta,1,0,"ng-template",null,16,e.W1O),e.TgZ(5,"div",28)(6,"span",29),e._uU(7),e.qZA(),e.TgZ(8,"span",30),e._uU(9),e.qZA()(),e.TgZ(10,"a",31),e.NdJ("click",function(){const r=e.CHM(t),s=r.index,l=r.$implicit,a=e.oxw(2);return e.KtG(a.removeUser(s,l.id))}),e.TgZ(11,"span",32),e._uU(12," close "),e.qZA()()()()}if(2&o){const t=i.$implicit,n=e.MAs(4);e.xp6(2),e.Q6J("ngIf",(null==t?null:t.the_entity_avatar)||(null==t?null:t.profileImg))("ngIfElse",n),e.xp6(4),e.hYB("title","",(null==t?null:t.the_entity_firstname)||(null==t?null:t.the_entity_lastname)||(null==t?null:t.firstName)," ",null==t?null:t.lastName,""),e.xp6(1),e.AsE(" ",(null==t?null:t.the_entity_firstname)||(null==t?null:t.firstName)," ",(null==t?null:t.lastName)||(null==t?null:t.the_entity_lastname)," "),e.xp6(1),e.s9C("title",(null==t?null:t.the_entity_email)||(null==t?null:t.email)),e.xp6(1),e.hij(" ",(null==t?null:t.the_entity_email)||(null==t?null:t.email)," ")}}function wa(o,i){if(1&o&&(e.TgZ(0,"div",22)(1,"div",23),e.YNc(2,ya,13,8,"div",24),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.assignedUsers)}}function Ia(o,i){1&o&&(e.TgZ(0,"div",1)(1,"p"),e._uU(2," No user assigned yet. Search employee and click to assign to this project. "),e.qZA()())}function Aa(o,i){if(1&o&&e.YNc(0,Ia,3,0,"div",35),2&o){const t=e.oxw();e.Q6J("ngIf",!t.loader)}}let Da=(()=>{const i=class{constructor(n,r,s,l){this._nodeService=n,this._authService=r,this._snackbarService=s,this._projectService=l,this.loader=!1,this.allUsers=[],this.assignedUsers=[],this.searchUserStatus=!1,this.assignTemplate=!1,this.searchedText="",this.modelChanged=new ot.x,this.searchUsers=a=>this.modelChanged.next(a.target.value)}ngOnInit(){this.loader=!0,this.getAssignedUsers(),this.modelChanged.pipe((0,lo.b)(300),(0,ao.x)()).subscribe({next:n=>{this.searchEmployee(n)}})}getAssignedUsers(){var n=this;return(0,y.Z)(function*(){const r=n._authService.loadFromLocalStorage();n._projectService.getProjectUsers(n.projectId).then(s=>{n.assignedUsers=s.filter(l=>l.id!=r.userConcept)}).catch(s=>{console.error(s),n.loader=!1}).finally(()=>{n.loader=!1})})()}searchEmployeeFocused(){this.searchUserStatus=!0}closeSearchUserStatus(){this.searchUserStatus=!1}searchEmployee(n){var s,r=this;this._nodeService.AISearchUser(n,1,10).subscribe({next:(s=(0,y.Z)(function*(l){const a=r.assignedUsers.map(c=>c.id);r.allUsers=l.filter(c=>!a.includes(c.id))}),function(a){return s.apply(this,arguments)}),error:s=>console.error(s)})}addUser(n){var r=this;return(0,y.Z)(function*(){r.loader=!0,r.searchUserStatus=!1,r._projectService.assignUserToProject(r.projectId,{userConcept:n.id}).subscribe({next:s=>{console.log("value",s),r.assignedUsers.push(n),r.allUsers=r.allUsers.filter(l=>l.id!=n.id)},error:s=>{console.error(s),r.loader=!1,r.searchUserStatus=!1},complete:()=>{r.loader=!1,r.searchUserStatus=!1}})})()}removeUser(n,r){this._projectService.removeUserFromProject(this.projectId,{userConcept:r}).subscribe({next:()=>{this._snackbarService.openSnackBar("Removed User","success");const s=this.assignedUsers[n];if(this.assignedUsers.splice(n,1),s){const l={...s,first_name:s.firstName,last_name:s.lastName,profile_img:s.profileImg};delete l.firstName,delete l.lastName,delete l.profileImg,this.allUsers.push(l)}},error:s=>{console.error(s),this._snackbarService.openSnackBar("Failed to remove user","error")}})}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(rt.s),e.Y36(st.e),e.Y36(Q.o),e.Y36(L.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-assign-user"]],inputs:{projectId:"projectId"},decls:12,vars:5,consts:[[1,"searchbox","row"],[1,"col-12"],["placeholder","Search employee and press enter","type","text",1,"form-control","input-lg",3,"ngModel","ngModelChange","focus","keyup"],["class","search_data",4,"ngIf"],["class","loading",4,"ngIf"],[1,"row","assigned_employees","py-3"],["class","row m-0 p-0",4,"ngIf","ngIfElse"],["noAssignedUsers",""],[1,"search_data"],["id","closeSearchEmployeeStatus",3,"click"],[1,"material-symbols-outlined"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-muted"],[1,"d-flex","align-items-center",3,"click"],["class","avatar",3,"src","alt",4,"ngIf","ngIfElse"],["noAvatar",""],[1,"text-muted","ms-6","mt-0",2,"font-size","10px"],[1,"avatar",3,"src","alt"],["src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp","alt","Profile Image",1,"avatar"],[1,"loading"],[1,"loader"],[1,"row","m-0","p-0"],[1,"row","w-100","m-0","p-0"],["class","col-12 col-sm-6 col-md-4 col-lg-4 mb-2",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-4","mb-2"],[1,"assigned_employee_item","d-flex","align-items-center","px-2","py-1","m-0","border","rounded"],["class","avatar rounded-circle",3,"src","alt",4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","w-75"],[1,"fw-semibold","text-dark","text-truncate","mw-75",3,"title"],[1,"text-muted","text-truncate","mw-75",2,"font-size","12px",3,"title"],[1,"remove-user-icon",3,"click"],[1,"material-symbols-outlined","m-0"],[1,"avatar","rounded-circle",3,"src","alt"],["src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp","alt","Profile Image",1,"avatar","rounded-circle"],["class","col-12",4,"ngIf"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"input",2),e.NdJ("ngModelChange",function(a){return s.searchedText=a})("focus",function(){return s.searchEmployeeFocused()})("keyup",function(a){return s.searchUsers(a)}),e.qZA(),e.YNc(3,ba,9,4,"div",3),e.qZA()(),e.YNc(4,xa,2,0,"div",4),e.TgZ(5,"div",5)(6,"div",1)(7,"h5"),e._uU(8,"Assigned Employees"),e.qZA()(),e.YNc(9,wa,3,1,"div",6),e.YNc(10,Aa,1,1,"ng-template",null,7,e.W1O),e.qZA()),2&r){const l=e.MAs(11);e.xp6(2),e.Q6J("ngModel",s.searchedText),e.xp6(1),e.Q6J("ngIf",s.searchUserStatus),e.xp6(1),e.Q6J("ngIf",s.loader),e.xp6(5),e.Q6J("ngIf",(null==s.assignedUsers?null:s.assignedUsers.length)>0)("ngIfElse",l)}},dependencies:[I.sg,I.O5,g.Fj,g.JJ,g.On],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.modal-body[_ngcontent-%COMP%]{padding:10px}h5[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.assigned_employee_item[_ngcontent-%COMP%]{background-color:#f3f3f3;display:inline-block;color:inherit;text-decoration:none;position:relative}.assigned_employee_item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:35px;text-align:center;display:flex;align-items:center;justify-content:center}.assigned_employee_item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.search_data[_ngcontent-%COMP%]{position:absolute;background:#fff;box-shadow:#11111a0d 0 4px 16px,#11111a0d 0 8px 32px;padding:20px 100px 20px 20px;width:94%;z-index:99;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;padding:8px;display:block}.search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#111}.search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#1c954a}.material-symbols-outlined[_ngcontent-%COMP%]{color:#777;float:left;margin-right:12px}#closeSearchEmployeeStatus[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;cursor:pointer;z-index:999}#closeSearchEmployeeStatus[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:40px}#closeSearchEmployeeStatus[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#cd0e0e}.avatar[_ngcontent-%COMP%]{height:30px;width:30px;min-width:30px;border-radius:50%;object-fit:cover}"]}),o})(),co=(()=>{const i=class{constructor(n,r,s,l,a){this._activeModal=n,this._nodeService=r,this._projectService=s,this._authService=l,this._snackbarService=a,this.loader=!1,this.allUsers=[],this.assignedUsers=[],this.searchUserStatus=!1,this.assignTemplate=!1,this.searchedText="",this.modelChanged=new ot.x,this.searchUsers=c=>this.modelChanged.next(c.target.value)}ngOnInit(){this.loader=!0,this.title=this.project.name,this.getAssignedUsers(),this.modelChanged.pipe((0,lo.b)(300),(0,ao.x)()).subscribe({next:n=>{this.searchEmployee(n)}})}getAssignedUsers(){var n=this;return(0,y.Z)(function*(){const r=n._authService.loadFromLocalStorage();n._projectService.getProjectUsers(n.project.id).then(s=>{console.log("users",s),n.assignedUsers=s.filter(l=>l.id!=r.userConcept)}).catch(s=>{console.log(s),n.loader=!1}).finally(()=>{n.loader=!1})})()}searchEmployeeFocused(){this.searchUserStatus=!0}closeSearchUserStatus(){this.searchUserStatus=!1}searchEmployee(n){var s,r=this;this._nodeService.AISearchUser(n,1,10).subscribe({next:(s=(0,y.Z)(function*(l){const a=r.assignedUsers.map(c=>c.id);r.allUsers=l.filter(c=>!a.includes(c.id))}),function(a){return s.apply(this,arguments)}),error:s=>console.log(s)})}addUser(n){var r=this;return(0,y.Z)(function*(){r.loader=!0,r.searchUserStatus=!1,r._projectService.assignUserToProject(r.project.id,{userConcept:n.id}).subscribe({next:s=>{r.assignedUsers.push(s.data)},error:s=>{console.log(s),r.loader=!1,r.searchUserStatus=!1},complete:()=>{r.loader=!1,r.searchUserStatus=!1}})})()}removeUser(n,r){this._projectService.removeUserFromProject(this.project.id,{userConcept:r}).subscribe({next:()=>{this._snackbarService.openSnackBar("Removed User","success"),this.assignedUsers.splice(n,1)},error:s=>{console.log(s),this._snackbarService.openSnackBar("Failed to remove user","error")}})}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.Kz),e.Y36(rt.s),e.Y36(L.Y),e.Y36(st.e),e.Y36(Q.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-assign-member"]],inputs:{project:"project"},decls:11,vars:3,consts:[[1,"modal-header","d-flex","align-items-center"],[1,"modal-title","text-capitalize","text-truncate","w-100","d-flex","align-items-center","gap-2"],[1,"d-inline-block","text-truncate","w-50"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"projectId"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2," Assign for "),e.TgZ(3,"span",2),e._uU(4),e.qZA()(),e.TgZ(5,"button",3),e.NdJ("click",function(){return s._activeModal.close()}),e.qZA()(),e.TgZ(6,"div",4),e._UZ(7,"app-assign-user",5),e.qZA(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){return s._activeModal.close()}),e._uU(10," Close "),e.qZA()()),2&r&&(e.xp6(3),e.uIk("title",s.title),e.xp6(1),e.hij('"',s.title,'"'),e.xp6(3),e.Q6J("projectId",null==s.project?null:s.project.id))},dependencies:[Da],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.modal-body[_ngcontent-%COMP%]{padding:10px}h5[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.assigned_employee_item[_ngcontent-%COMP%]{background-color:#f3f3f3;display:inline-block;padding:10px 40px 10px 10px;color:inherit;text-decoration:none;margin:8px;position:relative}.assigned_employee_item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;width:35px;text-align:center;display:flex;align-items:center;justify-content:center}.assigned_employee_item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.search_data[_ngcontent-%COMP%]{position:absolute;background:#fff;box-shadow:#11111a0d 0 4px 16px,#11111a0d 0 8px 32px;padding:20px 100px 20px 20px;width:94%;z-index:99;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;padding:8px;display:block}.search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#111}.search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#1c954a}.material-symbols-outlined[_ngcontent-%COMP%]{color:#777;float:left;margin-right:12px}#closeSearchEmployeeStatus[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;cursor:pointer;z-index:999}#closeSearchEmployeeStatus[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:40px}#closeSearchEmployeeStatus[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#cd0e0e}.avatar[_ngcontent-%COMP%]{height:30px;width:30px;min-width:30px;border-radius:50%;object-fit:cover}"]}),o})();var lt=D(8154),Sa=D(7009);function ka(o,i){1&o&&(e.TgZ(0,"div",9),e._UZ(1,"span",10),e.qZA())}function Ma(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmDelete())}),e._uU(1," Delete "),e.qZA()}}function Za(o,i){1&o&&(e.TgZ(0,"button",12)(1,"div",13)(2,"span",14),e._uU(3,"."),e.qZA()(),e._uU(4," Deleting.. "),e.qZA()),2&o&&e.Q6J("disabled",!0)}let Ea=(()=>{const i=class{constructor(n,r,s,l){this._itemService=n,this._activeModal=r,this._snackbar=s,this._snackbarService=l,this.deleteConfirmed=new e.vpe,this.loader=!1,this.compositionName="employerProject",this.notLoading=!0}ngOnInit(){console.log("DeleteComponent initialized.")}getById(){this.loader=!0,this._itemService.getByIdClean(this.itemId).subscribe({next:n=>{this.loader=!1,this.projectData=n?.data},error:n=>{this.loader=!1,console.log(n)}})}confirmDelete(){this.notLoading=!1,this.notLoading=!1,this.deleteConfirmed.emit(this.itemId),this._activeModal.close(),this._snackbarService.openSnackBar("Deleted Successfully","success")}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(lt.e),e.Y36(k.Kz),e.Y36(Sa.ux),e.Y36(Q.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete"]],inputs:{itemId:"itemId"},outputs:{deleteConfirmed:"deleteConfirmed"},decls:15,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"m-5"],["class","loading",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit","class","btn btn-primary",3,"click",4,"ngIf","ngIfElse"],["loading",""],[1,"loading"],[1,"loader"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary","btn-loading",3,"disabled"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div")(1,"div",0)(2,"h4",1),e._uU(3,"Delete"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return s._activeModal.dismiss()}),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,ka,2,0,"div",4),e.TgZ(7,"h5"),e._uU(8," Are you sure you want to delete the project? "),e.qZA()(),e.TgZ(9,"div",5)(10,"button",6),e.NdJ("click",function(){return s._activeModal.close()}),e._uU(11," Close "),e.qZA(),e.YNc(12,Ma,2,0,"button",7),e.YNc(13,Za,5,1,"ng-template",null,8,e.W1O),e.qZA()()),2&r){const l=e.MAs(14);e.xp6(6),e.Q6J("ngIf",s.loader),e.xp6(6),e.Q6J("ngIf",s.notLoading)("ngIfElse",l)}},dependencies:[I.O5]}),o})();function Pa(o,i){1&o&&(e.TgZ(0,"div",16),e._UZ(1,"span",17),e.qZA())}function Oa(o,i){1&o&&(e.TgZ(0,"div",19),e._uU(1," Please enter a valid input without numeric characters. "),e.qZA())}function Na(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Oa,2,0,"div",18),e.qZA()),2&o){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.projectForm.get("name"))?null:n.errors)}}function Ua(o,i){1&o&&(e.TgZ(0,"button",20),e._uU(1," Submit "),e.qZA())}function ja(o,i){1&o&&(e.TgZ(0,"button",21)(1,"div",22)(2,"span",23),e._uU(3,"."),e.qZA()(),e._uU(4," Updating... "),e.qZA()),2&o&&e.Q6J("disabled",!0)}let Ra=(()=>{const i=class{constructor(n,r,s){this.activeModal=n,this._snackbarService=r,this._projectService=s,this.project={name:"",description:""},this.loader=!1,this.projectForm=new g.cw({name:new g.NI("",[g.kI.required,g.kI.pattern("^[a-zA-Z ]+$")]),description:new g.NI("")})}ngOnInit(){this.projectDetails()}updateProject(){if(this.projectForm.invalid)return;const n={title:this.projectForm.value.name,description:this.projectForm.value.description};this.loader=!0,this._projectService.updateProject(this.project.id,n).subscribe({next:()=>{this.activeModal.close({dataUpdated:!0,projectId:this.project.id,title:n.title,description:n.description}),this._snackbarService.openSnackBar("Project updated successfully","success")},error:r=>{console.error("Error updating project:",r),this.loader=!1,this._snackbarService.openSnackBar("Error updating project: Project Name Already Exist Or Not Valid","error")}})}projectDetails(){this._projectService.getProjectDetails(this.project.id).subscribe({next:n=>{this.projectsDetails=n.data.projectDetail,this.projectForm?.controls.name.setValue(this.projectsDetails.data?.boomgpt?.title),this.projectForm?.controls.description.setValue(this.projectsDetails.data?.boomgpt?.short_desc)}})}closeModal(){this.activeModal.close()}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.Kz),e.Y36(Q.o),e.Y36(L.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-update-project"]],inputs:{project:"project"},decls:23,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close","autofocus","",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"m-5"],["class","loading",4,"ngIf"],[1,"form-group"],["for","project-title"],["type","text","id","project-title","formControlName","name",1,"form-control"],[4,"ngIf"],["for","project-description"],["type","text","id","project-description","formControlName","description",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit","class","btn btn-primary",4,"ngIf"],["loading",""],[1,"loading"],[1,"loader"],["class","error-message",4,"ngIf"],[1,"error-message"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-primary","btn-loading",3,"disabled"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div")(1,"div",0)(2,"h4",1),e._uU(3,"Update Project"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return s.closeModal()}),e.qZA()(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return s.updateProject()}),e.TgZ(6,"div",4),e.YNc(7,Pa,2,0,"div",5),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Project Title"),e.qZA(),e._UZ(11,"input",8),e.YNc(12,Na,2,1,"div",9),e.qZA(),e.TgZ(13,"div",6)(14,"label",10),e._uU(15,"Description"),e.qZA(),e._UZ(16,"input",11),e.qZA()(),e.TgZ(17,"div",12)(18,"button",13),e.NdJ("click",function(){return s.closeModal()}),e._uU(19," Close "),e.qZA(),e.YNc(20,Ua,2,0,"button",14),e.YNc(21,ja,5,1,"ng-template",null,15,e.W1O),e.qZA()()()),2&r){let l;e.xp6(5),e.Q6J("formGroup",s.projectForm),e.xp6(2),e.Q6J("ngIf",s.loader),e.xp6(5),e.Q6J("ngIf",(null==(l=s.projectForm.get("name"))?null:l.invalid)&&(null==(l=s.projectForm.get("name"))?null:l.touched)),e.xp6(8),e.Q6J("ngIf",!s.loader)}},dependencies:[I.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u],styles:[".error-message[_ngcontent-%COMP%]{color:red}"]}),o})();var T=D(9402);function Fa(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",41),e.NdJ("click",function(r){return r.stopPropagation()})("keyup",function(r){return r.stopPropagation()}),e.TgZ(1,"div",42)(2,"label")(3,"input",43),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectAllChecked=r)})("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectAllChanged())}),e.qZA(),e._uU(4," Select All "),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"label")(7,"input",44),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.nameChecked=r)})("change",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.updateSelectedOptions("name",r))}),e.qZA(),e._uU(8," Name "),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"label")(11,"input",45),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.descriptionChecked=r)})("change",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.updateSelectedOptions("description",r))}),e.qZA(),e._uU(12," Description "),e.qZA(),e._UZ(13,"br"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectAllChecked),e.xp6(4),e.Q6J("ngModel",t.nameChecked),e.xp6(4),e.Q6J("ngModel",t.descriptionChecked)}}function qa(o,i){if(1&o&&e._UZ(0,"img",58),2&o){const t=e.oxw().$implicit;e.Q6J("src",t.profileImg,e.LSH)}}function Ja(o,i){if(1&o&&(e.TgZ(0,"span",59),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.primaryEmail.charAt(0).toUpperCase()," ")}}const La=function(o){return{"fw-bold":o}};function Ba(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",52),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.selectUser(s))}),e.TgZ(1,"label",53)(2,"div",54),e.YNc(3,qa,1,1,"img",55),e.YNc(4,Ja,2,1,"span",56),e.qZA(),e.TgZ(5,"span",57),e._uU(6),e.qZA()()()}if(2&o){const t=i.$implicit,n=e.oxw(3);e.Q6J("ngClass",e.VKq(4,La,(null==n.selectedUser?null:n.selectedUser.userId)===t.userId)),e.xp6(3),e.Q6J("ngIf",t.profileImg),e.xp6(1),e.Q6J("ngIf",!t.profileImg),e.xp6(2),e.hij(" ",t.firstName&&t.lastName?t.firstName+" "+t.lastName:t.userName?t.userName:t.primaryEmail," ")}}function Ha(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Ba,7,6,"div",51),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.filteredUsers())}}function Qa(o,i){1&o&&(e.TgZ(0,"div",60),e._uU(1,"No users found"),e.qZA())}function Ya(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",46)(1,"div",47)(2,"input",48),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.userSearchTerm=r)}),e.qZA()(),e.TgZ(3,"div",49),e.YNc(4,Ha,2,1,"div",32),e.qZA(),e.YNc(5,Qa,2,0,"ng-template",null,50,e.W1O),e.qZA()}if(2&o){const t=e.MAs(6),n=e.oxw();e.xp6(2),e.Q6J("ngModel",n.userSearchTerm),e.xp6(2),e.Q6J("ngIf",n.filteredUsers().length>0)("ngIfElse",t)}}function Ga(o,i){1&o&&(e.TgZ(0,"div",61),e._UZ(1,"span",62),e.qZA())}function za(o,i){if(1&o&&(e.ynx(0),e._UZ(1,"img",86),e.TgZ(2,"span",87),e._uU(3),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",null==t||null==t.adminDetails?null:t.adminDetails.adminProfileImg,e.LSH)("title","Admin: "+((null==t||null==t.adminDetails?null:t.adminDetails.adminUserName)||(null==t||null==t.adminDetails?null:t.adminDetails.adminFirstName)+" "+(null==t||null==t.adminDetails?null:t.adminDetails.adminLastName)||(null==t||null==t.adminDetails?null:t.adminDetails.adminEmail))),e.xp6(2),e.hij("Admin: ",(null==t||null==t.adminDetails?null:t.adminDetails.adminUserName)||(null==t||null==t.adminDetails?null:t.adminDetails.adminFirstName)+" "+(null==t||null==t.adminDetails?null:t.adminDetails.adminLastName)||(null==t||null==t.adminDetails?null:t.adminDetails.adminEmail),"")}}function Va(o,i){if(1&o&&(e._UZ(0,"img",88),e.TgZ(1,"span",87),e._uU(2),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("title","Admin: "+((null==t||null==t.adminDetails?null:t.adminDetails.adminUserName)||(null==t||null==t.adminDetails?null:t.adminDetails.adminFirstName)+" "+(null==t||null==t.adminDetails?null:t.adminDetails.adminLastName)||(null==t||null==t.adminDetails?null:t.adminDetails.adminEmail))),e.xp6(2),e.hij("Admin: ",(null==t||null==t.adminDetails?null:t.adminDetails.adminUserName)||(null==t||null==t.adminDetails?null:t.adminDetails.adminFirstName)+" "+(null==t||null==t.adminDetails?null:t.adminDetails.adminLastName)||(null==t||null==t.adminDetails?null:t.adminDetails.adminEmail),"")}}const uo=function(o){return{left:o}};function Wa(o,i){if(1&o&&(e.ynx(0),e._UZ(1,"img",90),e.BQk()),2&o){const t=e.oxw(2),n=t.$implicit,r=t.index,s=e.oxw().$implicit,l=e.oxw(2);e.xp6(1),e.Q6J("src",null==n?null:n.userProfileImg,e.LSH)("title",n.userName||(null==n?null:n.userFirstName)+" "+(null==n?null:n.userLastName)||(null==n?null:n.email))("ngStyle",e.VKq(3,uo,l.getLeftPosition(r,s)))}}function $a(o,i){if(1&o&&e._UZ(0,"img",91),2&o){const t=e.oxw(2),n=t.$implicit,r=t.index,s=e.oxw().$implicit,l=e.oxw(2);e.Q6J("title",(null==n?null:n.userName)||(null==n?null:n.userFirstName)+" "+(null==n?null:n.userLastName)||(null==n?null:n.email))("ngStyle",e.VKq(2,uo,l.getLeftPosition(r,s)))}}function Ka(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Wa,2,5,"ng-container",32),e.YNc(2,$a,1,4,"ng-template",null,89,e.W1O),e.BQk()),2&o){const t=e.MAs(3),n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==n?null:n.userProfileImg)("ngIfElse",t)}}function Xa(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Ka,4,2,"ng-container",72),e.BQk()),2&o){const t=i.index;e.xp6(1),e.Q6J("ngIf",t<3)}}function ec(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"span",92),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",null==t||null==t.projectUsers?null:t.projectUsers.length," ")}}function tc(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",93),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.assignUser(r))}),e._UZ(1,"i",94),e.qZA()}2&o&&e.Q6J("title","Add Team Member")}function nc(o,i){1&o&&e._UZ(0,"span",95)}function ic(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",96),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.updateProject(r))}),e._UZ(1,"i",97),e.qZA()}}function oc(o,i){1&o&&e._UZ(0,"span",95)}function rc(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",98),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.deleteData(null==r?null:r.id))}),e._UZ(1,"i",99),e.qZA()}}function sc(o,i){1&o&&e._UZ(0,"span",95)}function lc(o,i){if(1&o&&(e.TgZ(0,"tr",64)(1,"td",65)(2,"strong")(3,"a",66),e._uU(4),e.qZA()()(),e.TgZ(5,"td",67)(6,"div"),e.ynx(7)(8),e.YNc(9,za,4,3,"ng-container",32),e.YNc(10,Va,3,2,"ng-template",null,68,e.W1O),e.BQk()(),e.qZA(),e.TgZ(12,"div",69)(13,"div",70),e.YNc(14,Xa,2,1,"ng-container",71),e.YNc(15,ec,3,1,"ng-container",72),e.qZA(),e.TgZ(16,"div",73),e.YNc(17,tc,2,1,"button",74),e.YNc(18,nc,1,0,"ng-template",null,75,e.W1O),e.qZA()()(),e.TgZ(20,"td",76)(21,"div",77),e._uU(22),e.qZA()(),e.TgZ(23,"td",78)(24,"div",79)(25,"a",80),e._UZ(26,"i",81),e.qZA(),e.YNc(27,ic,2,0,"button",82),e.YNc(28,oc,1,0,"ng-template",null,83,e.W1O),e.YNc(30,rc,2,0,"button",84),e.YNc(31,sc,1,0,"ng-template",null,85,e.W1O),e.qZA()()()),2&o){const t=i.$implicit,n=e.MAs(11),r=e.MAs(19),s=e.MAs(29),l=e.MAs(32),a=e.oxw(2);e.xp6(3),e.Q6J("title","View Details")("routerLink","/projects/view/"+(null==t?null:t.id)),e.xp6(1),e.hij(" ",null==t?null:t.name," "),e.xp6(5),e.Q6J("ngIf",null==t||null==t.adminDetails?null:t.adminDetails.adminProfileImg)("ngIfElse",n),e.xp6(5),e.Q6J("ngForOf",null==t?null:t.projectUsers),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.projectUsers?null:t.projectUsers.length)>3),e.xp6(2),e.Q6J("ngIf",a.isProjectAdmin(t))("ngIfElse",r),e.xp6(4),e.Q6J("title",(null==t?null:t.shortDesc)||"Description not available"),e.xp6(1),e.hij(" ",(null==t?null:t.shortDesc)||"Description not available"," "),e.xp6(3),e.Q6J("routerLink","/projects/view/"+(null==t?null:t.id)),e.xp6(2),e.Q6J("ngIf",a.isProjectAdmin(t))("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",a.isProjectAdmin(t))("ngIfElse",l)}}function ac(o,i){if(1&o&&(e.ynx(0),e.YNc(1,lc,33,16,"tr",63),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredProjects)}}function cc(o,i){1&o&&(e.TgZ(0,"tr")(1,"td",100)(2,"p"),e._uU(3,"No data found..."),e.qZA()()())}const dc=function(){return["/projects","create"]};let uc=(()=>{const i=class{toggleDropdown(){this.dropdownOpen=!this.dropdownOpen}selectAllChanged(){this.nameChecked=this.selectAllChecked,this.descriptionChecked=this.selectAllChecked,this.selectedOptions=this.selectAllChecked?["name","description"]:[],this.selectAllChecked&&(this.updateSelectedOptions("name",{target:{checked:!0}}),this.updateSelectedOptions("description",{target:{checked:!0}}))}updateSelectedOptions(n,r){if(r.target.checked)this.selectedOptions.push(n);else{const s=this.selectedOptions.indexOf(n);s>-1&&this.selectedOptions.splice(s,1)}this.selectAllChecked=this.nameChecked&&this.descriptionChecked}constructor(n,r){this._modalService=n,this._projectService=r,this.loading=!1,this.projects=[],this.projectsList=[],this.hasProjectAccess={},this.projectDetails={},this.searchTerm="",this.filteredProjects=[],this.allProjectsUsers=[],this.dropdownOpen=!1,this.selectAllChecked=!0,this.nameChecked=!0,this.descriptionChecked=!0,this.selectedOptions=[],this.selectedUsersToSearch=[],this.showUsersDropdown=!1,this.userSearchTerm="",this.selectedUser=null,this.fromDate="",this.toDate="",this.errorMessage="",this.currentPage=1,this.pageSize=10,this.totalPages=0,this.sortedUsers=[],this.users=[]}ngOnInit(){const n=localStorage.getItem("profile");n&&(this.userConcept=JSON.parse(n).userConcept),this.loading=!0,this.getProjectList(),this.getAllProjectUsers()}getAllProjectUsers(){var n=this;return(0,y.Z)(function*(){try{const r=new T.LtL;r.name="entity",r.typeConnection="the_entity_user",r.reverse=!0,r.selectors=["the_entity_email","the_entity_firstname","the_entity_lastname","the_entity_avatar"];const s=new T.LtL;s.typeConnection="the_user_s_joined_project",s.reverse=!0,s.name="boomfolderuser",s.selectors=["self"],s.freeschemaQueries=[r];const l=new T.LtL;l.typeConnection="the_user_s_joined_project",l.name="boomfolder",l.freeschemaQueries=[s];const a=new T.LtL;a.conceptIds=[Number(n.userConcept)],a.freeschemaQueries=[l],a.name="top",a.outputFormat=T.xY7,(0,T.og0)(a,"").subscribe(function(){var c=(0,y.Z)(function*(d){const u=d?.[0]?.data?.the_user?.the_user_s_joined_project||[],_=new Map;for(const m of u){const p=m?.data?.boomFolder?.the_user_s_joined_project_reverse||[];for(const f of p){const b=f?.id;b&&!_.has(b)&&_.set(b,{userId:b,userName:f?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_avatar?.data?.the_avatar||f?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.username?.data?.the_username||"",firstName:f?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_firstname?.data?.the_firstname||f?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.first_name?.data?.the_first_name||"",lastName:f?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_lastname?.data?.the_lastname||f?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.last_name?.data?.the_last_name||"",profileImg:f?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_avatar?.data?.the_avatar||f?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.profile_img?.data?.the_profile_img||"",primaryEmail:f?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.primary_email?.data?.the_primary_email||f?.data?.the_user?.the_user_data?.data?.the_user_data?.primary_email?.data?.the_primary_email||""})}}n.allProjectsUsers=Array.from(_.values()),n.users=n.filteredUsers(),n.updateSortedUsers()});return function(d){return c.apply(this,arguments)}}())}catch(r){console.error("Error in onSearch:",r)}})()}clearDateSelection(){this.fromDate="",this.toDate="",this.errorMessage="",this.filteredProjects=[...this.projectsList]}onDateChange(){this.fromDate&&this.toDate&&(new Date(this.fromDate)>new Date(this.toDate)?this.errorMessage="From date must be earlier than To date":(this.errorMessage="",this.handleFilterByDate()))}handleFilterByDate(){var n=this;try{this.loading=!0;const r=new T.Kbf;r.name="filterProjectFrom",r.operateon="boomfolder",r.logicoperator=">",r.search=this.fromDate.toString(),r.type="entry_timestamp";const s=new T.Kbf;s.name="filterProjectTo",s.operateon="boomfolder",s.logicoperator="<",s.search=this.toDate.toString(),s.type="entry_timestamp";const l=new T.LtL;l.typeConnection="the_boom_folder_s_contain",l.selectors=["self"],l.name="boomgpt";const a=new T.LtL;a.typeConnection="the_user_s_joined_project",a.reverse=!0,a.name="boomfolderuser",a.selectors=["self"];const c=new T.LtL;c.typeConnection="the_user_s_joined_project",c.name="boomfolder",c.selectors=["self"],c.freeschemaQueries=[a,l],c.includeInFilter=!0;const d=new T.LtL;d.conceptIds=[Number(this.userConcept)],d.freeschemaQueries=[c],d.name="top",d.filters=[r,s],d.filterLogic="( filterProjectFrom EXAND filterProjectTo )",d.outputFormat=T.xY7,(0,T.og0)(d,"").subscribe(function(){var u=(0,y.Z)(function*(_){const m=_?.[0]?.data?.the_user?.the_user_s_joined_project||[],p=yield n.formatProjectsList(m);n.filteredProjects=p.length>0?p:[],n.loading=!1});return function(_){return u.apply(this,arguments)}}())}catch(r){console.error("Error in onSearch:",r)}}toggleFilter(){this.showUsersDropdown=!this.showUsersDropdown}clearSelection(){this.filteredProjects=[...this.projectsList],this.selectedUser=null,this.userSearchTerm="",this.showUsersDropdown=!1,this.updateSortedUsers()}selectUser(n){this.selectedUser?.userId===n.userId?this.clearSelection():(this.selectedUser=n,this.showUsersDropdown=!1,this.updateSortedUsers(),this.searchProjectsByUsers())}updateSortedUsers(){let n=[...this.users];this.selectedUser&&(n=n.filter(r=>r.userId!==this.selectedUser.userId),n.unshift(this.selectedUser)),this.sortedUsers=n}searchProjectsByUsers(){var n=this;this.loading=!0;try{const r=new T.Kbf;r.name="filterProject",r.operateon="boomfolderuser",r.logicoperator="=",r.search=this.selectedUser.userId.toString(),r.type="id";const s=new T.LtL;s.typeConnection="the_boom_folder_s_contain",s.selectors=["self"],s.name="boomgpt";const l=new T.LtL;l.name="entity",l.typeConnection="the_entity_user",l.reverse=!0,l.selectors=["the_entity_email","the_entity_firstname","the_entity_lastname","the_entity_avatar"];const a=new T.LtL;a.typeConnection="the_user_s_joined_project",a.name="boomfolderuser",a.selectors=["self"],a.reverse=!0,a.freeschemaQueries=[l];const c=new T.LtL;c.typeConnection="the_user_s_joined_project",c.name="boomfolder",c.selectors=["self"],c.freeschemaQueries=[a,s],c.includeInFilter=!0;const d=new T.LtL;d.conceptIds=[Number(this.userConcept)],d.freeschemaQueries=[c],d.name="top",d.filters=[r],d.filterLogic="( filterProject )",d.outputFormat=T.xY7,(0,T.og0)(d,"").subscribe(function(){var u=(0,y.Z)(function*(_){const m=_?.[0]?.data?.the_user?.the_user_s_joined_project||[],p=yield n.formatProjectsList(m);n.filteredProjects=p.length>0?p:[],n.loading=!1});return function(_){return u.apply(this,arguments)}}())}catch(r){console.error("Error in onSearch:",r)}}onClickOutside(n){(!n.target||!n.target.closest(".dropdown-menu, .btn-outline-primary"))&&(this.showUsersDropdown=!1),n.target.closest(".form-group")||(this.dropdownOpen=!1)}filteredUsers(){if(!this.userSearchTerm)return this.sortUsers(this.allProjectsUsers);const n=this.userSearchTerm.toLowerCase(),r=this.allProjectsUsers.filter(s=>s.userName?.toLowerCase().includes(n)||(s.firstName+" "+s.lastName).toLowerCase().includes(n)||s.primaryEmail?.toLowerCase().includes(n));return this.sortUsers(r)}sortUsers(n){return this.selectedUser?[this.selectedUser,...n.filter(r=>r.userId!==this.selectedUser.userId)]:n}goToPage(n){n<1||n>this.totalPages||n>this.currentPage&&0===this.projectsList.length||(this.currentPage=n,this.getProjectList())}getProjectList(){var n=this;return(0,y.Z)(function*(){n.loading=!0;try{const r=new T.LtL;r.typeConnection="self",r.name="datas";const s=new T.LtL;s.name="entity",s.typeConnection="the_entity_user",s.reverse=!0,s.selectors=["the_entity_email","the_entity_firstname","the_entity_lastname","the_entity_avatar"];const l=new T.LtL;l.typeConnection="the_user_s_joined_project",l.reverse=!0,l.selectors=["self"],l.name="projectusers",l.freeschemaQueries=[s];const a=new T.LtL;a.typeConnection="the_boom_folder_s_contain",a.selectors=["self"],a.name="boomgpt";const c=new T.LtL;c.typeConnection="the_user_s_joined_project",c.name="folder",c.inpage=n.pageSize,c.page=n.currentPage,c.limit=!0,c.order="DESC",c.selectors=["self"],c.freeschemaQueries=[r,l,a];const d=new T.LtL;d.conceptIds=[n.userConcept],d.freeschemaQueries=[c],d.name="top",d.order="DESC",d.outputFormat=T.xY7,(0,T.og0)(d,"").subscribe(function(){var u=(0,y.Z)(function*(_){const m=_?.[0]?.data?.the_user?.the_user_s_joined_project||[],p=_?.[0]?.data?.the_user_s_joined_project_count;n.totalPages=Math.ceil(p/n.pageSize);const f=yield n.formatProjectsList(m);n.projectsList=f,n.filteredProjects=[...n.projectsList],n.loading=!1});return function(_){return u.apply(this,arguments)}}())}catch(r){console.error(r),n.loading=!1}})()}updateProject(n){const r=this._modalService.open(Ra,{size:"lg"});r.componentInstance.project=n,r.result.then(s=>{s.projectId&&(this.filteredProjects=this.projectsList.map(l=>l.id==s.projectId?{...l,name:s.title,shortDesc:s.description,projectUsers:l.projectUsers}:l))}).catch(()=>{})}formatProjectsList(n){var r=this;return(0,y.Z)(function*(){try{return yield Promise.all(n.filter(l=>l?.data?.boomFolder?.name?.data?.the_name&&l?.data?.boomFolder?.parent?.data?.the_parent&&l?.data?.boomFolder?.the_user_s_joined_project_reverse&&l?.data?.boomFolder?.the_boom_folder_s_contain).map(function(){var l=(0,y.Z)(function*(a){const c=a?.data?.boomFolder?.the_boom_folder_s_contain?.find(v=>v?.data?.boomgpt?.created_by?.data?.the_created_by)?.data?.boomgpt?.created_by?.data?.the_created_by,d=a?.data?.boomFolder?.the_boom_folder_s_contain?.some(v=>v?.data?.boomgpt?.created_by?.data?.the_created_by==r.userConcept)||!1,u=a?.data?.boomFolder?.the_boom_folder_s_contain?.find(v=>v?.data?.boomgpt?.short_desc?.data?.the_short_desc||v?.data?.boomgpt?.visual_text?.data?.the_visual_text)?.data?.boomgpt?.short_desc?.data?.the_short_desc||a?.data?.boomFolder?.the_boom_folder_s_contain?.find(v=>v?.data?.boomgpt?.short_desc?.data?.the_short_desc||v?.data?.boomgpt?.visual_text?.data?.the_visual_text)?.data?.boomgpt?.visual_text?.data?.the_visual_text,_=a?.data?.boomFolder?.the_user_s_joined_project_reverse?.find(v=>v?.id==c)?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_avatar?.data?.the_avatar||a?.data?.boomFolder?.the_user_s_joined_project_reverse?.find(v=>v?.id==c)?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.profile_img?.data?.the_profile_img,m=a?.data?.boomFolder?.the_user_s_joined_project_reverse?.find(v=>v?.id==c)?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_username?.data?.the_username||a?.data?.boomFolder?.the_user_s_joined_project_reverse?.find(v=>v?.id==c)?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.username?.data?.the_username,p=a?.data?.boomFolder?.the_user_s_joined_project_reverse?.find(v=>v?.id==c)?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.first_name?.data?.the_first_name,f=a?.data?.boomFolder?.the_user_s_joined_project_reverse?.find(v=>v?.id==c)?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.last_name?.data?.the_last_name,b=a?.data?.boomFolder?.the_user_s_joined_project_reverse?.find(v=>v?.id==c)?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.email?.data?.the_email,C=a?.data?.boomFolder?.the_user_s_joined_project_reverse?.map(v=>({userProfileImg:v?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_avatar?.data?.the_avatar||v?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.profile_img?.data?.the_profile_img||"",userName:v?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_username?.data?.the_username||v?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.username?.data?.the_username||"",userFirstName:v?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_firstname?.data?.the_firstname||v?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.first_name?.data?.the_first_name||"",userLastName:v?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_lastname?.data?.the_lastname||v?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.last_name?.data?.the_last_name||"",email:v?.data?.the_user?.the_entity_user_reverse?.data?.the_entity?.the_entity_email?.data?.the_email||v?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.email?.data?.the_email||""}))||[];return{name:a?.data?.boomFolder?.name?.data?.the_name||"",parent:a?.data?.boomFolder?.parent?.data?.the_parent||"",id:a?.id||"",shortDesc:u||"",isProjectAdmin:d||"",adminDetails:{createdBy:c||"",adminProfileImg:_||"",adminUserName:m||"",adminFirstName:p||"",adminLastName:f||"",adminEmail:b||""},projectUsers:C}});return function(a){return l.apply(this,arguments)}}()))}catch(s){return console.error("Error in formatProjects:",s),[]}})()}onSearch(){var n=this;return(0,y.Z)(function*(){n.debounceTimer=setTimeout((0,y.Z)(function*(){const r=n.searchTerm;if(!n.searchTerm.trim())return n.filteredProjects=[...n.projectsList],void clearTimeout(n.debounceTimer);try{const s=new T.LtL;s.typeConnection="self",s.name="datas";const l=new T.LtL;l.typeConnection="self",l.name="boomgptdata";const a=new T.Kbf;a.name="newFilter",a.operateon="datas",a.logicoperator="like",a.search=r,a.type="the_name";const c=new T.Kbf;c.name="filterVisualText",c.type="the_visual_text",c.search=r,c.logicoperator="like",c.operateon="boomgptdata";const d=new T.Kbf;d.name="filterShortDesc",d.type="the_short_desc",d.search=r,d.logicoperator="like",d.operateon="boomgptdata";const u=new T.LtL;u.name="entity",u.typeConnection="the_entity_user",u.reverse=!0,u.selectors=["the_entity_email","the_entity_firstname","the_entity_lastname","the_entity_avatar"];const _=new T.LtL;_.typeConnection="the_user_s_joined_project",_.reverse=!0,_.selectors=["self"],_.name="projectusers",_.freeschemaQueries=[u];const m=new T.LtL;m.typeConnection="the_boom_folder_s_contain",m.includeInFilter=!0,m.selectors=["self"],m.name="boomgpt",m.freeschemaQueries=[l];const p=new T.LtL;p.typeConnection="the_user_s_joined_project",p.name="folder",p.selectors=["self"],p.includeInFilter=!0,p.freeschemaQueries=[s,_,m];const f=[];0===n.selectedOptions.length?f.push(a,c,d):(n.selectedOptions.includes("name")&&f.push(a),n.selectedOptions.includes("description")&&f.push(c,d));const b=new T.LtL;b.conceptIds=[n.userConcept],b.inpage=10,b.filters=f,b.selectors=["self"],b.filterLogic=f.map(C=>C.name).join(" OR "),b.freeschemaQueries=[p],b.name="top",b.outputFormat=T.xY7,(0,T.og0)(b,"").subscribe(function(){var C=(0,y.Z)(function*(v){if(r!=n.searchTerm)return;const w=v?.[0]?.data?.the_user?.the_user_s_joined_project||[],A=yield n.formatProjectsList(w);n.filteredProjects=A.length>0?A:[]});return function(v){return C.apply(this,arguments)}}())}catch(s){console.error("Error in onSearch:",s)}}),300)})()}assignUser(n){var r=this;const s=this._modalService.open(co,{size:"lg"});s.componentInstance.project=n,s.result.then((0,y.Z)(function*(){const l=yield r.getAssignedUsers(n.id);r.filteredProjects=r.filteredProjects.map(a=>a.id===n.id?{...a,projectUsers:l.map(c=>({userProfileImg:c.profileImg,userName:`${c.firstName} ${c.lastName}`,userFirstName:c.firstName,userLastName:c.lastName,email:c.email}))}:a)})).catch(()=>{})}getAssignedUsers(n){var r=this;return(0,y.Z)(function*(){return new Promise((s,l)=>{r._projectService.getProjectUsers(n).then(a=>{s(a||[])}).catch(a=>{console.error("Error fetching assigned users:",a),l(a)})})})()}isProjectAdmin(n){if(n.isProjectAdmin)return this.userConcept}deleteData(n){const r=this._modalService.open(Ea,{windowClass:"xlModal"});r.componentInstance.itemId=n,r.componentInstance.deleteConfirmed.subscribe(s=>{this.deleteProject(s)}),r.result.then(()=>{}).catch(()=>{})}deleteProject(n){this._projectService.deleteProject(n).subscribe({next:()=>{this.filteredProjects=this.filteredProjects.filter(r=>r.id!=n)},error:()=>{}})}getLeftPosition(n,r){const s=this.getTotalItems(r),l=Math.min(s,3);return(s>3?7*(3-n):7*(l-n-1))+"px"}getTotalItems(n){return n?.projectUsers.length}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.FF),e.Y36(L.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-projects"]],hostBindings:function(r,s){1&r&&e.NdJ("click",function(a){return s.onClickOutside(a)},!1,e.evT)},decls:67,vars:19,consts:[[1,"project-container","container","my-4"],[1,"page-title"],[1,"d-md-flex","align-items-center","justify-content-between","mb-2"],[1,"d-flex","align-items-center","justify-content-between","gap-2"],[1,"input-container"],[1,"material-symbols-outlined"],["type","text","placeholder","Search Projects...",3,"ngModel","ngModelChange","input"],["tabindex","",1,"form-group","m-0",2,"min-width","max-content",3,"click","keyup"],[1,"form-select","text-start","py-2"],["class","dropdown-menu show","tabindex","",3,"click","keyup",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between","gap-3"],[1,"m-0","p-0","position-relative"],["tabindex","0",1,"d-flex","align-items-center","px-3","py-2","border","rounded","bg-white",3,"click"],[1,"ms-1"],["class","dropdown-menu show custom-user-dropdown",4,"ngIf"],[1,"d-flex","flex-column","mt-2"],["for","fromDate",1,"me-2"],["type","date","id","fromDate",1,"form-control","px-3","py-2",3,"ngModel","ngModelChange","change"],["for","toDate",1,"me-2"],["type","date","id","toDate",1,"form-control","px-3","py-2",3,"ngModel","ngModelChange","change"],["title","Clear date",1,"mt-4","p-1","cursor-pointer","rounded","border","flex","items-center","gap-1",3,"click"],[1,"material-symbols-outlined","p-0"],[1,"text-danger","small"],[1,"btn","btn-primary","rounded-1","fw-medium","btn-create-new-project",3,"routerLink"],["class","loading",4,"ngIf"],[1,"page-card","p-0"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"align-middle","py-1","fs-6","bg-light"],["scope","col",1,"project-title"],["scope","col"],["scope","col","width","162px"],[4,"ngIf","ngIfElse"],["notFound",""],[1,"pagination","mt-3"],[1,"row"],[1,"col-md-4","col-6","text-left"],[1,"btn","btn-primary",3,"disabled","click"],[1,"col-md-4","col-6","text-center"],[1,"text-nowrap"],[1,"col-md-4","col-6","text-right"],["tabindex","",1,"dropdown-menu","show",3,"click","keyup"],[1,"dropdown-item"],["type","checkbox","name","selectAll",3,"ngModel","ngModelChange","change"],["type","checkbox","name","name",3,"ngModel","ngModelChange","change"],["type","checkbox","name","description",3,"ngModel","ngModelChange","change"],[1,"dropdown-menu","show","custom-user-dropdown"],[1,"position-sticky","top-0","bg-white","p-2","border-bottom",2,"z-index","1050"],["type","text","placeholder","Search users...",1,"form-control",3,"ngModel","ngModelChange"],[1,"overflow-auto","user-list-container"],["noUsersFound",""],["class","dropdown-item d-flex align-items-center","style","cursor: pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dropdown-item","d-flex","align-items-center",2,"cursor","pointer",3,"ngClass","click"],[1,"d-flex","align-items-center","w-100"],[1,"rounded-circle","d-flex","align-items-center","justify-content-center","me-2","bg-primary","text-white","flex-shrink-0","user-img-container"],["class","rounded-circle user-img","alt","User Image",3,"src",4,"ngIf"],["class","fw-bold",4,"ngIf"],[1,"text-truncate",2,"max-width","140px"],["alt","User Image",1,"rounded-circle","user-img",3,"src"],[1,"fw-bold"],[1,"p-2","text-center","text-muted"],[1,"loading"],[1,"loader"],["class","align-middle py-0",4,"ngFor","ngForOf"],[1,"align-middle","py-0"],["data-label","Name",1,"py-0","project-name"],[1,"text-black","text-truncate",3,"title","routerLink"],["data-label","Team Members",1,"py-0","d-flex","align-items-center","justify-content-between"],["defaultCreatorImg",""],[1,"d-flex","align-items-center"],[1,"d-flex","position-relative"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-end"],["class","btn btn-view bg-transparent py-0 px-2",3,"title","click",4,"ngIf","ngIfElse"],["placeholder3",""],["data-label","Description",1,"py-0"],[1,"text-truncate",2,"max-width","200px",3,"title"],["data-label","Actions",1,"py-0","text-center"],[1,"d-flex","gap-2","align-items-center","justify-content-center"],["ngbTooltip","View Details",1,"btn","btn-view","border","border-warning","bg-transparent","py-0","px-2",3,"routerLink"],[1,"bi","bi-eye"],["class","btn btn-view border border-info bg-transparent py-0 px-2",3,"click",4,"ngIf","ngIfElse"],["placeholder",""],["class","btn btn-view border border-danger bg-transparent py-0 px-2",3,"click",4,"ngIf","ngIfElse"],["placeholder2",""],[1,"profile-img","rounded-circle","object-fit-cover","border","border-2","bg-primary",3,"src","title"],[1,"text-break","ms-1","text-black","text-wrap","fw-medium"],["src","./assets/man.png",1,"profile-img","rounded-circle","object-fit-cover","border","border-2","bg-primary",3,"title"],["defaultImg",""],[1,"profile-img","rounded-circle","object-fit-cover","border","border-2","bg-primary","position-relative",3,"src","title","ngStyle"],["src","./assets/man.png",1,"profile-img","rounded-circle","object-fit-cover","border","border-2","bg-primary","position-relative",3,"title","ngStyle"],[1,"profile-img","rounded-circle","object-fit-cover","border","border-2","bg-light","d-flex","justify-content-center","align-items-center","position-relative"],[1,"btn","btn-view","bg-transparent","py-0","px-2",3,"title","click"],[1,"bi","bi-person-plus","ms-1"],[1,"btn-placeholder"],[1,"btn","btn-view","border","border-info","bg-transparent","py-0","px-2",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-view","border","border-danger","bg-transparent","py-0","px-2",3,"click"],[1,"bi","bi-trash3"],["colspan","5",1,"text-center"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"All Projects"),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"span",5),e._uU(8,"search"),e.qZA(),e.TgZ(9,"input",6),e.NdJ("ngModelChange",function(a){return s.searchTerm=a})("input",function(){return s.onSearch()}),e.qZA()(),e.TgZ(10,"div",7),e.NdJ("click",function(){return s.toggleDropdown()})("keyup",function(){return s.toggleDropdown()}),e.TgZ(11,"button",8),e._uU(12,"Filter By"),e.qZA(),e.YNc(13,Fa,14,3,"div",9),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"button",12),e.NdJ("click",function(a){return s.toggleFilter(),a.stopPropagation()}),e._uU(17),e.TgZ(18,"span",13),e._uU(19,"\u25be"),e.qZA()(),e.YNc(20,Ya,7,3,"div",14),e.qZA(),e.TgZ(21,"div",15)(22,"div",3)(23,"div")(24,"label",16),e._uU(25,"From:"),e.qZA(),e.TgZ(26,"input",17),e.NdJ("ngModelChange",function(a){return s.fromDate=a})("change",function(){return s.onDateChange()}),e.qZA()(),e.TgZ(27,"div")(28,"label",18),e._uU(29,"To:"),e.qZA(),e.TgZ(30,"input",19),e.NdJ("ngModelChange",function(a){return s.toDate=a})("change",function(){return s.onDateChange()}),e.qZA()(),e.TgZ(31,"span",20),e.NdJ("click",function(){return s.clearDateSelection()}),e.TgZ(32,"span",21),e._uU(33,"deselect"),e.qZA()()(),e.TgZ(34,"p",22),e._uU(35),e.qZA()()(),e.TgZ(36,"a",23),e._uU(37,"Add New Project"),e.qZA()(),e.YNc(38,Ga,2,0,"div",24),e.TgZ(39,"div",25)(40,"div",26)(41,"table",27)(42,"thead")(43,"tr",28)(44,"th",29),e._uU(45,"Project Title"),e.qZA(),e.TgZ(46,"th",30),e._uU(47," Team Members "),e.qZA(),e.TgZ(48,"th",30),e._uU(49,"Description"),e.qZA(),e.TgZ(50,"th",31),e._uU(51,"Action"),e.qZA()()(),e.TgZ(52,"tbody"),e.YNc(53,ac,2,1,"ng-container",32),e.YNc(54,cc,4,0,"ng-template",null,33,e.W1O),e.qZA()()(),e.TgZ(56,"div",34)(57,"div",35)(58,"div",36)(59,"button",37),e.NdJ("click",function(){return s.goToPage(s.currentPage-1)}),e._uU(60," Previous "),e.qZA()(),e.TgZ(61,"div",38)(62,"span",39),e._uU(63),e.qZA()(),e.TgZ(64,"div",40)(65,"button",37),e.NdJ("click",function(){return s.goToPage(s.currentPage+1)}),e._uU(66," Next "),e.qZA()()()()()()),2&r){const l=e.MAs(55);e.xp6(9),e.Q6J("ngModel",s.searchTerm),e.xp6(4),e.Q6J("ngIf",s.dropdownOpen),e.xp6(4),e.hij(" ",s.selectedUser?"Filter By: "+(s.selectedUser.firstName+" "+s.selectedUser.lastName||s.selectedUser.userName):"Filter By User"," "),e.xp6(3),e.Q6J("ngIf",s.showUsersDropdown),e.xp6(6),e.Q6J("ngModel",s.fromDate),e.xp6(4),e.Q6J("ngModel",s.toDate),e.xp6(1),e.Udp("visibility",s.fromDate||s.toDate?"visible":"hidden"),e.xp6(3),e.Udp("visibility",s.errorMessage?"visible":"hidden"),e.xp6(1),e.hij(" ",s.errorMessage||"\xa0"," "),e.xp6(1),e.Q6J("routerLink",e.DdM(18,dc)),e.xp6(2),e.Q6J("ngIf",s.loading),e.xp6(15),e.Q6J("ngIf",s.filteredProjects.length>0)("ngIfElse",l),e.xp6(6),e.Q6J("disabled",1===s.currentPage),e.xp6(4),e.hij("Page ",s.currentPage,""),e.xp6(2),e.Q6J("disabled",s.currentPage==s.totalPages)}},dependencies:[I.mk,I.sg,I.O5,I.PC,g.Fj,g.Wl,g.JJ,g.On,k._L,H.rH],styles:[".project-container[_ngcontent-%COMP%]{position:relative}.row[_ngcontent-%COMP%]{margin:20px 0;width:-webkit-fill-available}.input-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 20px 10px 40px;font-size:16px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;height:42px}.input-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;left:10px;transform:translateY(-50%);font-size:18px;color:#aaa}.input-contaciner-main[_ngcontent-%COMP%]{width:340px}.table[_ngcontent-%COMP%]{font-size:12px}.btn-placeholder[_ngcontent-%COMP%]{display:inline-block;width:35px;height:40px}.profile-img[_ngcontent-%COMP%]{width:24px;height:24px}.project-name[_ngcontent-%COMP%]{max-width:200px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{table-layout:fixed;width:100%;word-wrap:break-word}.project-title[_ngcontent-%COMP%]{width:20%}.action-column[_ngcontent-%COMP%]{width:162px}td[data-label=Description][_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%]{max-width:200px}@media only screen and (max-width: 768px){.input-container[_ngcontent-%COMP%]{margin-bottom:10px}.btn-create-new-project[_ngcontent-%COMP%]{position:absolute;right:0;top:0}}@media (max-width: 600px){table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:none}tr[_ngcontent-%COMP%]{border-bottom:10px solid #f1f5f9}td[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;padding:12px!important;font-size:16px}td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700}}.custom-user-dropdown[_ngcontent-%COMP%]{width:250px;position:absolute;top:100%;right:0;z-index:1000}.user-list-container[_ngcontent-%COMP%]{max-height:260px;overflow-y:auto;overflow-x:hidden;border:1px solid #ddd;padding:8px}.user-img-container[_ngcontent-%COMP%]{width:24px;height:24px;overflow:hidden}.user-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]}),o})();var pc=D(8998),_c=D(2945),mc=D(9658);function gc(o,i){1&o&&(e.TgZ(0,"div",9),e._UZ(1,"div",10),e.qZA())}const hc=function(o){return{"active-category":o}};function fc(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",11),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.fetchTemplates(s.id,!0))}),e._uU(2),e.qZA()()}if(2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(2,hc,n.activeCategoryId==t.id.toString())),e.xp6(1),e.Oqu(t.name)}}function vc(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"img",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.viewPreviewTemplate(r.id))}),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("src",t.coverImg,e.LSH)}}function bc(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"img",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.viewPreviewTemplate(r.id))}),e.qZA()}}function xc(o,i){if(1&o&&(e.TgZ(0,"p",29),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("innerHTML",t.description,e.oJD),e.xp6(1),e.hij(" ",t.description," ")}}function Cc(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17),e.YNc(2,vc,1,1,"img",18),e.YNc(3,bc,1,0,"ng-template",null,19,e.W1O),e.TgZ(5,"div",20)(6,"h5",21),e._uU(7),e.qZA(),e.YNc(8,xc,2,2,"p",22),e.TgZ(9,"div",23)(10,"a",24),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewPreviewTemplate(s.id))}),e.TgZ(11,"span",25),e._uU(12," visibility "),e.qZA()(),e.TgZ(13,"button",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.handleUseTemplate(s.id,null==s?null:s.type))}),e._uU(14," Use Template "),e.qZA()()()()()}if(2&o){const t=i.$implicit,n=e.MAs(4);e.xp6(2),e.Q6J("ngIf",t.coverImg)("ngIfElse",n),e.xp6(5),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.description)}}function Tc(o,i){if(1&o&&(e.TgZ(0,"div",2),e.YNc(1,Cc,15,4,"div",15),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.templates)}}function yc(o,i){1&o&&(e.TgZ(0,"div",30)(1,"p"),e._uU(2,"No Templates Available for this category"),e.qZA()())}function wc(o,i){if(1&o&&(e.TgZ(0,"div",12),e.YNc(1,Tc,2,1,"div",13),e.YNc(2,yc,3,0,"ng-template",null,14,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.templates.length>0)("ngIfElse",t)}}function Ic(o,i){if(1&o&&e._UZ(0,"img",45),2&o){const t=e.oxw(3);e.Q6J("src",t.previewTemplate.coverImg,e.LSH)}}function Ac(o,i){1&o&&e._UZ(0,"img",46)}function Dc(o,i){1&o&&(e.TgZ(0,"h5"),e._uU(1,"Board Preview"),e.qZA())}function Sc(o,i){if(1&o&&(e.TgZ(0,"div",50)(1,"div",51)(2,"div",52)(3,"span",53),e._uU(4," drag_indicator "),e.qZA(),e.TgZ(5,"div")(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span",54)(9,"small"),e._uU(10,"(0)"),e.qZA()()(),e.TgZ(11,"div",55,56)(13,"button",57)(14,"span",25),e._uU(15,"more_vert"),e.qZA()(),e.TgZ(16,"ul",58)(17,"li")(18,"button",59),e._uU(19,"Update Title"),e.qZA()(),e.TgZ(20,"li")(21,"button",60),e._uU(22," Delete "),e.qZA()()()()(),e.TgZ(23,"div",61)(24,"div",62)(25,"a",63)(26,"div",64)(27,"div",65)(28,"div",66),e._uU(29,"Send Mail to client"),e.qZA(),e._UZ(30,"div",67),e.qZA(),e.TgZ(31,"div",68)(32,"div",69)(33,"span",70),e._uU(34,"A"),e.qZA()()(),e.TgZ(35,"div",71)(36,"div",72)(37,"span",73),e._uU(38,"todo"),e.qZA()()()()()(),e.TgZ(39,"a",74)(40,"span",25),e._uU(41," add "),e.qZA(),e._uU(42," Add Issue "),e.qZA()()()()),2&o){const t=i.$implicit;e.xp6(7),e.Oqu(t.name)}}function kc(o,i){if(1&o&&(e.TgZ(0,"div",47)(1,"div",48),e.YNc(2,Sc,43,1,"div",49),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.previewTemplate.boards)}}function Mc(o,i){1&o&&(e.TgZ(0,"div",99)(1,"div",100)(2,"div",101)(3,"span",102),e._uU(4,"attachment"),e.qZA(),e.TgZ(5,"h6",103),e._uU(6," Attachments "),e.qZA()(),e.TgZ(7,"div",104)(8,"div",105)(9,"div",106)(10,"a",107),e._UZ(11,"img",108),e.qZA(),e.TgZ(12,"div",109)(13,"h6",110),e._uU(14," 9adf2d00-4a87-4f27-83cb-3af9ed968d90.png "),e.qZA()(),e.TgZ(15,"a",111),e._uU(16,"Download"),e.qZA()(),e.TgZ(17,"span",112),e._uU(18,"close"),e.qZA()()()(),e.TgZ(19,"div",100),e._UZ(20,"div",101),e.TgZ(21,"div",104)(22,"div",105)(23,"div",106)(24,"a",113),e._uU(25,"Document"),e.qZA(),e.TgZ(26,"div",109)(27,"h6",110),e._uU(28," 9adf2d00-4a87-4f27-83cb-3af9ed968d90.pdf "),e.qZA()(),e.TgZ(29,"a",111),e._uU(30,"Download"),e.qZA()(),e.TgZ(31,"span",114),e._uU(32,"close"),e.qZA()()()()())}function Zc(o,i){1&o&&(e.TgZ(0,"div",115)(1,"label",116),e._uU(2,"Sub Tasks"),e.qZA(),e.TgZ(3,"div",117)(4,"div",118),e._UZ(5,"input",119),e.qZA(),e.TgZ(6,"div",120)(7,"h6",121),e._uU(8," Task Title 1 "),e.qZA()(),e.TgZ(9,"div",122)(10,"a",123)(11,"span",25),e._uU(12," edit "),e.qZA()(),e.TgZ(13,"a",124)(14,"span",25),e._uU(15," close "),e.qZA()()()(),e.TgZ(16,"div",117)(17,"div",118),e._UZ(18,"input",119),e.qZA(),e.TgZ(19,"div",120)(20,"h6",121),e._uU(21," Task Title 2 "),e.qZA()(),e.TgZ(22,"div",122)(23,"a",123)(24,"span",25),e._uU(25," edit "),e.qZA()(),e.TgZ(26,"a",124)(27,"span",25),e._uU(28," close "),e.qZA()()()()())}function Ec(o,i){1&o&&(e.TgZ(0,"div",115)(1,"label",125),e._uU(2,"Web Links"),e.qZA(),e.TgZ(3,"div",126)(4,"p",127)(5,"a",128),e._uU(6,"https://boomconsole.com"),e.qZA()(),e.TgZ(7,"a",124)(8,"span",25),e._uU(9," close "),e.qZA()()(),e.TgZ(10,"div",126)(11,"p",127)(12,"a",128),e._uU(13,"boomconsole"),e.qZA()(),e.TgZ(14,"a",124)(15,"span",25),e._uU(16," close "),e.qZA()()()())}function Pc(o,i){1&o&&(e.TgZ(0,"div",100)(1,"h6"),e._uU(2,"Assignee"),e.qZA(),e.TgZ(3,"div",134)(4,"button",135),e._uU(5," Add Assignee "),e.qZA(),e.TgZ(6,"div",136),e.ynx(7)(8),e.TgZ(9,"button",137)(10,"span"),e._UZ(11,"img",138),e.qZA(),e.TgZ(12,"span"),e._uU(13,"Santosh Yadav"),e.qZA()(),e.BQk()(),e.qZA()(),e.ynx(14),e.TgZ(15,"div",88)(16,"div",32)(17,"div",139)(18,"span"),e._UZ(19,"img",140),e.qZA(),e.TgZ(20,"p",127),e._uU(21,"Santosh Yadav"),e.qZA()(),e.TgZ(22,"a",141)(23,"span",142),e._uU(24," close "),e.qZA()()()(),e.BQk(),e.qZA()),2&o&&(e.xp6(3),e.Q6J("autoClose",!0))}function Oc(o,i){1&o&&(e.TgZ(0,"div",100)(1,"h6"),e._uU(2,"Labels"),e.qZA(),e._UZ(3,"input",143),e.ynx(4),e.TgZ(5,"div",144)(6,"span",145),e._uU(7," label "),e.qZA()(),e.BQk(),e.qZA())}function Nc(o,i){1&o&&(e.TgZ(0,"div",100)(1,"h6"),e._uU(2,"Sprint"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"issueSprint"),e.qZA()())}function Uc(o,i){1&o&&(e.TgZ(0,"div",100)(1,"h6"),e._uU(2,"priority"),e.qZA(),e.TgZ(3,"select",146)(4,"option",147),e._uU(5,"high"),e.qZA(),e.TgZ(6,"option",147),e._uU(7,"low"),e.qZA(),e.TgZ(8,"option",147),e._uU(9,"medium"),e.qZA(),e.TgZ(10,"option",147),e._uU(11,"highest"),e.qZA(),e.TgZ(12,"option",147),e._uU(13,"lowest"),e.qZA()()())}function jc(o,i){if(1&o&&(e.TgZ(0,"div",129)(1,"div",130)(2,"h6",131),e._uU(3,"Details"),e.qZA(),e.TgZ(4,"a",124)(5,"span",25),e._uU(6," keyboard_arrow_down "),e.qZA()()(),e.TgZ(7,"div",132),e.YNc(8,Pc,25,1,"div",133),e.YNc(9,Oc,8,0,"div",133),e.YNc(10,Nc,5,0,"div",133),e.YNc(11,Uc,14,0,"div",133),e.qZA()()),2&o){const t=e.oxw(4);e.xp6(8),e.Q6J("ngIf",t.hasField(t.previewTemplate.issueFields,"assignee")),e.xp6(1),e.Q6J("ngIf",t.hasField(t.previewTemplate.issueFields,"labels")),e.xp6(1),e.Q6J("ngIf",t.hasField(t.previewTemplate.issueFields,"sprints")),e.xp6(1),e.Q6J("ngIf",t.hasField(t.previewTemplate.issueFields,"priority"))}}function Rc(o,i){1&o&&(e.TgZ(0,"small"),e._uU(1,"Created At:May 27, 2024"),e.qZA())}function Fc(o,i){1&o&&(e.TgZ(0,"small"),e._uU(1,"Updated At:Jun 12, 2024"),e.qZA())}function qc(o,i){if(1&o&&(e.TgZ(0,"div",75)(1,"label",76)(2,"h5"),e._uU(3,"Card Information"),e.qZA()(),e.TgZ(4,"div",77)(5,"div",78)(6,"div",79)(7,"div",80)(8,"div",81)(9,"h5",82),e._uU(10,"Issue Name"),e.qZA(),e.TgZ(11,"div",83)(12,"label",84)(13,"a",85)(14,"span",25),e._uU(15," attachment "),e.qZA()()(),e.TgZ(16,"a",86)(17,"span",25),e._uU(18," event_list "),e.qZA()(),e.TgZ(19,"a",87)(20,"span",25),e._uU(21," link "),e.qZA()()()(),e.TgZ(22,"div",88)(23,"div",89)(24,"div",2)(25,"div",90)(26,"div",91)(27,"label",92),e._uU(28,"Description"),e.qZA(),e.TgZ(29,"p",93)(30,"span",94)(31,"em"),e._uU(32,"Description ..."),e.qZA()()()(),e.YNc(33,Mc,33,0,"div",95),e.YNc(34,Zc,29,0,"div",96),e.YNc(35,Ec,17,0,"div",96),e.qZA(),e.TgZ(36,"div",97),e.YNc(37,jc,12,4,"div",98),e.TgZ(38,"p"),e.YNc(39,Rc,2,0,"small",41),e._UZ(40,"br"),e.YNc(41,Fc,2,0,"small",41),e.qZA()()()()()()()()()()),2&o){const t=e.oxw(3);e.xp6(33),e.Q6J("ngIf",t.hasField(t.previewTemplate.issueFields,"attachments")),e.xp6(1),e.Q6J("ngIf",t.hasField(t.previewTemplate.issueFields,"subTasks")),e.xp6(1),e.Q6J("ngIf",t.hasField(t.previewTemplate.issueFields,"webLinks")),e.xp6(2),e.Q6J("ngIf",t.hasField(t.previewTemplate.issueFields,"assignee")),e.xp6(2),e.Q6J("ngIf",t.hasField(t.previewTemplate.issueFields,"createdAt")),e.xp6(2),e.Q6J("ngIf",t.hasField(t.previewTemplate.issueFields,"updatedAt"))}}function Jc(o,i){1&o&&(e.TgZ(0,"h5"),e._uU(1,"Folders"),e.qZA())}function Lc(o,i){if(1&o&&(e.TgZ(0,"div",148),e._UZ(1,"app-folder-tree",149),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("folders",t.folders)}}function Bc(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",32)(2,"h3",33)(3,"a",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearPreviewTemplate())}),e.TgZ(4,"span",25),e._uU(5," arrow_back "),e.qZA()(),e.TgZ(6,"span",35),e._uU(7),e.qZA()(),e.TgZ(8,"button",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleUseTemplate(r.previewTemplate.id,null==r.previewTemplate?null:r.previewTemplate.type))}),e._uU(9," Use Template "),e.qZA()(),e.TgZ(10,"div",37)(11,"p",38)(12,"small")(13,"b"),e._uU(14,"Category: "),e.qZA(),e._uU(15),e.qZA()(),e.YNc(16,Ic,1,1,"img",39),e.YNc(17,Ac,1,0,"ng-template",null,19,e.W1O),e.TgZ(19,"h4",4),e._uU(20,"About"),e.qZA(),e._UZ(21,"p",40),e.qZA(),e.YNc(22,Dc,2,0,"h5",41),e.YNc(23,kc,3,1,"div",42),e.YNc(24,qc,42,6,"div",43),e.YNc(25,Jc,2,0,"h5",41),e.YNc(26,Lc,2,1,"div",44),e.qZA()}if(2&o){const t=e.MAs(18),n=e.oxw(2);e.xp6(7),e.Oqu(n.previewTemplate.name),e.xp6(8),e.Oqu(n.previewTemplateCategory()),e.xp6(1),e.Q6J("ngIf",n.previewTemplate.coverImg)("ngIfElse",t),e.xp6(5),e.Q6J("innerHTML",n.previewTemplate.description,e.oJD),e.xp6(1),e.Q6J("ngIf",!n.folders),e.xp6(1),e.Q6J("ngIf",!n.folders),e.xp6(1),e.Q6J("ngIf",!n.folders),e.xp6(1),e.Q6J("ngIf",n.folders),e.xp6(1),e.Q6J("ngIf",n.folders)}}function Hc(o,i){if(1&o&&e.YNc(0,Bc,27,10,"div",31),2&o){const t=e.oxw();e.Q6J("ngIf",t.previewTemplate)}}let po=(()=>{const i=class{constructor(n,r,s){this._router=n,this._snackbarService=r,this._projectService=s,this.showChooseTemplate=new e.vpe,this.loader=!1,this.templateCategories=[],this.activeTemplate="",this.templates=[],this.activeCategoryId=void 0,this.previewTemplate=void 0,this.folder=[{name:"Wedding",isFolder:!0,isOpen:!0,children:[{name:"Ceremony",isFolder:!0,isOpen:!0,children:[{name:"Venue Setup",isFolder:!0,isOpen:!0,children:[{name:"Decorations",isFolder:!0,isOpen:!0},{name:"Seating Arrangement",isFolder:!0,isOpen:!0}]}]},{name:"Reception",isFolder:!0,isOpen:!0,children:[{name:"Catering",isFolder:!0,isOpen:!0,children:[{name:"Menu Selection",isFolder:!0,isOpen:!0},{name:"Food Preparation",isFolder:!0,isOpen:!0},{name:"Serving",isFolder:!0,isOpen:!0}]}]}]},{name:"Post-Wedding",isFolder:!0,isOpen:!0,children:[{name:"Thank You Cards",isFolder:!0,isOpen:!0},{name:"Photo Album",isFolder:!0,isOpen:!0}]}]}ngOnInit(){this.loader=!0,this.fetchTemplateCategories()}hasField(n,r){return n?.includes(r)}fetchTemplateCategories(){this.previewTemplate=void 0,this._projectService.listProjectTemplateCategory().subscribe({next:n=>{this.templateCategories=n.data,n.data?.[0]?(this.activeCategoryId=n.data?.[0].id,this.fetchTemplates(n.data?.[0].id)):this.loader=!1},error:n=>{this.loader=!1,console.error(n),this._snackbarService.openSnackBar("Failed to load templates","error")}})}fetchTemplates(n,r=!1){r&&(this.loader=!0),this.activeCategoryId=n,this._projectService.listProjectTemplateOfCategory(n).subscribe({next:s=>{this.previewTemplate=void 0,this.templates=s.data,this.loader=!1},error:s=>{this.loader=!1,console.error(s),this._snackbarService.openSnackBar("Failed to load templates","error")}})}viewPreviewTemplate(n){function r(s){s.isOpen=!0,s.isFolder=!0,s.children&&s.children.length>0&&s.children.forEach(l=>r(l))}this.previewTemplate=this.templates.find(s=>s.id==n),this.previewTemplate?.folders.forEach(s=>r(s)),this.folders=this.previewTemplate.folders}clearPreviewTemplate(){this.previewTemplate=void 0}previewTemplateCategory(){return this.templateCategories.find(r=>r.id.toString()==this.previewTemplate.categoryId)?.name}handleUseTemplate(n,r){this.loader=!0,this._projectService.useTemplateInProject({projectId:this.projectId,templateId:n}).subscribe({next:()=>{this.showChooseTemplate.emit(!1),this._router.navigate(["/projects","view",this.projectId]),r&&this._router.navigate([_c.sf],{queryParams:{s:this.projectId}}),this.loader=!1},error:()=>{this.loader=!1}})}toggleFolder(n){n.isFolder&&(n.isOpen=!n.isOpen)}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(H.F0),e.Y36(Q.o),e.Y36(L.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-choose-template"]],inputs:{projectId:"projectId"},outputs:{showChooseTemplate:"showChooseTemplate"},decls:11,vars:4,consts:[["class","loading",4,"ngIf"],[1,"choose-template"],[1,"row"],[1,"col-md-3"],[1,"fw-semibold"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],["class","col-md-9",4,"ngIf","ngIfElse"],["viewTemplatePreview",""],[1,"loading"],[1,"loader"],[1,"d-flex","p-2","rounded","mb-1","category-item",3,"ngClass","click"],[1,"col-md-9"],["class","row",4,"ngIf","ngIfElse"],["noTemplate",""],["class","col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4"],[1,"card"],["class","card-img-top cursor-pointer","alt","Template Preview Image","style","height: 150px; object-fit: cover",3,"src","click",4,"ngIf","ngIfElse"],["defaultImage",""],[1,"card-body","p-2"],[1,"card-title","text-capitalize"],["class","card-text description-preview mb-1",3,"innerHTML",4,"ngIf"],[1,"d-flex","align-items-center"],["ngbTooltip","View Preview",1,"btn-top_header","d-flex","align-items-center","justify-content-center","mr-3",3,"click"],[1,"material-symbols-outlined"],[1,"use-template-btn",3,"click"],["alt","Template Preview Image",1,"card-img-top","cursor-pointer",2,"height","150px","object-fit","cover",3,"src","click"],["src","https://static.vecteezy.com/system/resources/previews/027/206/101/large_2x/colorful-autumn-landscape-with-hills-trees-and-sun-illustration-a-pointillism-painting-of-a-landscape-digital-art-illustration-ai-generated-free-photo.jpg","alt","Preview",1,"img-fluid","pb-4","cursor-pointer",2,"height","150px","object-fit","cover",3,"click"],[1,"card-text","description-preview","mb-1",3,"innerHTML"],[1,"d-flex","justify-content-center","mt-5"],["class","col-md-9",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","gap-3","fw-semibold"],["role","button",3,"click"],[1,"text-capitalize"],[1,"btn","btn-primary",3,"click"],[1,"mb-4"],[1,"text-muted"],["class","img-fluid pb-4","alt","Preview",3,"src",4,"ngIf","ngIfElse"],[1,"text-secondary",3,"innerHTML"],[4,"ngIf"],["class","border rounded p-2 mb-3",4,"ngIf"],["class","mb-2 p-1",4,"ngIf"],["class","container border rounded p-2 mb-3",4,"ngIf"],["alt","Preview",1,"img-fluid","pb-4",3,"src"],["src","https://static.vecteezy.com/system/resources/previews/027/206/101/large_2x/colorful-autumn-landscape-with-hills-trees-and-sun-illustration-a-pointillism-painting-of-a-landscape-digital-art-illustration-ai-generated-free-photo.jpg","alt","Preview",1,"img-fluid","pb-4"],[1,"border","rounded","p-2","mb-3"],[1,"boards","d-flex","flex-row","gap-4","overflow-auto"],["class","board-single",4,"ngFor","ngForOf"],[1,"board-single"],[1,"board-single-data",2,"width","250px"],[1,"board-title","d-flex","align-items-center","gap-2"],[1,"material-symbols-outlined","text-link-secondary","cursor-move"],[1,"text-muted","fw-normal","ms-2"],["ngbDropdown","","placement","left",1,"dropdown","ms-auto"],["dropdown","ngbDropdown"],["id","dropdownMenuButton","ngbDropdownToggle","",1,"text-dark","border-0","bg-transparent","dropdown-toggle","hide-dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","dropdownMenuButton",1,"dropdown-menu","mt-2"],[1,"dropdown-item"],[1,"dropdown-item","text-danger"],[1,"board-cards"],[1,"board-cards-dragarea"],[1,"board-card-details"],[1,"card-list-item"],[1,"d-flex","flex-row","justify-content-between"],[1,"card-item-title"],[1,"card-item-badges"],[1,"d-flex","justify-content-end","mt-1"],[1,"d-flex","flex-row"],["title","User Name",1,"rounded-circle","border","border-2","h-25px","w-25px","bg-primary","text-white","text-center","text-capitalize"],[1,"d-flex","justify-content-start","mt-1"],[1,"d-flex","flex-row","ga-1"],[1,"bg-light","rounded","px-2","border","shadow-sm"],[1,"btn","btn-add-card"],[1,"mb-2","p-1"],[1,"form-label","fs-bold"],[1,"row","my-0"],[1,"col-lg-"],[1,"issue-demo"],[1,"card","border"],[1,"card-header"],[1,"card-title"],[1,"d-flex","flex-row","gap-2","mb-4"],["title","Update cover image","for","project_attachment"],["role","button","title","Add attachment",1,"btn","btn-light","btn-sm","px-2","py-1"],["role","button","title","Add Sub Task",1,"btn","btn-light","btn-sm","px-2","py-1"],["role","button","title","Add Web Link",1,"btn","btn-light","btn-sm","px-2","py-1"],[1,""],[1,"card-body"],[1,"col-md-8","border-end"],[1,"form-group","mb-2"],["for","description fw-bold",1,"form-label"],[1,"border","rounded","px-2","py-1","innerHTML","cursor-text"],[1,"text-secondary"],["class","fw-bold",4,"ngIf"],["class","form-group mt-2",4,"ngIf"],[1,"col-md-4"],["class","card p-0 shadow-none border mb-4",4,"ngIf"],[1,"fw-bold"],[1,"mb-2"],[2,"display","flex","align-items","center","margin-bottom","5px"],[1,"material-symbols-outlined",2,"display","inline"],[1,"fw-bold",2,"margin-left","5px","margin-bottom","4px"],[1,"d-flex","flex-column","gap-2"],[1,"attachment-card"],[1,"d-flex","flex-row","align-items-center"],["target","_blank",1,"image-link"],["src","https://static.vecteezy.com/system/resources/previews/027/206/101/large_2x/colorful-autumn-landscape-with-hills-trees-and-sun-illustration-a-pointillism-painting-of-a-landscape-digital-art-illustration-ai-generated-free-photo.jpg","alt","Image",1,"attachment-image"],[1,"attachment-info","flex-grow-1"],[1,"attachment-title"],[1,"attachment-download"],[1,"material-symbols-outlined","remove-imag"],["target","_blank",1,"attachment-document-link",3,"href"],[1,"material-symbols-outlined","remove-image"],[1,"form-group","mt-2"],["for","subTasks fw-bold",1,"form-label","fw-bold"],[1,"d-flex","flex-row","align-items-center","gap-2","card","border","shadow-sm","p-2","px-3","mb-2"],[1,"form-check"],["type","checkbox","name","",1,"form-check-input"],[1,"col-10"],[1,"text-capitalize","text-wrap","mw-95"],[1,"col-2"],["role","button",1,"ml-0"],["role","button"],["for","webLinks fw-bold",1,"form-label","fw-bold"],[1,"card","shadow-sm","border","card-body","py-1","d-flex","flex-row","justify-content-between","mb-1"],[1,"m-0"],["target","_blank",1,"card-title","text-black","text-break","mw-95"],[1,"card","p-0","shadow-none","border","mb-4"],[1,"card-header","p-3","border-bottom-0","d-flex","align-items-center","justify-content-between"],[1,"fw-bold","card-title","m-0"],[1,"card-body","border-top"],["class","mb-2",4,"ngIf"],["ngbDropdown","",1,"",3,"autoClose"],["type","button","id","assignee","ngbDropdownToggle","",1,"hide-dropdown-toggle","form-select","form-select-sm","px-2","py-1","shadow-none","w-full","text-start"],["ngbDropdownMenu","","aria-labelledby","assignee"],["ngbDropdownItem","",1,"px-2","d-flex","align-items-center","gap-1"],["src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp",1,"avatar",2,"width","40px","height","40px"],[1,"d-flex","align-items-center","gap-1"],["src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp","alt","Profile Image",1,"avatar",2,"width","40px","height","40px"],["role","button","title","Remove User",1,"p-1"],[1,"material-symbols-outlined","h6","mb-0","text-danger"],["type","button","value","label",1,"form-control","form-select-sm","px-2","py-1","shadow-none"],[1,"d-flex","flex-row","flex-wrap","gap-1","mt-1"],[1,"px-2","bg-light","rounded","border"],[1,"form-select","form-select-sm"],[1,"capitalize"],[1,"container","border","rounded","p-2","mb-3"],[3,"folders"]],template:function(r,s){if(1&r&&(e.YNc(0,gc,2,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Categories"),e.qZA(),e.TgZ(6,"ul",5),e.YNc(7,fc,3,4,"li",6),e.qZA()(),e.YNc(8,wc,4,2,"div",7),e.YNc(9,Hc,1,1,"ng-template",null,8,e.W1O),e.qZA()()),2&r){const l=e.MAs(10);e.Q6J("ngIf",s.loader),e.xp6(7),e.Q6J("ngForOf",s.templateCategories),e.xp6(1),e.Q6J("ngIf",!s.previewTemplate)("ngIfElse",l)}},dependencies:[I.mk,I.sg,I.O5,g.YN,g.Kr,k.jt,k.iD,k.Vi,k.TH,k._L,mc.Y],styles:[".description-preview[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.active-category[_ngcontent-%COMP%], .category-item[_ngcontent-%COMP%]:hover{border:1px solid #eee;background:rgba(253,126,147,.2)}.cursor-move[_ngcontent-%COMP%]{cursor:move}.board-custom-placeholder[_ngcontent-%COMP%], .issue-custom-placeholder[_ngcontent-%COMP%]{background:#eee;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}.board-custom-placeholder[_ngcontent-%COMP%]{min-width:250px}.card-head[_ngcontent-%COMP%]{padding:20px 0 0}.info[_ngcontent-%COMP%]{font-size:14px}.card-item-title[_ngcontent-%COMP%]{width:90%}.boards[_ngcontent-%COMP%]{font-size:14px}.boards[_ngcontent-%COMP%]   .board-single[_ngcontent-%COMP%]{margin-bottom:25px}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]{background-color:#f1f2f475;box-shadow:#11111a0d 0 4px 16px,#11111a0d 0 8px 32px;border:1px solid #dfdfdf;border-radius:10px;height:500px}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-title[_ngcontent-%COMP%]{font-size:14px;padding:20px;font-weight:700}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-cards[_ngcontent-%COMP%]{min-height:200px;padding:0 10px 10px;max-height:440px;overflow-y:auto}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-cards[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px;box-shadow:#0000000d 0 0 0 1px;padding:8px 10px}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-cards[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px;width:100%}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-card-details[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dfdfdf;display:block;padding:10px;margin:8px 0;border:1px solid #eee;border-radius:5px;position:relative}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-card-details[_ngcontent-%COMP%]:hover{background-color:#f1f2f475;border:1px solid #dfdfdf;color:inherit}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-card-details[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{position:absolute;right:10px;top:7px;color:#777;font-size:20px}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .btn-add-card[_ngcontent-%COMP%]{display:block;position:relative}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .btn-add-card[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{position:relative;top:4px}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .btn-add-card[_ngcontent-%COMP%]:hover{background-color:#eee}.use-template-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(242,112,156),rgb(255,148,114));padding:3px 4px;font-size:13px;border:none;color:#fff;border-radius:2px}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.fw-bold[_ngcontent-%COMP%]{font-weight:700}.attachment-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #ddd;padding:10px;border-radius:5px;background-color:#fff}.d-flex[_ngcontent-%COMP%]{display:flex}.flex-row[_ngcontent-%COMP%]{flex-direction:row}.flex-column[_ngcontent-%COMP%]{flex-direction:column}.align-items-center[_ngcontent-%COMP%]{align-items:center}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.attachment-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px;margin-right:10px}.attachment-document-link[_ngcontent-%COMP%]{margin-right:10px;text-decoration:none;color:#0f0f0f}.attachment-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.attachment-title[_ngcontent-%COMP%]{font-size:1rem;margin:0}.attachment-download[_ngcontent-%COMP%]{text-decoration:none;color:#007bff;cursor:pointer;margin-right:35px;margin-top:38px}.remove-image[_ngcontent-%COMP%]{position:relative;cursor:pointer;color:#424040;margin-left:486px;bottom:68px}.remove-imag[_ngcontent-%COMP%]{position:relative;cursor:pointer;color:#424040;margin-left:487px;bottom:76px}@media (max-width: 600px){.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:30px 0}}"]}),o})();function Qc(o,i){1&o&&(e.TgZ(0,"div",8),e._UZ(1,"span",9),e.qZA())}function Yc(o,i){1&o&&(e.TgZ(0,"small",21),e._uU(1," Please enter a valid input without special characters. "),e.qZA())}function Gc(o,i){1&o&&(e.TgZ(0,"small",21),e._uU(1," Please enter project description. "),e.qZA())}function zc(o,i){1&o&&(e.TgZ(0,"button",22),e._uU(1," Create "),e.qZA())}function Vc(o,i){1&o&&(e.TgZ(0,"button",23)(1,"div",24)(2,"span",25),e._uU(3,"."),e.qZA()(),e._uU(4," Please wait... "),e.qZA()),2&o&&e.Q6J("disabled",!0)}function Wc(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",10,11),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.create())}),e.TgZ(2,"div",12)(3,"div",13)(4,"label"),e._uU(5,"Project Title"),e.qZA(),e._UZ(6,"input",14),e.YNc(7,Yc,2,0,"small",15),e.qZA()(),e.TgZ(8,"div",12)(9,"div",13)(10,"label"),e._uU(11,"Project Brief "),e.qZA(),e.TgZ(12,"textarea",16),e._uU(13,"          "),e.qZA(),e.YNc(14,Gc,2,0,"small",15),e.qZA()(),e.TgZ(15,"div",17)(16,"div",18),e.YNc(17,zc,2,0,"button",19),e.YNc(18,Vc,5,1,"ng-template",null,20,e.W1O),e.qZA()()()}if(2&o){const t=e.MAs(1),n=e.MAs(19),r=e.oxw();e.Q6J("formGroup",r.createProject),e.xp6(7),e.Q6J("ngIf",r.title&&r.title.invalid&&(r.title.touched||t.submitted)),e.xp6(7),e.Q6J("ngIf",r.description&&r.description.invalid&&(r.description.touched||t.submitted)),e.xp6(3),e.Q6J("ngIf",!r.loader)("ngIfElse",n)}}function $c(o,i){if(1&o&&(e.ynx(0),e._UZ(1,"app-choose-template",26),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("projectId",t.projectId)}}let Kc=(()=>{const i=class{constructor(n,r){this._projectService=n,this._snackbarService=r,this.loader=!1,this.activeSection="Create Project",this.templateCategories=[],this.activeTemplate="",this.templates=[],this.activeCategoryId=void 0,this.previewTemplate=void 0,this.createProject=new g.cw({title:new g.NI("",[g.kI.required,g.kI.pattern("[a-zA-Z0-9 ]*"),pc.R.notOnlySpaces()]),description:new g.NI("")})}get title(){return this.createProject.get("title")}get description(){return this.createProject.get("description")}create(){var n=this;if(!this.createProject.valid)return;const r={title:this.createProject.value.title?.trim(),description:this.createProject.value.description?.trim()||""};var s;this.loader=!0,this._projectService.createProjects(r).subscribe({next:(s=(0,y.Z)(function*(l){n.loader=!1,l&&l.projectId?(n.projectId=l.projectId,n.activeSection="Choose Template"):(n._snackbarService.openSnackBar(l?.message,"error"),console.error("Failed to create project:",l))}),function(a){return s.apply(this,arguments)}),error:s=>{console.error("Error creating project:",s),this.loader=!1,this._snackbarService.openSnackBar("Error creating project: Project Name Already Exist Or Not Valid","error")}})}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(L.Y),e.Y36(Q.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-project"]],decls:11,vars:4,consts:[[1,"container"],[1,"page-title"],["routerLink","/projects"],[1,"material-symbols-outlined"],[1,"page-card"],["class","loading",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"loading"],[1,"loader"],[3,"formGroup","ngSubmit"],["createFormId","ngForm"],[1,"row"],[1,"form-group","col-md-12"],["type","text","placeholder","Project name","formControlName","title",1,"form-control"],["class","err_msg",4,"ngIf"],["formControlName","description",1,"form-control"],[1,"row","form-row"],[1,"col"],["type","submit","class","btn btn-primary",4,"ngIf","ngIfElse"],["loading",""],[1,"err_msg"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-primary","btn-disabled",3,"disabled"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"],[3,"projectId"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1")(3,"a",2)(4,"span",3),e._uU(5," arrow_back "),e.qZA()(),e._uU(6),e.qZA()(),e.TgZ(7,"div",4),e.YNc(8,Qc,2,0,"div",5),e.YNc(9,Wc,20,5,"form",6),e.YNc(10,$c,2,1,"ng-container",7),e.qZA()()),2&r&&(e.xp6(6),e.hij(" ",s.activeSection," "),e.xp6(2),e.Q6J("ngIf",s.loader),e.xp6(1),e.Q6J("ngIf","Create Project"==s.activeSection),e.xp6(1),e.Q6J("ngIf","Choose Template"==s.activeSection))},dependencies:[I.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,H.rH,po],styles:[".assign-user[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.assign-user[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:10px}.assign-user[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.assign-user[_ngcontent-%COMP%]   .assigned_employee_item[_ngcontent-%COMP%]{background-color:#f3f3f3;display:inline-block;padding:10px 40px 10px 10px;color:inherit;text-decoration:none;margin:8px;position:relative}.assign-user[_ngcontent-%COMP%]   .assigned_employee_item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;width:35px;text-align:center;display:flex;align-items:center;justify-content:center}.assign-user[_ngcontent-%COMP%]   .assigned_employee_item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.assign-user[_ngcontent-%COMP%]   .search_data[_ngcontent-%COMP%]{position:absolute;background:#fff;box-shadow:#11111a0d 0 4px 16px,#11111a0d 0 8px 32px;padding:20px 100px 20px 20px;width:94%;z-index:99;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.assign-user[_ngcontent-%COMP%]   .search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;padding:8px;display:block}.assign-user[_ngcontent-%COMP%]   .search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#111}.assign-user[_ngcontent-%COMP%]   .search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#1c954a}.assign-user[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{color:#777;float:left;margin-right:12px}.assign-user[_ngcontent-%COMP%]   #closeSearchEmployeeStatus[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;cursor:pointer;z-index:999}.assign-user[_ngcontent-%COMP%]   #closeSearchEmployeeStatus[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:40px}.assign-user[_ngcontent-%COMP%]   #closeSearchEmployeeStatus[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#cd0e0e}.assign-user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:30px;width:30px;min-width:30px;border-radius:50%;object-fit:cover}"]}),o})();var Xc=D(4128),ie=D(7899),ed=D(2902),td=D(6251);let nd=(()=>{const i=class{constructor(n,r,s){this._activeModal=n,this._snackbarService=r,this._projectService=s,this.loading=!1,this.integrateGitForm=new g.cw({applicationName:new g.NI("",[g.kI.required]),applicationBranch:new g.NI("",[g.kI.required])})}handleIntegrateGit(){this.integrateGitForm.valid?(this.loading=!0,this._projectService.integrateGitToProject(this.projectId,this.integrateGitForm.value).subscribe({next:()=>{this.loading=!1,this._activeModal.close(this.integrateGitForm.value)},error:n=>{this.loading=!1,console.error(n)}})):this._snackbarService.openSnackBar("Fill all the details","error")}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.Kz),e.Y36(Q.o),e.Y36(L.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-enable-git"]],inputs:{projectId:"projectId"},decls:23,vars:2,consts:[[1,"modal-header"],[1,"modal-title","text-capitalize"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"text-muted","mb-4"],[1,"mb-2"],[1,"form-label"],["type","text","formControlName","applicationName","placeholder","Github Repository Name",1,"form-control"],["type","text","formControlName","applicationBranch","placeholder","Github Repository Branch",1,"form-control"],[1,"modal-footer","d-flex","align-items-center","justify-content-end"],["role","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Integrate Git"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return s._activeModal.close()}),e.qZA()(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return s.handleIntegrateGit()}),e.TgZ(5,"div",4)(6,"small",5),e._uU(7," * Note: Make sure all these fields are all correct. It can't be changed later. "),e.qZA(),e.TgZ(8,"small",5),e._uU(9," * Note: It will be used to deploy to the given branch when Issue is moved to the last Board. "),e.qZA(),e.TgZ(10,"div",6)(11,"label",7),e._uU(12,"Git Application Name"),e.qZA(),e._UZ(13,"input",8),e.qZA(),e.TgZ(14,"div",6)(15,"label",7),e._uU(16,"Git Application Branch"),e.qZA(),e._UZ(17,"input",9),e.qZA()(),e.TgZ(18,"div",10)(19,"button",11),e.NdJ("click",function(){return s._activeModal.close()}),e._uU(20," Close "),e.qZA(),e.TgZ(21,"button",12),e._uU(22," Save "),e.qZA()()()),2&r&&(e.xp6(4),e.Q6J("formGroup",s.integrateGitForm),e.xp6(17),e.Q6J("disabled",s.loading))},dependencies:[g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u]}),o})();var Tn=D(4266),id=D(4954),_o=D(7726),oe=D(6844),od=D(2157);function rd(o,i){if(1&o&&e._UZ(0,"img",14),2&o){const t=e.oxw().$implicit;e.Q6J("title",(null==t||null==t.user?null:t.user.firstName)+" "+(null==t||null==t.user?null:t.user.lastName))("src",null==t||null==t.user?null:t.user.profileImg,e.LSH)}}function sd(o,i){if(1&o&&e._UZ(0,"img",15),2&o){const t=e.oxw().$implicit;e.Q6J("title",(null==t||null==t.user?null:t.user.firstName)+" "+(null==t||null==t.user?null:t.user.lastName))}}function ld(o,i){if(1&o&&(e.TgZ(0,"tr")(1,"td")(2,"div",10),e.YNc(3,rd,1,2,"img",11),e.YNc(4,sd,1,1,"ng-template",null,12,e.W1O),e.TgZ(6,"p",13),e._uU(7),e.qZA()()(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA()()),2&o){const t=i.$implicit,n=e.MAs(5),r=e.oxw();e.xp6(3),e.Q6J("ngIf",null==t||null==t.user?null:t.user.profileImg)("ngIfElse",n),e.xp6(4),e.hij(" ",(null==t||null==t.user?null:t.user.firstName)+" "+(null==t||null==t.user?null:t.user.lastName)," "),e.xp6(2),e.Oqu(e.xi3(10,7,t.startTime,"short")),e.xp6(3),e.Oqu(e.xi3(13,10,t.endTime,"short")),e.xp6(3),e.Oqu(r.getTimerDuration(t)),e.xp6(2),e.Oqu(r.getFormattedNote(t))}}let ad=(()=>{const i=class{constructor(n){this._activeModal=n,this.timers=[]}getTimerDuration(n){if(n.endTime){let s=Math.abs(new Date(n.startTime).valueOf()-new Date(n.endTime).valueOf())/864e5,l=s%1*24,a=l%1*60,c=a%1*60;[s,l,a,c]=[Math.floor(s),Math.floor(l),Math.floor(a),Math.floor(c)];let d=c+"s";return a>0&&(d=a+"m "+d),l>0&&(d=l+"h "+d),s>0&&(d=s+"d "+d),console.log(s+"d",l+"h",a+"m",c+"s"),d}return""}getFormattedNote(n){return"string"==typeof n?.note?n.note:"No Notes"}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.Kz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-timers"]],inputs:{timers:"timers"},decls:24,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","overflow-auto","scrollable-table"],[1,"table","table-striped"],[1,"table-light","sticky-header"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"d-flex","flex-row","align-items-center","gap-1"],["class","avatar-sm",3,"title","src",4,"ngIf","ngIfElse"],["defaultImg",""],[1,"mb-0"],[1,"avatar-sm",3,"title","src"],["src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp",1,"avatar-sm",3,"title"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Tracked Times"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return s._activeModal.dismiss()}),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead",6)(8,"tr")(9,"th"),e._uU(10,"User"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Start Time"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"End Time"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Duration"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Note"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,ld,18,13,"tr",7),e.qZA()()()(),e.TgZ(21,"div",8)(22,"button",9),e.NdJ("click",function(){return s._activeModal.dismiss()}),e._uU(23," Close "),e.qZA()()),2&r&&(e.xp6(20),e.Q6J("ngForOf",s.timers))},dependencies:[I.sg,I.O5,I.uU],styles:[".avatar-sm[_ngcontent-%COMP%]{width:30px;height:30px;object-fit:cover;border-radius:50%}.scrollable-table[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;display:block}@media (max-width: 992px){.scrollable-table[_ngcontent-%COMP%]{max-height:300px}}@media (max-width: 768px){.scrollable-table[_ngcontent-%COMP%]{max-height:250px}}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;background:white;z-index:2}"]}),o})(),cd=(()=>{const i=class{constructor(n){this.activeModal=n}onConfirm(){this.activeModal.close(!0)}onCancel(){this.activeModal.close(!1)}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.Kz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-conform-issue-resolution"]],decls:12,vars:0,consts:[[1,"modal-header","bg-secondary","text-white"],[1,"modal-title","text-capitalize"],["type","button","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"fs-4"],[1,"modal-footer"],[1,"btn","btn-secondary","px-4","py-2",3,"click"],[1,"btn","btn-primary","px-4","py-2",3,"click"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Confirm Resolution"),e.qZA(),e._UZ(3,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"p",4),e._uU(6,"Are you sure you want to mark this comment as issue resolution?"),e.qZA()(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return s.onCancel()}),e._uU(9,"No"),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return s.onConfirm()}),e._uU(11,"Yes"),e.qZA()())}}),o})(),dd=(()=>{const i=class{constructor(n){this.activeModal=n}onConfirm(){this.activeModal.close(!0)}onCancel(){this.activeModal.close(!1)}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.Kz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-conform-issue-resolution-override"]],decls:12,vars:0,consts:[[1,"modal-header","bg-secondary","text-white"],[1,"modal-title","text-capitalize"],["type","button","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"fs-4"],[1,"modal-footer"],[1,"btn","btn-secondary","px-4","py-2",3,"click"],[1,"btn","btn-primary","px-4","py-2",3,"click"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Confirm Resolution"),e.qZA(),e._UZ(3,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"p",4),e._uU(6,'"A comment is already marked as resolved for this issue. Do you want to change it? Are you sure the previous resolution is incorrect?"'),e.qZA()(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return s.onCancel()}),e._uU(9,"No"),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return s.onConfirm()}),e._uU(11,"Yes"),e.qZA()())}}),o})();var yn=D(1481),mo=D(6613);const ud=["contentEditable"],pd=["subTaskItemInput"],_d=["editSubTaskInput"],md=["webLinkInput"];function gd(o,i){1&o&&(e.TgZ(0,"div",12),e._UZ(1,"div",13),e.qZA())}function hd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"h4",63),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.togglePatchIssueOption("title"))}),e.TgZ(1,"a",64)(2,"span",65),e._uU(3),e.qZA(),e.TgZ(4,"span",66),e._uU(5),e.qZA()()()}if(2&o){const t=e.oxw().ngIf;e.xp6(3),e.hij("I-",null==t?null:t.issueIndex,""),e.xp6(1),e.s9C("title",null==t?null:t.title),e.xp6(1),e.Oqu(null==t?null:t.title)}}function fd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handlePatchIssueForm("title"))}),e.TgZ(1,"div",67),e._UZ(2,"input",68),e.TgZ(3,"button",69),e._uU(4,"Update"),e.qZA(),e.TgZ(5,"button",70),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.togglePatchIssueOption("title"))}),e._uU(6," Cancel "),e.qZA()()()}if(2&o){const t=e.oxw().ngIf,n=e.oxw();e.Q6J("formGroup",n.patchIssueForm),e.xp6(2),e.Q6J("value",t.title)}}function vd(o,i){if(1&o&&(e.TgZ(0,"div",71),e._UZ(1,"ngx-editor-menu",72)(2,"ngx-editor",73),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("editor",t.editor),e.xp6(1),e.Q6J("editor",t.editor)("placeholder","Type here...")}}function bd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"p",76),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.togglePatchIssueOption("description"))}),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("innerHTML",t.patchIssueForm.value.description,e.oJD)}}function xd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"p",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.togglePatchIssueOption("description"))}),e.TgZ(1,"span",78)(2,"em"),e._uU(3,"Description ..."),e.qZA()()()}}function Cd(o,i){if(1&o&&(e.YNc(0,bd,1,1,"p",74),e.YNc(1,xd,4,0,"p",75)),2&o){const t=e.oxw(2);e.Q6J("ngIf",t.patchIssueForm.value.description),e.xp6(1),e.Q6J("ngIf",!t.patchIssueForm.value.description)}}function Td(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",79)(1,"button",80),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.togglePatchIssueOption("description"))}),e._uU(2," Cancel "),e.qZA(),e.TgZ(3,"button",81),e._uU(4," Update "),e.qZA()()}}function yd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",85)(1,"h6",86),e._uU(2," Attachments "),e.qZA(),e.TgZ(3,"label",19)(4,"a",20)(5,"span",21),e._uU(6," attachment "),e.qZA()()(),e.TgZ(7,"input",22),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.uploadAttachment(r))}),e.qZA()()}}function wd(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"a",93),e._UZ(2,"img",94),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("href",null==t?null:t.url,e.LSH),e.xp6(1),e.Q6J("src",null==t?null:t.url,e.LSH)}}function Id(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"a",95),e._uU(2," Document "),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("href",null==t?null:t.url,e.LSH)}}function Ad(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",87)(1,"div",88),e.YNc(2,wd,3,2,"ng-container",62),e.YNc(3,Id,3,1,"ng-container",62),e.TgZ(4,"div",89)(5,"h6",90),e._uU(6),e.ALo(7,"slice"),e.qZA()(),e.TgZ(8,"a",91),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.downloadAttachment(null==s?null:s.url))}),e._uU(9,"Download"),e.qZA(),e.TgZ(10,"span",92),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.removeAttachment(null==s?null:s.id))}),e._uU(11," close "),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Q6J("ngIf",(null==t?null:t.url)&&((null==t?null:t.url.endsWith(".png"))||(null==t?null:t.url.endsWith(".jpg"))||(null==t?null:t.url.endsWith(".jpeg")))),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.url)&&!(null!=t&&t.url.endsWith(".png"))&&!(null!=t&&t.url.endsWith(".jpg"))&&!(null!=t&&t.url.endsWith(".jpeg"))),e.xp6(3),e.hij(" ",e.xi3(7,3,null==t?null:t.url,(null==t||null==t.url?null:t.url.lastIndexOf("/"))+1)," ")}}function Dd(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"a",93),e._UZ(2,"img",94),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("href",null==t?null:t.url,e.LSH),e.xp6(1),e.Q6J("src",null==t?null:t.url,e.LSH)}}function Sd(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"a",95),e._uU(2," Document "),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("href",null==t?null:t.url,e.LSH)}}function kd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",87)(1,"div",88),e.YNc(2,Dd,3,2,"ng-container",62),e.YNc(3,Sd,3,1,"ng-container",62),e.TgZ(4,"div",89)(5,"h6",90),e._uU(6),e.ALo(7,"slice"),e.qZA()(),e.TgZ(8,"a",91),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.downloadAttachment(null==s?null:s.url))}),e._uU(9,"Download"),e.qZA(),e.TgZ(10,"span",92),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.deleteAttachment(null==s?null:s.id))}),e._uU(11," close "),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Q6J("ngIf",(null==t?null:t.url)&&((null==t?null:t.url.endsWith(".png"))||(null==t?null:t.url.endsWith(".jpg"))||(null==t?null:t.url.endsWith(".jpeg")))),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.url)&&!(null!=t&&t.url.endsWith(".png"))&&!(null!=t&&t.url.endsWith(".jpg"))&&!(null!=t&&t.url.endsWith(".jpeg"))),e.xp6(3),e.hij(" ",e.xi3(7,3,null==t?null:t.url,(null==t||null==t.url?null:t.url.lastIndexOf("/"))+1)," ")}}function Md(o,i){if(1&o&&(e.TgZ(0,"div",32),e.YNc(1,yd,8,0,"div",82),e.TgZ(2,"div",83),e.YNc(3,Ad,12,6,"div",84),e.qZA(),e.TgZ(4,"div",83),e.YNc(5,kd,12,6,"div",84),e.qZA()()),2&o){const t=e.oxw().ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t?null:t.attachments)&&t.attachments.length>0||n.newAttachments&&n.newAttachments.length>0),e.xp6(2),e.Q6J("ngForOf",null==t?null:t.attachments),e.xp6(2),e.Q6J("ngForOf",n.newAttachments)}}function Zd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",97)(1,"h6",33),e._uU(2,"Sub Tasks"),e.qZA(),e.TgZ(3,"button",98),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.handleSubTaskSubmit())}),e.TgZ(4,"span",21),e._uU(5," event_list "),e.qZA()()()}if(2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("disabled",t.isSubmitting)}}function Ed(o,i){1&o&&(e.TgZ(0,"div",118),e._uU(1," Task Name is required "),e.qZA())}function Pd(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw(),s=r.$implicit,l=r.index,a=e.oxw(4);return a.updateSubTask(s.id,l,"click2"),a.showEditForm=!1,e.KtG(a.editSubTaskForm.reset())}),e.TgZ(2,"div",110)(3,"div",111)(4,"label",112)(5,"small"),e._uU(6,"Update Title"),e.qZA()(),e._UZ(7,"input",113,114),e.YNc(9,Ed,2,0,"div",115),e.qZA(),e.TgZ(10,"button",116),e._uU(11," Update "),e.qZA(),e.TgZ(12,"button",117),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),s=r.index,l=r.$implicit,a=e.oxw(4);return e.KtG(a.toggleEditForm(s,l))}),e._uU(13," Cancel "),e.qZA()()(),e.BQk()}if(2&o){const t=e.oxw(5);e.xp6(1),e.Q6J("formGroup",t.editSubTaskForm),e.xp6(8),e.Q6J("ngIf",t.editSubTaskForm.get("taskName").invalid&&t.editSubTaskForm.get("taskName").touched)}}function Od(o,i){if(1&o&&(e.TgZ(0,"h6",119),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.taskName," ")}}function Nd(o,i){1&o&&(e.TgZ(0,"div",118),e._uU(1," Task Item Name is required "),e.qZA())}function Ud(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(6);return e.KtG(s.updateSubTaskItemName(r.id))}),e.TgZ(2,"div",110)(3,"div",127),e._UZ(4,"input",128),e.YNc(5,Nd,2,0,"div",115),e.qZA(),e.TgZ(6,"button",129),e._uU(7," Update "),e.qZA(),e.TgZ(8,"button",130),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(7);return e.KtG(r.selectedSubTaskItemIndex=null)}),e._uU(9," Cancel "),e.qZA()()(),e.BQk()}if(2&o){const t=e.oxw(7);e.xp6(1),e.Q6J("formGroup",t.editSubTaskItemForm),e.xp6(4),e.Q6J("ngIf",t.editSubTaskItemForm.get("taskItemName").invalid&&t.editSubTaskItemForm.get("taskItemName").touched)}}function jd(o,i){if(1&o&&(e.TgZ(0,"h6",131),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.taskItemName," ")}}function Rd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",132)(1,"a",133),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(6);return e.KtG(s.toggleEditSubTaskItem(null==r?null:r.id,r))}),e.TgZ(2,"span",21),e._uU(3," edit "),e.qZA()(),e.TgZ(4,"a",134)(5,"span",135),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(6);return e.KtG(s.deleteSubTaskItem(r.id))}),e._uU(6,"close"),e.qZA()()()}}function Fd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",121)(1,"div",122)(2,"input",123),e.NdJ("change",function(){const s=e.CHM(t).$implicit,l=e.oxw(6);return e.KtG(l.updateSubTaskItem(s.id))}),e.qZA()(),e.TgZ(3,"div",124),e.YNc(4,Ud,10,2,"ng-container",35),e.YNc(5,jd,2,1,"ng-template",null,125,e.W1O),e.qZA(),e.YNc(7,Rd,7,0,"div",126),e.qZA()}if(2&o){const t=i.$implicit,n=e.MAs(6),r=e.oxw(6);e.xp6(2),e.Q6J("checked","true"==(null==t?null:t.completed)),e.xp6(2),e.Q6J("ngIf",r.selectedSubTaskItemIndex===(null==t?null:t.id))("ngIfElse",n),e.xp6(3),e.Q6J("ngIf",r.selectedSubTaskItemIndex!=(null==t?null:t.id))}}function qd(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Fd,8,4,"div",120),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.subTaskItem)}}function Jd(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(4);return e.KtG(s.addSubTaskItem(r.id))}),e.TgZ(2,"div",67)(3,"div",136)(4,"label",112)(5,"small"),e._uU(6,"Add Sub Task Item"),e.qZA()(),e._UZ(7,"input",137,138),e.qZA(),e.TgZ(9,"button",139),e._uU(10," Add "),e.qZA(),e.TgZ(11,"button",117),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,s=e.oxw(4);return e.KtG(s.toggleAddSubTaskItemForm(r))}),e._uU(12," Cancel "),e.qZA()()(),e.BQk()}if(2&o){const t=e.oxw(5);e.xp6(1),e.Q6J("formGroup",t.addSubTaskItemForm),e.xp6(8),e.Q6J("disabled",t.isSubmitting)}}function Ld(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",100)(1,"div",101)(2,"div",102),e._uU(3),e.qZA()(),e.TgZ(4,"div",103)(5,"div",104),e.YNc(6,Pd,14,2,"ng-container",35),e.YNc(7,Od,2,1,"ng-template",null,105,e.W1O),e.qZA(),e.TgZ(9,"div",106)(10,"a",107),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(4);return e.KtG(l.toggleAddSubTaskItemForm(s))}),e.TgZ(11,"span",21),e._uU(12," add "),e.qZA()(),e.TgZ(13,"a",108),e.NdJ("click",function(){const r=e.CHM(t),s=r.index,l=r.$implicit,a=e.oxw(4);return e.KtG(a.toggleEditForm(s,l))}),e.TgZ(14,"span",21),e._uU(15," edit "),e.qZA()(),e.TgZ(16,"a",109),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.removeSubTask(s.id))}),e.TgZ(17,"span",21),e._uU(18," close "),e.qZA()()()(),e.YNc(19,qd,2,1,"ng-container",62),e.YNc(20,Jd,13,2,"ng-container",62),e.qZA()}if(2&o){const t=i.$implicit,n=i.index,r=e.MAs(8),s=e.oxw(4);e.xp6(2),e.Udp("width",s.percentages[n],"%"),e.uIk("aria-valuenow",s.percentages[n])("title",s.completedCounts[n]+" / "+s.totalCounts[n]+" ("+s.percentages[n]+"%)"),e.xp6(1),e.lnq(" ",s.completedCounts[n]," / ",s.totalCounts[n]," (",s.percentages[n],"%) "),e.xp6(3),e.Q6J("ngIf",s.showEditForm&&n==s.selectedSubTaskIndex)("ngIfElse",r),e.xp6(13),e.Q6J("ngIf",(null==t.subTaskItem?null:t.subTaskItem.length)>0),e.xp6(1),e.Q6J("ngIf",s.showAddSubTaskItemForm[n])}}function Bd(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Ld,21,11,"div",99),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.subTasks)}}function Hd(o,i){if(1&o&&(e.TgZ(0,"div",32),e.YNc(1,Zd,6,1,"div",96),e.YNc(2,Bd,2,1,"ng-container",62),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.subTasks&&t.subTasks.length>0),e.xp6(1),e.Q6J("ngIf",t.subTasks&&t.subTasks.length>0)}}function Qd(o,i){1&o&&(e.TgZ(0,"small"),e._uU(1," URL is required. "),e.qZA())}function Yd(o,i){1&o&&(e.TgZ(0,"small"),e._uU(1," Enter a valid URL. "),e.qZA())}const Gd=function(){return{"min-height":"16px"}};function zd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.handleWebLinkSubmit())}),e.TgZ(1,"div",110)(2,"div",142)(3,"label",143)(4,"small"),e._uU(5,"Web Url"),e.qZA()(),e._UZ(6,"input",144,145),e.qZA(),e.TgZ(8,"div",142)(9,"label",143)(10,"small"),e._uU(11,"Link Text"),e.qZA()(),e._UZ(12,"input",146),e.qZA(),e.TgZ(13,"button",116),e._uU(14," Add "),e.qZA(),e.TgZ(15,"button",117),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.togglePatchIssueOption("webLinks"))}),e._uU(16," Close "),e.qZA()(),e.TgZ(17,"div",147),e.YNc(18,Qd,2,0,"small",62),e.YNc(19,Yd,2,0,"small",62),e.qZA()()}if(2&o){const t=e.oxw(3);e.Q6J("formGroup",t.addWebLinkForm),e.xp6(17),e.Q6J("ngStyle",e.DdM(4,Gd)),e.xp6(1),e.Q6J("ngIf",null==t.addWebLinkForm.controls.url.errors?null:t.addWebLinkForm.controls.url.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.addWebLinkForm.controls.url.errors?null:t.addWebLinkForm.controls.url.errors.pattern)}}function Vd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",149)(1,"div",150)(2,"p",151)(3,"a",152),e._uU(4),e.qZA()(),e.TgZ(5,"a",57),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(4);return e.KtG(l.removeWebLink(s))}),e.TgZ(6,"span",21),e._uU(7," close "),e.qZA()()()()}if(2&o){const t=i.$implicit,n=e.oxw(4);e.xp6(3),e.Q6J("href",n.formatWebLink(null==t?null:t.url),e.LSH),e.xp6(1),e.Oqu((null==t?null:t.text)||(null==t?null:t.url))}}function Wd(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Vd,8,2,"div",148),e.BQk()),2&o){const t=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngForOf",t.webLinks)}}function $d(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",97)(2,"h6",33),e._uU(3,"Web Links"),e.qZA(),e.TgZ(4,"a",140),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.togglePatchIssueOption("webLinks"))}),e.TgZ(5,"span",21),e._uU(6," link "),e.qZA()()(),e.YNc(7,zd,20,5,"form",141),e.YNc(8,Wd,2,1,"ng-container",62),e.qZA()}if(2&o){const t=e.oxw().ngIf,n=e.oxw();e.xp6(7),e.Q6J("ngIf",n.patchIssueOptions.webLinks),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.webLinks?null:t.webLinks.length)>0)}}function Kd(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",154),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.startTimer())}),e.TgZ(1,"span",21),e._uU(2," timer "),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Start"),e.qZA()()}}function Xd(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Kd,5,0,"button",153),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.loadingTimer)}}function eu(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"p",156),e._uU(1," You currently have an Active Timer Running... "),e.TgZ(2,"a",157),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.navigateToActiveTimer())}),e.TgZ(3,"u"),e._uU(4,"View"),e.qZA()()()}}function tu(o,i){if(1&o&&e.YNc(0,eu,5,0,"p",155),2&o){const t=e.oxw(2);e.Q6J("ngIf",(null==t.activeIssueTimer?null:t.activeIssueTimer.issueId)&&(null==t.activeIssueTimer||null==t.activeIssueTimer.issueId?null:t.activeIssueTimer.issueId.toString())!=(null==t.issueId?null:t.issueId.toString()))}}function nu(o,i){1&o&&(e.TgZ(0,"p",158),e._uU(1," Time Tracker not available. "),e.qZA())}function iu(o,i){if(1&o&&e._UZ(0,"img",167),2&o){const t=e.oxw().$implicit;e.Q6J("title",(null==t||null==t.user?null:t.user.firstName)+" "+(null==t||null==t.user?null:t.user.lastName))("src",null==t||null==t.user?null:t.user.profileImg,e.LSH)}}function ou(o,i){if(1&o&&e._UZ(0,"img",168),2&o){const t=e.oxw().$implicit;e.Q6J("title",(null==t||null==t.user?null:t.user.firstName)+" "+(null==t||null==t.user?null:t.user.lastName))}}function ru(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",169),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.stopTimer(r))}),e.TgZ(1,"span",170),e._uU(2," pause "),e.qZA(),e.TgZ(3,"span",171),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw(4);e.xp6(4),e.Oqu(t.runningTimer||"")}}function su(o,i){if(1&o&&(e.TgZ(0,"tr",162)(1,"td")(2,"div",163),e.YNc(3,iu,1,2,"img",164),e.YNc(4,ou,1,1,"ng-template",null,165,e.W1O),e.TgZ(6,"p",151),e._uU(7),e.qZA()()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e.YNc(11,ru,5,1,"button",166),e.qZA()()),2&o){const t=i.$implicit,n=e.MAs(5),r=e.oxw(3);e.xp6(3),e.Q6J("ngIf",null==t||null==t.user?null:t.user.profileImg)("ngIfElse",n),e.xp6(4),e.hij(" ",(null==t||null==t.user?null:t.user.firstName)+" "+(null==t||null==t.user?null:t.user.lastName)," "),e.xp6(2),e.Oqu(null==t?null:t.duration),e.xp6(2),e.Q6J("ngIf",(null==t?null:t.isActive)&&t.userConcept==r.currentUserConcept)}}function lu(o,i){if(1&o&&(e.TgZ(0,"div",159)(1,"h6"),e._uU(2,"Tracked Times"),e.qZA(),e.TgZ(3,"table",160)(4,"thead")(5,"tr")(6,"th"),e._uU(7,"User"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Duration"),e.qZA(),e._UZ(10,"th"),e.qZA()(),e.TgZ(11,"tbody"),e.YNc(12,su,12,5,"tr",161),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(12),e.Q6J("ngForOf",t.calculatedDetails)}}function au(o,i){if(1&o&&(e.ynx(0),e._UZ(1,"img",172),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.profileImgSrc,e.LSH)}}function cu(o,i){1&o&&e._UZ(0,"img",173)}function du(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",174)(1,"button",175),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.togglePatchIssueOption("comment"))}),e._uU(2," Close "),e.qZA(),e.TgZ(3,"button",176),e._uU(4," Submit "),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",t.isSubmitting)}}function uu(o,i){if(1&o&&(e.TgZ(0,"div",181),e._UZ(1,"img",182),e.qZA()),2&o){const t=e.oxw().item;e.xp6(1),e.s9C("alt",t.firstName),e.Q6J("src",t.profileImg,e.LSH)}}function pu(o,i){if(1&o&&(e.TgZ(0,"span",183),e._uU(1),e.qZA()),2&o){const t=e.oxw().item;e.Q6J("title",(null==t?null:t.firstName)+" "+(null==t?null:t.lastName)),e.xp6(1),e.Oqu(null==t||null==t.email?null:t.email.charAt(0))}}function _u(o,i){if(1&o&&(e.TgZ(0,"div",177)(1,"div",178),e.YNc(2,uu,2,2,"div",179),e.YNc(3,pu,2,2,"ng-template",null,180,e.W1O),e.qZA(),e.TgZ(5,"div",104),e._uU(6),e.qZA()()),2&o){const t=i.item,n=e.MAs(4);e.xp6(2),e.Q6J("ngIf",t.profileImg)("ngIfElse",n),e.xp6(4),e.AsE("",t.firstName," ",t.lastName,"")}}function mu(o,i){if(1&o&&e._UZ(0,"img",196),2&o){const t=e.oxw().$implicit,n=e.oxw(2);let r,s,l;e.Q6J("src",null==(r=n.getUserProfile(t.userConcept))?null:r.profileImg,e.LSH)("alt","Profile Pic of "+(null==(s=n.getUserProfile(t.userConcept))?null:s.firstName))("title",(null==(l=n.getUserProfile(t.userConcept))?null:l.firstName)+" "+(null!==(l=null==(l=n.getUserProfile(t.userConcept))?null:l.lastName)&&void 0!==l?l:""))}}function gu(o,i){if(1&o&&e._UZ(0,"img",197),2&o){const t=e.oxw().$implicit,n=e.oxw(2);let r;e.Q6J("title",(null==(r=n.getUserProfile(t.userConcept))?null:r.firstName)+" "+(null!==(r=null==(r=n.getUserProfile(t.userConcept))?null:r.lastName)&&void 0!==r?r:""))}}function hu(o,i){1&o&&(e.TgZ(0,"span",198),e._uU(1,"check_circle"),e.qZA())}function fu(o,i){1&o&&(e.TgZ(0,"span",199)(1,"span",200),e._uU(2,"check_circle"),e.qZA()())}function vu(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",184),e.YNc(1,mu,1,3,"img",185),e.YNc(2,gu,1,1,"ng-template",null,186,e.W1O),e.TgZ(4,"div",187)(5,"div",188)(6,"div",97)(7,"span",189),e._uU(8),e.qZA(),e.TgZ(9,"span",190),e._uU(10),e.ALo(11,"date"),e.qZA()(),e._UZ(12,"p",191),e.qZA(),e.TgZ(13,"div",192)(14,"a",193),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.markAsResolved(s.id))}),e.YNc(15,hu,2,0,"span",194),e.qZA(),e.YNc(16,fu,3,0,"span",195),e.qZA()()()}if(2&o){const t=i.$implicit,n=e.MAs(3),r=e.oxw(2);let s,l;e.xp6(1),e.Q6J("ngIf",null==(s=r.getUserProfile(t.userConcept))?null:s.profileImg)("ngIfElse",n),e.xp6(7),e.AsE(" ",null==(l=r.getUserProfile(t.userConcept))?null:l.firstName," ",null==(l=r.getUserProfile(t.userConcept))?null:l.lastName," "),e.xp6(2),e.hij(" ",e.xi3(11,8,t.created_at,"mediumTime")," "),e.xp6(2),e.Q6J("innerHTML",t.text,e.oJD),e.xp6(3),e.Q6J("ngIf",!t.resolution),e.xp6(1),e.Q6J("ngIf",t.resolution)}}function bu(o,i){1&o&&(e.TgZ(0,"span",21),e._uU(1," keyboard_arrow_down "),e.qZA())}function xu(o,i){1&o&&(e.TgZ(0,"span",21),e._uU(1," keyboard_arrow_right "),e.qZA())}function Cu(o,i){if(1&o&&e._UZ(0,"img",218),2&o){const t=e.oxw().$implicit;e.Q6J("src",t.profileImg,e.LSH)("alt","Profile Pic of "+(null==t?null:t.firstName))}}function Tu(o,i){1&o&&e._UZ(0,"img",219)}function yu(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",216),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(5);return e.KtG(l.handleAddAssignedUser(s))}),e.TgZ(1,"span"),e.YNc(2,Cu,1,2,"img",217),e.YNc(3,Tu,1,0,"ng-template",null,186,e.W1O),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()()}if(2&o){const t=i.$implicit,n=e.MAs(4);e.xp6(2),e.Q6J("ngIf",t.profileImg)("ngIfElse",n),e.xp6(4),e.AsE("",null==t?null:t.firstName," ",null==t?null:t.lastName,"")}}function wu(o,i){if(1&o&&(e.ynx(0),e.YNc(1,yu,7,4,"button",215),e.BQk()),2&o){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.unassignedUsers)}}function Iu(o,i){1&o&&(e.TgZ(0,"span",220),e._uU(1,"No Users Available"),e.qZA())}function Au(o,i){if(1&o&&(e.ynx(0),e.YNc(1,wu,2,1,"ng-container",35),e.YNc(2,Iu,2,0,"ng-template",null,214,e.W1O),e.BQk()),2&o){const t=e.MAs(3),n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.unassignedUsers.length>0)("ngIfElse",t)}}function Du(o,i){if(1&o&&e._UZ(0,"img",218),2&o){const t=e.oxw().$implicit,n=e.oxw(4);let r,s;e.Q6J("src",null==(r=n.getUserProfile(t))?null:r.profileImg,e.LSH)("alt","Profile Pic of "+(null==(s=n.getUserProfile(t))?null:s.firstName))}}function Su(o,i){1&o&&e._UZ(0,"img",219)}function ku(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",142)(1,"div",222)(2,"div",223)(3,"span"),e.YNc(4,Du,1,2,"img",217),e.YNc(5,Su,1,0,"ng-template",null,186,e.W1O),e.qZA(),e.TgZ(7,"p",151),e._uU(8),e.qZA()(),e.TgZ(9,"a",224),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.handleRemoveAssignedUser(l.getUserProfile(s)))}),e.TgZ(10,"span",225),e._uU(11," close "),e.qZA()()()()}if(2&o){const t=i.$implicit,n=e.MAs(6),r=e.oxw(4);let s,l;e.xp6(4),e.Q6J("ngIf",null==(s=r.getUserProfile(t))?null:s.profileImg)("ngIfElse",n),e.xp6(4),e.AsE(" ",null==(l=r.getUserProfile(t))?null:l.firstName," ",null==(l=r.getUserProfile(t))?null:l.lastName," ")}}function Mu(o,i){if(1&o&&(e.ynx(0),e.YNc(1,ku,12,4,"div",221),e.BQk()),2&o){const t=e.oxw(2).ngIf;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.assignedUsers)}}const Zu=function(o){return{active:o}};function Eu(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li",228),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.handleCategoryItemClick(s))}),e._uU(1),e.qZA()}if(2&o){const t=i.$implicit,n=e.oxw(3).ngIf;e.Q6J("ngClass",e.VKq(2,Zu,t==n.category)),e.xp6(1),e.hij(" ",t," ")}}function Pu(o,i){if(1&o&&(e.TgZ(0,"ul",226),e.YNc(1,Eu,2,4,"li",227),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.projectCategories)}}function Ou(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"span",231),e._uU(1),e.TgZ(2,"a",232),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(4);return e.KtG(l.removeLabel(s))}),e._uU(3,"close"),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(1),e.hij("",t," ")}}function Nu(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"div",229),e.YNc(2,Ou,4,1,"span",230),e.qZA(),e.BQk()),2&o){const t=e.oxw(2).ngIf;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.labels)}}function Uu(o,i){if(1&o&&(e.TgZ(0,"option",233),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ju(o,i){1&o&&(e.ynx(0),e.TgZ(1,"option",234),e._uU(2,"No Boards Available"),e.qZA(),e.BQk())}function Ru(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"option",235),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngValue",null==t.currentIssue?null:t.currentIssue.boardId),e.xp6(1),e.hij(" ",t.getIssueBoard(null==t.currentIssue?null:t.currentIssue.boardId)||"Select Board"," ")}}function Fu(o,i){if(1&o&&(e.TgZ(0,"option",237),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("ngValue",null==t?null:t.id),e.xp6(1),e.hij(" ",null==t?null:t.title," ")}}function qu(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Fu,2,2,"option",236),e.BQk()),2&o){const t=i.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.getIssueBoard(null==n.currentIssue?null:n.currentIssue.boardId)!=(null==t?null:t.title))}}function Ju(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",201)(1,"div",202)(2,"h6"),e._uU(3,"Assignee"),e.qZA(),e.TgZ(4,"div",203)(5,"button",204),e._uU(6," Add Assignee "),e.qZA(),e.TgZ(7,"div",205),e.YNc(8,Au,4,2,"ng-container",62),e.qZA()(),e.YNc(9,Mu,2,1,"ng-container",62),e.qZA(),e.TgZ(10,"div",206)(11,"h6"),e._uU(12,"Category"),e.qZA(),e.TgZ(13,"input",207),e.NdJ("keyup",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.handleCategoryChange(r))})("focus",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleCategoryFocus())})("focusout",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleCategoryFocusOut())}),e.qZA(),e.YNc(14,Pu,2,1,"ul",208),e.qZA(),e.TgZ(15,"div",202)(16,"h6"),e._uU(17,"Labels"),e.qZA(),e.TgZ(18,"input",209),e.NdJ("keyup",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.setIssueLabel(r))}),e.qZA(),e.YNc(19,Nu,3,1,"ng-container",62),e.qZA(),e.TgZ(20,"div",202)(21,"h6"),e._uU(22,"Sprint"),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.qZA()(),e.TgZ(25,"div",202)(26,"h6"),e._uU(27,"priority"),e.qZA(),e.TgZ(28,"select",210),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.handlePriorityChange(r))}),e.YNc(29,Uu,2,2,"option",211),e.qZA()(),e.TgZ(30,"div",202)(31,"h6"),e._uU(32,"Change Board"),e.qZA(),e.TgZ(33,"select",212),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.currentIssue.boardId=r)})("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.handleBoardChange(r))}),e.YNc(34,ju,3,0,"ng-container",62),e.YNc(35,Ru,3,2,"ng-container",62),e.YNc(36,qu,2,1,"ng-container",213),e.qZA()()()}if(2&o){const t=e.oxw().ngIf,n=e.oxw();let r;e.xp6(4),e.Q6J("autoClose",!0),e.xp6(4),e.Q6J("ngIf",n.projectUsers&&n.projectUsers.length>0&&n.unassignedUsers),e.xp6(1),e.Q6J("ngIf",(null==t.assignedUsers?null:t.assignedUsers.length)>0),e.xp6(4),e.Q6J("value",null==n.selectedCategory?t.category||"":n.selectedCategory||""),e.xp6(1),e.Q6J("ngIf",n.showProjectCategories&&n.projectCategories.length>0),e.xp6(4),e.Q6J("value",n.issueLabel),e.xp6(1),e.Q6J("ngIf",null==t?null:t.labels),e.xp6(5),e.Oqu(n.issueSprint),e.xp6(4),e.Q6J("ngModel",null!==(r=t.priority)&&void 0!==r?r:"Medium"),e.xp6(1),e.Q6J("ngForOf",n.priorities),e.xp6(4),e.Q6J("ngModel",n.currentIssue.boardId),e.xp6(1),e.Q6J("ngIf",1==(null==n.allBoards?null:n.allBoards.length)),e.xp6(1),e.Q6J("ngIf",null==n.currentIssue?null:n.currentIssue.boardId),e.xp6(1),e.Q6J("ngForOf",n.allBoards)}}function Lu(o,i){1&o&&(e.TgZ(0,"span",21),e._uU(1," keyboard_arrow_down "),e.qZA())}function Bu(o,i){1&o&&(e.TgZ(0,"span",21),e._uU(1," keyboard_arrow_right "),e.qZA())}function Hu(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li",267)(1,"span"),e._uU(2),e.ALo(3,"date"),e.ALo(4,"UTCToLocalTime"),e.ALo(5,"date"),e.ALo(6,"UTCToLocalTime"),e.qZA(),e.TgZ(7,"a",268),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.handleDeleteReminder(s.id))}),e.TgZ(8,"span",269),e._uU(9,"close"),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.AsE(" ",e.xi3(3,2,e.lcZ(4,5,t.startTime),"shortDate")," ",e.xi3(5,7,e.lcZ(6,10,t.startTime),"shortTime")," ")}}function Qu(o,i){if(1&o&&(e.TgZ(0,"ul",265),e.YNc(1,Hu,10,12,"li",266),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.reminders)}}function Yu(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",202)(1,"h6"),e._uU(2,"Story Points"),e.qZA(),e.TgZ(3,"select",270),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.handleStoryPointChange(r))}),e.TgZ(4,"option",271),e._uU(5,"Choose Points"),e.qZA(),e.TgZ(6,"option",272),e._uU(7,"1"),e.qZA(),e.TgZ(8,"option",273),e._uU(9,"2"),e.qZA(),e.TgZ(10,"option",274),e._uU(11,"3"),e.qZA(),e.TgZ(12,"option",275),e._uU(13,"5"),e.qZA(),e.TgZ(14,"option",276),e._uU(15,"8"),e.qZA()()()}if(2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.storyPoint||"")}}function Gu(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",279)(1,"button",80),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.handleEstimatedTimeFocusOut())}),e._uU(2," Cancel "),e.qZA(),e.TgZ(3,"button",280),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.updateEstimatedTime())}),e._uU(4," Update "),e.qZA()()}}function zu(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",238)(1,"h6"),e._uU(2,"Original Estimate"),e.qZA(),e.TgZ(3,"input",277),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.togglePatchIssueOption("estimatedTime"))})("ngModelChange",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.estimatedTime=r)}),e.qZA(),e.YNc(4,Gu,5,0,"div",278),e.qZA()}if(2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.estimatedTime),e.xp6(1),e.Q6J("ngIf",null==t.patchIssueOptions?null:t.patchIssueOptions.estimatedTime)}}function Vu(o,i){if(1&o&&(e.TgZ(0,"div",202)(1,"h6"),e._uU(2,"Time Remaining"),e.qZA(),e._UZ(3,"input",281),e.qZA()),2&o){const t=e.oxw(2).ngIf,n=e.oxw();e.xp6(3),e.Q6J("value",n.getRemainingTime(t.estimatedTime))}}function Wu(o,i){if(1&o&&(e.TgZ(0,"div",202)(1,"h6"),e._uU(2,"Time Spent"),e.qZA(),e._UZ(3,"input",281),e.qZA()),2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("value",t.getSpentTime())}}function $u(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",201)(1,"div",238)(2,"h6"),e._uU(3,"Due Date"),e.qZA(),e.TgZ(4,"input",239),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.handleDueDateChange(r))}),e.qZA()(),e.TgZ(5,"div",238)(6,"h6"),e._uU(7,"Reminder"),e.qZA(),e.YNc(8,Qu,2,1,"ul",240),e.TgZ(9,"div",241)(10,"div",242,243)(12,"a",244)(13,"span",21),e._uU(14," notification_add "),e.qZA(),e.TgZ(15,"span"),e._uU(16,"Reminder"),e.qZA()(),e.TgZ(17,"div",245)(18,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleAddReminder())}),e.TgZ(19,"div",246)(20,"label",247),e._uU(21,"Remind using: "),e.qZA(),e.TgZ(22,"select",248),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.handleReminderDateTypeChange(r))}),e.TgZ(23,"option",249),e._uU(24,"Due Date"),e.qZA(),e.TgZ(25,"option",250),e._uU(26,"Date"),e.qZA()()(),e._UZ(27,"input",251),e.TgZ(28,"div",202)(29,"label",112),e._uU(30,"Title"),e.qZA(),e._UZ(31,"input",252),e.qZA(),e.TgZ(32,"div",202)(33,"label",112),e._uU(34,"Notify"),e.qZA(),e.TgZ(35,"select",253)(36,"option",254),e._uU(37,"Self"),e.qZA(),e.TgZ(38,"option",255),e._uU(39,"Assignees"),e.qZA()()(),e.TgZ(40,"div",202)(41,"div",122),e._UZ(42,"input",256),e.TgZ(43,"label",257),e._uU(44,"Notification and Email"),e.qZA()(),e.TgZ(45,"div",122),e._UZ(46,"input",258),e.TgZ(47,"label",257),e._uU(48,"Notification"),e.qZA()(),e.TgZ(49,"div",122),e._UZ(50,"input",259),e.TgZ(51,"label",257),e._uU(52,"Email"),e.qZA()()(),e.TgZ(53,"div",260)(54,"button",261),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(11),s=e.oxw(2);return r.close(),e.KtG(s.handleSetReminderCancel())}),e._uU(55," Cancel "),e.qZA(),e.TgZ(56,"button",262),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(11);return e.KtG(r.close())}),e._uU(57," Add "),e.qZA()()()()()()(),e.YNc(58,Yu,16,1,"div",263),e.YNc(59,zu,5,2,"div",264),e.YNc(60,Vu,4,1,"div",263),e.YNc(61,Wu,4,1,"div",263),e.qZA()}if(2&o){const t=e.oxw().ngIf,n=e.oxw();let r;e.xp6(4),e.Q6J("ngModel",n.dueDate||""),e.xp6(4),e.Q6J("ngIf",n.reminders.length>0),e.xp6(10),e.Q6J("formGroup",n.addReminderForm),e.xp6(9),e.Q6J("readonly","dueDate"===(null==(r=n.addReminderForm.get("remindThroughDate"))?null:r.value)),e.xp6(31),e.Q6J("ngIf",!(null!=t&&t.estimatedTime)),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.storyPoint)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.estimatedTime),e.xp6(1),e.Q6J("ngIf",null==t?null:t.estimatedTime)}}function Ku(o,i){if(1&o&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=e.oxw().ngIf;e.xp6(1),e.hij("Created At: ",e.lcZ(2,1,null==t?null:t.created_at),"")}}function Xu(o,i){if(1&o&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=e.oxw().ngIf;e.xp6(1),e.hij("Updated At: ",e.lcZ(2,1,null==t?null:t.updated_at),"")}}function ep(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15),e.YNc(2,hd,6,3,"h4",16),e.YNc(3,fd,7,2,"ng-template",null,17,e.W1O),e.TgZ(5,"div",18)(6,"label",19)(7,"a",20)(8,"span",21),e._uU(9," attachment "),e.qZA()()(),e.TgZ(10,"input",22),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.uploadAttachment(r))}),e.qZA(),e.TgZ(11,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.handleSubTaskSubmit())}),e.TgZ(12,"span",21),e._uU(13," event_list "),e.qZA()(),e.TgZ(14,"a",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePatchIssueOption("webLinks"))}),e.TgZ(15,"span",21),e._uU(16," link "),e.qZA()()(),e.TgZ(17,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.handlePatchIssueForm("description"))}),e.TgZ(18,"div",26)(19,"label",27),e._uU(20,"Description"),e.qZA(),e.YNc(21,vd,3,3,"div",28),e.YNc(22,Cd,2,2,"ng-template",null,29,e.W1O),e.qZA(),e.YNc(24,Td,5,0,"div",30),e.qZA(),e.YNc(25,Md,6,3,"div",31),e.YNc(26,Hd,3,2,"div",31),e.YNc(27,$d,9,2,"div",31),e.TgZ(28,"div",32)(29,"h6",33),e._uU(30,"Time Tracker"),e.qZA(),e.TgZ(31,"div",34),e.YNc(32,Xd,2,1,"ng-container",35),e.YNc(33,tu,1,1,"ng-template",null,36,e.W1O),e.YNc(35,nu,2,0,"ng-template",null,37,e.W1O),e._UZ(37,"span"),e.TgZ(38,"div",38)(39,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.viewTimerDetails())}),e._uU(40," View Details "),e.qZA()()(),e.YNc(41,lu,13,1,"div",40),e.qZA(),e.TgZ(42,"div",41)(43,"h6",42),e._uU(44,"Activity"),e.qZA(),e.TgZ(45,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.handleCommentsSubmit())}),e.TgZ(46,"div",43)(47,"div",44),e.YNc(48,au,2,1,"ng-container",35),e.YNc(49,cu,1,0,"ng-template",null,45,e.W1O),e.TgZ(51,"div",46,47),e.NdJ("itemSelected",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.itemSelected(r))})("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePatchIssueOption("comment"))})("input",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeCommentValue())}),e.qZA(),e.TgZ(53,"textarea",48),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePatchIssueOption("comment"))}),e.qZA()(),e.YNc(54,du,5,1,"div",49),e.qZA()(),e.YNc(55,_u,7,4,"ng-template",null,50,e.W1O),e.TgZ(57,"div",51),e.YNc(58,vu,17,11,"div",52),e.qZA()()(),e.TgZ(59,"div",53)(60,"div",54)(61,"div",55)(62,"h6",56),e._uU(63,"Details"),e.qZA(),e.TgZ(64,"a",57),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePatchIssueOption("details"))}),e.YNc(65,bu,2,0,"span",58),e.YNc(66,xu,2,0,"ng-template",null,59,e.W1O),e.qZA()(),e.YNc(68,Ju,37,14,"div",60),e.qZA(),e.TgZ(69,"div",54)(70,"div",55)(71,"h6",56),e._uU(72,"Extra Details"),e.qZA(),e.TgZ(73,"a",57),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePatchIssueOption("moreDetails"))}),e.YNc(74,Lu,2,0,"span",58),e.YNc(75,Bu,2,0,"ng-template",null,61,e.W1O),e.qZA()(),e.YNc(77,$u,62,8,"div",60),e.qZA(),e.TgZ(78,"p"),e.YNc(79,Ku,3,3,"small",62),e._UZ(80,"br"),e.YNc(81,Xu,3,3,"small",62),e.qZA()()()}if(2&o){const t=i.ngIf,n=e.MAs(4),r=e.MAs(23),s=e.MAs(34),l=e.MAs(50),a=e.MAs(56),c=e.MAs(67),d=e.MAs(76),u=e.oxw();e.xp6(2),e.Q6J("ngIf",!(null!=u.patchIssueOptions&&u.patchIssueOptions.title))("ngIfElse",n),e.xp6(9),e.Q6J("disabled",u.isSubmitting),e.xp6(6),e.Q6J("formGroup",u.patchIssueForm),e.xp6(4),e.Q6J("ngIf",null==u.patchIssueOptions?null:u.patchIssueOptions.description)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",null==u.patchIssueOptions?null:u.patchIssueOptions.description),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.attachments)||u.newAttachments),e.xp6(1),e.Q6J("ngIf",u.subTasks||(null==u.patchIssueOptions?null:u.patchIssueOptions.subTasks)),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.webLinks?null:t.webLinks.length)>0||u.patchIssueOptions.webLinks),e.xp6(5),e.Q6J("ngIf",!u.loadingTimer&&!u.activeIssueTimer)("ngIfElse",s),e.xp6(9),e.Q6J("ngIf",u.trackedTimers.length>0),e.xp6(4),e.Q6J("formGroup",u.addIssueCommentForm),e.xp6(3),e.Q6J("ngIf",u.profileImgSrc)("ngIfElse",l),e.xp6(3),e.Q6J("mention",u.projectUsers)("mentionConfig",u.mentionConfig)("mentionListTemplate",a),e.xp6(2),e.Q6J("mention",u.projectUsers)("mentionConfig",u.mentionConfig)("mentionListTemplate",a),e.xp6(1),e.Q6J("ngIf",null==u.patchIssueOptions?null:u.patchIssueOptions.comment),e.xp6(4),e.Q6J("ngForOf",u.allComments),e.xp6(7),e.Q6J("ngIf",null==u.patchIssueOptions?null:u.patchIssueOptions.Details)("ngIfElse",c),e.xp6(3),e.Q6J("ngIf",null==u.patchIssueOptions?null:u.patchIssueOptions.details),e.xp6(6),e.Q6J("ngIf",null==u.patchIssueOptions?null:u.patchIssueOptions.moreDetails)("ngIfElse",d),e.xp6(3),e.Q6J("ngIf",null==u.patchIssueOptions?null:u.patchIssueOptions.moreDetails),e.xp6(2),e.Q6J("ngIf",null==t?null:t.created_at),e.xp6(2),e.Q6J("ngIf",null==t?null:t.updated_at)}}const tp=function(o,i){return{issueType_feature:o,issueType_bug:i}};let At=(()=>{const i=class{constructor(n,r,s,l,a,c,d,u,_,m){this._itemService=n,this._projectService=r,this._auth=s,this._fb=l,this._modalService=a,this._activeModal=c,this._snackbarService=d,this.sanitizer=u,this.router=_,this.cdr=m,this.completedCounts=[],this.totalCounts=[],this.percentages=[],this.issueFieldsList=_o.r,this.isSubmitting=!1,this.changesMade=!1,this.loading=!1,this.currentIssue={},this.allComments=[],this.allBoards=[],this.selectedBoard="",this.defaultBoardTitle="",this.newAttachments=[],this.subTasks=[],this.patchLoading=!1,this.priorities=Tn.N,this.projectSprintComposition=ie.tR,this.projectIssueComposition=ie.zM,this.projectUsers=[],this.unassignedUsers=[],this.issueTitle="",this.issueDescription="",this.issueSprint="Backlog",this.issueLabel="",this.trackedTimers=[],this.calculatedUserTime={},this.calculatedDetails=[],this.loadingTimer=!1,this.currentDate=new Date,this.storyPoint="",this.estimatedTime="",this.dueDate="",this.validImageField=["png","jpeg","jpg","svg","webp"],this.validDocumentField=["pdf","txt","docx","doc","xlxs","pptx"],this.issueAssignedUsers=[],this.patchIssueForm=this._fb.group({title:new g.NI("",[g.kI.required]),description:new g.NI("")}),this.addWebLinkForm=this._fb.group({url:new g.NI("",[g.kI.required,g.kI.pattern("((http|https)?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),text:new g.NI("",[])}),this.addSubTaskForm=this._fb.group({taskName:new g.NI("",[g.kI.required])}),this.editSubTaskForm=this._fb.group({taskName:new g.NI("",[g.kI.required])}),this.editSubTaskItemForm=this._fb.group({taskName:new g.NI("",[g.kI.required])}),this.addSubTaskItemForm=this._fb.group({taskItemName:new g.NI("",[g.kI.required])}),this.showEditForm=!1,this.showAddSubTaskItemForm=[],this.selectedSubTaskIndex=null,this.selectedSubTaskItemIndex=null,this.addSubTaskItemIndex=null,this.addIssueCommentForm=this._fb.group({comment:new g.NI("",[g.kI.required])}),this.projectCategories=[],this.showProjectCategories=!1,this.reminders=[],this.addReminderForm=this._fb.group({remindThroughDate:new g.NI("date"),title:new g.NI("",g.kI.required),startTime:new g.NI("",g.kI.required),assignee:new g.NI("self"),alertType:new g.NI("notification")}),this.patchIssueOptions={title:!1,description:!1,subTasks:!1,webLinks:!1,comment:!1,details:!0,moreDetails:!1,estimatedTime:!1},this.mentionConfig={labelKey:"firstName",dropUp:!1,mentionSelect:p=>p.firstName?"##"+p.firstName+"## ":""},this.editSubTaskItemForm=this._fb.group({taskItemName:["",g.kI.required]})}ngOnInit(){this.editor=new oe.ML;const n=this._auth.loadFromLocalStorage();this.currentUserConcept=parseInt(n.userConcept),this.initialize(),this.getAllComments(),this.getProjectCategories(),this.reminders=this.selectedIssue.reminders||[],this.subTasks=this.selectedIssue.subTasks,this.newAttachments=this.selectedIssue.newAttachments,this.storyPoint=this.selectedIssue?.storyPoint||"",this.estimatedTime=this.selectedIssue?.estimatedTime||"",this.dueDate=this.selectedIssue?.dueDate?this.formatedLocalDate(this.selectedIssue?.dueDate):"",this._projectService.getAllBoards(this.projectId).subscribe({next:r=>{this.allBoards=r.data,this.currentIssue=this.selectedIssue,this.defaultBoardTitle=this.getIssueBoard(this.currentIssue?.boardId)},error:r=>console.error("Error fetching boards",r)}),this.currentIssue=this.selectedIssue,this.updateCounts()}ngOnChanges(){this.subTasks=this.selectedIssue.subTasks||[],this.updateCounts()}updateCounts(){if(!this.subTasks)return this.completedCounts=[],this.totalCounts=[],void(this.percentages=[]);this.completedCounts=this.subTasks?.map(n=>this.completedSubTaskItemsCount(n)),this.totalCounts=this.subTasks.map(n=>this.totalSubTaskItemsCount(n)),this.percentages=this.subTasks.map((n,r)=>this.calculatePercentage(this.completedCounts[r],this.totalCounts[r]))}completedSubTaskItemsCount(n){return n&&Array.isArray(n.subTaskItem)?n.subTaskItem.filter(r=>!0===r.completed||"true"===r.completed).length:0}totalSubTaskItemsCount(n){return n&&Array.isArray(n.subTaskItem)?n.subTaskItem.length:0}calculatePercentage(n,r){return 0===r?0:parseFloat((n/r*100).toFixed(2))}ngOnDestroy(){this.editor.destroy()}initialize(){var n=this;return(0,y.Z)(function*(){if(n.fetchIssueTimers(),n._projectService.getProjectUsers(n.projectId).then(r=>{n.projectUsers=r,n.unassignedUsers=n.filterUnassignedUsers(n.projectUsers,n.selectedIssue?.assignedUsers),n.setProfileImage()}).catch(r=>console.error(r)),n.patchIssueForm.controls.title.setValue(n.selectedIssue.title),n.patchIssueForm.controls.description.setValue(n.selectedIssue?.description),n.selectedIssue?.sprintId){const r=yield(0,T.lDJ)(parseInt(n.selectedIssue?.sprintId));n.issueSprint=r?.data[n.projectSprintComposition]?.title}})()}setProfileImage(){if(this.currentUserConcept){const n=this.getUserProfile(this.currentUserConcept);n&&n.profileImg&&(this.profileImgSrc=n.profileImg)}else console.error("currentUserConcept is not defined.")}closeModal(){setTimeout(()=>{this._activeModal.close(this.changesMade)},100)}itemSelected(n){setTimeout(()=>{this.htmlDoc=document.getElementById("comment-input"),this.htmlDoc.innerHTML=this.htmlDoc.innerHTML.replace("##"+n.firstName+"##",'&nbsp;<span class="text-primary">@'+n.firstName+"</span>&nbsp;"),this.htmlDoc.innerHTML=this.htmlDoc.innerHTML.replace('<span class="text-primary"></span>',""),this.addIssueCommentForm.controls.comment.setValue(this.htmlDoc.innerHTML),this.selectEnd()},50)}selectEnd(){const n=document.createRange();n.selectNodeContents(this.htmlDoc),n.collapse(!1);const r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(n))}changeCommentValue(){const n=this.htmlDoc?.innerHTML||document.getElementById("comment-input")?.innerHTML||"";this.addIssueCommentForm.controls.comment.setValue(n)}filterUnassignedUsers(n,r){console.log("proj, users",n,r);for(const s of n)(!Array.isArray(r)||!r.includes(s.id.toString()))&&this.unassignedUsers.push(s);return this.unassignedUsers}toggleEditForm(n,r){this.showEditForm=!this.showEditForm,this.selectedSubTaskIndex=n,this.editSubTaskForm.controls.taskName.setValue(r.taskName),this.showEditForm&&setTimeout(()=>{this.editSubTaskInput?.nativeElement?.focus()},0)}ngAfterViewChecked(){this.showEditForm&&setTimeout(()=>{this.editSubTaskInput?.nativeElement?.focus()},0)}toggleEditSubTaskItem(n,r){this.selectedSubTaskItemIndex=n,this.editSubTaskItemForm.patchValue({taskItemName:r.taskItemName})}updateSubTaskItemName(n){var r=this;return(0,y.Z)(function*(){if(r.editSubTaskItemForm.valid){const s=r.editSubTaskItemForm.value.taskItemName,l=new T.MYZ;l.compositionId=n,l.patchObject={taskItemName:s},yield(0,T.W2Z)(l);for(const a of r.subTasks){const c=a.subTaskItem?.find(d=>d.id==n);if(c){c.taskItemName=s;break}}r.selectedSubTaskItemIndex=null}})()}toggleAddSubTaskItemForm(n){null!==n&&(this.showAddSubTaskItemForm[n]=!this.showAddSubTaskItemForm[n],this.addSubTaskItemIndex=this.showAddSubTaskItemForm[n]?n:null)}fetchIssueTimers(){this.loadingTimer=!0,this._projectService.getTimers(this.projectId,this.issueId).subscribe({next:n=>{this.trackedTimers=n?.data?.timers||[],this.activeIssueTimer=n?.data?.activeTimer,this.calculatedUserTime=[],this.calculatedDetails=[],this.calculatedUserTime=this.calculateDurations(this.trackedTimers),this.loadingTimer=!1},error:n=>{console.error(n),this.loadingTimer=!1}})}setIssueLabel(n){this.issueLabel=n.target.value;const r=this.selectedIssue?.labels??[];if(r.includes(this.issueLabel))this.issueLabel="";else if(!this.patchLoading&&"Enter"===n.key&&""!==this.issueLabel.trim()){this.selectedIssue.labels=[...r,this.issueLabel];const s={label:this.issueLabel.trim()};this._projectService.updateIssue(this.projectId,this.issueId,s).subscribe({next:l=>{this.selectedIssue=l.data,this.changesMade=!0,this.issueLabel=""},error:l=>{console.error("Error updating issue:",l)}})}}removeLabel(n){n>=0&&n<this.selectedIssue.labels.length&&this._projectService.updateIssue(this.projectId,this.issueId,{labels:this.selectedIssue.labels[n]}).subscribe({next:l=>{Array.isArray(l.data.labels)||(l.data.labels=[]),this.selectedIssue=l.data,this.changesMade=!0},error:l=>{console.error("Error updating issue:",l)}})}ngAfterViewInit(){this.patchIssueOptions.webLinks&&this.webLinkInput.nativeElement.focus()}togglePatchIssueOption(n){this.patchIssueOptions={...this.patchIssueOptions,[n]:!this.patchIssueOptions?.[n]},this.patchIssueOptions.webLinks&&setTimeout(()=>{this.webLinkInput.nativeElement.focus()},0)}handlePriorityChange(n){this.selectedIssue.priority=n,this._projectService.updateIssue(this.projectId,this.issueId,{priority:n}).subscribe({next:s=>{this.selectedIssue=s.data,this.changesMade=!0},error:s=>{console.error("Error updating issue:",s)}})}handleStoryPointChange(n){this.selectedIssue.storyPoint=n,this._projectService.updateIssue(this.projectId,this.issueId,{storyPoint:n}).subscribe({next:s=>{this.selectedIssue=s.data},error:s=>{console.error("Error updating issue:",s)}})}handleDueDateChange(n){const r=n.target.value;if(new Date(n.target.value).getTime()-(new Date).getTime()<0)return void this._snackbarService.openSnackBar("Due date cannot be in the past","error");this.selectedIssue.dueDate=r,this.dueDate=this.formatedLocalDate(r);const s={dueDate:new Date(n.target.value).toISOString()};this.changesMade=!0,this._projectService.updateIssue(this.projectId,this.issueId,s).subscribe({next:()=>{},error:l=>{console.error("Error updating issue:",l),this.changesMade=!1}})}updateEstimatedTime(){if(!this.estimatedTime.match(/(d+ds+)?(d+h)?(s+d+m)?/g))return void this._snackbarService.openSnackBar("Invalid Estimated Time","error");const r=this.estimatedTime.trim().split(" ");for(let a=0;a<r.length;a++)if(!r[a].toString().match(/(\d+[dhm])+/g))return void this._snackbarService.openSnackBar("Invalid Estimated Time","error");const s=this.selectedIssue.estimatedTime;this.selectedIssue.estimatedTime=this.estimatedTime,this._projectService.updateIssue(this.projectId,this.issueId,{estimatedTime:this.estimatedTime}).subscribe({next:a=>{this.selectedIssue=a.data,this.togglePatchIssueOption("estimatedTime")},error:a=>{console.error("Error updating issue:",a),this.selectedIssue.estimatedTime=s}})}handleSelectedIssueTypeChange(n){this.selectedIssue.type=n,this._projectService.updateIssue(this.projectId,this.issueId,{type:n}).subscribe({next:s=>{this.selectedIssue=s.data,this.changesMade=!0},error:s=>{console.error("Error updating issue:",s)}})}handlePatchIssueForm(n){this.patchIssueForm.valid&&Object.prototype.hasOwnProperty.call(this.patchIssueForm.value,n)&&(this.selectedIssue[n]=this.patchIssueForm.value[n],this._projectService.updateIssue(this.projectId,this.issueId,{[n]:this.patchIssueForm.value?.[n]}).subscribe({next:s=>{this.togglePatchIssueOption(n),"title"==n&&(this.selectedIssue=s.data),this.changesMade=!0},complete:()=>{}}))}handleWebLinkSubmit(){const n=this.selectedIssue?.webLinks?.length>0?this.selectedIssue?.webLinks:[];this.addWebLinkForm.valid&&(this.isSubmitting=!0,this.selectedIssue.webLinks=[...n,this.addWebLinkForm.value],this._projectService.updateIssue(this.projectId,this.issueId,{webLinks:this.selectedIssue?.webLinks}).subscribe({next:s=>{this.addWebLinkForm.reset(),this.selectedIssue=s.data,this.togglePatchIssueOption("webLinks"),this.changesMade=!0,this.isSubmitting=!1,this.cdr.detectChanges()},error:s=>{console.error("Error updating issue:",s),this.selectedIssue.webLinks.pop()}}))}handleEstimatedTimeFocusOut(){this.estimatedTime=this.selectedIssue.estimatedTime,this.togglePatchIssueOption("estimatedTime")}removeWebLink(n){n>=0&&n<this.selectedIssue.webLinks.length&&(this.selectedIssue.webLinks.splice(n,1),this._projectService.updateIssue(this.projectId,this.issueId,{webLinks:this.selectedIssue.webLinks}).subscribe({next:s=>{this.selectedIssue=s.data,this.changesMade=!0},error:s=>{console.error("Error updating issue:",s),this.selectedIssue.webLinks.pop()}}))}getSanitizedText(n){const r=document.createElement("div");return r.innerHTML=n,(r.textContent||r.innerText||"").replace(/\u00a0/g," ")}getAllComments(){var n=this;return(0,y.Z)(function*(){n.loading=!0,n._projectService.getCommentsList(n.projectId,n.issueId).subscribe({next:r=>{n.allComments=r.data.map(s=>({...s,text:n.getSanitizedText(s.text)}))},complete:()=>n.loading=!1})})()}markAsResolved(n){var r=this;return(0,y.Z)(function*(){const s=r.anyCommentResolved();if(s){if(!(yield r._modalService.open(dd,{size:"md",backdropClass:"stacked-modal"}).result.catch(()=>!1)))return;try{yield(0,T.eu4)(Number(s.id),"issueComment_resolution"),yield T.smK.SyncDataOnline()}catch(c){console.error("Error deleting connection:",c)}}else if(!(yield r._modalService.open(cd,{size:"md",backdropClass:"stacked-modal"}).result.catch(()=>!1)))return;r.allComments=r.allComments.map(l=>l.id==n?{...l,resolution:!0}:{...l,resolution:!1});try{const l=yield(0,T.J0M)(n),a=yield(0,T.Fsb)("the_resolution","",!1,r.currentUserConcept,4);yield(0,T.G$0)(l,a,"resolution"),yield T.smK.SyncDataOnline()}catch(l){console.error("Error marking comment as resolved:",l)}})()}anyCommentResolved(){return this.allComments.find(n=>!0===n.resolution)||null}handleCommentsSubmit(){if(this.addIssueCommentForm.value.comment){if(this.contentEditable.nativeElement.innerHTML="",this.addIssueCommentForm.valid&&this.addIssueCommentForm.value){this.isSubmitting=!0;const r={...this.addIssueCommentForm.value},s=new Date,l=this.formatDate(s),a={text:this.addIssueCommentForm.value.comment,userConcept:this.currentUserConcept,created_on:s.toISOString(),created_at:s.getTime(),formattedDate:l};this.allComments=[a,...this.allComments],this._projectService.addComment(this.projectId,this.issueId,r).subscribe({next:c=>{this.isSubmitting=!1;const d={...c.data,text:this.getSanitizedText(c.data.text)};this.allComments[0]=d,this.addIssueCommentForm.get("comment")?.reset(),this.togglePatchIssueOption("comment"),this.addIssueCommentForm.controls.comment.markAsPristine(),this.addIssueCommentForm.controls.comment.markAsUntouched(),this.addIssueCommentForm.controls.comment.setErrors(null)},error:()=>{this.allComments.shift(),this.isSubmitting=!1},complete:()=>{}})}}else this._snackbarService.openSnackBar("Please Enter Comment!!!","warning")}formatDate(n){const r=n.getDate(),s=n.getMonth()+1,l=n.getFullYear(),a=n.getHours(),c=n.getMinutes(),d=n.getSeconds(),_=a%12||12;return`${s}/${r}/${l} ${_<10?"0"+_:_}:${c<10?"0"+c:c}:${d<10?"0"+d:d} ${a>=12?"PM":"AM"}`}handleSubTaskSubmit(){this.isSubmitting||(this.isSubmitting=!0,Array.isArray(this.subTasks)||(this.subTasks=[]),this._projectService.addSubTask(this.projectId,this.issueId,{taskName:"Check List "+(this.subTasks?.length+1)}).subscribe({next:r=>{this.subTasks=Array.isArray(this.subTasks)?[r.data,...this.subTasks]:[r.data],this.addSubTaskForm.get("taskName")?.reset();const s=this.subTasks.findIndex(l=>l==r.data);-1!==s&&(this.showAddSubTaskItemForm[s]=!0,setTimeout(()=>{this.subTaskInputElement.nativeElement.focus()},0)),this.togglePatchIssueOption("subTasks"),this.cdr.detectChanges(),this.updateCounts(),this.changesMade=!0,this.isSubmitting=!1},error:r=>{console.error("Error adding subtask:",r),this.loading=!1},complete:()=>{this.loading=!1,this.isSubmitting=!1}}))}removeSubTask(n){this.subTasks=this.subTasks.filter(r=>r.id!==n),this._projectService.removeSubTask(this.projectId,this.issueId,n).subscribe({next:()=>{0==this.selectedIssue?.subTasks?.length&&(this.selectedIssue.subTasks=[]),this.cdr.detectChanges(),this.updateCounts(),this.changesMade=!0},error:r=>{console.error("Error updating issue:",r),this.selectedIssue.subTasks.push(n)}})}handleAddAssignedUser(n){this.selectedIssue.assignedUsers=this.selectedIssue.assignedUsers?.length>0?[...this.selectedIssue.assignedUsers,n.id]:[n.id],this._projectService.assignUserToTask(this.projectId,this.issueId,{userConcept:n.id}).subscribe({next:r=>{this.selectedIssue=r.data,this.unassignedUsers=this.unassignedUsers.filter(s=>s.id!==n.id),this.changesMade=!0},error:()=>{},complete:()=>{}})}handleRemoveAssignedUser(n){this.selectedIssue.assignedUsers=this.selectedIssue.assignedUsers.filter(r=>r!==n.id),this._projectService.removeUserFromTask(this.projectId,this.issueId,{userConcept:n.id}).subscribe({next:r=>{this.selectedIssue=r.data,this.unassignedUsers.push(n),this.changesMade=!0},error:()=>{},complete:()=>{}})}getUserProfile(n){const r=this.projectUsers?.find(s=>s.id==n);return r||null}patchIssue(n){this.patchLoading=!0;const r={compositionId:this.selectedIssue.id,patcher:{...n,updated_at:Date.now()}};this._itemService.patch(r).subscribe({next:s=>{this.selectedIssue=s,this.selectedIssue.attachments=s?.data?.projectIssue?.attachments,this.selectedIssue.webLinks=s?.data?.projectIssue?.webLinks},complete:()=>{this.patchLoading=!1}})}uploadAttachment(n){if(!n.target.files&&!n.target.files[0])return;const l=n.target.files[0];if(l?.size/1024>2e3)return void this._snackbarService.openSnackBar("File size must be less than 2mb","warning");const c=["image/jpeg","image/jpg","image/png"].includes(l.type),d=["application/msword","application/vnd.ms-excel","application/vnd.ms-powerpoint","text/plain","application/pdf"].includes(l.type);if(c||d){this.loading=!0;const u=new FormData;u.append("attachment",l,l.name),this._projectService.addAttachment(this.projectId,this.issueId,u).subscribe({next:_=>{this.newAttachments=Array.isArray(this.newAttachments)?[_.data?.[0],...this.newAttachments]:[_.data?.[0]],this.changesMade=!0,this.loading=!1},error:()=>{this.loading=!1}})}else this._snackbarService.openSnackBar("Invalid file format","warning")}deleteAttachment(n){var r=this;return(0,y.Z)(function*(){r.loading=!0,r.newAttachments=r.newAttachments.filter(s=>s.id!==n),r._projectService.deleteAttachment(r.projectId,r.issueId,n).subscribe({next:()=>{r.changesMade=!0,r.selectedIssue&&r.selectedIssue.newAttachments&&0==r.selectedIssue.newAttachments.length&&(r.selectedIssue.newAttachments=[])},complete:()=>r.loading=!1})})()}addSubTaskItem(n){!this.isSubmitting&&(this.isSubmitting=!0,this.addSubTaskItemForm.valid)&&this._projectService.addSubTaskItem(this.projectId,this.issueId,n,{taskItemName:this.addSubTaskItemForm.value.taskItemName}).subscribe({next:s=>{const l=s.data,a=this.subTasks.findIndex(c=>c.id==n);-1!==a?(this.subTasks[a].subTaskItem||(this.subTasks[a].subTaskItem=[]),this.subTasks[a].subTaskItem.push(l),this.updateCounts(),this.cdr.detectChanges()):console.error(`Subtask with ID ${n} not found.`),this.addSubTaskItemForm.reset(),this.changesMade=!0,this.isSubmitting=!1},error:s=>{this.isSubmitting=!1,console.error("Error adding item:",s)}})}updateSubTaskItem(n){for(const r of this.subTasks){const s=r.subTaskItem.findIndex(l=>l.id==n);if(-1!=s){r.subTaskItem[s].completed=(!("true"===r.subTaskItem[s].completed)).toString(),this.cdr.detectChanges(),this.updateCounts();break}}this._projectService.updateSubTaskItem(this.projectId,this.issueId,n).subscribe({next:()=>{this.changesMade=!0},error:r=>{console.error("Error adding item:",r)}})}deleteSubTaskItem(n){this._projectService.deleteSubTaskItem(this.projectId,this.issueId,n).subscribe({next:()=>{for(const r of this.subTasks){const s=r.subTaskItem.findIndex(l=>l.id===n);if(-1!==s){r.subTaskItem.splice(s,1),this.updateCounts(),this.cdr.detectChanges();break}}this.changesMade=!0},error:r=>{console.error("Error adding item:",r)}})}updateSubTask(n,r,s){let l;"click1"===s?l={taskName:this.subTasks[r].taskName}:"click2"===s&&(this.subTasks[r].taskName=this.editSubTaskForm.value.taskName,l={taskName:this.editSubTaskForm.value.taskName}),this._projectService.updateSubTask(this.projectId,this.issueId,n,l).subscribe({next:()=>{this.changesMade=!0},error:a=>{console.error("Error updating issue:",a)}})}removeAttachment(n){const r=this.selectedIssue?.attachments?.findIndex(s=>s===n);-1!==r&&(this.selectedIssue?.attachments?.splice(r,1),this._projectService.updateIssue(this.projectId,this.issueId,{attachments:this.selectedIssue?.attachments}).subscribe({next:l=>{this.selectedIssue=l.data,this.changesMade=!0,Array.isArray(this.selectedIssue.attachments)||(this.selectedIssue.attachments=[]),0===this.selectedIssue.attachments.length&&(this.selectedIssue.attachments=[])},error:l=>{console.error("Error updating issue:",l),this.selectedIssue?.attachment?.splice(r,0,n)}}))}openImageInDialog(n,r){const s=this._modalService.open(id.$,{size:"xl"});s.componentInstance.imageUrl=n,s.componentInstance.i=r}startTimer(){this.loadingTimer=!0,this._projectService.startTimer(this.projectId,this.issueId).subscribe({next:n=>{this.activeIssueTimer={id:n.data?.id,startTime:(new Date).toISOString(),userId:this.currentUserConcept,issueId:this.issueId,issue:{id:this.issueId},projectId:this.projectId,project:{id:this.projectId},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},this.trackedTimers=[this.activeIssueTimer,...this.trackedTimers],setTimeout(()=>{this.fetchIssueTimers()},500),this.triggerTimerEvent()},error:n=>{console.error(n),this.loadingTimer=!1},complete:()=>{this.loadingTimer=!1}})}stopTimer(n){const r=this._modalService.open(od.Y,{size:"md",backdropClass:"stacked-modal"});r.componentInstance.projectId=this.projectId,r.componentInstance.issueId=this.issueId,r.componentInstance.timer=n,r.result.then(s=>{s?.success&&(this.fetchIssueTimers(),this.triggerTimerEvent())})}needSidebar(){const n=["title","description","attachments","subTasks","webLinks","comments"];return this.template?.issueFields?.filter(s=>!n.includes(s)).some(s=>_o.r.includes(s))}downloadAttachment(n){fetch(n).then(r=>{if(!r.ok)throw new Error(`HTTP error! Status: ${r.status}`);return r.blob()}).then(r=>{const s=document.createElement("a");s.href=window.URL.createObjectURL(r),s.download=n.split("/").pop()||"",s.click()}).catch(r=>console.error("Download failed:",r))}viewTimerDetails(){this._modalService.open(ad,{size:"lg",backdropClass:"stacked-modal"}).componentInstance.timers=this.trackedTimers}calculateDurations(n){const r={};return n.forEach(s=>{const l=s.userId,a=new Date(s.startTime).getTime(),d=(s.endTime?new Date(s.endTime).getTime():(new Date).getTime())-a;r[l]||(r[l]=0),r[l]+=1e3*Math.trunc(d/1e3),0==this.calculatedDetails.filter(u=>u?.userConcept==l).length&&this.calculatedDetails.push({...s,userConcept:s.userId,runningTimer:void 0}),this.calculatedDetails=this.calculatedDetails.map(u=>{if(u.userConcept==l){const _=u?.isActive?u.isActive:u?.endTime?void 0:u?.startTime;return _&&(this.runningTimer=this.formatDuration(this.getRunningTimer(_))||""),{...u,duration:this.formatDuration(r[l]),isActive:_}}return u})}),this.startTickingTimer(),r}formatDuration(n){let r=Math.floor(n/1e3),s=Math.floor(r/60),l=Math.floor(s/60);const a=Math.floor(l/24);l%=24,s%=60,r%=60;let c=r+"s";return s>0&&(c=s+"m "+c),l>0&&(c=l+"h "+c),a>0&&(c=a+"d "+c),c}getRunningTimer(n){const r=new Date(n).getTime(),l=(new Date).getTime()-r;return 1e3*Math.trunc(l/1e3)}startTickingTimer(){clearInterval(this.tickingInterval),this.tickingInterval=setInterval(()=>{this.calculatedDetails.map(n=>{n?.isActive&&n.userConcept==this.currentUserConcept&&(this.runningTimer=this.formatDuration(this.getRunningTimer(n.isActive)))})},1e3)}navigateToActiveTimer(){this._activeModal.dismiss(),this.router.navigate(["/projects","view",this.activeIssueTimer?.project?.id],{queryParams:{issue:this.activeIssueTimer?.issue?.id}})}getDecodedEstimateTime(n){let r={days:0,hours:0,minutes:0,seconds:0};const s=n.split(" ");for(let l=0;l<s.length;l++){const a=s[l];a.includes("d")?r={...r,days:parseInt(a.substring(0,a.length-1))}:a.includes("h")?r={...r,hours:parseInt(a.substring(0,a.length-1))}:a.includes("m")?r={...r,minutes:parseInt(a.substring(0,a.length-1))}:a.includes("s")&&(r={...r,seconds:parseInt(a.substring(0,a.length-1))})}return r}getTotalSpentTimerDurationInMs(n){let r=0;return n.forEach(s=>{const l=new Date(s.startTime).getTime(),c=(s.endTime?new Date(s.endTime).getTime():(new Date).getTime())-l;r+=c}),r}getRemainingTime(n){const r=this.getDecodedEstimateTime(n),a=24*r.days*60*60*1e3+60*r.hours*60*1e3+60*r.minutes*1e3+1e3*r.seconds-this.getTotalSpentTimerDurationInMs(this.trackedTimers);return a<0?"0m":this.formatDuration(a)}getSpentTime(){return this.formatDuration(this.getTotalSpentTimerDurationInMs(this.trackedTimers))}formatedLocalDate(n){const r=new Date(n);return r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r.toISOString().slice(0,16)}triggerTimerEvent(){const n=new Event("activeTimerChanged");window.document.dispatchEvent(n)}handleAddReminder(){this.changesMade=!0;const n=this.addReminderForm.value;if(!n.startTime||!this.addReminderForm.valid)return;const r={title:n.title,startTime:new Date(n.startTime).toISOString(),assignee:n.assignee,alertType:n.alertType},s=Date.now();this.reminders.push({...r,id:s}),this._projectService.addReminder(this.projectId,this.issueId,r).subscribe({next:l=>{this.reminders=this.reminders.map(a=>a.id==s?{...a,id:l?.data?.id}:a),this.changesMade=!0},error:l=>{console.error(l),this.reminders=this.reminders.filter(a=>a.id!=s)}})}handleReminderDateTypeChange(n){"dueDate"==n.target.value&&this.selectedIssue.dueDate&&this.addReminderForm.patchValue({startTime:this.formatedLocalDate(this.selectedIssue.dueDate)})}handleDeleteReminder(n){const r=this.reminders.find(s=>s.id==n);this.reminders=this.reminders.filter(s=>s.id!=n),this._projectService.deleteReminder(this.projectId,this.issueId,n).subscribe({next:()=>{this.changesMade=!0,this.handleSetReminderCancel()},error:s=>{console.error(s),this.reminders.push(r)}})}handleSetReminderCancel(){this.addReminderForm.patchValue({remindThroughDate:"date",title:"",startTime:"",assignee:"self",alertType:"notification"})}getAllBoards(){this._projectService.getAllBoards(this.projectId).subscribe({next:n=>{this.allBoards=n.data}})}getIssueBoard(n){const r=Number(n);return this.allBoards.find(l=>l.id==r)?.title}handleBoardChange(n){this._projectService.changeIssueBoardStatus(this.projectId,this.selectedIssue.id,{boardId:parseInt(n)}).subscribe({next:()=>{this.changesMade=!0},error:s=>{console.error("Error updating issue:",s)}})}handleCategoryChange(n){var r=this;return(0,y.Z)(function*(){"Enter"===n.key||13===n.keyCode?yield r.handleCategoryItemClick(n.target.value.trim()):r.selectedCategory=n.target.value})()}handleCategoryFocus(){this.showProjectCategories=!0,this.selectedCategory=""}handleCategoryFocusOut(){this.selectedCategory=void 0,setTimeout(()=>{this.showProjectCategories=!1},500)}getProjectCategories(){var n=this;return(0,y.Z)(function*(){const r=yield(0,T.$Er)(n.projectId,"the_project_s_category",100);for(let s=0;s<r.length;s++){const l=r[s];l?.data?.the_category&&n.projectCategories.push(l?.data?.the_category)}})()}handleCategoryItemClick(n){var r=this;return(0,y.Z)(function*(){if(r.selectedIssue?.category==n)return;r.selectedIssue.category=n,r.selectedCategory=void 0;const s=r._auth.loadFromLocalStorage(),l=parseInt(s.userId);yield(0,T.eu4)(r.issueId,"the_issue_category");const a=yield(0,T.Fsb)("the_category",n,!1,l,4),c=yield(0,T.J0M)(r.issueId),d=yield(0,T.smi)("the_issue_category",999,999,l);if(yield(0,T.b1S)(c.id,a.id,d.id,1e3),!r.projectCategories.includes(n)){const u=yield(0,T.smi)("the_project_s_category",999,999,l);yield(0,T.b1S)((yield(0,T.J0M)(r.projectId)).id,a.id,u.id,1e3),r.projectCategories=[n,...r.projectCategories]}yield T.smK.SyncDataOnline()})()}formatWebLink(n){return n?n.startsWith("http://")||n.startsWith("https://")?n:`//${n}`:"#"}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(lt.e),e.Y36(L.Y),e.Y36(st.e),e.Y36(g.qu),e.Y36(k.FF),e.Y36(k.Kz),e.Y36(Q.o),e.Y36(yn.H7),e.Y36(H.F0),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-issue"]],viewQuery:function(r,s){if(1&r&&(e.Gf(ud,5),e.Gf(pd,5),e.Gf(_d,5),e.Gf(md,5)),2&r){let l;e.iGM(l=e.CRH())&&(s.contentEditable=l.first),e.iGM(l=e.CRH())&&(s.subTaskInputElement=l.first),e.iGM(l=e.CRH())&&(s.editSubTaskInput=l.first),e.iGM(l=e.CRH())&&(s.webLinkInput=l.first)}},inputs:{projectId:"projectId",issueId:"issueId",selectedIssue:"selectedIssue",template:"template"},features:[e.TTD],decls:16,vars:7,consts:[[1,"modal-header"],["ngbDropdown","",1,"d-inline-block","mb-2"],["ngbDropdownToggle","",1,"issueType","me-2","hide-dropdown-toggle",3,"title","ngClass"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"dropdown-menu-auto"],["ngbDropdownItem","",1,"d-flex","align-items-center",3,"click"],[1,"issueType","issueType_bug","me-2"],[1,"issueType","issueType_feature","me-2"],[1,"modal-title","text-capitalize","mb-2"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","loading",4,"ngIf"],["class","row",4,"ngIf"],[1,"loading"],[1,"loader"],[1,"row"],[1,"col-md-8","border-end"],["class","cursor text-break",3,"click",4,"ngIf","ngIfElse"],["showTitleUpdateForm",""],[1,"d-flex","flex-row","gap-2","mb-4"],["title","Update cover image","for","project_attachment"],["role","button","title","Add attachment",1,"btn","btn-light","btn-sm","px-2","py-1"],[1,"material-symbols-outlined"],["id","project_attachment","type","file","accept",".png, .jpg, .jpeg, .pdf, .txt, .docx, .doc, .xlxs, .pptx",1,"d-none",3,"change"],["role","button","title","Add Sub Task",1,"btn","btn-light","btn-sm","px-2","py-1",3,"disabled","click"],["role","button","title","Add Web Link",1,"btn","btn-light","btn-sm","px-2","py-1",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-2"],["for","description fw-bold",1,"form-label"],["class","NgxEditor__Wrapper",4,"ngIf","ngIfElse"],["textAreaDescription",""],["class","d-flex align-items-center justify-content-end gap-1",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"mb-4"],[1,"fw-bold"],[1,"d-flex","flex-row","gap-4","align-items-center","justify-content-between"],[4,"ngIf","ngIfElse"],["hasActiveTimer",""],["notAvailable",""],[1,"d-flex","align","items-center","justify-content-end"],[1,"btn","btn-secondary",3,"click"],["class","mt-2",4,"ngIf"],[1,"mb-4","text-break","mw-75"],[1,"fw-bold","mb-2"],[1,"comment-form"],[1,"d-flex","flex-row","gap-2"],["noProfileImg",""],["contenteditable","plaintext-only","rows","2","id","comment-input","data-comment-placeholder","Add a Comment",1,"form-control","form-control-sm","px-2","py-1","shadow-none",3,"mention","mentionConfig","mentionListTemplate","itemSelected","click","input"],["contentEditable",""],["rows","2","placeholder","Comment","formControlName","comment",1,"form-control","form-control-sm","px-2","py-1","shadow-none","d-none",3,"mention","mentionConfig","mentionListTemplate","click"],["class","d-flex flex-row justify-content-end gap-1 mt-2",4,"ngIf"],["mentionListTemplate",""],[1,"comments-section","mt-3"],["class","d-flex align-items-start gap-2 mb-2",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","p-0","shadow-none","border","mb-4"],[1,"card-header","p-3","border-bottom-0","d-flex","align-items-center","justify-content-between"],[1,"fw-bold","card-title","m-0"],["role","button",3,"click"],["class","material-symbols-outlined",4,"ngIf","ngIfElse"],["hideDetails",""],["class","card-body border-top",4,"ngIf"],["hideMoreDetails",""],[4,"ngIf"],[1,"cursor","text-break",3,"click"],[1,"card-item-title","d-flex","align-items-center","w-100"],[1,"fw-bold","me-1","mt-0","text-nowrap"],[1,"flex-grow-1","text-truncate",2,"max-width","calc(100% - 3rem)",3,"title"],[1,"d-flex","align-items-center","gap-2","mb-4"],["type","text","formControlName","title",1,"form-control","form-control-sm","shadow-none",3,"value"],["type","submit",1,"btn","btn-primary","btn-sm"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"NgxEditor__Wrapper"],[3,"editor"],["formControlName","description",3,"editor","placeholder"],["class","border rounded px-2 py-1 innerHTML cursor-text adjust-height",3,"innerHTML","click",4,"ngIf"],["class","border rounded px-2 py-1 innerHTML cursor-text",3,"click",4,"ngIf"],[1,"border","rounded","px-2","py-1","innerHTML","cursor-text","adjust-height",3,"innerHTML","click"],[1,"border","rounded","px-2","py-1","innerHTML","cursor-text",3,"click"],[1,"text-secondary"],[1,"d-flex","align-items-center","justify-content-end","gap-1"],[1,"btn","btn-light","btn-sm","px-2","py-1",3,"click"],["type","submit",1,"btn","btn-primary","btn-sm","px-2","py-1"],["style","display: flex; align-items: center; margin-bottom: 5px",4,"ngIf"],[1,"d-flex","flex-column","gap-2"],["class","attachment-card",4,"ngFor","ngForOf"],[2,"display","flex","align-items","center","margin-bottom","5px"],[1,"fw-bold",2,"margin-left","5px","margin-bottom","4px"],[1,"attachment-card"],[1,"d-flex","flex-row","align-items-center"],[1,"attachment-info","flex-grow-1"],[1,"attachment-title"],[1,"attachment-download",3,"click"],[1,"material-symbols-outlined","remove-image",3,"click"],["target","_blank",1,"image-link",3,"href"],["alt","Image",1,"attachment-image",3,"src"],["target","_blank",1,"attachment-document-link",3,"href"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],["role","button","title","Add More Sub Task",1,"btn","btn-light","btn-sm","px-2","py-1",3,"disabled","click"],["class","gap-2 card border shadow-sm p-2 px-3 mb-2",4,"ngFor","ngForOf"],[1,"gap-2","card","border","shadow-sm","p-2","px-3","mb-2"],[1,"progress","thin-progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","small"],[1,"d-flex","flex-row"],[1,"col-10"],["ViewTitle",""],[1,"col-3","button-container"],["role","button","title","Add Item",1,"fw-bold",3,"click"],["role","button","title","Edit",1,"ml-0",3,"click"],["role","button","title","Remove",3,"click"],[1,"d-flex","align-items-center","gap-2"],[1,"w-75","col-sm-6","col-md-4","col-lg-3"],[1,"form-label"],["type","text","formControlName","taskName",1,"form-control","form-control-sm","py-1","shadow-none"],["editSubTaskInput",""],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-auto","px-2","py-1"],[1,"btn","btn-light","mt-auto","px-2","py-1",3,"click"],[1,"text-danger"],[1,"text-capitalize","text-wrap","mw-95","fw-bold"],["class","d-flex flex-row card border shadow-sm p-2 px-3 mb-2",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","card","border","shadow-sm","p-2","px-3","mb-2"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"checked","change"],[1,"col-8"],["viewSubTaskItem",""],["class","align-items-center ms-auto me-0 button-container",4,"ngIf"],[1,"w-100","col-sm-6","col-md-4","col-lg-3"],["type","text","formControlName","taskItemName",1,"form-control","form-control-sm","py-1","shadow-none"],["type","submit",1,"btn","btn-primary","btn-sm","px-2","py-1","mt-1"],[1,"btn","btn-light","btn-sm","px-2","py-1","mt-1",3,"click"],[1,"text-capitalize","text-wrap","m-0"],[1,"align-items-center","ms-auto","me-0","button-container"],["role","button","title","Edit",3,"click"],["role","button","title","Remove"],[1,"material-symbols-outlined",3,"click"],[1,"col-sm-6","col-md-4","col-lg-3",2,"width","70%"],["type","text","autofocus","","formControlName","taskItemName",1,"form-control","form-control-sm","py-1","shadow-none"],["subTaskItemInput",""],["type","submit",1,"btn","btn-primary","mt-auto","px-2","py-1",3,"disabled"],["role","button","title","Add More Link",1,"btn","btn-light","btn-sm","px-2","py-1",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,""],["for","",1,"form-label"],["type","text","formControlName","url",1,"form-control","form-control-sm","py-1","shadow-none"],["webLinkInput",""],["type","text","formControlName","text",1,"form-control","form-control-sm","py-1","shadow-none"],[1,"text-danger","small","mt-0",3,"ngStyle"],["class","card p-0 shadow-sm mb-1 border",4,"ngFor","ngForOf"],[1,"card","p-0","shadow-sm","mb-1","border"],[1,"card-body","py-1","d-flex","flex-row","justify-content-between"],[1,"m-0"],["target","_blank",1,"card-title","text-black","text-break","mw-95",3,"href"],["class","btn btn-primary d-flex align-items-center gap-1 px-4 py-2",3,"click",4,"ngIf"],[1,"btn","btn-primary","d-flex","align-items-center","gap-1","px-4","py-2",3,"click"],["class","p-4 bg-warning bg-opacity-50 rounded mb-2",4,"ngIf"],[1,"p-4","bg-warning","bg-opacity-50","rounded","mb-2"],[3,"click"],[1,"p-4","bg-warning","bg-opacity-50","rounded"],[1,"mt-2"],[1,"table","table-striped"],["class","py-1",4,"ngFor","ngForOf"],[1,"py-1"],[1,"d-flex","flex-row","align-items-center","gap-1"],["class","avatar",3,"title","src",4,"ngIf","ngIfElse"],["defaultImg",""],["class","btn btn-danger d-flex align-items-center gap-2 btn-sm px-4 py-2",3,"click",4,"ngIf"],[1,"avatar",3,"title","src"],["src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp",1,"avatar",3,"title"],[1,"btn","btn-danger","d-flex","align-items-center","gap-2","btn-sm","px-4","py-2",3,"click"],[1,"material-symbols-outlined",2,"font-size","20px"],[1,"text-nowrap"],["alt","Profile Image",1,"rounded-circle","border",2,"width","40px","height","40px",3,"src"],["src","https://t4.ftcdn.net/jpg/02/32/74/43/360_F_232744386_UptrPxh3hhHGob1sgv1votdXYzUc540Q.jpg","alt","",1,"rounded-circle","border",2,"width","40px","height","40px"],[1,"d-flex","flex-row","justify-content-end","gap-1","mt-2"],[1,"btn","btn-light","px-2","py-1",3,"click"],["type","submit",1,"btn","btn-primary","px-2","py-1",3,"disabled"],[1,"row","m-0"],[1,"col-2"],["class","avatar avatar-xs",4,"ngIf","ngIfElse"],["defaultImage",""],[1,"avatar","avatar-xs"],[1,"avatar-img","rounded-circle","h-25px","w-25px",3,"src","alt"],[1,"rounded-circle","border","border-2","h-25px","w-25px","bg-primary","text-white","text-center","text-capitalize",3,"title"],[1,"d-flex","align-items-start","gap-2","mb-2"],["class","rounded-circle border bg-primary","style","height: 36px; width: 36px; object-fit: cover",3,"src","alt","title",4,"ngIf","ngIfElse"],["noAvatar",""],[1,"d-flex","w-100","align-items-center","justify-content-between","bg-white","p-2","pt-0","rounded","shadow-sm"],[1,"flex-grow-1"],[1,"fw-bold","text-dark"],[1,"text-muted","ms-2","small"],[1,"mb-1","text-dark","fs-6",3,"innerHTML"],[1,"d-flex","align-items-center","text-muted"],[1,"me-2","p-1",3,"click"],["class","material-symbols-outlined text-secondary fs-5","title","Mark as Resolved",4,"ngIf"],["class","badge text-success d-flex align-items-center",4,"ngIf"],[1,"rounded-circle","border","bg-primary",2,"height","36px","width","36px","object-fit","cover",3,"src","alt","title"],["src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp","alt","Profile Image",1,"rounded-circle","border","bg-primary",2,"height","36px","width","36px","object-fit","cover",3,"title"],["title","Mark as Resolved",1,"material-symbols-outlined","text-secondary","fs-5"],[1,"badge","text-success","d-flex","align-items-center"],["title","Resolved",1,"material-symbols-outlined","fs-3"],[1,"card-body","border-top"],[1,"mb-2"],["ngbDropdown","",1,"",3,"autoClose"],["id","assignee","ngbDropdownToggle","",1,"hide-dropdown-toggle","form-select","form-select-sm","px-2","py-1","shadow-none","w-full","text-start"],["ngbDropdownMenu","","aria-labelledby","assignee"],[1,"mb-2","position-relative"],["type","text","placeholder","Issue Category",1,"form-control","form-control-sm","px-2","py-1","shadow-none",3,"value","keyup","focus","focusout"],["class","list-unstyled position-absolute bg-white py-1 select-category shadow w-100",4,"ngIf"],["placeholder","label",1,"form-control","form-select-sm","px-2","py-1","shadow-none",3,"value","keyup"],[1,"form-select","form-select-sm",3,"ngModel","ngModelChange"],["class","capitalize",3,"value",4,"ngFor","ngForOf"],[1,"form-select","form-select-sm","fw-bold",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["noUsers",""],["ngbDropdownItem","","class","px-2 d-flex align-items-center gap-1",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",1,"px-2","d-flex","align-items-center","gap-1",3,"click"],["class","avatar",3,"src","alt",4,"ngIf","ngIfElse"],[1,"avatar",3,"src","alt"],["src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp","alt","Profile Image",1,"avatar"],[2,"padding","11px"],["class","",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","gap-1"],["role","button","title","Remove User",1,"p-1","d-flex","align-items-center","justifyc-content-center",3,"click"],[1,"material-symbols-outlined","fs-16","fw-bold","text-danger"],[1,"list-unstyled","position-absolute","bg-white","py-1","select-category","shadow","w-100"],["class","px-2 py-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-2","py-1",3,"ngClass","click"],[1,"d-flex","flex-row","flex-wrap","gap-1","mt-1"],["class","bg-light rounded border d-flex align-items-center justify-content-around px-1 gap-1",4,"ngFor","ngForOf"],[1,"bg-light","rounded","border","d-flex","align-items-center","justify-content-around","px-1","gap-1"],[1,"material-symbols-outlined","fs-16","fw-bold",3,"click"],[1,"capitalize",3,"value"],["disabled",""],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],[1,"mb-2","d-flex","flex-column"],["type","datetime-local",1,"form-control","form-select-sm","px-2","py-1","shadow-none","mb-2",3,"ngModel","change"],["class","list-unstyled",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"],["ngbDropdown","",1,"d-inline-block","me-2"],["myDrop","ngbDropdown"],["title","Add Reminder","id","reminder","ngbDropdownToggle","",1,"d-flex","flex-row","gap-2","align-items-center","position-relative","hide-dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","reminder",1,"dropdown-menu","px-4","py-3"],[1,"d-flex","flex-row","gap-2","align-items-center","mb-3"],[1,"form-label","m-0","text-nowrap"],["formControlName","remindThroughDate",1,"py-1","form-control","form-control-sm",3,"change"],["value","dueDate"],["value","date"],["type","datetime-local","formControlName","startTime",1,"form-control","form-control-sm","py-1",3,"readonly"],["type","text","placeholder","title","formControlName","title",1,"form-control","form-control-sm","py-1"],["formControlName","assignee",1,"form-control","form-control-sm","py-1"],["value","self"],["value","assignee"],["type","radio","formControlName","alertType","value","both",1,"form-check-input"],[1,"ms-2","form-check-label"],["type","radio","formControlName","alertType","value","notification",1,"form-check-input"],["type","radio","formControlName","alertType","value","email",1,"form-check-input"],[1,"d-flex","flex-row","gap-2","align-items-stretch"],["ngbDropdownItem","",1,"btn","btn-secondary","btn-sm","py-1","px-0","text-center","text-white","flex-fill","w-25px",3,"click"],["ngbDropdownItem","","type","submit",1,"btn","btn-primary","btn-sm","py-1","px-0","text-center","text-white","flex-fill",3,"click"],["class","mb-2",4,"ngIf"],["class","mb-2 d-flex flex-column",4,"ngIf"],[1,"list-unstyled"],["class","d-flex flex-row gap-2 align-items-center justify-content-between reminder-item mb-1",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","gap-2","align-items-center","justify-content-between","reminder-item","mb-1"],["title","Remove Reminder","role","button",1,"d-flex",3,"click"],[1,"material-symbols-outlined","text-sm","fs-6","text-danger"],[1,"form-select","form-select-sm","px-2","py-1","shadow-none",3,"ngModel","ngModelChange"],["value","","disabled",""],["value","1"],["value","2"],["value","3"],["value","5"],["value","8"],["type","text","placeholder","0 m",1,"form-control","form-select-sm","px-2","py-1","shadow-none",3,"ngModel","click","ngModelChange"],["class","d-flex flex-row align-items-center justify-content-end gap-1 mt-2",4,"ngIf"],[1,"d-flex","flex-row","align-items-center","justify-content-end","gap-1","mt-2"],[1,"btn","btn-primary","btn-sm","px-2","py-1",3,"click"],["type","text","placeholder","0 m","disabled","",1,"form-control","form-select-sm","px-2","py-1","shadow-none",3,"value"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"button",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return s.handleSelectedIssueTypeChange("bug")}),e._UZ(5,"span",5),e._uU(6,"Bug "),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return s.handleSelectedIssueTypeChange("feature")}),e._UZ(8,"span",6),e._uU(9,"Feature "),e.qZA()()(),e.TgZ(10,"h4",7),e._uU(11,"Issue Details"),e.qZA(),e.TgZ(12,"button",8),e.NdJ("click",function(){return s.closeModal()}),e.qZA()(),e.TgZ(13,"div",9),e.YNc(14,gd,2,0,"div",10),e.YNc(15,ep,82,32,"div",11),e.qZA()),2&r&&(e.xp6(2),e.Q6J("title",s.selectedIssue.type||"Task")("ngClass",e.WLB(4,tp,"feature"==s.selectedIssue.type,"bug"==s.selectedIssue.type)),e.xp6(12),e.Q6J("ngIf",s.loading||s.patchLoading),e.xp6(1),e.Q6J("ngIf",s.selectedIssue))},dependencies:[I.mk,I.sg,I.O5,I.PC,g._Y,g.YN,g.Kr,g.Fj,g.EJ,g._,g.JJ,g.JL,g.On,g.sg,g.u,k.jt,k.iD,k.Vi,k.TH,da,oe.tP,oe.Mn,I.OU,I.uU,mo.u],styles:[".cursor[_ngcontent-%COMP%]{cursor:pointer}.cursor-text[_ngcontent-%COMP%]{cursor:text}.hide-dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.avatar[_ngcontent-%COMP%]{height:30px;width:30px;min-width:30px;border-radius:50%;object-fit:cover}.remove_image[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;color:red;font-size:16px;background:white;width:20px;height:20px;border-radius:50%;border:1px solid lightgray;display:flex;align-items:center;justify-content:center;cursor:pointer}[contenteditable][_ngcontent-%COMP%]{padding:12px}[data-comment-placeholder][_ngcontent-%COMP%]:empty:before{content:attr(data-comment-placeholder);color:#888;font-style:italic}.mw-95[_ngcontent-%COMP%]{max-width:95%}.input-width[_ngcontent-%COMP%]{width:17.5rem}.attachment-card[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background-color:#fff;border:1px solid lightgray;border-radius:8px;padding:10px}.remove-image[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:24px;color:red;cursor:pointer;z-index:10}.attachment-download[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;text-decoration:none;color:#007bff;font-size:14px;z-index:10}.attachment-download[_ngcontent-%COMP%]:hover{color:#f54242}.image-link[_ngcontent-%COMP%], .attachment-document-link[_ngcontent-%COMP%]{margin-right:10px;display:flex;align-items:center;justify-content:center}.attachment-image[_ngcontent-%COMP%]{object-fit:cover;width:200px;height:133px;border-radius:8px}.attachment-document-link[_ngcontent-%COMP%]{width:80px;height:118px;background-color:#fff;border-radius:8px;text-decoration:none;color:inherit;font-weight:700}.attachment-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.attachment-title[_ngcontent-%COMP%]{margin:0;color:#000}.attachment-meta[_ngcontent-%COMP%]{margin:0;color:#a0a0a0;font-size:12px}.attachment-download[_ngcontent-%COMP%]{text-decoration:none;color:#007bff;font-size:14px}.remove-image[_ngcontent-%COMP%]{font-size:24px;color:red;cursor:pointer}.use-template-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(242,112,156),rgb(255,148,114));padding:3px 4px;font-size:13px;border:none;color:#fff;border-radius:2px;width:100px}.button-container[_ngcontent-%COMP%]{display:none}.d-flex.flex-row[_ngcontent-%COMP%]:hover   .button-container[_ngcontent-%COMP%]{display:block}  .NgxEditor__Content{height:60px;overflow:auto}.adjust-height[_ngcontent-%COMP%]{white-space:pre-wrap;height:auto;line-break:anywhere}.reminder-item[_ngcontent-%COMP%]{font-size:14px!important;background:lightblue;padding:4px 8px}.thin-progress[_ngcontent-%COMP%]{height:12px}.select-category[_ngcontent-%COMP%]{max-height:100px;overflow:auto}.select-category[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.select-category[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .select-category[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:whitesmoke}@media (max-width: 768px){.subtask_row[_ngcontent-%COMP%]{flex-wrap:wrap}.attachment-card-entry[_ngcontent-%COMP%]{position:relative;width:100%}.remove-image[_ngcontent-%COMP%]{right:10px}.web-link-form-entry[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width: 600px){.modal-body[_ngcontent-%COMP%]{padding:20px 10px}.assignee-dropdown[_ngcontent-%COMP%]{width:100%;max-height:250px;overflow:auto;box-shadow:#00000026 1.95px 1.95px 2.6px}}"]}),o})();var Dt=D(3848),np=D(7582);let wn=(()=>{const i=class{constructor(n,r,s,l){this._activeModal=n,this._fb=r,this._projectService=s,this._snackbarService=l,this.loading=!1}ngOnInit(){this.formInitialize()}formInitialize(){this.createIssueForm=this._fb.group({title:new g.NI("",[g.kI.required,g.kI.minLength(3)]),description:new g.NI("")})}addIssue(){var n=this;return(0,y.Z)(function*(){if(!n.createIssueForm.valid)return void n._snackbarService.openSnackBar("Issue Title Must Be At Least Three Characters","warning");n.loading=!0;const r={...n.createIssueForm.value};n.boardId&&(r.boardId=n.boardId),n.sprintId&&(r.sprintId=n.sprintId),n._projectService.createIssue(n.projectId,r).subscribe({next:s=>{console.log(s),n._activeModal.close({issue:s.data})},error:s=>{console.log(s),n.loading=!1},complete:()=>n.loading=!1})})()}searchAssignUserFocused(){this.searchAssignUsersStatus=!0}closeSearchAssignUserStatus(){this.searchAssignUsersStatus=!1}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.Kz),e.Y36(g.qu),e.Y36(L.Y),e.Y36(Q.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-issue"]],inputs:{projectId:"projectId",boardId:"boardId",sprintId:"sprintId"},decls:20,vars:3,consts:[[1,"modal-header"],[1,"modal-title","text-capitalize"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"modal-main","col","col-12"],[1,"modal-section","modal-title","my-4"],["type","text","formControlName","title",1,"form-control"],[1,"modal-section","modal-desc","my-4"],["formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Create New Issue"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return s._activeModal.dismiss()}),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4),e.NdJ("ngSubmit",function(){return s.addIssue()}),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label"),e._uU(10,"Title"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",9)(13,"h6"),e._uU(14,"Description"),e.qZA(),e.TgZ(15,"textarea",10),e._uU(16,"          "),e.qZA()()()(),e.TgZ(17,"p")(18,"button",11),e._uU(19),e.qZA()()()()),2&r&&(e.xp6(5),e.Q6J("formGroup",s.createIssueForm),e.xp6(13),e.Q6J("disabled",s.loading),e.xp6(1),e.hij(" ",s.loading?"Adding":"Add Issue"," "))},dependencies:[g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u],styles:[".modal-todos[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{position:relative;top:10px}.modal-todos[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{display:inline-block;margin-left:5%;width:90%}.assigned_employee_item[_ngcontent-%COMP%]{background-color:#f3f3f3;display:inline-block;padding:10px 40px 10px 10px;color:inherit;text-decoration:none;margin:8px;position:relative}.assigned_employee_item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;width:35px;text-align:center;display:flex;align-items:center;justify-content:center}.assigned_employee_item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.search_data[_ngcontent-%COMP%]{position:absolute;background:#fff;box-shadow:#11111a0d 0 4px 16px,#11111a0d 0 8px 32px;padding:20px 100px 20px 20px;width:94%;z-index:99;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;padding:8px;display:block}.search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#111}.search_data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#1c954a}.material-symbols-outlined[_ngcontent-%COMP%]{color:#777;float:left;margin-right:12px}#closeSearchAssignedUserStatus[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;cursor:pointer;z-index:999}#closeSearchAssignedUserStatus[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:40px}#closeSearchAssignedUserStatus[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#cd0e0e}.cursor-move[_ngcontent-%COMP%]{cursor:move}.board-custom-placeholder[_ngcontent-%COMP%], .issue-custom-placeholder[_ngcontent-%COMP%]{background:#eee;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}.board-custom-placeholder[_ngcontent-%COMP%]{min-width:250px}.card-head[_ngcontent-%COMP%]{padding:20px 0 0}.info[_ngcontent-%COMP%]{font-size:14px}.card-item-title[_ngcontent-%COMP%]{width:90%}.boards[_ngcontent-%COMP%]{font-size:14px}.boards[_ngcontent-%COMP%]   .board-single[_ngcontent-%COMP%]{margin-bottom:25px}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]{background-color:#f1f2f475;box-shadow:#11111a0d 0 4px 16px,#11111a0d 0 8px 32px;border:1px solid #dfdfdf;border-radius:10px;height:500px}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-title[_ngcontent-%COMP%]{font-size:14px;padding:20px;font-weight:700}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-cards[_ngcontent-%COMP%]{min-height:200px;padding:0 10px 10px;max-height:440px;overflow-y:auto}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-cards[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px;box-shadow:#0000000d 0 0 0 1px;padding:8px 10px}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-cards[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px;width:100%}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-card-details[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dfdfdf;display:block;padding:10px;margin:8px 0;border:1px solid #eee;border-radius:5px;position:relative}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-card-details[_ngcontent-%COMP%]:hover{background-color:#f1f2f475;border:1px solid #dfdfdf;color:inherit}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .board-card-details[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{position:absolute;right:10px;top:7px;color:#777;font-size:20px}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .btn-add-card[_ngcontent-%COMP%]{display:block;position:relative}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .btn-add-card[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{position:relative;top:4px}.boards[_ngcontent-%COMP%]   .board-single-data[_ngcontent-%COMP%]   .btn-add-card[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),o})();var Y=D(1206);function ip(o,i){if(1&o&&e._UZ(0,"img",15),2&o){const t=e.oxw(2).$implicit;e.Q6J("title",(null==t||null==t.user?null:t.user.firstName)+" "+(null==t||null==t.user?null:t.user.lastName))("src",t.user.profileImg,e.LSH)}}function op(o,i){if(1&o&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.Q6J("title",(null==t||null==t.user?null:t.user.firstName)+" "+(null==t||null==t.user?null:t.user.lastName)),e.xp6(1),e.Oqu(null==t||null==t.user||null==t.user.email?null:t.user.email.charAt(0))}}function rp(o,i){if(1&o&&(e.TgZ(0,"div",11),e.YNc(1,ip,1,2,"img",12),e.YNc(2,op,2,2,"ng-template",null,13,e.W1O),e.TgZ(4,"p",14),e._uU(5),e.qZA()()),2&o){const t=e.MAs(3),n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==n||null==n.user?null:n.user.profileImg)("ngIfElse",t),e.xp6(4),e.hij(" ",(null==n||null==n.user?null:n.user.firstName)+" "+(null==n||null==n.user?null:n.user.lastName)," ")}}function sp(o,i){1&o&&(e.TgZ(0,"div",11),e._UZ(1,"img",17),e.TgZ(2,"p",14),e._uU(3,"Unassigned"),e.qZA()())}function lp(o,i){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e.YNc(2,rp,6,3,"div",9),e.YNc(3,sp,4,0,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&o){const t=i.$implicit,n=e.MAs(4);e.xp6(2),e.Q6J("ngIf",t.user)("ngIfElse",n),e.xp6(4),e.Oqu(t.count)}}let go=(()=>{const i=class{constructor(n,r){this._activeModal=n,this._projectService=r,this.totalSprintIssue=0}ngOnInit(){var n=this;return(0,y.Z)(function*(){n._projectService.getSprintWorkload(n.projectId,n.sprintId).subscribe({next:r=>{console.log(r),console.log("project users",n.projectUsers),n.currentSprint=r.data.sprint,n.assignedCount=r.data.assignedCount;const s=new Map(n.projectUsers.map(a=>[a.id,a])),l=n.assignedCount.map(a=>({...a,user:a.user?s.get(a.user.id)||a.user:null}));n.assignedCount=l,console.log("assigned count",n.assignedCount),n.totalSprintIssue=r.data.totalSprintIssue},error:r=>console.log(r)})})()}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.Kz),e.Y36(L.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-workload"]],inputs:{projectId:"projectId",sprintId:"sprintId",projectUsers:"projectUsers"},decls:27,vars:3,consts:[[1,"modal-header"],[1,"modal-title","fw-bold","text-capitalize"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table","table-striped"],[1,"fw-bold"],[4,"ngFor","ngForOf"],[1,"modal-footer","d-flex","align-items-center","justify-content-end"],[1,"btn","btn-secondary",3,"click"],["class","d-flex align-items-center gap-2",4,"ngIf","ngIfElse"],["unassigned",""],[1,"d-flex","align-items-center","gap-2"],["class","rounded-circle border border-2 h-25px w-25px bg-primary",3,"title","src",4,"ngIf","ngIfElse"],["defaultImg",""],[1,"mb-0"],[1,"rounded-circle","border","border-2","h-25px","w-25px","bg-primary",3,"title","src"],[1,"rounded-circle","border","border-2","h-25px","w-25px","bg-primary","text-white","d-flex","align-items-center","justify-content-center","text-capitalize","pointer-cursor",3,"title"],["src","https://www.shutterstock.com/image-vector/cross-stitch-buddha-head-lotus-260nw-567466657.jpg","alt","",1,"rounded-circle","border","border-2","h-25px","w-25px","bg-primary"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return s._activeModal.dismiss()}),e.qZA()(),e.TgZ(4,"div",3)(5,"table",4)(6,"thead")(7,"tr")(8,"td")(9,"span",5),e._uU(10,"Assignee"),e.qZA()(),e.TgZ(11,"td")(12,"span",5),e._uU(13,"Issues"),e.qZA()()()(),e.TgZ(14,"tbody"),e.YNc(15,lp,7,3,"tr",6),e.qZA(),e.TgZ(16,"tfoot")(17,"tr")(18,"td")(19,"span",5),e._uU(20,"Total Issues:"),e.qZA()(),e.TgZ(21,"td")(22,"span",5),e._uU(23),e.qZA()()()()()(),e.TgZ(24,"div",7)(25,"button",8),e.NdJ("click",function(){return s._activeModal.dismiss()}),e._uU(26," Close "),e.qZA()()),2&r&&(e.xp6(2),e.hij(" ",null==s.currentSprint?null:s.currentSprint.title," "),e.xp6(13),e.Q6J("ngForOf",s.assignedCount),e.xp6(8),e.Oqu(s.totalSprintIssue))},dependencies:[I.sg,I.O5]}),o})();class ho{getIssuePriorityIcon(i){switch(i){case"Highest":return"keyboard_double_arrow_up";case"High":return"keyboard_arrow_up";case"Low":return"keyboard_arrow_down";case"Lowest":return"keyboard_double_arrow_down";default:return"menu"}}getIssuePriorityClass(i){return"Highest"==i||"High"==i?"text-danger":"Lowest"==i||"Low"==i?"text-warning":"text-primary"}isIssueDueDate(i){return new Date(i).getDate()==(new Date).getDate()}}function ap(o,i){1&o&&(e.TgZ(0,"div",13),e._UZ(1,"span",14),e.qZA())}function cp(o,i){1&o&&(e.TgZ(0,"div",13),e._UZ(1,"span",14),e.qZA())}function dp(o,i){if(1&o&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij(" ",t.title," ")}}const up=function(o){return{"border-danger":o}};function pp(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"select",15),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedName=r)})("change",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.onBoardSelect(r))}),e.TgZ(2,"option",16),e._uU(3," Choose Board To Move Your Data "),e.qZA(),e.YNc(4,dp,2,2,"option",17),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectedName)("ngClass",e.VKq(3,up,t.isSelectionInvalid)),e.xp6(3),e.Q6J("ngForOf",t.boards)}}function _p(o,i){1&o&&(e.TgZ(0,"p",7),e._uU(1,"There is no board available"),e.qZA())}let mp=(()=>{const i=class{constructor(n,r,s){this._itemService=n,this._activeModal=r,this._snackbarService=s,this.allBoards=[],this.deleteConfirmed=new e.vpe,this.boardSelected=new e.vpe,this.loader=!1,this.notLoading=!0,this.selectedName="",this.boards=[],this.isSelectionInvalid=!1,this.selectedId=""}ngOnInit(){this.boards=this.allBoards.filter(n=>n.id!==this.item.id)}onBoardSelect(n){this.selectedId=n.target.value.split(": ")[1],this.boardSelected.emit(this.selectedId),this.isSelectionInvalid=!1}getById(){this.loader=!0,this._itemService.getByIdClean(this.item).subscribe({next:n=>{this.loader=!1,this.boardData=n?.data},error:()=>{this.loader=!1}})}confirmDelete(){if(!this.selectedId)return this.isSelectionInvalid=!0,void this._snackbarService.openSnackBar("Please select a board to continue.","warning");this.notLoading=!1,this.item&&this.item.id&&this.item.projectId?(this.deleteConfirmed.emit({itemId:this.item.id,boardIdToMove:this.selectedId}),this.boardSelected.emit(this.selectedId),this._activeModal.close(),this._snackbarService.openSnackBar("Deleted Successfully","success")):(console.error("Item data is incomplete or invalid:",this.item),this._snackbarService.openSnackBar("Error deleting the board. Item data is invalid.","error"))}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(lt.e),e.Y36(k.Kz),e.Y36(Q.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete-board"]],inputs:{item:"item",allBoards:"allBoards"},outputs:{deleteConfirmed:"deleteConfirmed",boardSelected:"boardSelected"},decls:24,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"m-5"],["class","loading",4,"ngIf"],[1,"content"],[1,"title"],[1,"text-danger"],[4,"ngIf","ngIfElse"],["noBoards",""],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"loading"],[1,"loader"],["id","boardSelect",1,"form-select",3,"ngModel","ngClass","ngModelChange","change"],["value","","disabled","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div")(1,"div",0)(2,"h4",1),e._uU(3,"Delete Board"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return s._activeModal.dismiss()}),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,ap,2,0,"div",4),e.TgZ(7,"h5"),e._uU(8,"Are you sure you want to delete the Board?"),e.qZA()(),e.TgZ(9,"div",3),e.YNc(10,cp,2,0,"div",4),e.TgZ(11,"div",5)(12,"h5",6)(13,"span",7),e._uU(14,"**"),e.qZA(),e._uU(15,"Move Your Board Data Before Deleting "),e.qZA(),e.YNc(16,pp,5,5,"div",8),e.YNc(17,_p,2,0,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(19,"div",10)(20,"button",11),e.NdJ("click",function(){return s._activeModal.dismiss()}),e._uU(21," Close "),e.qZA(),e.TgZ(22,"button",12),e.NdJ("click",function(){return s.confirmDelete()}),e._uU(23),e.qZA()()()),2&r){const l=e.MAs(18);e.xp6(6),e.Q6J("ngIf",s.loader),e.xp6(4),e.Q6J("ngIf",s.loader),e.xp6(6),e.Q6J("ngIf",s.boards&&s.boards.length>0)("ngIfElse",l),e.xp6(6),e.Q6J("disabled",!s.notLoading),e.xp6(1),e.hij(" ",s.notLoading?"Delete":"Deleting.."," ")}},dependencies:[I.mk,I.sg,I.O5,g.YN,g.Kr,g.EJ,g.JJ,g.On]}),o})();function gp(o,i){1&o&&(e.TgZ(0,"div",28),e._UZ(1,"span",29),e.qZA())}function hp(o,i){1&o&&e._UZ(0,"i",30)}const St=function(o){return{"active-border":o}};function fp(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"img",33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.onImageClick(r))}),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("ngClass",e.VKq(3,St,t.isActive))("title",null!=t&&t.firstName&&null!=t&&t.lastName?(null==t?null:t.firstName)+" "+(null==t?null:t.lastName):null==t?null:t.email)("src",null==t?null:t.profileImg,e.LSH)}}function vp(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"span",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.onImageClick(r))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("title",null!=t&&t.firstName&&null!=t&&t.lastName?(null==t?null:t.firstName)+" "+(null==t?null:t.lastName):null==t?null:t.email)("ngClass",e.VKq(3,St,t.isActive)),e.xp6(1),e.Oqu(null==t||null==t.email?null:t.email.charAt(0))}}function bp(o,i){if(1&o&&(e.ynx(0),e.YNc(1,fp,1,5,"img",31),e.YNc(2,vp,2,5,"ng-template",null,32,e.W1O),e.BQk()),2&o){const t=e.MAs(3),n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==n?null:n.profileImg)("ngIfElse",t)}}function xp(o,i){if(1&o&&(e.ynx(0),e.YNc(1,bp,4,2,"ng-container",11),e.BQk()),2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",t.id!=n.adminUserConcept)}}function Cp(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"img",33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.onImageClick(r))}),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("ngClass",e.VKq(3,St,t.isActive))("title","Admin User ("+(null!=t&&t.firstName&&null!=t&&t.lastName?(null==t?null:t.firstName)+" "+(null==t?null:t.lastName):null==t?null:t.email)+")")("src",null==t?null:t.profileImg,e.LSH)}}function Tp(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"span",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.onImageClick(r))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("title","Admin User ("+(null!=t&&t.firstName&&null!=t&&t.lastName?(null==t?null:t.firstName)+" "+(null==t?null:t.lastName):null==t?null:t.email)+")")("ngClass",e.VKq(3,St,t.isActive)),e.xp6(1),e.Oqu(null==t||null==t.email?null:t.email.charAt(0))}}function yp(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Cp,1,5,"img",31),e.YNc(2,Tp,2,5,"ng-template",null,35,e.W1O),e._UZ(4,"span",36),e.BQk()),2&o){const t=e.MAs(3),n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==n?null:n.profileImg)("ngIfElse",t),e.xp6(3),e.Q6J("title","Admin User ("+(null!=n&&n.firstName&&null!=n&&n.lastName?(null==n?null:n.firstName)+" "+(null==n?null:n.lastName):null==n?null:n.email)+")")}}function wp(o,i){if(1&o&&(e.ynx(0),e.YNc(1,yp,5,3,"ng-container",11),e.BQk()),2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",t.id==n.adminUserConcept)}}function Ip(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"button",38)(2,"span",39),e._uU(3," more_horiz "),e.qZA()(),e.TgZ(4,"div",40)(5,"button",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.viewWorkload())}),e._uU(6," View Workload "),e.qZA()()()}}function Ap(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"No boards available."),e.qZA())}function Dp(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Loading boards. Please wait..."),e.qZA())}function Sp(o,i){if(1&o&&(e.TgZ(0,"span",47)(1,"small"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.hij("(",null==t.allBoardsWithIssues?null:t.allBoardsWithIssues.backlog.length,")")}}function kp(o,i){1&o&&e._UZ(0,"div",66)}function Mp(o,i){1&o&&(e.TgZ(0,"p",67)(1,"span",39),e._uU(2," notes "),e.qZA()())}function Zp(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",((null==t||null==t.attachments?null:t.attachments.length)||0)+((null==t||null==t.newAttachments?null:t.newAttachments.length)||0)," ")}}function Ep(o,i){if(1&o&&(e.TgZ(0,"p",68)(1,"span",39),e._uU(2," attachment "),e.qZA(),e.YNc(3,Zp,2,1,"span",11),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf",(null==t||null==t.attachments?null:t.attachments.length)>0||(null==t||null==t.newAttachments?null:t.newAttachments.length)>0)}}function Pp(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit,n=e.oxw(4);e.xp6(1),e.AsE(" ",n.completedSubTaskItemsCount(t),"/",n.totalSubTaskItemsCount(t)," ")}}function Op(o,i){if(1&o&&(e.TgZ(0,"p",69)(1,"span",39),e._uU(2," task_alt "),e.qZA(),e.YNc(3,Pp,2,2,"span",11),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf",(null==t?null:t.subTasks.length)>0)}}function Np(o,i){if(1&o&&e._UZ(0,"img",74),2&o){const t=e.oxw().$implicit,n=e.oxw(6);let r,s,l;e.Q6J("title",(null==(r=n.getIssueUser(t))?null:r.firstName)+" "+(null==(r=n.getIssueUser(t))?null:r.lastName))("title",(null==(s=n.getIssueUser(t))?null:s.firstName)+" "+(null==(s=n.getIssueUser(t))?null:s.lastName))("src",null==(l=n.getIssueUser(t))?null:l.profileImg,e.LSH)}}function Up(o,i){if(1&o&&(e.TgZ(0,"span",75),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw(6);let r,s;e.Q6J("title",(null==(r=n.getIssueUser(t))?null:r.firstName)+" "+(null==(r=n.getIssueUser(t))?null:r.lastName)),e.xp6(1),e.Oqu(null==(s=n.getIssueUser(t))||null==s.email?null:s.email.charAt(0))}}function jp(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Np,1,3,"img",72),e.YNc(2,Up,2,2,"ng-template",null,73,e.W1O),e.BQk()),2&o){const t=i.$implicit,n=e.MAs(3),r=e.oxw(6);let s;e.xp6(1),e.Q6J("ngIf",null==(s=r.getIssueUser(t))?null:s.profileImg)("ngIfElse",n)}}function Rp(o,i){if(1&o&&(e.TgZ(0,"div",70)(1,"div",71),e.YNc(2,jp,4,2,"ng-container",8),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.assignedUsers)}}function Fp(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"span",78),e._uU(2),e.qZA(),e.BQk()),2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t)}}function qp(o,i){if(1&o&&(e.TgZ(0,"div",76)(1,"div",77),e.YNc(2,Fp,3,1,"ng-container",8),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.labels)}}const fo=function(o){return{display:o}};function Jp(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"a",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.updateIssue(s))}),e.TgZ(1,"div",51),e.YNc(2,kp,1,0,"div",52),e.TgZ(3,"div",53)(4,"a",54)(5,"span",55),e._uU(6),e.qZA(),e.TgZ(7,"span",56),e._uU(8),e.qZA(),e.TgZ(9,"div",57)(10,"span",58),e._uU(11),e.qZA()()(),e._UZ(12,"div",59),e.qZA(),e.TgZ(13,"div",60),e.YNc(14,Mp,3,0,"p",61),e.YNc(15,Ep,4,1,"p",62),e.YNc(16,Op,4,1,"p",63),e.qZA(),e.YNc(17,Rp,3,1,"div",64),e.YNc(18,qp,3,1,"div",65),e.qZA()()}if(2&o){const t=i.$implicit,n=e.oxw(4);e.Q6J("ngClass",null!=t&&t.dueDate&&n.isIssueDueDate(null==t?null:t.dueDate)?"border-danger bg-danger bg-opacity-25":"bg-light")("cdkDragData",t)("ngStyle",e.VKq(15,fo,n.activeUsers.length>0?(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0&&n.isAssignedSelected(null==t?null:t.assignedUsers)?"block":"none":"block")),e.xp6(6),e.hij("I-",null==t?null:t.issueIndex,""),e.xp6(1),e.s9C("title",null==t?null:t.title),e.xp6(1),e.Oqu(null==t?null:t.title),e.xp6(2),e.Tol("material-symbols-outlined "+n.getIssuePriorityClass(t.priority)),e.Q6J("title",t.priority),e.xp6(1),e.hij(" ",n.getIssuePriorityIcon(t.priority)," "),e.xp6(3),e.Q6J("ngIf",null==t?null:t.description),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.attachments?null:t.attachments.length)>0||(null==t||null==t.newAttachments?null:t.newAttachments.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.subTasks?null:t.subTasks.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.labels?null:t.labels.length)>0)}}function Lp(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",48),e.NdJ("cdkDropListDropped",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.drop(r))}),e.YNc(2,Jp,19,17,"a",49),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("cdkDropListData",null==t.allBoardsWithIssues?null:t.allBoardsWithIssues.backlog),e.xp6(1),e.Q6J("ngForOf",null==t.allBoardsWithIssues?null:t.allBoardsWithIssues.backlog)}}function Bp(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",79),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.addIssue())}),e.TgZ(2,"span",39),e._uU(3," add "),e.qZA(),e._uU(4," Add Issue "),e.qZA(),e.BQk()}}function Hp(o,i){1&o&&(e.TgZ(0,"div",80)(1,"p",81),e._uU(2,"Don't have any started sprint"),e.qZA()())}function Qp(o,i){if(1&o&&(e.TgZ(0,"div",16)(1,"div",43)(2,"span"),e._uU(3,"TO DO "),e.qZA(),e.YNc(4,Sp,3,1,"span",44),e.qZA(),e.TgZ(5,"div",18),e.YNc(6,Lp,3,2,"ng-container",45),e.YNc(7,Bp,5,0,"ng-container",11),e.YNc(8,Hp,3,0,"ng-template",null,46,e.W1O),e.qZA()()),2&o){const t=e.MAs(9),n=e.oxw(2);e.xp6(4),e.Q6J("ngIf",(null==n.allBoardsWithIssues?null:n.allBoardsWithIssues.backlog.length)>0),e.xp6(2),e.Q6J("ngIf",n.activeSprint||"kanban"==(null==n.template?null:n.template.boardType))("ngIfElse",t),e.xp6(1),e.Q6J("ngIf",n.activeSprint||"kanban"==(null==n.template?null:n.template.boardType))}}function Yp(o,i){if(1&o&&(e.TgZ(0,"div",15),e.YNc(1,Qp,10,4,"div",42),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.allBoardsWithIssues?null:t.allBoardsWithIssues.backlog)}}function Gp(o,i){1&o&&e._UZ(0,"div",91)}function zp(o,i){if(1&o&&(e.ynx(0),e._UZ(1,"input",92,93),e._uU(3),e.BQk()),2&o){const t=e.MAs(2),n=e.oxw().$implicit;e.xp6(1),e.Q6J("value",n.title||""),e.xp6(2),e.hij(" ",t.focus()," ")}}function Vp(o,i){if(1&o&&(e.TgZ(0,"span",97)(1,"small"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij("(",null==n.allBoardsWithIssues[t.id]?null:n.allBoardsWithIssues[t.id].length,")")}}function Wp(o,i){if(1&o&&(e.TgZ(0,"div",94)(1,"span",95),e._uU(2),e.qZA(),e.YNc(3,Vp,3,1,"span",96),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.s9C("title",null==t?null:t.title),e.xp6(1),e.Oqu(null==t?null:t.title),e.xp6(1),e.Q6J("ngIf",(null==n.allBoardsWithIssues||null==n.allBoardsWithIssues[t.id]?null:n.allBoardsWithIssues[t.id].length)>0)}}function $p(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",98)(1,"form",99)(2,"div",100)(3,"label",101),e._uU(4,"New Title"),e.qZA(),e.TgZ(5,"input",102,103),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.title=r)})("keyup",function(r){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.handleBoardTitleChange(r,s))})("focusout",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.hideUpdateForm())}),e.qZA(),e._uU(7),e.qZA()()()}if(2&o){const t=e.MAs(6),n=e.oxw().$implicit;e.xp6(5),e.Q6J("ngModel",n.title),e.xp6(2),e.hij("",t.focus()," ")}}function Kp(o,i){1&o&&(e.TgZ(0,"p",67)(1,"span",39),e._uU(2," notes "),e.qZA()())}function Xp(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",((null==t||null==t.attachments?null:t.attachments.length)||0)+((null==t||null==t.newAttachments?null:t.newAttachments.length)||0)," ")}}function e_(o,i){if(1&o&&(e.TgZ(0,"p",68)(1,"span",39),e._uU(2," attachment "),e.qZA(),e.YNc(3,Xp,2,1,"span",11),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(3),e.Q6J("ngIf",(null==t||null==t.attachments?null:t.attachments.length)>0||(null==t||null==t.newAttachments?null:t.newAttachments.length)>0)}}function t_(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(3).$implicit,n=e.oxw(3);e.xp6(1),e.AsE(" ",n.completedSubTaskItemsCount(t),"/",n.totalSubTaskItemsCount(t)," ")}}function n_(o,i){if(1&o&&(e.TgZ(0,"p",69)(1,"span",39),e._uU(2," task_alt "),e.qZA(),e.YNc(3,t_,2,2,"span",11),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(3),e.Q6J("ngIf",(null==t?null:t.subTasks.length)>0)}}function i_(o,i){if(1&o&&e._UZ(0,"img",74),2&o){const t=e.oxw().$implicit,n=e.oxw(6);let r,s,l;e.Q6J("title",(null==(r=n.getIssueUser(t))?null:r.firstName)+" "+(null==(r=n.getIssueUser(t))?null:r.lastName))("title",(null==(s=n.getIssueUser(t))?null:s.firstName)+" "+(null==(s=n.getIssueUser(t))?null:s.lastName))("src",null==(l=n.getIssueUser(t))?null:l.profileImg,e.LSH)}}function o_(o,i){if(1&o&&(e.TgZ(0,"span",75),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw(6);let r,s;e.Q6J("title",(null==(r=n.getIssueUser(t))?null:r.firstName)+" "+(null==(r=n.getIssueUser(t))?null:r.lastName)),e.xp6(1),e.Oqu(null==(s=n.getIssueUser(t))||null==s.email?null:s.email.charAt(0))}}function r_(o,i){if(1&o&&(e.ynx(0),e.YNc(1,i_,1,3,"img",72),e.YNc(2,o_,2,2,"ng-template",null,73,e.W1O),e.BQk()),2&o){const t=i.$implicit,n=e.MAs(3),r=e.oxw(6);let s;e.xp6(1),e.Q6J("ngIf",null==(s=r.getIssueUser(t))?null:s.profileImg)("ngIfElse",n)}}function s_(o,i){if(1&o&&(e.TgZ(0,"div",70)(1,"div",71),e.YNc(2,r_,4,2,"ng-container",8),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.assignedUsers)}}function l_(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"span",78),e._uU(2),e.qZA(),e.BQk()),2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t)}}function a_(o,i){if(1&o&&(e.TgZ(0,"div",106)(1,"div",77),e.YNc(2,l_,3,1,"ng-container",8),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.labels)}}function c_(o,i){if(1&o&&(e.TgZ(0,"div",51)(1,"div",53)(2,"a",54)(3,"span",55),e._uU(4),e.qZA(),e.TgZ(5,"span",56),e._uU(6),e.qZA(),e.TgZ(7,"div",57)(8,"span",58),e._uU(9),e.qZA()()()(),e.TgZ(10,"div",60),e.YNc(11,Kp,3,0,"p",61),e.YNc(12,e_,4,1,"p",62),e.YNc(13,n_,4,1,"p",63),e.qZA(),e.YNc(14,s_,3,1,"div",64),e.YNc(15,a_,3,1,"div",105),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(4),e.hij("I-",null==t?null:t.issueIndex,""),e.xp6(1),e.s9C("title",null==t?null:t.title),e.xp6(1),e.Oqu(null==t?null:t.title),e.xp6(2),e.Tol("material-symbols-outlined "+n.getIssuePriorityClass(t.priority)),e.Q6J("title",t.priority),e.xp6(1),e.hij(" ",n.getIssuePriorityIcon(t.priority)," "),e.xp6(2),e.Q6J("ngIf",null==t?null:t.description),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.attachments?null:t.attachments.length)>0||(null==t||null==t.newAttachments?null:t.newAttachments.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.subTasks?null:t.subTasks.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.labels?null:t.labels.length)>0)}}function d_(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"a",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.updateIssue(s))}),e.ynx(2),e.YNc(3,c_,16,12,"div",104),e.BQk(),e.qZA()()}if(2&o){const t=i.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",null!=t&&t.dueDate&&n.isIssueDueDate(null==t?null:t.dueDate)?"border-danger bg-danger bg-opacity-25":"bg-light")("cdkDragData",t)("ngStyle",e.VKq(4,fo,n.activeUsers.length>0?(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0&&n.isAssignedSelected(null==t?null:t.assignedUsers)?"block":"none":"block")),e.xp6(2),e.Q6J("ngIf",!(n.activeUsers.length>0)||(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0&&n.isAssignedSelected(null==t?null:t.assignedUsers))}}function u_(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",48),e.NdJ("cdkDropListDropped",function(r){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.drop(r,null==s?null:s.id))}),e.YNc(2,d_,4,6,"div",8),e.qZA(),e.BQk()}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("cdkDropListData",null==n.allBoardsWithIssues?null:n.allBoardsWithIssues[t.id]),e.xp6(1),e.Q6J("ngForOf",null==n.allBoardsWithIssues?null:n.allBoardsWithIssues[t.id])}}function p_(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",79),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw();return e.KtG(s.addIssue(null==r?null:r.id))}),e.TgZ(2,"span",39),e._uU(3," add "),e.qZA(),e._uU(4," Add Issue "),e.qZA(),e.BQk()}}function __(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",82)(1,"div",16),e.YNc(2,Gp,1,0,"div",83),e.TgZ(3,"div",43)(4,"span",84),e._uU(5," drag_indicator "),e.qZA(),e.YNc(6,zp,4,2,"ng-container",45),e.YNc(7,Wp,4,3,"ng-template",null,85,e.W1O),e.TgZ(9,"a",86),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.showUpdateForm(s.id))}),e.TgZ(10,"span",87),e._uU(11," edit "),e.qZA()(),e.TgZ(12,"a",88),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteData(s))}),e.TgZ(13,"span",89),e._uU(14," delete "),e.qZA()()(),e.YNc(15,$p,8,2,"div",90),e.TgZ(16,"div",18),e.YNc(17,u_,3,2,"ng-container",11),e.YNc(18,p_,5,0,"ng-container",11),e.qZA()()()}if(2&o){const t=i.$implicit,n=e.MAs(8),r=e.oxw();e.Q6J("cdkDragData",t),e.xp6(6),e.Q6J("ngIf",r.editableBoardId==t.id)("ngIfElse",n),e.xp6(9),e.Q6J("ngIf",r.isUpdateFormVisible[t.id]),e.xp6(2),e.Q6J("ngIf",r.activeSprint||"kanban"==(null==r.template?null:r.template.boardType)),e.xp6(1),e.Q6J("ngIf",r.activeSprint||"kanban"==(null==r.template?null:r.template.boardType))}}function m_(o,i){if(1&o&&(e.TgZ(0,"div",107),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessage," ")}}function g_(o,i){if(1&o&&(e.TgZ(0,"div",108),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.successMessage," ")}}function h_(o,i){1&o&&(e.TgZ(0,"small",109),e._uU(1," Please enter board name. "),e.qZA())}function f_(o,i){if(1&o&&(e.TgZ(0,"button",110),e._uU(1," Create "),e.qZA()),2&o){const t=e.oxw();e.Q6J("disabled",t.notLoading)}}function v_(o,i){1&o&&(e.TgZ(0,"button",111)(1,"div",112)(2,"span",113),e._uU(3,"."),e.qZA()(),e._uU(4," Creating.. "),e.qZA()),2&o&&e.Q6J("disabled",!0)}let In=((ke=class extends ho{showUpdateForm(i){this.isUpdateFormVisible[i]=!0}hideUpdateForm(i){if(i)this.isUpdateFormVisible[i]=!1;else for(const t in this.isUpdateFormVisible)Object.prototype.hasOwnProperty.call(this.isUpdateFormVisible,t)&&(this.isUpdateFormVisible[t]=!1)}constructor(i,t,n,r,s,l,a,c){super(),this._fb=i,this._auth=t,this._modalService=n,this._activatedRoute=r,this._projectService=s,this._snackbarService=l,this.elementRef=a,this.cdr=c,this.projectId=this._activatedRoute.snapshot.paramMap.get("id"),this.isLoading=!1,this.loader=!1,this.loginError=!1,this.successStatus=!1,this.allBoardsWithIssues={},this.notLoading=!1,this.hasNoBoards=!1,this.allProjectUsers=[],this.activeUsers=[],this.filteredBoards=[],this.scrollSpeed=10,this.containerWidth=0,this.isUpdateFormVisible={},this.newTitle="",this.originalBoardsWithIssues={}}ngOnInit(){this.user=this._auth.loadFromLocalStorage(),this.formInitialize(),this.getAllBoards(),this.adminUserConcept=this.projectData?.data.boomgpt?.created_by}onClick(i){this.elementRef.nativeElement.contains(i.target)||this.hideUpdateForm()}completedSubTaskItemsCount(i){if(!i||!Array.isArray(i.subTasks))return 0;let t=0;return i.subTasks.forEach(n=>{Array.isArray(n.subTaskItem)&&n.subTaskItem.forEach(r=>{"true"===r.completed&&t++})}),t}totalSubTaskItemsCount(i){return i&&Array.isArray(i.subTasks)?i.subTasks.reduce((t,n)=>Array.isArray(n.subTaskItem)?t+n.subTaskItem.length:t=0,0):0}getAllBoards(){var i=this;return(0,y.Z)(function*(){i.loader=!0;try{const t=yield i._projectService.getActiveSprintsWithDetails(i.projectId,i.template?.boardType).toPromise();i.activeSprint=t.data.activeSprint,i.allBoards=t.data.boards,i.allBoardsWithIssues=t.data.boardWithIssues,i.originalBoardsWithIssues={...t.data.boardWithIssues},i.isUpdateFormVisible={},i.allBoards.forEach(n=>{i.isUpdateFormVisible[n.id]=!1}),i.cdr.detectChanges(),console.log("Fetched allBoardsWithIssues:",i.allBoardsWithIssues)}catch(t){console.error("Error fetching boards:",t),i.loader=!1}finally{i.loader=!1}})()}onImageClick(i){i.isActive=!i.isActive,i.isActive?this.activeUsers.push(i):this.activeUsers=this.activeUsers.filter(t=>t.id!==i.id),console.log("activeUsers:",this.activeUsers.map(t=>({id:t.id,isActive:t.isActive}))),this.updateFilteredBoards()}updateFilteredBoards(){var i=this;return(0,y.Z)(function*(){if(0===i.activeUsers.length)return void(yield i.getAllBoards());const t={};Object.keys(i.originalBoardsWithIssues).forEach(n=>{t[n]=i.originalBoardsWithIssues[n].filter(r=>{const s=r.assignedUsers?.some(l=>i.activeUsers.some(a=>a.id.toString()===l));return console.log(`Board ${n}, Issue:`,r,"Matches:",s),s})}),i.allBoardsWithIssues={...t},console.log("Filtered allBoardsWithIssues:",i.allBoardsWithIssues),i.cdr.detectChanges()})()}formInitialize(){this.createProjectBoard=this._fb.group({title:new g.NI("",[g.kI.required]),remarks:new g.NI("")})}get title(){return this.createProjectBoard.get("title")}addIssue(i){const t=this._modalService.open(wn,{size:"lg"});t.componentInstance.projectId=this.projectId,t.componentInstance.boardId=i,t.componentInstance.sprintId=this.activeSprint?.id,t.result.then(n=>{if(n?.issue){if(null==n.issue?.boardId||""==n?.issue?.boardId)this.allBoardsWithIssues.backlog=[...this.allBoardsWithIssues.backlog,n.issue];else{const r=parseInt(n.issue.boardId);this.allBoardsWithIssues[r]=[...this.allBoardsWithIssues[r],n.issue]}this._snackbarService.openSnackBar("Issue created.","success")}}).catch(()=>{})}updateIssue(i){const t=this._modalService.open(At,{size:"xl"});t.componentInstance.projectId=this.projectId,t.componentInstance.issueId=i?.id,t.componentInstance.selectedIssue=i,t.componentInstance.template=this.template,t.result.then(n=>{n&&this.getAllBoards()}).catch(n=>{console.error("Error:",n)})}viewWorkload(){const i=this._modalService.open(go,{size:"md"});i.componentInstance.projectId=this.projectId,i.componentInstance.sprintId=this.activeSprint?.id,i.componentInstance.projectUsers=this.projectUsers}dropBoard(i){(0,Y.bA)(i.container.data,i.previousIndex,i.currentIndex);const t=i.container.data?.map(n=>n.id);this._projectService.arrangeBoard(this.projectId,{boards:t}).subscribe({error:()=>{(0,Y.bA)(i.container.data,i.currentIndex,i.previousIndex)}})}drop(i,t){i.previousContainer===i.container?(0,Y.bA)(i.container.data,i.previousIndex,i.currentIndex):((0,Y.EA)(i.previousContainer.data,i.container.data,i.previousIndex,i.currentIndex),this.loader=!0,this._projectService.changeIssueBoardStatus(this.projectId,i.item?.data?.id,{boardId:t??null}).subscribe({next:()=>{const n=i.item?.data;t?this.allBoardsWithIssues[t]=this.allBoardsWithIssues[t]?.map(r=>r.id==n.id?{...r,boardId:t.toString()}:r):this.allBoardsWithIssues.backlog=this.allBoardsWithIssues.backlog?.map(r=>r.id==n.id?{...r,boardId:""}:r)},error:()=>{this.loader=!1},complete:()=>this.loader=!1}))}onDragOver(i){const t=this.elementRef.nativeElement,n=t.getBoundingClientRect(),r=i.clientX-n.left,s=t.scrollLeft,l=t.scrollWidth,a=t.offsetWidth;r<.2*this.containerWidth?t.scrollLeft=Math.max(s-this.scrollSpeed,0):r>.8*this.containerWidth&&(t.scrollLeft=Math.min(s+this.scrollSpeed,l-a))}createBoard(){var i=this;return(0,y.Z)(function*(){if(i.createProjectBoard.valid){const t=i.createProjectBoard.controls.title.value;if(i.allBoards.find(r=>r.title==t))return void i._snackbarService.openSnackBar("Board title already exists","error");i.notLoading=!0,i._projectService.createBoard(i.projectId,{...i.createProjectBoard.value}).subscribe({next:r=>{i.notLoading=!1,r?.data?(i.allBoards=[...i.allBoards,r.data],i.allBoardsWithIssues[r.data.id]=[],i._snackbarService.openSnackBar("Board created successfully","success"),i.createProjectBoard.controls.title.reset(),i.createProjectBoard.controls.title.markAsPristine(),i.createProjectBoard.controls.title.markAsUntouched(),i.createProjectBoard.controls.title.setErrors(null)):i._snackbarService.openSnackBar(r?.message,"error")},error:()=>{i.notLoading=!1}})}else i.createProjectBoard.markAllAsTouched(),console.error("Invalid Project board")})()}handleBoardTitleChange(i,t){if("Enter"===i.key&&i.target.value.length>=3){const n=t.title;this.allBoards=this.allBoards.map(r=>r.id==t.id?{...r,title:i.target.value}:r),this._projectService.updateBoard(this.projectId,t.id,{title:n}).subscribe({next:()=>{this.hideUpdateForm(t.id)},error:()=>{this.allBoards=this.allBoards.map(r=>r.id==t.id?{...r,title:n}:r)}})}else"Escape"===i.key&&(this.editableBoardId=void 0)}deleteBoard(i,t){if(t){const n=t.toString(),r=i.toString();this.allBoardsWithIssues[n]=this.allBoardsWithIssues[n]||[],this.allBoardsWithIssues[r]=this.allBoardsWithIssues[r]||[],Array.isArray(this.allBoardsWithIssues[n])&&Array.isArray(this.allBoardsWithIssues[r])?this.allBoardsWithIssues[n]=[...this.allBoardsWithIssues[n],...this.allBoardsWithIssues[r]]:console.error(`Invalid data for boardIdToMove (${n}) or boardId (${r}). Expected arrays.`)}this.allBoards=this.allBoards.filter(n=>n.id!==i),this._projectService.deleteBoard(Number(this.projectId),Number(i),Number(t)).subscribe({next:()=>{this.allBoards=this.allBoards.filter(n=>n.id!==i),this.hideUpdateForm(i)},error:()=>{}})}getIssueUser(i){if(!this.projectUsers)return;const t=this.projectUsers?.find(n=>n.id==parseInt(i));return t||null}isAssignedSelected(i){return 0==this.activeUsers.length||!!this.activeUsers.find(t=>i.includes(t.id.toString()))}deleteData(i){const t=this._modalService.open(mp,{windowClass:"xlModal"});t.componentInstance.item=i,t.componentInstance.allBoards=this.allBoards,t.componentInstance.boardSelected.subscribe(n=>{this.selectedBoardIdToMove=n}),t.componentInstance.deleteConfirmed.subscribe(n=>{this.deleteBoard(n.itemId,this.selectedBoardIdToMove)})}}).\u0275fac=function(t){return new(t||ke)(e.Y36(g.qu),e.Y36(st.e),e.Y36(k.FF),e.Y36(H.gz),e.Y36(L.Y),e.Y36(Q.o),e.Y36(e.SBq),e.Y36(e.sBO))},ke.\u0275cmp=e.Xpm({type:ke,selectors:[["app-project-board"]],inputs:{projectData:"projectData",template:"template",projectUsers:"projectUsers"},features:[e.qOj],decls:36,vars:17,consts:[["class","loading",4,"ngIf"],[1,"card","single-property","project_details"],[1,"card-body"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,""],["class","bi bi-info-circle ms-2",4,"ngIf"],[1,"d-flex","flex-row","align-items-center","gap-3"],[1,"d-flex","flex-row","image-container","gap-0","user-icon-container"],[4,"ngFor","ngForOf"],["ngbDropdown","","placement","left","class","d-inline-block",4,"ngIf"],[1,"info"],[4,"ngIf"],["cdkDropListGroup","","cdkDropList","","cdkDropListOrientation","horizontal","appDragScroll","",1,"boards","d-flex","flex-row","gap-4","overflow-auto",3,"cdkDropListData","cdkDropListDropped"],["class","board-single",4,"ngIf"],["class","board-single","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],[1,"board-single"],[1,"board-single-data",2,"width","250px"],[1,"board-title","bg-secondary","text-white","h-40px","rounded-top","d-flex","align-items-center"],[1,"board-cards"],[3,"formGroup","ngSubmit"],["createFormId","ngForm"],["class","validation_error alert alert-danger",4,"ngIf"],["class","success alert alert-success",4,"ngIf"],["type","text","placeholder","Board title","formControlName","title",1,"form-control"],["class","err_msg",4,"ngIf"],[1,"form-row","my-1"],["type","submit","class","btn btn-primary w-100",3,"disabled",4,"ngIf","ngIfElse"],["loading",""],[1,"loading"],[1,"loader"],[1,"bi","bi-info-circle","ms-2"],["class","profile-img rounded-circle object-fit-cover border border-2 w-40px h-40px bg-primary img-hover-effect","alt","",3,"ngClass","title","src","click",4,"ngIf","ngIfElse"],["defaultImg",""],["alt","",1,"profile-img","rounded-circle","object-fit-cover","border","border-2","w-40px","h-40px","bg-primary","img-hover-effect",3,"ngClass","title","src","click"],[1,"rounded-circle","border","border-2","w-40px","h-40px","bg-primary","text-white","text-center","text-capitalize","d-flex","align-items-center","justify-content-center","cursor-pointer",3,"title","ngClass","click"],["adminDefaultImg",""],[1,"highlight-dot","img-hover-effect","p-1",3,"title"],["ngbDropdown","","placement","left",1,"d-inline-block"],["id","viewMore","ngbDropdownToggle","",1,"mat-mdc-button-base","btn-top_header","hide-dropdown-caret"],[1,"material-symbols-outlined"],["ngbDropdownMenu","","aria-labelledby","viewMore"],["type","button",1,"dropdown-item",3,"click"],["class","board-single-data","style","width: 250px",4,"ngIf"],[1,"board-title","d-flex","align-items-center","gap-2","bg-secondary","text-white","h-40px","rounded-top"],["class","text-muted fw-normal",4,"ngIf"],[4,"ngIf","ngIfElse"],["NoSprint",""],[1,"text-muted","fw-normal"],["cdkDropList","","cdkDropListSortingDisabled","",1,"board-cards-dragarea",3,"cdkDropListData","cdkDropListDropped"],["class","board-card-details","cdkDrag","",3,"ngClass","cdkDragData","ngStyle","click",4,"ngFor","ngForOf"],["cdkDrag","",1,"board-card-details",3,"ngClass","cdkDragData","ngStyle","click"],[1,"card-list-item"],["class","issue-custom-placeholder",4,"cdkDragPlaceholder"],[1,"d-flex","flex-row","justify-content-between"],[1,"card-item-title","d-flex","align-items-center","w-100"],[1,"fw-bold","me-1","mt-0","text-nowrap"],[1,"flex-grow-1","text-truncate",2,"max-width","calc(100% - 3rem)",3,"title"],[1,"w-20px"],[3,"title"],[1,"card-item-badges"],[1,"d-flex","flex-row"],["title","Description","class","icon-container",4,"ngIf"],["title","Attachments","class","icon-container",4,"ngIf"],["title","Sub Tasks","class","icon-container",4,"ngIf"],["class","d-flex justify-content-end mt-1",4,"ngIf"],["class","d-flex justify-content-between mt-1",4,"ngIf"],[1,"issue-custom-placeholder"],["title","Description",1,"icon-container"],["title","Attachments",1,"icon-container"],["title","Sub Tasks",1,"icon-container"],[1,"d-flex","justify-content-end","mt-1"],[1,"d-flex","flex-wrap","gap-1"],["class","rounded-circle object-fit-cover border border-2 x h-25px w-25px bg-primary","alt","",3,"title","src",4,"ngIf","ngIfElse"],["defaultImage",""],["alt","",1,"rounded-circle","object-fit-cover","border","border-2","x","h-25px","w-25px","bg-primary",3,"title","src"],[1,"rounded-circle","border","border-2","h-25px","w-25px","bg-primary","text-white","text-center","text-capitalize",3,"title"],[1,"d-flex","justify-content-between","mt-1"],[1,"d-flex","flex-row","ga-1","flex-wrap"],[1,"bg-light","rounded","px-2","border","shadow-sm"],[1,"btn","btn-add-card",3,"click"],[1,"py-5"],[1,"h5","text-center"],["cdkDrag","",1,"board-single",3,"cdkDragData"],["class","board-custom-placeholder",4,"cdkDragPlaceholder"],["cdkDragHandle","",1,"material-symbols-outlined","text-link-secondary","cursor-move"],["notEditableBoard",""],["title","Update Title",1,"d-flex","align-items-center","p-0","mb-1","ms-auto",3,"click"],[1,"material-symbols-outlined","text-white","fs-6","border-0","bg-transparent"],["title","Delete",1,"d-flex","align-items-center","p-0","mb-1","ms-auto",3,"click"],[1,"material-symbols-outlined","text-white","fs-5","bg-transparent"],["class","update-form",4,"ngIf"],[1,"board-custom-placeholder"],["type","text",1,"form-control","form-control-sm","py-2",3,"value"],["boardTitle",""],[1,"d-flex","flex-row","align-items-center","gap-1","w-50"],[1,"text-truncate","w-100",3,"title"],["class","text-muted fw-normal ms-2",4,"ngIf"],[1,"text-muted","fw-normal","ms-2"],[1,"update-form"],[1,"d-flex","align-items-center","justify-content-end","gap-1","w-75"],[1,"form-group","mb-2"],["for","newTitle",1,"visually-hidden"],["type","text","id","newTitle","name","newTitle","min","3","required","",1,"form-control","form-input",3,"ngModel","ngModelChange","keyup","focusout"],["newTitleInput",""],["class","card-list-item",4,"ngIf"],["class","d-flex justify-content-start mt-1",4,"ngIf"],[1,"d-flex","justify-content-start","mt-1"],[1,"validation_error","alert","alert-danger"],[1,"success","alert","alert-success"],[1,"err_msg"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["type","button",1,"btn","btn-primary","btn-loading",3,"disabled"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"]],template:function(t,n){if(1&t&&(e.YNc(0,gp,2,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5),e.YNc(6,hp,1,0,"i",5),e.qZA(),e.TgZ(7,"div",6)(8,"div",7),e.YNc(9,xp,2,1,"ng-container",8),e.YNc(10,wp,2,1,"ng-container",8),e.qZA(),e.YNc(11,Ip,7,0,"div",9),e.qZA()(),e.TgZ(12,"div",10),e.YNc(13,Ap,2,0,"p",11),e.YNc(14,Dp,2,0,"p",11),e.qZA(),e.TgZ(15,"div",12),e.NdJ("cdkDropListDropped",function(s){return n.dropBoard(s)}),e.YNc(16,Yp,2,1,"div",13),e.YNc(17,__,19,6,"div",14),e.TgZ(18,"div",15)(19,"div",16)(20,"div",17),e._uU(21," Create New Board "),e.qZA(),e.TgZ(22,"div",18)(23,"form",19,20),e.NdJ("ngSubmit",function(){return n.createBoard()}),e.YNc(25,m_,2,1,"div",21),e.YNc(26,g_,2,1,"div",22),e._UZ(27,"br"),e.TgZ(28,"label"),e._uU(29,"Board Name"),e.qZA(),e._UZ(30,"input",23),e.YNc(31,h_,2,0,"small",24),e.TgZ(32,"div",25),e.YNc(33,f_,2,1,"button",26),e.YNc(34,v_,5,1,"ng-template",null,27,e.W1O),e.qZA()()()()()()()()),2&t){const r=e.MAs(24),s=e.MAs(35);e.Q6J("ngIf",n.loader),e.xp6(5),e.hij(" ",null==n.activeSprint?null:n.activeSprint.title," "),e.xp6(1),e.Q6J("ngIf",null==n.activeSprint?null:n.activeSprint.description),e.xp6(3),e.Q6J("ngForOf",n.projectUsers),e.xp6(1),e.Q6J("ngForOf",n.projectUsers),e.xp6(1),e.Q6J("ngIf",n.activeSprint),e.xp6(2),e.Q6J("ngIf",n.hasNoBoards&&!n.loader),e.xp6(1),e.Q6J("ngIf",n.loader),e.xp6(1),e.Q6J("cdkDropListData",n.allBoards),e.xp6(1),e.Q6J("ngIf",!n.template),e.xp6(1),e.Q6J("ngForOf",n.allBoards),e.xp6(6),e.Q6J("formGroup",n.createProjectBoard),e.xp6(2),e.Q6J("ngIf",n.loginError),e.xp6(1),e.Q6J("ngIf",!!n.successStatus),e.xp6(5),e.Q6J("ngIf",n.title&&n.title.invalid&&(n.title.touched||r.submitted)),e.xp6(2),e.Q6J("ngIf",!n.notLoading)("ngIfElse",s)}},dependencies:[I.mk,I.sg,I.O5,I.PC,g._Y,g.Fj,g.JJ,g.JL,g.Q7,g.On,g.F,g.sg,g.u,k.jt,k.iD,k.Vi,Y.Wj,Y.Fd,Y.Zt,Y.Bh,Y.Hk],styles:[".cursor-move[_ngcontent-%COMP%]{cursor:move}.board-custom-placeholder[_ngcontent-%COMP%], .issue-custom-placeholder[_ngcontent-%COMP%]{background:#eee;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}.board-custom-placeholder[_ngcontent-%COMP%]{min-width:250px}.card-head[_ngcontent-%COMP%]{padding:20px 0 0}.info[_ngcontent-%COMP%]{font-size:14px}.card-item-title[_ngcontent-%COMP%]{width:90%}.boards[_ngcontent-%COMP%]{font-size:14px}.boards[_ngcontent-%COMP%]   .board-single[_ngcontent-%COMP%]{margin-bottom:25px}.board-single-data[_ngcontent-%COMP%]{background-color:#f1f2f475;box-shadow:#11111a0d 0 4px 16px,#11111a0d 0 8px 32px;border:1px solid #dfdfdf;border-radius:10px;height:500px;flex-direction:column;position:relative}.board-single-data[_ngcontent-%COMP%]   .board-title[_ngcontent-%COMP%]{font-size:14px;padding:20px;font-weight:700;position:relative}.board-single-data[_ngcontent-%COMP%]   .board-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;justify-content:space-between;height:calc(100% - 40px);padding:10px;overflow-y:auto}.board-single-data[_ngcontent-%COMP%]   .board-card-details[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dfdfdf;border-radius:5px;padding:10px;margin-bottom:8px;position:relative;transition:background-color .2s,border-color .2s}.board-single-data[_ngcontent-%COMP%]   .board-card-details[_ngcontent-%COMP%]:hover{background-color:#f1f2f475;border:1px solid #dfdfdf}.board-single-data[_ngcontent-%COMP%]   .btn-add-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:5px;padding:8px 12px;border-radius:5px;background-color:#fff;border:1px solid #dfdfdf;text-decoration:none;margin-top:auto;position:sticky;bottom:0;z-index:10}.board-single-data[_ngcontent-%COMP%]   .btn-add-card[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px}.board-single-data[_ngcontent-%COMP%]   .btn-add-card[_ngcontent-%COMP%]:hover{background-color:#eee}.board-cards-dragarea[_ngcontent-%COMP%]{padding:10px 0}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;padding:10px;border:1px solid gray;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.active-border[_ngcontent-%COMP%]{border-color:#f2709c!important;width:45px;height:45px}.img-hover-effect[_ngcontent-%COMP%]:hover{cursor:pointer}.ml-7[_ngcontent-%COMP%]{margin-left:7.6rem}.update-form[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:0rem}.update-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0;margin-right:0;flex-grow:1}.update-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:0}.form-input[_ngcontent-%COMP%]{position:absolute;top:0rem;left:2.2rem;width:60%;padding:.5rem;z-index:99999999}.icon-container[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;align-items:center}.material-symbols-outlined[_ngcontent-%COMP%]{margin-right:4px;font-size:16px}.d-flex.flex-row[_ngcontent-%COMP%]{gap:6px}.image-container[_ngcontent-%COMP%]{position:relative}.profile-img[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{display:block}.highlight-dot[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background-color:#f2709c;border-radius:50%;top:5px;right:-2px}.user-icon-container[_ngcontent-%COMP%]{flex-wrap:wrap;margin:15px 0 0}@media (max-width: 600px){.card-body[_ngcontent-%COMP%]{padding:0}}"]}),ke);function b_(o,i){1&o&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function x_(o,i){1&o&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}function C_(o,i){1&o&&(e.TgZ(0,"span",7),e._uU(1,"*"),e.qZA())}In=(0,np.gn)([(0,e.L6J)("document:click",["$event"])],In);let An=(()=>{const i=class{constructor(n,r,s,l,a){this._fb=n,this._activeModal=r,this._snackbarService=s,this._projectService=l,this.cdr=a,this.startSprint=!1,this.projectSprintComposition=ie.tR,this.loader=!1,this.disableEndDate=!1,this.startSprintValidator=[]}ngOnInit(){this.sprint||(this._snackbarService.openSnackBar("Failed To perform Action","error"),this._activeModal.dismiss()),this.startSprint&&(this.startSprintValidator=[g.kI.required]),this.updateSprintForm=this._fb.group({title:new g.NI("",[g.kI.required]),duration:new g.NI("",this.startSprintValidator),startDate:new g.NI("",this.startSprintValidator),endDate:new g.NI("",this.startSprintValidator),sprintGoal:new g.NI("",[])}),console.log("this is the updatesprintform",this.updateSprintForm),this.initialize()}initialize(){var n=this;return(0,y.Z)(function*(){console.log("this is the duration of sprint",n.sprint),n.disableEndDate=!("custom"===n.sprint.duration||!n.sprint.duration),n.updateSprintForm.patchValue({title:n.sprint.title,startDate:n.sprint?.startDate?n.formatedLocalDate(n.sprint.startDate):void 0,endDate:n.sprint?.endDate?n.formatedLocalDate(n.sprint.endDate):void 0,sprintGoal:n.sprint?.sprintGoal,duration:n.sprint?.duration||"custom"}),n.updateSprintForm.get("duration")?.valueChanges.subscribe(s=>{if("custom"==s)n.disableEndDate=!1;else{n.disableEndDate=!0;let l=new Date;if(l.setHours(0),l.setMinutes(0),n.updateSprintForm.get("startDate").value){const a=new Date(n.updateSprintForm.get("startDate").value);l=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes());const c=n.formatedLocalDate(new Date(new Date(l.getTime()+7*Number(s)*24*60*60*1e3).setUTCSeconds(0,0)).toISOString());n.updateSprintForm.get("endDate")?.setValue(c)}else{n.updateSprintForm.get("startDate")?.setValue((new Date).toISOString().slice(0,16));const a=n.formatedLocalDate(new Date(new Date(l.getTime()+7*Number(s)*24*60*60*1e3).setUTCHours(0,0,0,0)).toISOString());n.updateSprintForm.get("endDate")?.setValue(a)}}}),n.updateSprintForm.get("startDate")?.valueChanges.subscribe(s=>{const l=n.updateSprintForm.get("duration")?.value;if("custom"!=l&&s){const a=new Date(s),c=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes()),d=n.formatedLocalDate(new Date(new Date(c.getTime()+7*Number(l)*24*60*60*1e3).setUTCHours(0,0,0,0)).toISOString());n.updateSprintForm.get("endDate")?.setValue(d)}})})()}updateSprint(){if(this.startSprint&&this.updateSprintForm.value.startDate>=this.updateSprintForm.value.endDate)return void this._snackbarService.openSnackBar("End date cannot exceed start date","warning");this.updateSprintForm.valid||this._snackbarService.openSnackBar("Invalid Data!!","error");const n={...this.updateSprintForm.value};this.updateSprintForm.value.startDate&&(n.startDate=new Date(this.updateSprintForm.value.startDate).toISOString()),this.updateSprintForm.value.endDate&&(n.endDate=new Date(this.updateSprintForm.value.endDate).toISOString()),this.startSprint&&(n.startSprint=!0),this._projectService.updateSprint(this.projectId,this.sprint.id,n).subscribe({next:r=>{this._snackbarService.openSnackBar("Updated Sprint.","success"),this._activeModal.close({sprint:r.data})},error:r=>{console.error(r),this._snackbarService.openSnackBar("Failed Updation","error"),this._activeModal.close("")}})}formatedLocalDate(n){const r=new Date(n);return r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r.toISOString().slice(0,16)}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(g.qu),e.Y36(k.Kz),e.Y36(Q.o),e.Y36(L.Y),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-update-sprint"]],inputs:{projectId:"projectId",sprint:"sprint",startSprint:"startSprint"},decls:46,vars:8,consts:[[1,"modal-header"],[1,"modal-title","text-capitalize"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","title",1,"form-label"],[1,"text-danger"],["type","text","formControlName","title",1,"form-control"],["for","duration",1,"form-label"],["class","text-danger",4,"ngIf"],["id","duration","formControlName","duration",1,"form-select"],["value","1"],["value","2"],["value","3"],["value","4"],["value","custom","selected",""],["type","datetime-local","formControlName","startDate",1,"form-control"],["type","datetime-local","formControlName","endDate",1,"form-control",3,"readOnly"],["rows","4","formControlName","sprintGoal",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","gap-2"],[1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return s._activeModal.dismiss()}),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4),e.NdJ("ngSubmit",function(){return s.updateSprint()}),e.TgZ(6,"div",5)(7,"label",6),e._uU(8,"Title "),e.TgZ(9,"span",7),e._uU(10,"*"),e.qZA()(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",5)(13,"label",9),e._uU(14,"Duration "),e.YNc(15,b_,2,0,"span",10),e.qZA(),e.TgZ(16,"select",11)(17,"option",12),e._uU(18,"1 week"),e.qZA(),e.TgZ(19,"option",13),e._uU(20,"2 week"),e.qZA(),e.TgZ(21,"option",14),e._uU(22,"3 week"),e.qZA(),e.TgZ(23,"option",15),e._uU(24,"4 week"),e.qZA(),e.TgZ(25,"option",16),e._uU(26,"Custom"),e.qZA()()(),e.TgZ(27,"div",5)(28,"label",6),e._uU(29,"Start Date "),e.YNc(30,x_,2,0,"span",10),e.qZA(),e._UZ(31,"input",17),e.qZA(),e.TgZ(32,"div",5)(33,"label",6),e._uU(34,"End Date "),e.YNc(35,C_,2,0,"span",10),e.qZA(),e._UZ(36,"input",18),e.qZA(),e.TgZ(37,"div",5)(38,"label",6),e._uU(39,"Sprint Goal"),e.qZA(),e._UZ(40,"textarea",19),e.qZA(),e.TgZ(41,"div",20)(42,"button",21),e.NdJ("click",function(){return s._activeModal.dismiss()}),e._uU(43,"Close"),e.qZA(),e.TgZ(44,"button",22),e._uU(45),e.qZA()()()()),2&r&&(e.xp6(2),e.hij(" ",s.startSprint?"Start Sprint":"Update Sprint"," "),e.xp6(3),e.Q6J("formGroup",s.updateSprintForm),e.xp6(10),e.Q6J("ngIf",s.startSprint),e.xp6(15),e.Q6J("ngIf",s.startSprint),e.xp6(5),e.Q6J("ngIf",s.startSprint),e.xp6(1),e.Q6J("readOnly",s.disableEndDate),e.xp6(8),e.Q6J("disabled",!s.updateSprintForm.valid||s.loader),e.xp6(1),e.hij("",s.loader?s.startSprint?"Starting...":"Updating...":s.startSprint?"Start":"Update"," "))},dependencies:[I.O5,g._Y,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.JL,g.sg,g.u]}),o})();function T_(o,i){if(1&o&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.AsE(" ",t.count," issues at ",t.boardName," ")}}function y_(o,i){if(1&o&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.title," ")}}let w_=(()=>{const i=class{constructor(n,r){this._projectService=n,this._activeModal=r,this.loader=!1,this.moveToSprint="",this.filteredSprints=[],this.boardsWithIssueCount=[]}ngOnInit(){var n=this;return(0,y.Z)(function*(){n.filteredSprints=n.allSprints.filter(r=>r.id!=n.sprintId),n._projectService.getActiveSprintsWithDetails(n.projectId).subscribe({next:r=>{n.selectedSprint=r.data.activeSprint,n.boardsWithIssueCount=r.data.boards?.map(s=>({boardId:s.id,boardName:s.title,count:r.data?.boardWithIssues?.[s.id].length})),n.boardsWithIssueCount.push({boardId:null,boardName:"Uncompleted Issues",count:r.data?.boardWithIssues?.backlog?.length})},error:r=>console.error(r)})})()}handleMoveSprintChange(n){this.moveToSprint=n}handleCompleteSprint(){this.loader=!0,this._projectService.completeSprint(this.projectId,this.sprintId,{moveToSprint:this.moveToSprint}).subscribe({next:()=>{this._activeModal.close({success:!0})},error:n=>{console.error(n),this.loader=!1},complete:()=>{this.loader=!1,this._activeModal.dismiss()}})}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(L.Y),e.Y36(k.Kz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-complete-sprint"]],inputs:{projectId:"projectId",sprintId:"sprintId",allSprints:"allSprints"},decls:24,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"form-group"],[1,"form-label"],[1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"text-muted"],[1,"d-flex","align-item-center","justify-content-end","gap-2"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[3,"value"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h4"),e._uU(2),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return s._activeModal.dismiss()}),e.qZA()(),e.TgZ(4,"div",2)(5,"p"),e._uU(6,"This sprint contains:"),e.qZA(),e.TgZ(7,"ul"),e.YNc(8,T_,2,2,"li",3),e.qZA(),e.TgZ(9,"div",4)(10,"label",5),e._uU(11,"Move uncompleted issues to"),e.qZA(),e.TgZ(12,"select",6),e.NdJ("ngModelChange",function(a){return s.handleMoveSprintChange(a)}),e.TgZ(13,"option",7),e._uU(14,"Backlog"),e.qZA(),e.YNc(15,y_,2,2,"option",8),e.qZA()(),e.TgZ(16,"p")(17,"small",9),e._uU(18,"*Note: Task in the last board will be treated as completed."),e.qZA()(),e.TgZ(19,"div",10)(20,"button",11),e.NdJ("click",function(){return s._activeModal.dismiss()}),e._uU(21," Cancel "),e.qZA(),e.TgZ(22,"button",12),e.NdJ("click",function(){return s.handleCompleteSprint()}),e._uU(23),e.qZA()()()),2&r&&(e.xp6(2),e.hij("Complete ",null==s.selectedSprint?null:s.selectedSprint.title,""),e.xp6(6),e.Q6J("ngForOf",s.boardsWithIssueCount),e.xp6(4),e.Q6J("ngModel",s.moveToSprint),e.xp6(3),e.Q6J("ngForOf",s.filteredSprints),e.xp6(7),e.Q6J("disabled",s.loader),e.xp6(1),e.hij(" ",s.loader?"Completing":"Complete Sprint"," "))},dependencies:[I.sg,g.YN,g.Kr,g.EJ,g.JJ,g.On]}),o})(),I_=(()=>{const i=class{constructor(n,r){this._activeModal=n,this._projectService=r,this.loading=!1}deleteIssue(){var n=this;return(0,y.Z)(function*(){n.loading=!0;const r=parseInt(n.issue.id);n._projectService.deleteIssue(n.projectId,r).subscribe({next:s=>{n._activeModal.close({issue:s.data})},error:()=>{n.loading=!1},complete:()=>n.loading=!1})})()}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.Kz),e.Y36(L.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete-issue"]],inputs:{projectId:"projectId",issue:"issue"},decls:12,vars:2,consts:[[1,"modal-header"],[1,"modal-title","text-capitalize"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer","mb-0"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Delete Issue"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return s._activeModal.dismiss()}),e.qZA()(),e.TgZ(4,"div",3)(5,"h5"),e._uU(6,"Are you sure you want to delete the Issue?"),e.qZA()(),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){return s._activeModal.dismiss()}),e._uU(9," Close "),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return s.deleteIssue()}),e._uU(11),e.qZA()()),2&r&&(e.xp6(10),e.Q6J("disabled",s.loading),e.xp6(1),e.hij(" ",s.loading?"deleting":"Delete"," "))}}),o})();function A_(o,i){1&o&&(e.TgZ(0,"div",19),e._UZ(1,"span",20),e.qZA())}function D_(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Loading issues. Please wait..."),e.qZA())}const kt=function(o){return{"active-border":o}};function S_(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"img",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.onImageClick(r))}),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("ngClass",e.VKq(3,kt,t.isActive))("title",null!=t&&t.firstName&&null!=t&&t.lastName?(null==t?null:t.firstName)+" "+(null==t?null:t.lastName):null==t?null:t.email)("src",null==t?null:t.profileImg,e.LSH)}}function k_(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"span",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.onImageClick(r))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("title",null!=t&&t.firstName&&null!=t&&t.lastName?(null==t?null:t.firstName)+" "+(null==t?null:t.lastName):null==t?null:t.email)("ngClass",e.VKq(3,kt,t.isActive)),e.xp6(1),e.Oqu(null==t||null==t.email?null:t.email.charAt(0))}}function M_(o,i){if(1&o&&(e.ynx(0),e.YNc(1,S_,1,5,"img",21),e.YNc(2,k_,2,5,"ng-template",null,22,e.W1O),e.BQk()),2&o){const t=e.MAs(3),n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==n?null:n.profileImg)("ngIfElse",t)}}function Z_(o,i){if(1&o&&(e.ynx(0),e.YNc(1,M_,4,2,"ng-container",4),e.BQk()),2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",t.id!=n.adminUserConcept)}}function E_(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"img",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.onImageClick(r))}),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("ngClass",e.VKq(3,kt,t.isActive))("title","Admin User ("+(null!=t&&t.firstName&&null!=t&&t.lastName?(null==t?null:t.firstName)+" "+(null==t?null:t.lastName):null==t?null:t.email)+")")("src",null==t?null:t.profileImg,e.LSH)}}function P_(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"span",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.onImageClick(r))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("title","Admin User ("+(null!=t&&t.firstName&&null!=t&&t.lastName?(null==t?null:t.firstName)+" "+(null==t?null:t.lastName):null==t?null:t.email)+")")("ngClass",e.VKq(3,kt,t.isActive)),e.xp6(1),e.Oqu(null==t||null==t.email?null:t.email.charAt(0))}}function O_(o,i){if(1&o&&(e.ynx(0),e.YNc(1,E_,1,5,"img",21),e.YNc(2,P_,2,5,"ng-template",null,25,e.W1O),e._UZ(4,"span",26),e.BQk()),2&o){const t=e.MAs(3),n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==n?null:n.profileImg)("ngIfElse",t),e.xp6(3),e.Q6J("title","Admin User ("+(null!=n&&n.firstName&&null!=n&&n.lastName?(null==n?null:n.firstName)+" "+(null==n?null:n.lastName):null==n?null:n.email)+")")}}function N_(o,i){if(1&o&&(e.ynx(0),e.YNc(1,O_,5,3,"ng-container",4),e.BQk()),2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",t.id==n.adminUserConcept)}}function U_(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"input",41),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.toggleSelectAll(r,s.id))}),e.qZA()}if(2&o){const t=e.oxw(2).$implicit,n=e.oxw(2);e.Q6J("disabled",n.isSelectAllDisabled&&!n.isAllSelected(t.id))("checked",n.isAllSelected(t.id))}}function j_(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.deleteSprint(null==r?null:r.id))}),e._uU(1," Delete Sprint "),e.qZA()}}function R_(o,i){if(1&o&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&o){const t=e.oxw(8);e.xp6(1),e.hij(" Dragging ",t.selectedIssues.length," items ")}}function F_(o,i){1&o&&(e.ynx(0),e.YNc(1,R_,2,1,"div",61),e.BQk())}function q_(o,i){1&o&&e._UZ(0,"div",63)}function J_(o,i){if(1&o&&e._UZ(0,"img",68),2&o){const t=e.oxw().$implicit,n=e.oxw(8);let r,s,l;e.Q6J("title",(null==(r=n.getIssueUser(t))?null:r.firstName)+" "+(null==(r=n.getIssueUser(t))?null:r.lastName))("title",(null==(s=n.getIssueUser(t))?null:s.firstName)+" "+(null==(s=n.getIssueUser(t))?null:s.lastName))("src",null==(l=n.getIssueUser(t))?null:l.profileImg,e.LSH)}}function L_(o,i){if(1&o&&(e.TgZ(0,"span",69),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw(8);let r,s;e.Q6J("title",(null==(r=n.getIssueUser(t))?null:r.firstName)+" "+(null==(r=n.getIssueUser(t))?null:r.lastName)),e.xp6(1),e.Oqu(null==(s=n.getIssueUser(t))||null==s.email?null:s.email.charAt(0))}}function B_(o,i){if(1&o&&(e.ynx(0),e.YNc(1,J_,1,3,"img",66),e.YNc(2,L_,2,2,"ng-template",null,67,e.W1O),e.BQk()),2&o){const t=i.$implicit,n=e.MAs(3),r=e.oxw(8);let s;e.xp6(1),e.Q6J("ngIf",null==(s=r.getIssueUser(t))?null:s.profileImg)("ngIfElse",n)}}function H_(o,i){if(1&o&&(e.TgZ(0,"div",64)(1,"div",65),e.YNc(2,B_,4,2,"ng-container",6),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.assignedUsers)}}function Q_(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"option",70),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw(2).$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngValue",null==t?null:t.boardId),e.xp6(1),e.hij(" ",n.getIssueBoard(null==t?null:t.boardId)||"Select Board"," ")}}function Y_(o,i){if(1&o&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("ngValue",null==t?null:t.id),e.xp6(1),e.hij(" ",null==t?null:t.title," ")}}function G_(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Y_,2,2,"option",71),e.BQk()),2&o){const t=i.$implicit,n=e.oxw(2).$implicit,r=e.oxw(5);e.xp6(1),e.Q6J("ngIf",r.getIssueBoard(null==n?null:n.boardId)!=(null==t?null:t.title))}}function z_(o,i){1&o&&(e.ynx(0),e.TgZ(1,"option",73),e._uU(2,"No Boards Available"),e.qZA(),e.BQk())}function V_(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"a",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3).$implicit,l=e.oxw(5);return e.KtG(l.updateIssuePriority(s,r))}),e.TgZ(1,"span",78),e._uU(2),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=e.oxw().$implicit,n=e.oxw(8);e.xp6(1),e.Tol("material-symbols-outlined "+n.getIssuePriorityClass(t)),e.xp6(1),e.hij(" ",n.getIssuePriorityIcon(t)," "),e.xp6(1),e.hij(" ",t," ")}}function W_(o,i){if(1&o&&(e.TgZ(0,"li",64),e.YNc(1,V_,4,4,"a",76),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",t!==n.priority)}}function $_(o,i){if(1&o&&(e.TgZ(0,"ul",74),e.YNc(1,W_,2,1,"li",75),e.qZA()),2&o){const t=e.oxw(7);e.xp6(1),e.Q6J("ngForOf",t.priorities)}}const Dn=function(o,i){return{issueType:!0,issueType_bug:o,issueType_feature:i}};function K_(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",44),e.YNc(1,F_,2,0,"ng-container",4),e.YNc(2,q_,1,0,"div",45),e.TgZ(3,"div",46)(4,"div",47)(5,"input",48),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.selected=r)})("change",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(5);return e.KtG(s.onIssueSelect(r))}),e.qZA()(),e._UZ(6,"span",49),e.TgZ(7,"a",50),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(5);return e.KtG(s.viewIssue(r))}),e.TgZ(8,"span",51),e._uU(9),e.qZA(),e.TgZ(10,"span",52),e._uU(11),e.qZA()(),e.YNc(12,H_,3,1,"div",53),e.TgZ(13,"div",54)(14,"select",55),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.boardId=r)})("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(5);return e.KtG(l.handleBoardChange(r,s))}),e.YNc(15,Q_,3,2,"ng-container",4),e.YNc(16,G_,2,1,"ng-container",6),e.YNc(17,z_,3,0,"ng-container",4),e.qZA()(),e.TgZ(18,"div",56)(19,"div",57)(20,"a")(21,"span",58),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(5);return e.KtG(s.toggleDropdown(r.id))}),e._uU(22),e.qZA()(),e.YNc(23,$_,2,1,"ul",59),e.qZA()(),e.TgZ(24,"div",60)(25,"button",35)(26,"span",18),e._uU(27," more_vert "),e.qZA()(),e.TgZ(28,"div",36)(29,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(5);return e.KtG(s.viewIssue(r))}),e._uU(30," View Issue "),e.qZA()()()()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw(5);e.Q6J("ngClass",null!=t&&t.dueDate&&n.isIssueDueDate(null==t?null:t.dueDate)?"border-danger bg-danger bg-opacity-25":"bg-light"),e.xp6(1),e.Q6J("ngIf",n.selectedIssues.length>1),e.xp6(4),e.Q6J("ngModel",t.selected),e.xp6(1),e.Q6J("ngClass",e.WLB(18,Dn,"bug"===t.type,"feature"===t.type))("title",t.type||"Task"),e.xp6(3),e.hij("I-",null==t?null:t.issueIndex,""),e.xp6(1),e.s9C("title",null==t?null:t.title),e.xp6(1),e.Oqu(null==t?null:t.title),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0),e.xp6(2),e.Q6J("ngModel",t.boardId),e.xp6(1),e.Q6J("ngIf",null==t?null:t.boardId),e.xp6(1),e.Q6J("ngForOf",n.allBoards),e.xp6(1),e.Q6J("ngIf",1==(null==n.allBoards?null:n.allBoards.length)),e.xp6(4),e.Tol("material-symbols-outlined "+n.getIssuePriorityClass(t.priority)),e.Q6J("title",t.priority),e.xp6(1),e.hij(" ",n.getIssuePriorityIcon(t.priority)," "),e.xp6(1),e.Q6J("ngIf",n.activeDropdownId===t.id)}}function X_(o,i){if(1&o&&(e.TgZ(0,"div",42),e.YNc(1,K_,31,21,"div",43),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!(n.activeUsers.length>0)||(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0&&n.isAssignedSelected(null==t?null:t.assignedUsers))}}function em(o,i){if(1&o&&(e.ynx(0),e.YNc(1,X_,2,1,"div",15),e.BQk()),2&o){const t=e.oxw(2).$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==n.allSprintsWithIssues?null:n.allSprintsWithIssues[null==t?null:t.id])}}function tm(o,i){1&o&&(e.TgZ(0,"p",79)(1,"small"),e._uU(2,"Drag and drop issues here to plan the sprint"),e.qZA()())}function nm(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30),e.YNc(3,U_,1,2,"input",10),e.TgZ(4,"h5",31),e._uU(5),e.TgZ(6,"small",12),e._uU(7),e.qZA()()(),e.TgZ(8,"div",32)(9,"button",33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.completeSprint(null==r?null:r.id))}),e._uU(10," Complete Sprint "),e.qZA(),e.TgZ(11,"div",34)(12,"button",35)(13,"span",18),e._uU(14," more_vert "),e.qZA()(),e.TgZ(15,"div",36)(16,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.addIssue(r.id))}),e._uU(17," Add Issue "),e.qZA(),e.TgZ(18,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.updateSprint(r))}),e._uU(19," Edit Sprint "),e.qZA(),e.TgZ(20,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.viewWorkload(null==r?null:r.id))}),e._uU(21," View Workload "),e.qZA(),e.YNc(22,j_,2,0,"button",38),e.qZA()()()(),e.TgZ(23,"div",14),e.NdJ("cdkDropListDropped",function(r){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.drop(r,null==s?null:s.id))}),e.YNc(24,em,2,1,"ng-container",39),e.YNc(25,tm,3,0,"ng-template",null,40,e.W1O),e.qZA()()}if(2&o){const t=e.MAs(26),n=e.oxw().$implicit,r=e.oxw(2);e.xp6(3),e.Q6J("ngIf",(null==r.allSprintsWithIssues?null:r.allSprintsWithIssues[null==n?null:n.id].length)>0),e.xp6(2),e.hij(" ",n.title," "),e.xp6(2),e.hij("(",null==r.allSprintsWithIssues?null:r.allSprintsWithIssues[null==n?null:n.id].length,") issues"),e.xp6(15),e.Q6J("ngIf","true"!=(null==n?null:n.startSprint)),e.xp6(1),e.Q6J("cdkDropListData",null==r.allSprintsWithIssues?null:r.allSprintsWithIssues[null==n?null:n.id]),e.xp6(1),e.Q6J("ngIf",(null==r.allSprintsWithIssues||null==r.allSprintsWithIssues[null==n?null:n.id]?null:r.allSprintsWithIssues[null==n?null:n.id].length)>0)("ngIfElse",t)}}function im(o,i){if(1&o&&(e.ynx(0),e.YNc(1,nm,27,7,"div",27),e.BQk()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf","Running"==(null==t?null:t.status))}}function om(o,i){if(1&o&&(e.ynx(0),e.YNc(1,im,2,1,"ng-container",6),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.allSprints)}}function rm(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"input",41),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.toggleSelectAll(r,s.id))}),e.qZA()}if(2&o){const t=e.oxw(2).$implicit,n=e.oxw(2);e.Q6J("disabled",n.isSelectAllDisabled&&!n.isAllSelected(t.id))("checked",n.isAllSelected(t.id))}}function sm(o,i){if(1&o&&(e.TgZ(0,"span",83)(1,"strong"),e._uU(2,"Start Date:"),e.qZA(),e._uU(3),e.ALo(4,"date"),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(3),e.hij(" ",e.xi3(4,1,t.startDate,"mediumDate")," ")}}function lm(o,i){if(1&o&&(e.TgZ(0,"span",83)(1,"strong"),e._uU(2,"End Date:"),e.qZA(),e._uU(3),e.ALo(4,"date"),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(3),e.hij(" ",e.xi3(4,1,t.endDate,"mediumDate")," ")}}function am(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",84),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.updateSprint(r,!0))}),e._uU(1," Start Sprint "),e.qZA()}}function cm(o,i){if(1&o&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&o){const t=e.oxw(8);e.xp6(1),e.hij(" Dragging ",t.selectedIssues.length," items ")}}function dm(o,i){1&o&&(e.ynx(0),e.YNc(1,cm,2,1,"div",61),e.BQk())}function um(o,i){1&o&&e._UZ(0,"div",63)}function pm(o,i){if(1&o&&e._UZ(0,"img",68),2&o){const t=e.oxw().$implicit,n=e.oxw(8);let r,s,l;e.Q6J("title",(null==(r=n.getIssueUser(t))?null:r.firstName)+" "+(null==(r=n.getIssueUser(t))?null:r.lastName))("title",(null==(s=n.getIssueUser(t))?null:s.firstName)+" "+(null==(s=n.getIssueUser(t))?null:s.lastName))("src",null==(l=n.getIssueUser(t))?null:l.profileImg,e.LSH)}}function _m(o,i){if(1&o&&(e.TgZ(0,"span",69),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw(8);let r,s;e.Q6J("title",(null==(r=n.getIssueUser(t))?null:r.firstName)+" "+(null==(r=n.getIssueUser(t))?null:r.lastName)),e.xp6(1),e.Oqu(null==(s=n.getIssueUser(t))||null==s.email?null:s.email.charAt(0))}}function mm(o,i){if(1&o&&(e.ynx(0),e.YNc(1,pm,1,3,"img",66),e.YNc(2,_m,2,2,"ng-template",null,67,e.W1O),e.BQk()),2&o){const t=i.$implicit,n=e.MAs(3),r=e.oxw(8);let s;e.xp6(1),e.Q6J("ngIf",null==(s=r.getIssueUser(t))?null:s.profileImg)("ngIfElse",n)}}function gm(o,i){if(1&o&&(e.TgZ(0,"div",64)(1,"div",65),e.YNc(2,mm,4,2,"ng-container",6),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.assignedUsers)}}function hm(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"option",70),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw(2).$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngValue",null==t?null:t.boardId),e.xp6(1),e.hij(" ",n.getIssueBoard(null==t?null:t.boardId)||"Select Board"," ")}}function fm(o,i){if(1&o&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("ngValue",null==t?null:t.id),e.xp6(1),e.hij(" ",null==t?null:t.title," ")}}function vm(o,i){if(1&o&&(e.ynx(0),e.YNc(1,fm,2,2,"option",71),e.BQk()),2&o){const t=i.$implicit,n=e.oxw(2).$implicit,r=e.oxw(5);e.xp6(1),e.Q6J("ngIf",r.getIssueBoard(null==n?null:n.boardId)!=(null==t?null:t.title))}}function bm(o,i){1&o&&(e.ynx(0),e.TgZ(1,"option",73),e._uU(2,"No Boards Available"),e.qZA(),e.BQk())}function xm(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"a",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3).$implicit,l=e.oxw(5);return e.KtG(l.updateIssuePriority(s,r))}),e.TgZ(1,"span",78),e._uU(2),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=e.oxw().$implicit,n=e.oxw(8);e.xp6(1),e.Tol("material-symbols-outlined "+n.getIssuePriorityClass(t)),e.xp6(1),e.hij(" ",n.getIssuePriorityIcon(t)," "),e.xp6(1),e.hij(" ",t," ")}}function Cm(o,i){if(1&o&&(e.TgZ(0,"li",64),e.YNc(1,xm,4,4,"a",76),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",t!==n.priority)}}function Tm(o,i){if(1&o&&(e.TgZ(0,"ul",74),e.YNc(1,Cm,2,1,"li",75),e.qZA()),2&o){const t=e.oxw(7);e.xp6(1),e.Q6J("ngForOf",t.priorities)}}function ym(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",44),e.YNc(1,dm,2,0,"ng-container",4),e.YNc(2,um,1,0,"div",45),e.TgZ(3,"div",46)(4,"div",47)(5,"input",48),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.selected=r)})("change",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(5);return e.KtG(s.onIssueSelect(r))}),e.qZA()(),e._UZ(6,"span",49),e.TgZ(7,"a",50),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(5);return e.KtG(s.viewIssue(r))}),e.TgZ(8,"span",51),e._uU(9),e.qZA(),e.TgZ(10,"span",52),e._uU(11),e.qZA()(),e.YNc(12,gm,3,1,"div",53),e.TgZ(13,"div",54)(14,"select",55),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.boardId=r)})("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(5);return e.KtG(l.handleBoardChange(r,s))}),e.YNc(15,hm,3,2,"ng-container",4),e.YNc(16,vm,2,1,"ng-container",6),e.YNc(17,bm,3,0,"ng-container",4),e.qZA()(),e.TgZ(18,"div",85)(19,"div",57)(20,"a")(21,"span",58),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(5);return e.KtG(s.toggleDropdown(r.id))}),e._uU(22),e.qZA()(),e.YNc(23,Tm,2,1,"ul",59),e.qZA()(),e.TgZ(24,"div",86)(25,"button",35)(26,"span",18),e._uU(27," more_vert "),e.qZA()(),e.TgZ(28,"div",36)(29,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(5);return e.KtG(s.viewIssue(r))}),e._uU(30," View Issue "),e.qZA()()()()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw(5);e.Q6J("ngClass",null!=t&&t.dueDate&&n.isIssueDueDate(null==t?null:t.dueDate)?"border-danger bg-danger bg-opacity-25":"bg-light"),e.xp6(1),e.Q6J("ngIf",n.selectedIssues.length>1),e.xp6(4),e.Q6J("ngModel",t.selected),e.xp6(1),e.Q6J("ngClass",e.WLB(18,Dn,"bug"===t.type,"feature"===t.type))("title",t.type||"Task"),e.xp6(3),e.hij("I-",null==t?null:t.issueIndex,""),e.xp6(1),e.s9C("title",null==t?null:t.title),e.xp6(1),e.Oqu(null==t?null:t.title),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0),e.xp6(2),e.Q6J("ngModel",t.boardId),e.xp6(1),e.Q6J("ngIf",null==t?null:t.boardId),e.xp6(1),e.Q6J("ngForOf",n.allBoards),e.xp6(1),e.Q6J("ngIf",1==(null==n.allBoards?null:n.allBoards.length)),e.xp6(4),e.Tol("material-symbols-outlined "+n.getIssuePriorityClass(t.priority)),e.Q6J("title",t.priority),e.xp6(1),e.hij(" ",n.getIssuePriorityIcon(t.priority)," "),e.xp6(1),e.Q6J("ngIf",n.activeDropdownId===t.id)}}function wm(o,i){if(1&o&&(e.TgZ(0,"div",42),e.YNc(1,ym,31,21,"div",43),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!(n.activeUsers.length>0)||(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0&&n.isAssignedSelected(null==t?null:t.assignedUsers))}}function Im(o,i){if(1&o&&(e.ynx(0),e.YNc(1,wm,2,1,"div",15),e.BQk()),2&o){const t=e.oxw(2).$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==n.allSprintsWithIssues?null:n.allSprintsWithIssues[null==t?null:t.id])}}function Am(o,i){1&o&&(e.TgZ(0,"p",79)(1,"small"),e._uU(2,"Drag and drop issues here to plan the sprint"),e.qZA()())}function Dm(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30),e.YNc(3,rm,1,2,"input",10),e.TgZ(4,"h5",31),e._uU(5),e.TgZ(6,"small",12),e._uU(7),e.qZA()()(),e.TgZ(8,"div",32)(9,"div",80),e.YNc(10,sm,5,4,"span",81),e.YNc(11,lm,5,4,"span",81),e.qZA(),e.YNc(12,am,2,0,"button",82),e.TgZ(13,"div",34)(14,"button",35)(15,"span",18),e._uU(16," more_vert "),e.qZA()(),e.TgZ(17,"div",36)(18,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.addIssue(r.id))}),e._uU(19," Add Issue "),e.qZA(),e.TgZ(20,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.updateSprint(r))}),e._uU(21," Edit Sprint "),e.qZA(),e.TgZ(22,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.viewWorkload(null==r?null:r.id))}),e._uU(23," View Workload "),e.qZA(),e.TgZ(24,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.deleteSprint(null==r?null:r.id))}),e._uU(25," Delete Sprint "),e.qZA()()()()(),e.TgZ(26,"div",14),e.NdJ("cdkDropListDropped",function(r){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.drop(r,null==s?null:s.id))}),e.YNc(27,Im,2,1,"ng-container",39),e.YNc(28,Am,3,0,"ng-template",null,40,e.W1O),e.qZA()()}if(2&o){const t=e.MAs(29),n=e.oxw().$implicit,r=e.oxw(2);e.xp6(3),e.Q6J("ngIf",(null==r.allSprintsWithIssues?null:r.allSprintsWithIssues[null==n?null:n.id].length)>0),e.xp6(2),e.hij(" ",n.title," "),e.xp6(2),e.hij("(",null==r.allSprintsWithIssues?null:r.allSprintsWithIssues[null==n?null:n.id].length,") issues"),e.xp6(3),e.Q6J("ngIf","Running"!==(null==n?null:n.status)&&(null==n?null:n.startDate)),e.xp6(1),e.Q6J("ngIf","Running"!==(null==n?null:n.status)&&(null==n?null:n.endDate)),e.xp6(1),e.Q6J("ngIf",(null==r.allSprintsWithIssues?null:r.allSprintsWithIssues[null==n?null:n.id].length)>0&&!r.hasActiveSprint),e.xp6(14),e.Q6J("cdkDropListData",null==r.allSprintsWithIssues?null:r.allSprintsWithIssues[null==n?null:n.id]),e.xp6(1),e.Q6J("ngIf",(null==r.allSprintsWithIssues||null==r.allSprintsWithIssues[null==n?null:n.id]?null:r.allSprintsWithIssues[null==n?null:n.id].length)>0)("ngIfElse",t)}}function Sm(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Dm,30,9,"div",27),e.BQk()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf","Running"!=(null==t?null:t.status))}}function km(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Sm,2,1,"ng-container",6),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.allSprints)}}function Mm(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"input",41),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleSelectAll(r))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.isSelectAllDisabled&&!t.isAllSelected("backlog"))("checked",t.isAllSelected())}}function Zm(o,i){if(1&o&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&o){const t=e.oxw(4);e.xp6(1),e.hij(" Dragging ",t.selectedIssues.length," items ")}}function Em(o,i){1&o&&(e.ynx(0),e.YNc(1,Zm,2,1,"div",61),e.BQk())}function Pm(o,i){1&o&&e._UZ(0,"div",63)}function Om(o,i){if(1&o&&e._UZ(0,"img",88),2&o){const t=e.oxw().$implicit,n=e.oxw(4);let r,s,l;e.Q6J("title",(null==(r=n.getIssueUser(t))?null:r.firstName)+" "+(null==(r=n.getIssueUser(t))?null:r.lastName))("title",(null==(s=n.getIssueUser(t))?null:s.firstName)+" "+(null==(s=n.getIssueUser(t))?null:s.lastName))("src",null==(l=n.getIssueUser(t))?null:l.profileImg,e.LSH)}}function Nm(o,i){if(1&o&&(e.TgZ(0,"span",69),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw(4);let r,s;e.Q6J("title",(null==(r=n.getIssueUser(t))?null:r.firstName)+" "+(null==(r=n.getIssueUser(t))?null:r.lastName)),e.xp6(1),e.Oqu(null==(s=n.getIssueUser(t))||null==s.email?null:s.email.charAt(0))}}function Um(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Om,1,3,"img",87),e.YNc(2,Nm,2,2,"ng-template",null,67,e.W1O),e.BQk()),2&o){const t=i.$implicit,n=e.MAs(3),r=e.oxw(4);let s;e.xp6(1),e.Q6J("ngIf",null==(s=r.getIssueUser(t))?null:s.profileImg)("ngIfElse",n)}}function jm(o,i){if(1&o&&(e.TgZ(0,"div",64)(1,"div",65),e.YNc(2,Um,4,2,"ng-container",6),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngForOf",null==t?null:t.assignedUsers)}}function Rm(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"option",70),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngValue",null==t?null:t.boardId),e.xp6(1),e.hij(" ",n.getIssueBoard(null==t?null:t.boardId)||"Select Board"," ")}}function Fm(o,i){if(1&o&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("ngValue",null==t?null:t.id),e.xp6(1),e.hij(" ",null==t?null:t.title," ")}}function qm(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Fm,2,2,"option",71),e.BQk()),2&o){const t=i.$implicit,n=e.oxw(2).$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.getIssueBoard(null==n?null:n.boardId)!=(null==t?null:t.title))}}function Jm(o,i){1&o&&(e.ynx(0),e.TgZ(1,"option",73),e._uU(2,"No Boards Available"),e.qZA(),e.BQk())}function Lm(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"a",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3).$implicit,l=e.oxw();return e.KtG(l.updateIssuePriority(s,r))}),e.TgZ(1,"span",78),e._uU(2),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=e.oxw().$implicit,n=e.oxw(4);e.xp6(1),e.Tol("material-symbols-outlined "+n.getIssuePriorityClass(t)),e.xp6(1),e.hij(" ",n.getIssuePriorityIcon(t)," "),e.xp6(1),e.hij(" ",t," ")}}function Bm(o,i){if(1&o&&(e.TgZ(0,"li",64),e.YNc(1,Lm,4,4,"a",76),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",t!==n.priority)}}function Hm(o,i){if(1&o&&(e.TgZ(0,"ul",74),e.YNc(1,Bm,2,1,"li",75),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.priorities)}}function Qm(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",44),e.YNc(1,Em,2,0,"ng-container",4),e.YNc(2,Pm,1,0,"div",45),e.TgZ(3,"div",46)(4,"div",47)(5,"input",48),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.selected=r)})("change",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onIssueSelect(r))}),e.qZA()(),e._UZ(6,"span",49),e.TgZ(7,"a",50),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw();return e.KtG(s.viewIssue(r))}),e.TgZ(8,"span",51),e._uU(9),e.qZA(),e.TgZ(10,"span",52),e._uU(11),e.qZA()(),e.YNc(12,jm,3,1,"div",53),e.TgZ(13,"div",54)(14,"select",55),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.boardId=r)})("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.handleBoardChange(r,s))}),e.YNc(15,Rm,3,2,"ng-container",4),e.YNc(16,qm,2,1,"ng-container",6),e.YNc(17,Jm,3,0,"ng-container",4),e.qZA()(),e.TgZ(18,"div",85)(19,"div",57)(20,"a")(21,"span",58),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw();return e.KtG(s.toggleDropdown(r.id))}),e._uU(22),e.qZA()(),e.YNc(23,Hm,2,1,"ul",59),e.qZA()(),e.TgZ(24,"div",86)(25,"button",35)(26,"span",18),e._uU(27," more_vert "),e.qZA()(),e.TgZ(28,"div",36)(29,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw();return e.KtG(s.viewIssue(r))}),e._uU(30," View Issue "),e.qZA(),e.TgZ(31,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw();return e.KtG(s.deleteIssue(r))}),e._uU(32," Delete Issue "),e.qZA()()()()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("ngClass",null!=t&&t.dueDate&&n.isIssueDueDate(null==t?null:t.dueDate)?"border-danger bg-danger bg-opacity-25":"bg-light"),e.xp6(1),e.Q6J("ngIf",n.selectedIssues.length>1),e.xp6(4),e.Q6J("ngModel",t.selected),e.xp6(1),e.Q6J("ngClass",e.WLB(18,Dn,"bug"===t.type,"feature"===t.type))("title",t.type||"Task"),e.xp6(3),e.hij("I-",null==t?null:t.issueIndex,""),e.xp6(1),e.s9C("title",null==t?null:t.title),e.xp6(1),e.Oqu(null==t?null:t.title),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0),e.xp6(2),e.Q6J("ngModel",t.boardId),e.xp6(1),e.Q6J("ngIf",null==t?null:t.boardId),e.xp6(1),e.Q6J("ngForOf",n.allBoards),e.xp6(1),e.Q6J("ngIf",1==(null==n.allBoards?null:n.allBoards.length)),e.xp6(4),e.Tol("material-symbols-outlined "+n.getIssuePriorityClass(t.priority)),e.Q6J("title",t.priority),e.xp6(1),e.hij(" ",n.getIssuePriorityIcon(t.priority)," "),e.xp6(1),e.Q6J("ngIf",n.activeDropdownId===t.id)}}function Ym(o,i){if(1&o&&(e.TgZ(0,"div",42),e.YNc(1,Qm,33,21,"div",43),e.qZA()),2&o){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",!(n.activeUsers.length>0)||(null==t||null==t.assignedUsers?null:t.assignedUsers.length)>0&&n.isAssignedSelected(null==t?null:t.assignedUsers))}}let Gm=(()=>{const i=class extends ho{constructor(n,r,s,l,a){super(),this._modalService=n,this._activatedRoute=r,this._projectService=s,this._snackbarService=l,this.router=a,this.loader=!1,this.allBoards=[],this.allIssues=[],this.allSprints=[],this.allSprintsWithIssues={},this.hasActiveSprint=!1,this.hasNoIssues=!1,this.currentProjectId=this._activatedRoute.snapshot.paramMap.get("id"),this.priorities=Tn.N,this.activeUsers=[],this.activeDropdownId=null,this.selectBoardDropdownId=null,this.selectedIssues=[],this.isSelectAllDisabled=!1}ngOnInit(){var n=this;return(0,y.Z)(function*(){yield n.getAllIssues(),n.adminUserConcept=n.projectData.data.boomgpt.created_by,n._activatedRoute.queryParams.subscribe(function(){var r=(0,y.Z)(function*(s){const l=s.issue;if(l){const a=yield n.findIssueById(Number(l));a?n.viewIssue(a):(console.warn("Issue not found"),n._projectService.getProjectIssue(n.currentProjectId,parseInt(l)).subscribe({next:c=>{n.viewIssue(c.data)},error:c=>console.error(c)})),n.router.navigate([],{queryParams:{issue:null},queryParamsHandling:"merge"})}});return function(s){return r.apply(this,arguments)}}())})()}findIssueById(n){var r=this;return(0,y.Z)(function*(){if(null==r.allSprintsWithIssues||null==r.allSprintsWithIssues)return null;for(const l in r.allSprintsWithIssues)if("backlog"!=l){const c=r.allSprintsWithIssues[l].find(d=>d.id==n);if(c)return c}const s=r.allSprintsWithIssues.backlog;return s&&s.find(l=>l.id==n)||null})()}getAllIssues(){var n=this;return(0,y.Z)(function*(){n.loader=!0,n._projectService.getProjectSprintsWithDetails(n.currentProjectId).subscribe({next:r=>{n.allBoards=r.data.boards,n.allSprints=r.data.sprints,n.allSprintsWithIssues=r.data.sprintWithIssues,n.hasActiveSprint=n.allSprints.filter(s=>"Running"==s?.status).length>0},complete:()=>n.loader=!1})})()}addIssue(n){const r=this._modalService.open(wn,{size:"lg"});r.componentInstance.projectId=this.currentProjectId,r.componentInstance.sprintId=n,r.result.then(s=>{if(s?.issue&&s?.issue){if(null==s.issue?.sprintId||""==s?.issue?.sprintId)this.allSprintsWithIssues.backlog=[...this.allSprintsWithIssues.backlog,s.issue];else{const l=parseInt(s.issue.sprintId);this.allSprintsWithIssues[l]=[...this.allSprintsWithIssues[l],s.issue]}this._snackbarService.openSnackBar("Issue created.","success")}}).catch(()=>{})}deleteIssue(n){const r=this._modalService.open(I_,{size:"md"});void 0===n.sprintId||""===n.sprintId?(r.componentInstance.projectId=this.currentProjectId,r.componentInstance.issue=n,r.result.then(s=>{s&&(this.allSprintsWithIssues.backlog=this.allSprintsWithIssues.backlog.filter(l=>l.id!==n.id),this._snackbarService.openSnackBar("Issue Deleted.","success"))}).catch(()=>{})):this._snackbarService.openSnackBar("Cannot delete issue associated to Sprint","warning")}viewIssue(n){const r=this._modalService.open(At,{backdrop:"static",size:"xl"});r.componentInstance.projectId=this.currentProjectId,r.componentInstance.issueId=n?.id,r.componentInstance.selectedIssue=n,r.result.then(s=>{s&&this.getAllIssues()}).catch(()=>{})}viewWorkload(n){const r=this._modalService.open(go,{size:"md"});r.componentInstance.projectId=this.currentProjectId,r.componentInstance.sprintId=n}updateSprint(n,r=!1){const s=this._modalService.open(An,{size:"lg"});s.componentInstance.projectId=this.currentProjectId,s.componentInstance.sprint=n,s.componentInstance.startSprint=r,s.result.then(l=>{l?.sprint&&(this.allSprints=this.allSprints.map(a=>a.id==l.sprint.id?l.sprint:a))}).catch(()=>{})}deleteSprint(n){this.allSprintsWithIssues[n]&&this.allSprintsWithIssues[n].length>0?this._snackbarService.openSnackBar("Cannot delete sprint with associated issues","warning"):this._projectService.deleteSprint(this.currentProjectId,n).subscribe({next:()=>{this._snackbarService.openSnackBar("Sprint Deleted Successfully","success"),this.allSprints=this.allSprints.filter(r=>r.id!==n)},error:r=>{this._snackbarService.openSnackBar(r.error?.message||"An error occurred","warning")}})}completeSprint(n){const r=this._modalService.open(w_,{size:"md"});r.componentInstance.projectId=this.currentProjectId,r.componentInstance.sprintId=n,r.componentInstance.allSprints=this.allSprints,r.result.then(s=>{s?.success&&(this.allSprints=this.allSprints.filter(l=>l.id!=n)),this.getAllIssues()}).catch(()=>{})}createNewSprint(){var n=this;return(0,y.Z)(function*(){var r;n.loader=!0,n._projectService.createSprint(n.currentProjectId,{}).subscribe({next:r=>{n.allSprints=[...n.allSprints,r.data],n.allSprintsWithIssues[r.data.id]=[]},complete:(r=(0,y.Z)(function*(){n.loader=!1}),function(){return r.apply(this,arguments)})})})()}drop(n,r){const s=this.selectedIssues.length>0;n.previousContainer===n.container?s?this.selectedIssues.forEach(l=>{const a=n.container.data.indexOf(l),c=n.previousContainer.data.indexOf(l);(0,Y.bA)(n.container.data,c,a)}):(0,Y.bA)(n.container.data,n.previousIndex,n.currentIndex):s?this.selectedIssues.forEach(l=>{const a=n.previousContainer.data.indexOf(l),c=n.currentIndex+this.selectedIssues.indexOf(l);(0,Y.EA)(n.previousContainer.data,n.container.data,a,c),this.loader=!0,this.updateIssueSprintStatus(l,r),this.selectedIssues=[],this.isSelectAllDisabled=!1}):((0,Y.EA)(n.previousContainer.data,n.container.data,n.previousIndex,n.currentIndex),this.updateIssueSprintStatus(n.container.data[n.currentIndex],r))}updateIssueSprintStatus(n,r){this._projectService.changeIssueSprintStatus(this.currentProjectId,n.id,{sprintId:r??null}).subscribe({next:()=>{this.getAllIssues()},error:()=>{this.loader=!1},complete:()=>this.loader=!1})}onImageClick(n){if(n.isActive=!n.isActive,n.isActive)this.activeUsers.push(n);else{const r=this.activeUsers.indexOf(n);-1!==r&&this.activeUsers.splice(r,1)}}getIssueUser(n){if(!this.projectUsers)return;const r=this.projectUsers?.find(s=>s.id==parseInt(n));return r||null}isAssignedSelected(n){return 0==this.activeUsers.length||!!this.activeUsers.find(r=>n.includes(r.id.toString()))}toggleDropdown(n){this.activeDropdownId=this.activeDropdownId===n?null:n}updateIssuePriority(n,r){n.priority=r,this._projectService.updateIssue(this.projectData.id,n.id,{priority:r}).subscribe({next:l=>{n=l.data,this.activeDropdownId=null},error:l=>{console.error("Error updating issue:",l)}})}getIssueBoard(n){return this.allBoards.find(s=>s.id==n)?.title}assignToBoard(n,r){this._projectService.changeIssueBoardStatus(this.currentProjectId,n.id,{boardId:r.id??null}).subscribe({next:s=>{n.boardId=s.issueData.boardId,this.selectBoardDropdownId=null},error:s=>{console.error("Error updating issue:",s)}})}handleBoardChange(n,r){const s=n;this.allBoards.length&&(r.boardId=this.allBoards.find(l=>l.id==r.boardId)?.id||""),this._projectService.changeIssueBoardStatus(this.currentProjectId,r.id,{boardId:parseInt(s)}).subscribe({next:()=>{},error:l=>{console.error("Error updating issue:",l)}})}onIssueSelect(n){n.selected?this.selectedIssues.push(n):this.selectedIssues=this.selectedIssues.filter(r=>r.id!=n.id)}toggleSelectAll(n,r){const s=!!n&&n.target.checked;if(this.isSelectAllDisabled=s,r){const l=this.allSprintsWithIssues?.[r];l&&l.forEach(a=>{a.selected=s,s?this.selectedIssues.find(c=>c.id==a.id)||this.selectedIssues.push(a):this.selectedIssues=this.selectedIssues.filter(c=>c.id!=a.id)})}else{const l=this.allSprintsWithIssues?.backlog;l&&l.forEach(a=>{a.selected=s,s?this.selectedIssues.find(c=>c.id==a.id)||this.selectedIssues.push(a):this.selectedIssues=this.selectedIssues.filter(c=>c.id!=a.id)})}}isAllSelected(n){if(n){const r=this.allSprintsWithIssues[n];return!!r&&r.every(s=>s.selected)}return this.allSprintsWithIssues.backlog?.every(r=>r.selected)||!1}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.FF),e.Y36(H.gz),e.Y36(L.Y),e.Y36(Q.o),e.Y36(H.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-project-tasks"]],inputs:{projectData:"projectData",projectUsers:"projectUsers"},features:[e.qOj],decls:27,vars:10,consts:[["class","loading",4,"ngIf"],[1,"card"],[1,"card-body","project-issue-overflow"],[1,"info"],[4,"ngIf"],[1,"d-flex","flex-row","justify-content-end","mr-3","mb-3","image-container"],[4,"ngFor","ngForOf"],["cdkDropListGroup","",1,"issues"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"d-flex","justify-content-center","ms-4"],["class","form-check-input","type","checkbox",3,"disabled","checked","change",4,"ngIf"],[1,"ms-2"],[1,"text-muted","fw-normal",2,"font-size","14px"],[1,"btn","btn-secondary","btn-sm","px-2","py-1",3,"click"],["cdkDropList","",1,"board-cards-dragarea",2,"min-height","10px",3,"cdkDropListData","cdkDropListDropped"],["class","board-card-details","cdkDrag","",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"btn","btn-secondary","d-inline-flex","align-items-center","gap-1",3,"click"],[1,"material-symbols-outlined"],[1,"loading"],[1,"loader"],["class","profile-img rounded-circle object-fit-cover border border-2 w-40px h-40px bg-primary img-hover-effect","alt","",3,"ngClass","title","src","click",4,"ngIf","ngIfElse"],["defaultImg",""],["alt","",1,"profile-img","rounded-circle","object-fit-cover","border","border-2","w-40px","h-40px","bg-primary","img-hover-effect",3,"ngClass","title","src","click"],[1,"rounded-circle","border","border-2","w-40px","h-40px","bg-primary","text-white","text-center","text-capitalize","d-flex","align-items-center","justify-content-center","cursor-pointer",3,"title","ngClass","click"],["adminDefaultImg",""],[1,"highlight-dot","img-hover-effect","p-1",3,"title"],["class","bg-light p-4 rounded mb-4",4,"ngIf"],[1,"bg-light","p-4","rounded","mb-4"],[1,"d-flex","align-items-center","justify-content-between","mb-2","project-issue-item-head"],[1,"d-flex","justify-content-center","ms-4","project-issue-item-head-title"],[1,"fw-bold","ms-2"],[1,"d-flex","flex-row","gap-2","project-issue-item-head-meta"],[1,"btn","btn-secondary","px-2","py-1",3,"click"],["ngbDropdown","","placement","left",1,"d-inline-block","sprint_actions"],["id","viewMore","ngbDropdownToggle","",1,"mat-mdc-button-base","btn-top_header","hide-dropdown-caret"],["ngbDropdownMenu","","aria-labelledby","viewMore"],["type","button",1,"dropdown-item",3,"click"],["type","button","class","dropdown-item",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["noIssuesAvailable",""],["type","checkbox",1,"form-check-input",3,"disabled","checked","change"],["cdkDrag","",1,"board-card-details"],["class","issue-item rounded border border-bottom px-4 py-2 mb-1",3,"ngClass",4,"ngIf"],[1,"issue-item","rounded","border","border-bottom","px-4","py-2","mb-1",3,"ngClass"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],[1,"issue-item-wrap","d-flex","flex-row","justify-content-between","gap-3","align-items-center"],[1,"me-1"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange","change"],[3,"ngClass","title"],[1,"card-item-title","d-flex","align-items-center","w-100",3,"click"],[1,"fw-bold","me-1","mt-0","text-nowrap"],[1,"flex-grow-1","text-truncate",2,"max-width","25rem",3,"title"],["class","",4,"ngIf"],[1,"me-3","ms-3"],[1,"form-select","form-select-sm","fw-bold",2,"width","auto",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","gap-3"],[1,"position-relative"],[1,"material-symbols-outlined",3,"title","click"],["class","dropdown-menu show position-absolute end-0 mt-2 me-2",4,"ngIf"],["ngbDropdown","","placement","left",1,"d-inline-block"],["class","custom-drag-preview",4,"cdkDragPreview"],[1,"custom-drag-preview"],[1,"example-custom-placeholder"],[1,""],[1,"d-flex","flex-row"],["class","rounded-circle object-fit-cover border border-2 x min-img-size h-25px w-25px bg-primary","alt","",3,"title","src",4,"ngIf","ngIfElse"],["defaultImage",""],["alt","",1,"rounded-circle","object-fit-cover","border","border-2","x","min-img-size","h-25px","w-25px","bg-primary",3,"title","src"],[1,"rounded-circle","border","border-2","h-25px","w-25px","bg-primary","min-img-size","text-white","text-center","text-capitalize",3,"title"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],["disabled",""],[1,"dropdown-menu","show","position-absolute","end-0","mt-2","me-2"],["class","",4,"ngFor","ngForOf"],["class","dropdown-item d-flex align-items-center",3,"click",4,"ngIf"],[1,"dropdown-item","d-flex","align-items-center",3,"click"],[1,"me-2"],[1,"border","bg-white","rounded-sm","p-2","text-center","text-muted"],[1,"d-flex","flex-row","gap-2"],["class","text-muted","style","font-size: 14px",4,"ngIf"],["class","btn btn-primary px-2 py-1",3,"click",4,"ngIf"],[1,"text-muted",2,"font-size","14px"],[1,"btn","btn-primary","px-2","py-1",3,"click"],[1,"d-flex","flex-row","gap-3","issue_priority"],["ngbDropdown","","placement","left",1,"d-inline-block","issue_actions"],["class","rounded-circle object-fit-cover border border-2 x min-img-size w-25px h-25px bg-primary","alt","",3,"title","src",4,"ngIf","ngIfElse"],["alt","",1,"rounded-circle","object-fit-cover","border","border-2","x","min-img-size","w-25px","h-25px","bg-primary",3,"title","src"]],template:function(r,s){1&r&&(e.YNc(0,A_,2,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,D_,2,0,"p",4),e.qZA(),e.TgZ(5,"div",5),e.YNc(6,Z_,2,1,"ng-container",6),e.YNc(7,N_,2,1,"ng-container",6),e.qZA(),e.TgZ(8,"div",7),e.YNc(9,om,2,1,"ng-container",4),e.YNc(10,km,2,1,"ng-container",4),e.TgZ(11,"div",8)(12,"div",9),e.YNc(13,Mm,1,2,"input",10),e.TgZ(14,"h4",11),e._uU(15," Backlog "),e.TgZ(16,"small",12),e._uU(17),e.qZA()()(),e.TgZ(18,"button",13),e.NdJ("click",function(){return s.createNewSprint()}),e._uU(19," Create Sprint "),e.qZA()(),e.TgZ(20,"div",14),e.NdJ("cdkDropListDropped",function(a){return s.drop(a)}),e.YNc(21,Ym,2,1,"div",15),e.qZA()(),e.TgZ(22,"div",16)(23,"a",17),e.NdJ("click",function(){return s.addIssue()}),e.TgZ(24,"span",18),e._uU(25," add "),e.qZA(),e._uU(26," Add Issue "),e.qZA()()()()),2&r&&(e.Q6J("ngIf",s.loader),e.xp6(4),e.Q6J("ngIf",s.loader),e.xp6(2),e.Q6J("ngForOf",s.projectUsers),e.xp6(1),e.Q6J("ngForOf",s.projectUsers),e.xp6(2),e.Q6J("ngIf",s.allSprints),e.xp6(1),e.Q6J("ngIf",s.allSprints),e.xp6(3),e.Q6J("ngIf",(null==s.allSprintsWithIssues||null==s.allSprintsWithIssues.backlog?null:s.allSprintsWithIssues.backlog.length)>0),e.xp6(4),e.hij("(",null==s.allSprintsWithIssues||null==s.allSprintsWithIssues.backlog?null:s.allSprintsWithIssues.backlog.length,") issues"),e.xp6(3),e.Q6J("cdkDropListData",null==s.allSprintsWithIssues?null:s.allSprintsWithIssues.backlog),e.xp6(1),e.Q6J("ngForOf",null==s.allSprintsWithIssues?null:s.allSprintsWithIssues.backlog))},dependencies:[I.mk,I.sg,I.O5,g.YN,g.Kr,g.Wl,g.EJ,g.JJ,g.On,k.jt,k.iD,k.Vi,Y.Wj,Y.Fd,Y.Zt,Y.pV,Y.Hk,I.uU],styles:[".priority-dropdown-btn[_ngcontent-%COMP%]{display:flex}.priority-dropdown-btn[_ngcontent-%COMP%]:hover{background-color:#fff!important;box-shadow:#00000059 0 5px 15px}a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#ff9472}.active-border[_ngcontent-%COMP%]{border-color:#f2709c!important;width:45px;height:45px}.img-hover-effect[_ngcontent-%COMP%]:hover{cursor:pointer}.image-container[_ngcontent-%COMP%]{position:relative;flex-wrap:wrap}.highlight-dot[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background-color:#f2709c;border-radius:50%;top:5px;right:-2px}.dropdown-arrow[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:6px solid #000;margin-left:.25rem}.min-img-size[_ngcontent-%COMP%]{min-width:25px;min-height:25px}@media (max-width: 600px){.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:30px 0}.issue-item[_ngcontent-%COMP%]{padding:5px 70px 5px 10px!important;border-radius:0!important;position:relative}.issue-item-wrap[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-start!important}.issue-item-wrap[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0!important;width:auto!important}.issueType[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.issue_priority[_ngcontent-%COMP%], .issue_actions[_ngcontent-%COMP%]{position:absolute;top:3px}.issue_priority[_ngcontent-%COMP%]{right:30px;top:8px}.issue_actions[_ngcontent-%COMP%]{right:0}.issue-item-wrap[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%]{max-width:12rem!important}.project-issue-item-head[_ngcontent-%COMP%]{flex-wrap:wrap}.project-issue-item-head-title[_ngcontent-%COMP%]{margin:0!important}.project-issue-item-head-meta[_ngcontent-%COMP%]{flex-wrap:wrap;position:relative;width:100%;padding-right:40px}.project-issue-item-head-meta[_ngcontent-%COMP%]   .sprint_actions[_ngcontent-%COMP%]{position:absolute;right:0;top:0}}"]}),o})();var $=D(8026);function zm(o,i){if(1&o&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.dateError)}}function Vm(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"google-chart",19,20),e.NdJ("select",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onSprintSelect(r))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("type",t.chartType)("data",t.data)("columns",t.columns)("options",t.ganttOptions)}}function Wm(o,i){1&o&&(e.TgZ(0,"p",21),e._uU(1,"Filtered Gantt chart not available"),e.qZA())}function $m(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Vm,2,4,"google-chart",17),e.YNc(2,Wm,2,0,"ng-template",null,18,e.W1O),e.BQk()),2&o){const t=e.MAs(3),n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.data.length>0)("ngIfElse",t)}}function Km(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"google-chart",19,20),e.NdJ("select",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onSprintSelect(r))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("type",t.chartType)("data",t.data)("columns",t.columns)("options",t.ganttOptions)}}function Xm(o,i){1&o&&(e.TgZ(0,"p",21),e._uU(1,"Gantt chart not available"),e.qZA())}function eg(o,i){if(1&o&&(e.YNc(0,Km,2,4,"google-chart",17),e.YNc(1,Xm,2,0,"ng-template",null,22,e.W1O)),2&o){const t=e.MAs(2),n=e.oxw();e.Q6J("ngIf",n.data.length>0)("ngIfElse",t)}}function tg(o,i){1&o&&(e.TgZ(0,"div",23),e._UZ(1,"span",24),e.qZA())}function vo(o){return 24*o*60*60*1e3}let ng=(()=>{const i=class{constructor(n,r,s){this._modalService=n,this._projectService=r,this._activatedRoute=s,this.loader=!1,this.projectId=this._activatedRoute.snapshot.paramMap.get("id"),this.sprints=[],this.allSprintsWithIssues={},this.startDate=null,this.endDate=null,this.filteredSprints=[],this.dateError=null,this.trackHeight=40,this.chartType=$.oX.Gantt,this.columns=[{type:"string",role:"Task ID"},{type:"string",role:"Task Name"},{type:"string",role:"Resource"},{type:"date",role:"Start Date"},{type:"date",role:"End Date"},{type:"number",role:"duration"},{type:"number",role:"Percent Complete"},{type:"string",role:"Dependencies"}],this.ganttOptions={height:5*this.trackHeight,gantt:{trackHeight:this.trackHeight}},this.data=[]}ngOnInit(){this.initializeGanttData()}initializeGanttData(){var n=this;return(0,y.Z)(function*(){n.loader=!0,n.filterSprint()})()}onDateChange(){this.startDate&&this.endDate?new Date(this.startDate)>new Date(this.endDate)?this.dateError="From date must be before To date.":(this.dateError=null,this.filterSprint()):this.dateError=null}filterSprint(){const n=this.startDate?new Date(this.startDate).toISOString():null,r=this.endDate?new Date(this.endDate).toISOString():null;this.loader=!0,this._projectService.filterSprint(this.projectId,n,r).subscribe({next:s=>{this.filteredSprints=s.data,this.calculateFilteredSprintGanttData()},error:s=>{console.error("Error filtering sprints:",s)},complete:()=>{this.loader=!1}})}calculateFilteredSprintGanttData(){try{this.data=this.filteredSprints.map(n=>{const r=n.id?.toString()||"",s=n.title||"",l=n.id?.toString()||"",a=isNaN(new Date(n.startDate).getTime())?new Date:new Date(n.startDate),c=isNaN(new Date(n.endDate).getTime())?new Date(a.getTime()+864e5):new Date(n.endDate);return[r,s,l,a,c,isNaN(parseInt(n.duration,10))?vo(1):vo(parseInt(n.duration,10)),isNaN(n.completionPercentage)?0:n.completionPercentage,null]}),this.ganttOptions={...this.ganttOptions,height:this.data.length*this.trackHeight+100}}catch(n){console.error("Error transforming Gantt data:",n)}}onSprintSelect(n){const r=this.data[n.selection?.[0]?.row];if(r?.[0]){const s=this._modalService.open(An,{size:"lg"});s.componentInstance.projectId=this.projectId,s.componentInstance.sprint=this.filteredSprints.find(l=>l.id==r?.[0]),s.componentInstance.startSprint=!1,s.result.then(l=>{l?.sprint&&(this.filteredSprints=this.filteredSprints.map(a=>a.id==l.sprint.id?l.sprint:a),this.calculateFilteredSprintGanttData())}).catch(()=>{})}}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.FF),e.Y36(L.Y),e.Y36(H.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-project-gantt"]],viewQuery:function(r,s){if(1&r&&e.Gf($.P4,5),2&r){let l;e.iGM(l=e.CRH())&&(s.chart=l.first)}},inputs:{projectData:"projectData"},decls:22,vars:6,consts:[[1,"card"],[1,"card-body"],[1,"row","align-items-center","mb-4"],[1,"col-auto"],[1,"mb-0"],[1,"col"],[1,"row","justify-content-end","align-items-center","date-filter"],["for","startdate",1,"form-label"],["type","date","id","startdate","name","startdate","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","enddate",1,"form-label"],["type","date","id","enddate","name","enddate","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"w-100","mt-2","text-right","me-5"],["class","text-danger",4,"ngIf"],[4,"ngIf","ngIfElse"],["showRegularChart",""],["class","loading",4,"ngIf"],[1,"text-danger"],["style","width: 100%",3,"type","data","columns","options","select",4,"ngIf","ngIfElse"],["unableToShowFilteredGantt",""],[2,"width","100%",3,"type","data","columns","options","select"],["chart",""],[1,"text-info"],["unableToShowRegularGantt",""],[1,"loading"],[1,"loader"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5,"Project TimeLines"),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",3)(9,"label",7),e._uU(10,"From Date:"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(a){return s.startDate=a})("ngModelChange",function(){return s.onDateChange()}),e.qZA()(),e.TgZ(12,"div",3)(13,"label",9),e._uU(14,"To Date:"),e.qZA(),e.TgZ(15,"input",10),e.NdJ("ngModelChange",function(a){return s.endDate=a})("ngModelChange",function(){return s.onDateChange()}),e.qZA()(),e.TgZ(16,"div",11),e.YNc(17,zm,2,1,"span",12),e.qZA()()()(),e.YNc(18,$m,4,2,"ng-container",13),e.YNc(19,eg,3,2,"ng-template",null,14,e.W1O),e.YNc(21,tg,2,0,"div",15),e.qZA()()),2&r){const l=e.MAs(20);e.xp6(11),e.Q6J("ngModel",s.startDate),e.xp6(4),e.Q6J("ngModel",s.endDate),e.xp6(2),e.Q6J("ngIf",s.dateError),e.xp6(1),e.Q6J("ngIf",s.filteredSprints.length>0)("ngIfElse",l),e.xp6(3),e.Q6J("ngIf",s.loader)}},dependencies:[I.O5,g._Y,g.Fj,g.JJ,g.JL,g.Q7,g.On,g.F,$.P4],styles:["@media (max-width: 600px){.date-filter[_ngcontent-%COMP%]{display:block}}"]}),o})();function ig(o,i){if(1&o&&e._UZ(0,"img",10),2&o){const t=e.oxw();e.Q6J("title",(null==t.user||null==t.user.the_user||null==t.user.the_user.data||null==t.user.the_user.data.the_entity||null==t.user.the_user.data.the_entity.data||null==t.user.the_user.data.the_entity.data.the_person||null==t.user.the_user.data.the_entity.data.the_person.data||null==t.user.the_user.data.the_entity.data.the_person.data.first_name?null:t.user.the_user.data.the_entity.data.the_person.data.first_name.data)+" "+(null==t.user||null==t.user.the_user||null==t.user.the_user.data||null==t.user.the_user.data.the_entity||null==t.user.the_user.data.the_entity.data||null==t.user.the_user.data.the_entity.data.the_person||null==t.user.the_user.data.the_entity.data.the_person.data||null==t.user.the_user.data.the_entity.data.the_person.data.last_name?null:t.user.the_user.data.the_entity.data.the_person.data.last_name.data))("src",null==t.user||null==t.user.the_user||null==t.user.the_user.data||null==t.user.the_user.data.the_entity||null==t.user.the_user.data.the_entity.data||null==t.user.the_user.data.the_entity.data.the_person||null==t.user.the_user.data.the_entity.data.the_person.data||null==t.user.the_user.data.the_entity.data.the_person.data.profile_img?null:t.user.the_user.data.the_entity.data.the_person.data.profile_img.data,e.LSH)}}function og(o,i){if(1&o&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Q6J("title",(null==t.user||null==t.user.the_user||null==t.user.the_user.data||null==t.user.the_user.data.the_entity||null==t.user.the_user.data.the_entity.data||null==t.user.the_user.data.the_entity.data.the_person||null==t.user.the_user.data.the_entity.data.the_person.data||null==t.user.the_user.data.the_entity.data.the_person.data.first_name?null:t.user.the_user.data.the_entity.data.the_person.data.first_name.data)+" "+(null==t.user||null==t.user.the_user||null==t.user.the_user.data||null==t.user.the_user.data.the_entity||null==t.user.the_user.data.the_entity.data||null==t.user.the_user.data.the_entity.data.the_person||null==t.user.the_user.data.the_entity.data.the_person.data||null==t.user.the_user.data.the_entity.data.the_person.data.last_name?null:t.user.the_user.data.the_entity.data.the_person.data.last_name.data)),e.xp6(1),e.Oqu(null==t.user||null==t.user.the_user||null==t.user.the_user.data||null==t.user.the_user.data.the_user_data||null==t.user.the_user.data.the_user_data.data||null==t.user.the_user.data.the_user_data.data.primary_email||null==t.user.the_user.data.the_user_data.data.primary_email.data||null==t.user.the_user.data.the_user_data.data.primary_email.data.data?null:t.user.the_user.data.the_user_data.data.primary_email.data.data.charAt(0))}}function rg(o,i){if(1&o&&e._UZ(0,"img",21),2&o){const t=e.oxw().$implicit;e.Q6J("title",(null==t||null==t.the_timer||null==t.the_timer.data||null==t.the_timer.data.the_timer_user||null==t.the_timer.data.the_timer_user.the_user||null==t.the_timer.data.the_timer_user.the_user.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.first_name?null:t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.first_name.data)+" "+(null==t||null==t.the_timer||null==t.the_timer.data||null==t.the_timer.data.the_timer_user||null==t.the_timer.data.the_timer_user.the_user||null==t.the_timer.data.the_timer_user.the_user.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.last_name?null:t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.last_name.data))("src",null==t||null==t.the_timer||null==t.the_timer.data||null==t.the_timer.data.the_timer_user||null==t.the_timer.data.the_timer_user.the_user||null==t.the_timer.data.the_timer_user.the_user.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.profile_img?null:t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.profile_img.data,e.LSH)}}function sg(o,i){if(1&o&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("title",(null==t||null==t.the_timer||null==t.the_timer.data||null==t.the_timer.data.the_timer_user||null==t.the_timer.data.the_timer_user.the_user||null==t.the_timer.data.the_timer_user.the_user.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.first_name?null:t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.first_name.data)+" "+(null==t||null==t.the_timer||null==t.the_timer.data||null==t.the_timer.data.the_timer_user||null==t.the_timer.data.the_timer_user.the_user||null==t.the_timer.data.the_timer_user.the_user.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.last_name?null:t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.last_name.data)),e.xp6(1),e.Oqu(null==t||null==t.the_timer||null==t.the_timer.data||null==t.the_timer.data.the_timer_user||null==t.the_timer.data.the_timer_user.the_user||null==t.the_timer.data.the_timer_user.the_user.data||null==t.the_timer.data.the_timer_user.the_user.data.the_user_data||null==t.the_timer.data.the_timer_user.the_user.data.the_user_data.data||null==t.the_timer.data.the_timer_user.the_user.data.the_user_data.data.primary_email||null==t.the_timer.data.the_timer_user.the_user.data.the_user_data.data.primary_email.data||null==t.the_timer.data.the_timer_user.the_user.data.the_user_data.data.primary_email.data.data?null:t.the_timer.data.the_timer_user.the_user.data.the_user_data.data.primary_email.data.data.charAt(0))}}function lg(o,i){if(1&o&&(e.TgZ(0,"tr")(1,"td",18),e.YNc(2,rg,1,2,"img",19),e.YNc(3,sg,2,2,"ng-template",null,7,e.W1O),e.qZA(),e.TgZ(5,"td",20),e._uU(6),e.qZA(),e.TgZ(7,"td",20),e._uU(8),e.qZA()()),2&o){const t=i.$implicit,n=e.MAs(4),r=e.oxw(4);e.xp6(2),e.Q6J("ngIf",null==t||null==t.the_timer||null==t.the_timer.data||null==t.the_timer.data.the_timer_user||null==t.the_timer.data.the_timer_user.the_user||null==t.the_timer.data.the_timer_user.the_user.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data||null==t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.profile_img?null:t.the_timer.data.the_timer_user.the_user.data.the_entity.data.the_person.data.profile_img.data)("ngIfElse",n),e.xp6(4),e.hij(" ",r.getFormatedTime(null==t||null==t.the_timer||null==t.the_timer.data||null==t.the_timer.data.the_timer_starttime||null==t.the_timer.data.the_timer_starttime.the_startTime?null:t.the_timer.data.the_timer_starttime.the_startTime.data,null==t||null==t.the_timer||null==t.the_timer.data||null==t.the_timer.data.the_timer_endtime||null==t.the_timer.data.the_timer_endtime.the_endTime?null:t.the_timer.data.the_timer_endtime.the_endTime.data)," "),e.xp6(2),e.hij(" ",null==t||null==t.the_timer||null==t.the_timer.data||null==t.the_timer.data.the_timer_note||null==t.the_timer.data.the_timer_note.the_note?null:t.the_timer.data.the_timer_note.the_note.data," ")}}function ag(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"table",13)(11,"tbody"),e.YNc(12,lg,9,4,"tr",14),e.qZA()()(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.ALo(16,"UTCToLocalTime"),e.qZA(),e.TgZ(17,"td")(18,"a",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.handleIssuePreview(null==r||null==r.projectIssue?null:r.projectIssue.id))}),e.TgZ(19,"span",17),e._uU(20,"visibility"),e.qZA()()()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(null==t||null==t.projectIssue||null==t.projectIssue.data||null==t.projectIssue.data.title?null:t.projectIssue.data.title.data),e.xp6(2),e.hij(" ",null==t||null==t.projectIssue||null==t.projectIssue.data||null==t.projectIssue.data.the_issue_category||null==t.projectIssue.data.the_issue_category.the_category?null:t.projectIssue.data.the_issue_category.the_category.data," "),e.xp6(2),e.Oqu(null==t||null==t.projectIssue||null==t.projectIssue.data||null==t.projectIssue.data.priority?null:t.projectIssue.data.priority.data),e.xp6(2),e.hij(" ",n.getBoardName(null==t||null==t.projectIssue||null==t.projectIssue.data||null==t.projectIssue.data.boardId?null:t.projectIssue.data.boardId.data)," "),e.xp6(4),e.Q6J("ngForOf",null==t||null==t.projectIssue||null==t.projectIssue.data?null:t.projectIssue.data.projectIssue_s_timer),e.xp6(2),e.hij(" ",e.xi3(15,6,e.lcZ(16,9,null==t||null==t.projectIssue?null:t.projectIssue.created_on),"medium")," ")}}function cg(o,i){if(1&o&&(e.ynx(0),e.YNc(1,ag,21,11,"tr",15),e.BQk()),2&o){const t=i.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.hasUserInvolvedOnIssue(t))}}function dg(o,i){if(1&o&&(e.TgZ(0,"div",12)(1,"table",13)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Issue name"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Category"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Priority"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Status"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Time Tracked"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Reported on"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,cg,2,1,"ng-container",14),e.qZA()()()),2&o){const t=e.oxw();e.xp6(19),e.Q6J("ngForOf",t.issues)}}function ug(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"No Tasks Tracked !!!"),e.qZA())}let pg=(()=>{const i=class{constructor(n,r,s){this._activeModal=n,this.router=r,this._activatedRoute=s,this.boards=[],this.userTotalTrackedTime=""}ngOnInit(){this.getUserTotalTrackedDuration()}handleIssuePreview(n){this._activeModal.dismiss(),this.router.navigate([],{relativeTo:this._activatedRoute,queryParams:{issue:n},queryParamsHandling:"merge"})}getFormatedTime(n,r){if(n&&r){const s=new Date(r).getTime()-new Date(n).getTime();return this.formatDuration(s)}if(n&&!r){const s=(new Date).getTime()-new Date(n).getTime();return"Working "+this.formatDuration(s)}return"No timer"}formatDuration(n){let r=Math.floor(n/1e3),s=Math.floor(r/60),l=Math.floor(s/60);const a=Math.floor(l/24);l%=24,s%=60,r%=60;let c=r+"s";return s>0&&(c=s+"m "+c),l>0&&(c=l+"h "+c),a>0&&(c=a+"d "+c),c}getBoardName(n){const r=parseInt(n);return this.boards.find(l=>l?.projectBoard?.id==r)?.projectBoard?.data?.title?.data}hasUserInvolvedOnIssue(n){const r=n?.projectIssue?.data?.assignedUsers?.data;if(r&&r?.length&&r?.includes(this.user?.the_user?.id)||r?.includes(this.user?.the_user?.id?.toString()))return!0;const s=n?.projectIssue?.data?.projectIssue_s_timer;for(let l=0;l<s?.length;l++)if(s[l]?.the_timer?.data?.the_timer_user?.the_user?.id==this.user?.the_user?.id)return!0;return!1}getUserTotalTrackedDuration(){let n=0;console.log("user",this.user);for(let r=0;r<this.issues.length;r++){const s=this.issues[r];if(this.hasUserInvolvedOnIssue(s)){const l=s?.projectIssue?.data?.projectIssue_s_timer;for(let a=0;a<l?.length;a++){const c=l[a];if(c?.the_timer?.data?.the_timer_user?.the_user?.id==this.user?.the_user?.id){const d=c?.the_timer?.data?.the_timer_starttime?.the_startTime?.data,u=c?.the_timer?.data?.the_timer_endtime?.the_endTime?.data;d&&u?n+=new Date(u).getTime()-new Date(d).getTime():d&&!u&&(n+=(new Date).getTime()-new Date(d).getTime())}}}}this.userTotalTrackedTime=this.formatDuration(n)}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.Kz),e.Y36(H.F0),e.Y36(H.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-issue-list"]],inputs:{issues:"issues",boards:"boards",user:"user",fromDate:"fromDate",toDate:"toDate"},decls:30,vars:10,consts:[[1,"modal-header"],[1,"modal-title","text-capitalize"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"d-flex","align-items-center","gap-4"],[1,"d-flex","align-items-center","justify-content-center"],["class","rounded-circle object-fit-cover border border-2 x min-img-size bg-primary","style","height: 80px; width: 80px","alt","",3,"title","src",4,"ngIf","ngIfElse"],["defaultImage",""],["class","d-flex flex-column table-responsive",4,"ngIf","ngIfElse"],["noIssue",""],["alt","",1,"rounded-circle","object-fit-cover","border","border-2","x","min-img-size","bg-primary",2,"height","80px","width","80px",3,"title","src"],[1,"rounded-circle","border","border-2","bg-primary","min-img-size","text-white","text-center","text-capitalize","d-flex","align-items-center","justify-content-center",2,"height","80px","width","80px",3,"title"],[1,"d-flex","flex-column","table-responsive"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],["role","button",3,"click"],[1,"material-symbols-outlined"],[1,"py-0",2,"min-width","50px"],["class","rounded-circle object-fit-cover border border-2 x min-img-size h-25px w-25px bg-primary","alt","",3,"title","src",4,"ngIf","ngIfElse"],[1,"py-0"],["alt","",1,"rounded-circle","object-fit-cover","border","border-2","x","min-img-size","h-25px","w-25px","bg-primary",3,"title","src"],[1,"rounded-circle","border","border-2","h-25px","w-25px","bg-primary","min-img-size","text-white","text-center","text-capitalize",3,"title"]],template:function(r,s){if(1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"User Timing Details"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return s._activeModal.dismiss()}),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5),e.YNc(7,ig,1,2,"img",6),e.YNc(8,og,2,2,"ng-template",null,7,e.W1O),e.qZA(),e.TgZ(10,"div")(11,"p")(12,"b"),e._uU(13,"Name: "),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"p")(16,"b"),e._uU(17,"Email: "),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"p")(20,"b"),e._uU(21,"Total Time: "),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"p")(24,"b"),e._uU(25,"Result Duration: "),e.qZA(),e._uU(26),e.qZA()()(),e.YNc(27,dg,20,1,"div",8),e.YNc(28,ug,2,0,"ng-template",null,9,e.W1O),e.qZA()),2&r){const l=e.MAs(9),a=e.MAs(29);e.xp6(7),e.Q6J("ngIf",null==s.user||null==s.user.the_user||null==s.user.the_user.data||null==s.user.the_user.data.the_entity||null==s.user.the_user.data.the_entity.data||null==s.user.the_user.data.the_entity.data.the_person||null==s.user.the_user.data.the_entity.data.the_person.data||null==s.user.the_user.data.the_entity.data.the_person.data.profile_img?null:s.user.the_user.data.the_entity.data.the_person.data.profile_img.data)("ngIfElse",l),e.xp6(7),e.AsE(" ",null==s.user||null==s.user.the_user||null==s.user.the_user.data||null==s.user.the_user.data.the_entity||null==s.user.the_user.data.the_entity.data||null==s.user.the_user.data.the_entity.data.the_person||null==s.user.the_user.data.the_entity.data.the_person.data||null==s.user.the_user.data.the_entity.data.the_person.data.first_name?null:s.user.the_user.data.the_entity.data.the_person.data.first_name.data," ",null==s.user||null==s.user.the_user||null==s.user.the_user.data||null==s.user.the_user.data.the_entity||null==s.user.the_user.data.the_entity.data||null==s.user.the_user.data.the_entity.data.the_person||null==s.user.the_user.data.the_entity.data.the_person.data||null==s.user.the_user.data.the_entity.data.the_person.data.last_name?null:s.user.the_user.data.the_entity.data.the_person.data.last_name.data," "),e.xp6(4),e.hij(" ",null==s.user||null==s.user.the_user||null==s.user.the_user.data||null==s.user.the_user.data.the_user_data||null==s.user.the_user.data.the_user_data.data||null==s.user.the_user.data.the_user_data.data.primary_email?null:s.user.the_user.data.the_user_data.data.primary_email.data," "),e.xp6(4),e.hij(" ",s.userTotalTrackedTime,""),e.xp6(4),e.AsE(" ",s.fromDate," - ",s.toDate,""),e.xp6(1),e.Q6J("ngIf",null==s.issues?null:s.issues.length)("ngIfElse",a)}},dependencies:[I.sg,I.O5,I.uU,mo.u],styles:[".object-fit-cover[_ngcontent-%COMP%]{object-fit:cover}"]}),o})();function _g(o,i){1&o&&(e.TgZ(0,"div",2),e._UZ(1,"span",3),e.qZA())}function mg(o,i){1&o&&e._UZ(0,"div",14)}function gg(o,i){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function hg(o,i){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function fg(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"label",19),e._uU(2,"Choose a Category"),e.qZA(),e.TgZ(3,"select",20),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.selectedCategory=r)})("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.handleTimerFilterChange())}),e.YNc(4,hg,2,2,"option",21),e.qZA()()}if(2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.selectedCategory),e.xp6(1),e.Q6J("ngForOf",t.categoriesList)}}function vg(o,i){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.email),e.xp6(1),e.hij(" ",t.firstName+" "+t.lastName," ")}}function bg(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"label",19),e._uU(2,"Choose a User"),e.qZA(),e.TgZ(3,"select",20),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.selectedUser=r)})("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.handleTimerFilterChange())}),e.YNc(4,vg,2,2,"option",21),e.qZA()()}if(2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.selectedUser),e.xp6(1),e.Q6J("ngForOf",t.projectUsers)}}function xg(o,i){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.sprintName," ")}}function Cg(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"label",19),e._uU(2,"Choose a Sprint"),e.qZA(),e.TgZ(3,"select",20),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.selectedSprint=r)})("change",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.handleTimerFilterChange())}),e.YNc(4,xg,2,2,"option",21),e.qZA()()}if(2&o){const t=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.selectedSprint),e.xp6(1),e.Q6J("ngForOf",t.sprintStatus)}}function Tg(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",18)(2,"label",19),e._uU(3,"From Date"),e.qZA(),e.TgZ(4,"input",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.timerFromDate=r)})("change",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.handleTimerDateChange(r,"from"))}),e.qZA()(),e.TgZ(5,"div",18)(6,"label",19),e._uU(7,"To Date"),e.qZA(),e.TgZ(8,"input",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.timerToDate=r)})("change",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.handleTimerDateChange(r,"to"))}),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw(3);e.xp6(4),e.Q6J("ngModel",t.timerFromDate),e.xp6(4),e.Q6J("ngModel",t.timerToDate)}}function yg(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"google-chart",27),e.NdJ("select",function(r){e.CHM(t);const s=e.oxw(3);return e.KtG(s.handleTimerPreview(r))}),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("type",t.chartType.BarChart)("data",t.timeTrackedData)("columns",t.timeTrackedColumns)("options",t.timeTrackedOptions)}}function wg(o,i){1&o&&(e.TgZ(0,"div",28)(1,"h4"),e._uU(2,"No Timers"),e.qZA()())}function Ig(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",15)(2,"h4",16),e._uU(3,"Tracked Timer"),e.qZA(),e.TgZ(4,"div",17)(5,"div",18)(6,"label",19),e._uU(7,"Filter By"),e.qZA(),e.TgZ(8,"select",20),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.timerFilterOption=r)})("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleTimerFilterChange())}),e.YNc(9,gg,2,2,"option",21),e.qZA()(),e.YNc(10,fg,5,2,"div",22),e.YNc(11,bg,5,2,"div",22),e.YNc(12,Cg,5,2,"div",22),e.YNc(13,Tg,9,2,"ng-container",13),e.qZA()(),e.YNc(14,yg,1,4,"google-chart",23),e.YNc(15,wg,3,0,"ng-template",null,24,e.W1O),e.qZA()}if(2&o){const t=e.MAs(16),n=e.oxw(2);e.xp6(8),e.Q6J("ngModel",n.timerFilterOption),e.xp6(1),e.Q6J("ngForOf",n.timerFilterOptionList),e.xp6(1),e.Q6J("ngIf","Category"==n.timerFilterOption),e.xp6(1),e.Q6J("ngIf","User"==n.timerFilterOption),e.xp6(1),e.Q6J("ngIf","Sprint"==n.timerFilterOption),e.xp6(1),e.Q6J("ngIf","Date"==n.timerFilterOption),e.xp6(1),e.Q6J("ngIf",n.timeTrackedData.length)("ngIfElse",t)}}function Ag(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",29)(2,"h4",16),e._uU(3,"Issue based Category"),e.qZA(),e.TgZ(4,"div",17)(5,"div",18)(6,"label",19),e._uU(7,"From Date"),e.qZA(),e.TgZ(8,"input",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.categoryFromDate=r)})("change",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.handleCategoryDateChange(r,"from"))}),e.qZA()(),e.TgZ(9,"div",18)(10,"label",19),e._uU(11,"To Date"),e.qZA(),e.TgZ(12,"input",26),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.categoryToDate=r)})("change",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.handleCategoryDateChange(r,"to"))}),e.qZA()()()(),e._UZ(13,"google-chart",30),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(8),e.Q6J("ngModel",t.categoryFromDate),e.xp6(4),e.Q6J("ngModel",t.categoryToDate),e.xp6(1),e.Q6J("type",t.chartType.PieChart)("data",t.categoryPieData)("columns",t.categoryPieColumns)("options",t.categoryPieOptions)}}function Dg(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"h4"),e._uU(2,"Sprint Status"),e.qZA(),e.TgZ(3,"google-chart",27),e.NdJ("select",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onSprintStatusSelect(r))}),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("type",t.chartType.BarChart)("data",t.barData)("columns",t.barColumns)("options",t.barOptions)}}function Sg(o,i){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.sprintName," ")}}function kg(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",31)(2,"h4",16),e._uU(3,"Assignee Load for the sprint"),e.qZA(),e.TgZ(4,"div",18)(5,"label",19),e._uU(6,"Choose a Sprint"),e.qZA(),e.TgZ(7,"select",20),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.selectedSprint=r)})("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleSprintChange())}),e.YNc(8,Sg,2,2,"option",21),e.qZA()()(),e._UZ(9,"google-chart",32),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(7),e.Q6J("ngModel",t.selectedSprint),e.xp6(1),e.Q6J("ngForOf",t.sprintStatus),e.xp6(1),e.Q6J("type",t.chartType.ColumnChart)("data",t.data)("columns",t.columns)}}function Mg(o,i){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.sprintName," ")}}function Zg(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",31)(2,"h4",16),e._uU(3,"Issues priority"),e.qZA(),e.TgZ(4,"div",18)(5,"label",19),e._uU(6,"Choose a Sprint"),e.qZA(),e.TgZ(7,"select",20),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.selectedSprint=r)})("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleSprintChange())}),e.YNc(8,Mg,2,2,"option",21),e.qZA()()(),e._UZ(9,"google-chart",30),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(7),e.Q6J("ngModel",t.selectedSprint),e.xp6(1),e.Q6J("ngForOf",t.sprintStatus),e.xp6(1),e.Q6J("type",t.chartType.PieChart)("data",t.pieData)("columns",t.pieColumns)("options",t.pieOptions)}}function Eg(o,i){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.sprintName," ")}}function Pg(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",31)(2,"h4",16),e._uU(3,"Issue timeline"),e.qZA(),e.TgZ(4,"div",18)(5,"label",19),e._uU(6,"Choose a Sprint"),e.qZA(),e.TgZ(7,"select",20),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.selectedSprint=r)})("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleSprintChange())}),e.YNc(8,Eg,2,2,"option",21),e.qZA()()(),e._UZ(9,"google-chart",32),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(7),e.Q6J("ngModel",t.selectedSprint),e.xp6(1),e.Q6J("ngForOf",t.sprintStatus),e.xp6(1),e.Q6J("type",t.chartType.LineChart)("data",t.sprintTimelineData)("columns",t.sprintTimelineColumns)}}function Og(o,i){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.sprintName," ")}}function Ng(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",31)(2,"h4",16),e._uU(3,"Board Timeline"),e.qZA(),e.TgZ(4,"div",18)(5,"label",19),e._uU(6,"Choose a Sprint"),e.qZA(),e.TgZ(7,"select",20),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.selectedSprint=r)})("change",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleSprintChange())}),e.YNc(8,Og,2,2,"option",21),e.qZA()()(),e._UZ(9,"google-chart",32),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(7),e.Q6J("ngModel",t.selectedSprint),e.xp6(1),e.Q6J("ngForOf",t.sprintStatus),e.xp6(1),e.Q6J("type",t.chartType.ColumnChart)("data",t.boardTypeData)("columns",t.boardTypeColumns)}}function Ug(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h4",8),e._uU(5,"Project Reports"),e.qZA(),e.TgZ(6,"ul",9)(7,"li",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectSection("assigneeLoad"))}),e._uU(8," Assignee Load "),e.qZA(),e.TgZ(9,"li",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectSection("trackedTimer"))}),e._uU(10," Tracked Timer "),e.qZA(),e.TgZ(11,"li",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectSection("issueCategory"))}),e._uU(12," Issue based Category "),e.qZA(),e.TgZ(13,"li",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectSection("sprintStatus"))}),e._uU(14," Sprint Status "),e.qZA(),e.TgZ(15,"li",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectSection("priorityIssues"))}),e._uU(16," Issues Priority "),e.qZA(),e.TgZ(17,"li",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectSection("timeline"))}),e._uU(18," Issue Timeline "),e.qZA(),e.TgZ(19,"li",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectSection("boardTimeline"))}),e._uU(20," Board Timeline "),e.qZA(),e.TgZ(21,"li",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.selectSection("ProjectReportTable"))}),e._uU(22," Report Table "),e.qZA()()(),e.TgZ(23,"div",11),e.YNc(24,mg,1,0,"div",12),e.YNc(25,Ig,17,8,"div",13),e.YNc(26,Ag,14,6,"div",13),e.YNc(27,Dg,4,4,"div",13),e.YNc(28,kg,10,5,"div",13),e.YNc(29,Zg,10,6,"div",13),e.YNc(30,Pg,10,5,"div",13),e.YNc(31,Ng,10,5,"div",13),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(7),e.ekj("active","assigneeLoad"===t.selectedSection),e.xp6(2),e.ekj("active","trackedTimer"===t.selectedSection),e.xp6(2),e.ekj("active","issueCategory"===t.selectedSection),e.xp6(2),e.ekj("active","sprintStatus"===t.selectedSection),e.xp6(2),e.ekj("active","priorityIssues"===t.selectedSection),e.xp6(2),e.ekj("active","timeline"===t.selectedSection),e.xp6(2),e.ekj("active","boardTimeline"===t.selectedSection),e.xp6(2),e.ekj("active","ProjectReportTable"===t.selectedSection),e.xp6(3),e.Q6J("ngIf","ProjectReportTable"==t.selectedSection),e.xp6(1),e.Q6J("ngIf","trackedTimer"==t.selectedSection),e.xp6(1),e.Q6J("ngIf","issueCategory"==t.selectedSection),e.xp6(1),e.Q6J("ngIf","sprintStatus"==t.selectedSection),e.xp6(1),e.Q6J("ngIf","assigneeLoad"==t.selectedSection),e.xp6(1),e.Q6J("ngIf","priorityIssues"===t.selectedSection),e.xp6(1),e.Q6J("ngIf","timeline"==t.selectedSection),e.xp6(1),e.Q6J("ngIf","boardTimeline"==t.selectedSection)}}let jg=(()=>{const i=class{selectSection(n){this.selectedSection=n,"ProjectReportTable"===this.selectedSection&&setTimeout(()=>{this.initializeReportTableWidget()},0)}constructor(n,r,s){this._activatedRoute=n,this._projectService=r,this._modalService=s,this.selectedSection="assigneeLoad",this.chartType=$.oX,this.loader=!1,this.projectId=this._activatedRoute.snapshot.paramMap.get("id"),this.prioritiesList=Tn.N,this.boards=[],this.sprintStatus=[],this.columns=["User","Issue"],this.data=[],this.pieColumns=["Priority","Percentage"],this.pieData=[],this.pieOptions={height:400},this.categoryPieColumns=["Category","count"],this.categoryPieData=[],this.categoryPieOptions={height:400},this.categoryFromDate=new Date((new Date).setMonth((new Date).getMonth()-1)).toISOString().slice(0,10),this.categoryToDate=(new Date).toISOString().slice(0,10),this.timeTrackedData=[],this.timeTrackedColumns=[],this.timeTrackedOptions={title:"User Time Tracked",subtitle:"Time spent by user in minute",height:100,bar:{groupWidth:"75%"},legend:{position:"top"}},this.timeTrackedResponse=[],this.timerFromDate=new Date((new Date).setMonth((new Date).getMonth()-1)).toISOString().slice(0,10),this.timerToDate=(new Date).toISOString().slice(0,10),this.timerFilterOptionList=["Date","User","Category","Sprint","Overall"],this.timerFilterOption="Date",this.selectedCategory="",this.categoriesList=[],this.selectedUser="",this.sprintTimelineColumns=[],this.sprintTimelineData=[],this.barData=[],this.barColumns=["string","Completed Issues","Uncompleted Issues","Total Issues"],this.barOptions={title:"Sprint Status",subtitle:"Completed and Uncompleted Issues in a sprint",hAxis:{title:"Number of Tasks"},height:100,bar:{groupWidth:"75%"},legend:{position:"top"}},this.issueTypeData=[],this.issueTypeColumns=["string","Bug","Feature","Unknown"],this.issueTypeOptions={hAxis:{title:"Sprints"},bar:{groupWidth:"75%"},legend:{position:"top"},colors:["#D53032","#287233","#8F8F8F"]},this.boardTypeData=[],this.boardTypeColumns=["string","Bug","Feature","Unknown"],this.boardTypeOptions={hAxis:{title:"Boards"},bar:{groupWidth:"75%"},legend:{position:"top"},colors:["#D53032","#287233","#8F8F8F"]}}ngOnInit(){this.projectTemplate?.shownTabs?.includes("Issues")&&this.initializeReportData(),this.fetchProjectCategories(),this.initCategoryReports(),this.initTimerReports(),this.selectedSectionChanged()}selectedSectionChanged(){"ProjectReportTable"===this.selectedSection&&setTimeout(()=>{this.initializeReportTableWidget()},0)}initializeReportTableWidget(){var n=this;return(0,y.Z)(function*(){const r=document.getElementById("ProjectReportTable");if(r)try{yield(0,T.FtU)(101560581,r,n.projectId)}catch(s){console.error("Error rendering widget:",s)}else console.error("Element with ID 'ProjectReportTable' not found!")})()}initializeReportData(){this._projectService.getProjectReport(this.projectId).subscribe({next:n=>{this.sprintStatus=n?.data?.sprintStatus,this.projectUsers=n.data.projectUsers||[],this.projectUsers.length&&(this.selectedUser=this.projectUsers[0].email),this.barData=this.sprintStatus?.slice(0,10)?.map(r=>[r?.sprintName,r?.completedIssuesCount,r?.uncompletedIssuesCount,r?.totalIssuesCount]),this.barData?.length&&(this.barOptions.height=100*this.barData.length-200),this.selectedSprint=this.sprintStatus?.[0]?.id,this.renderCharts()},error:n=>console.error(n)})}renderCharts(){if(this.selectedSprint){const n=this.sprintStatus?.find(r=>r.id==this.selectedSprint);this.data=this.projectUsers.map(r=>{if(n?.assigned?.[r.id]?.length>0)return[r?.firstName+" "+r?.lastName,n?.assigned?.[r.id]?.length??0]}).filter(r=>r),0==this.data?.length&&(this.data=[["Assigned",0]]),console.log("report col",this.data),console.log("report sprint",n),this.pieData=this.prioritiesList.map(r=>[r,n?.priorities?.[r]?.length??1e-4]),console.log(this.pieData,"report pie"),this.boardTypeData=n?.boardStatus?.map(r=>[r.title,r?.types?.bug,r?.types?.feature,r?.types?.unknown]),this.sprintTimelineColumns=["Date","Uncompleted","Completed"],this.sprintTimelineData=n?.sprintTimelineReport?.map(r=>[r?.date||"???",r?.uncompletedIssues||0,r?.completedIssuesCount||0])}}onSprintStatusSelect(n){const{row:r}=n?.selection?.[0],s=this.sprintStatus?.[r]?.id;s&&(this.selectedSprint=s,this.handleSprintChange())}handleSprintChange(){this.renderCharts()}initCategoryReports(){const n=new Date(this.categoryFromDate).getMonth()+1+"/"+new Date(this.categoryFromDate).getDate()+"/"+new Date(this.categoryFromDate).getFullYear(),r=new Date(this.categoryToDate).getMonth()+1+"/"+new Date(this.categoryToDate).getDate()+"/"+new Date(this.categoryToDate).getFullYear(),s=new T.Kbf;s.name="fromDateFilter",s.type="entry_timestamp",s.search=n,s.logicoperator=">",s.operateon="issue";const l=new T.Kbf;l.name="toDateFilter",l.type="entry_timestamp",l.search=r,l.logicoperator="<",l.operateon="issue";const a=new T.LtL;a.name="category",a.typeConnection="the_issue_category";const c=new T.LtL;c.name="issue",c.isOldConnectionType=!0,c.typeConnection="boomFolder_s_project_issue_s",c.freeschemaQueries=[a],c.includeInFilter=!0;const d=new T.LtL;d.name="project",d.conceptIds=[this.projectId],d.freeschemaQueries=[c],d.filters=[s,l],d.filterLogic="( fromDateFilter EXAND toDateFilter )",d.outputFormat=T.Zec;const u=localStorage.getItem("profile");(0,T.og0)(d,JSON.parse(u||"")).subscribe(_=>{const m=_?.[0]?.boomFolder?.boomFolder_s_project_issue_s,p=["filled","unknown"],f={filled:0,unknown:0};for(let b=0;b<m?.length;b++){const v=m[b]?.projectIssue?.data?.the_issue_category?.the_category?.data;v&&!p.includes(v)&&(p.push(v),f[v]=0),v?f[v]+=1:f.unknown+=1}this.categoryPieData=[...p.map(b=>[b,f[b]||0])]})}initTimerReports(){console.log("this is the data",this.sprintStatus,this.selectedSprint);const n=this.sprintStatus?.find(N=>N.id==this.selectedSprint)?.sprintName||"",r=new Date(this.timerFromDate).getMonth()+1+"/"+new Date(this.timerFromDate).getDate()+"/"+new Date(this.timerFromDate).getFullYear(),s=new Date(this.timerToDate).getMonth()+1+"/"+new Date(this.timerToDate).getDate()+"/"+new Date(this.timerToDate).getFullYear(),l=new T.Kbf;l.name="issueFilter",l.type="id",l.search="0",l.logicoperator=">",l.operateon="issue";const a=new T.Kbf;a.name="boardFilter",a.type="id",a.search="0",a.logicoperator=">",a.operateon="board";const c=new T.Kbf;c.name="sprintFilter",c.type="the_title",c.search=n,c.logicoperator="=",c.operateon="sprintSelf";const d=new T.Kbf;d.name="fromDateFilter",d.type="entry_timestamp",d.search=r,d.logicoperator=">",d.operateon="issue";const u=new T.Kbf;u.name="toDateFilter",u.type="entry_timestamp",u.search=s,u.logicoperator="<",u.operateon="issue";const _=new T.Kbf;_.name="categoryFilter",_.type="the_category",_.search=this.selectedCategory,_.logicoperator="=",_.operateon="category";const m=new T.LtL;m.name="user",m.selectors=["self"],m.typeConnection="the_timer_user";const p=new T.LtL;p.name="timer",p.typeConnection="projectIssue_s_timer",p.selectors=["the_timer_starttime","the_timer_endtime","the_timer_note","the_timer_createdat","the_timer_updatedat","the_timer_user"],p.freeschemaQueries=[m];const f=new T.LtL;f.name="category",f.typeConnection="the_issue_category";const b=new T.LtL;b.name="issue",b.isOldConnectionType=!0,b.selectors=["self"],b.typeConnection="boomFolder_s_project_issue_s",b.freeschemaQueries=[p,f],b.includeInFilter=!0;const C=new T.LtL;C.name="board",C.isOldConnectionType=!0,C.selectors=["self"],C.typeConnection="boomFolder_s_project_board_s";const v=new T.LtL;v.name="sprintSelf",v.typeConnection="self";const w=new T.LtL;w.name="sprint",w.isOldConnectionType=!0,w.selectors=["self"],w.typeConnection="boomFolder_s_project_sprint_s",w.freeschemaQueries=[v];const A=new T.LtL;A.name="project",A.conceptIds=[this.projectId],A.freeschemaQueries=[b,C,w],A.outputFormat=T.Zec,"Date"==this.timerFilterOption?(A.filters=[d,u,a],A.filterLogic="( ( fromDateFilter EXAND toDateFilter ) OR boardFilter )"):"Category"==this.timerFilterOption?(A.filters=[_,a],A.filterLogic="( categoryFilter OR boardFilter )"):"Sprint"==this.timerFilterOption&&(A.filters=[c,l],A.filterLogic="( issueFilter AND sprintFilter )");const M=localStorage.getItem("profile");(0,T.og0)(A,JSON.parse(M||"")).subscribe(N=>{console.log("value",N);const P=[],j={};this.boards=N?.[0]?.boomFolder?.boomFolder_s_project_board_s;let E=N?.[0]?.boomFolder?.boomFolder_s_project_issue_s||[];"Sprint"==this.timerFilterOption&&(E=E?.filter(G=>G?.projectIssue?.data?.sprintId?.data==this.selectedSprint?.toString())),this.timeTrackedResponse=E;for(let G=0;G<E?.length;G++){const vn=E[G]?.projectIssue?.data?.projectIssue_s_timer;for(let Ct=0;Ct<vn?.length;Ct++){const Ki=vn[Ct],bn=Ki?.the_timer?.data?.the_timer_user?.the_user?.data?.the_user_data?.data?.primary_email?.data;P.includes(bn)||(P.push(bn),j[bn]=0);const zl=Ki?.the_timer?.data?.the_timer_starttime?.the_startTime?.data,Vl=Ki?.the_timer?.data?.the_timer_endtime?.the_endTime?.data;zl&&Vl&&(j[bn]+=new Date(Vl).getTime()-new Date(zl).getTime())}}this.timeTrackedData=P.map(G=>[G,j[G]/6e4]),0==this.timeTrackedData?.length&&(this.timeTrackedData=[]),"User"==this.timerFilterOption&&(this.timeTrackedData=this.timeTrackedData.filter(G=>G[0]==this.selectedUser)),this.timeTrackedColumns=["Email","time in min"],console.log(this.timeTrackedData)})}handleCategoryDateChange(n,r){"from"==r?this.categoryFromDate=n.target.value:"to"==r&&(this.categoryToDate=n.target.value),this.initCategoryReports()}handleTimerDateChange(n,r){"from"==r?this.timerFromDate=n.target.value:"to"==r&&(this.timerToDate=n.target.value),this.initTimerReports()}handleTimerPreview(n){if(n.selection[0]){const s=this.getUserFromEmail(this.timeTrackedData[n.selection[0]?.row][0]),l=this._modalService.open(pg,{size:"xl"});l.componentInstance.issues=this.timeTrackedResponse,l.componentInstance.user=s,l.componentInstance.boards=this.boards,l.componentInstance.fromDate=this.timerFromDate,l.componentInstance.toDate=this.timerToDate}}getUserFromEmail(n){const r=this.timeTrackedResponse;for(let s=0;s<r?.length;s++){const a=r[s]?.projectIssue?.data?.projectIssue_s_timer;for(let c=0;c<a?.length;c++){const d=a[c];if(d?.the_timer?.data?.the_timer_user?.the_user?.data?.the_user_data?.data?.primary_email?.data==n)return d?.the_timer?.data?.the_timer_user}}}fetchProjectCategories(){var n=this;return(0,y.Z)(function*(){const r=new T.LtL;r.name="category",r.typeConnection="the_project_s_category";const s=new T.LtL;s.conceptIds=[n.projectId],s.freeschemaQueries=[r],(0,T.og0)(s,"").subscribe(l=>{let a=l?.[0]?.boomFolder?.the_project_s_category;a=a?.map(c=>c?.the_category)||[],n.categoriesList=[...new Set(a)],n.categoriesList?.length>0&&(n.selectedCategory=n.categoriesList?.[0]||""),console.log("val",l)})})()}handleTimerFilterChange(){if(console.log("timer option",this.timerFilterOption,this.categoriesList),"Category"==this.timerFilterOption){if(0==this.categoriesList?.length)return;this.selectedCategory||(this.selectedCategory=this.categoriesList?.[0]||"")}this.initTimerReports()}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(H.gz),e.Y36(L.Y),e.Y36(k.FF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-project-reports"]],viewQuery:function(r,s){if(1&r&&(e.Gf($.P4,5),e.Gf($.P4,5),e.Gf($.P4,5),e.Gf($.P4,5),e.Gf($.P4,5),e.Gf($.P4,5),e.Gf($.P4,5)),2&r){let l;e.iGM(l=e.CRH())&&(s.columnChart=l.first),e.iGM(l=e.CRH())&&(s.pieChart=l.first),e.iGM(l=e.CRH())&&(s.timeTrack=l.first),e.iGM(l=e.CRH())&&(s.categoryPieChart=l.first),e.iGM(l=e.CRH())&&(s.barChart=l.first),e.iGM(l=e.CRH())&&(s.issueTypeChart=l.first),e.iGM(l=e.CRH())&&(s.boardTypeChart=l.first)}},inputs:{projectData:"projectData",projectTemplate:"projectTemplate"},decls:3,vars:2,consts:[["class","loading",4,"ngIf","ngIfElse"],["loaded",""],[1,"loading"],[1,"loader"],[1,"container","mt-4"],[1,"card","p-3"],[1,"row"],[1,"col-md-2","p-0","bg-light","border-end"],[1,"mb-3","p-3"],[1,"list-unstyled"],[1,"menu-item",3,"click"],[1,"col-md-10","p-3"],["id","ProjectReportTable",4,"ngIf"],[4,"ngIf"],["id","ProjectReportTable"],[1,"section_timer_wrap","d-flex","justify-content-between","align-items-center","mb-2"],[1,"text-capitalize"],[1,"d-flex","gap-2","time-filter-entry"],[1,""],[1,"form-label"],[1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["class","",4,"ngIf"],["style","width: 100%; min-height: 400px",3,"type","data","columns","options","select",4,"ngIf","ngIfElse"],["noTimer",""],[3,"value"],["type","date",1,"form-select",3,"ngModel","ngModelChange","change"],[2,"width","100%","min-height","400px",3,"type","data","columns","options","select"],[1,"text-center","my-4"],[1,"section_timer_wrap","d-flex","justify-content-between","align-items-center"],[2,"width","100%",3,"type","data","columns","options"],[1,"d-flex","justify-content-between","align-items-center"],[2,"width","100%",3,"type","data","columns"]],template:function(r,s){if(1&r&&(e.YNc(0,_g,2,0,"div",0),e.YNc(1,Ug,32,24,"ng-template",null,1,e.W1O)),2&r){const l=e.MAs(2);e.Q6J("ngIf",s.loader)("ngIfElse",l)}},dependencies:[I.sg,I.O5,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.On,$.P4],styles:["@media (max-width: 600px){.section_timer_wrap[_ngcontent-%COMP%], .time-filter-entry[_ngcontent-%COMP%]{display:block!important}}.menu-item[_ngcontent-%COMP%]{padding:10px;width:100%;cursor:pointer;transition:all .3s ease-in-out}.menu-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:#000}.menu-item.active[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#000;font-weight:700}"]}),o})();var at,S,bo,xo,Je,Me,Co,To,yo,Mt={},wo=[],Rg=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ue(o,i){for(var t in i)o[t]=i[t];return o}function Io(o){var i=o.parentNode;i&&i.removeChild(o)}function h(o,i,t){var n,r,s,l={};for(s in i)"key"==s?n=i[s]:"ref"==s?r=i[s]:l[s]=i[s];if(arguments.length>2&&(l.children=arguments.length>3?at.call(arguments,2):t),"function"==typeof o&&null!=o.defaultProps)for(s in o.defaultProps)void 0===l[s]&&(l[s]=o.defaultProps[s]);return ct(o,l,n,r,null)}function ct(o,i,t,n,r){var s={type:o,props:i,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++bo};return null==r&&null!=S.vnode&&S.vnode(s),s}function R(o){return o.children}function Ao(o,i,t){"-"===i[0]?o.setProperty(i,t??""):o[i]=null==t?"":"number"!=typeof t||Rg.test(i)?t:t+"px"}function Zt(o,i,t,n,r){var s;e:if("style"===i)if("string"==typeof t)o.style.cssText=t;else{if("string"==typeof n&&(o.style.cssText=n=""),n)for(i in n)t&&i in t||Ao(o.style,i,"");if(t)for(i in t)n&&t[i]===n[i]||Ao(o.style,i,t[i])}else if("o"===i[0]&&"n"===i[1])s=i!==(i=i.replace(/Capture$/,"")),i=i.toLowerCase()in o?i.toLowerCase().slice(2):i.slice(2),o.l||(o.l={}),o.l[i+s]=t,t?n||o.addEventListener(i,s?So:Do,s):o.removeEventListener(i,s?So:Do,s);else if("dangerouslySetInnerHTML"!==i){if(r)i=i.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==i&&"height"!==i&&"href"!==i&&"list"!==i&&"form"!==i&&"tabIndex"!==i&&"download"!==i&&i in o)try{o[i]=t??"";break e}catch{}"function"==typeof t||(null==t||!1===t&&-1==i.indexOf("-")?o.removeAttribute(i):o.setAttribute(i,t))}}function Do(o){Je=!0;try{return this.l[o.type+!1](S.event?S.event(o):o)}finally{Je=!1}}function So(o){Je=!0;try{return this.l[o.type+!0](S.event?S.event(o):o)}finally{Je=!1}}function K(o,i){this.props=o,this.context=i}function dt(o,i){if(null==i)return o.__?dt(o.__,o.__.__k.indexOf(o)+1):null;for(var t;i<o.__k.length;i++)if(null!=(t=o.__k[i])&&null!=t.__e)return t.__e;return"function"==typeof o.type?dt(o):null}function ko(o){var i,t;if(null!=(o=o.__)&&null!=o.__c){for(o.__e=o.__c.base=null,i=0;i<o.__k.length;i++)if(null!=(t=o.__k[i])&&null!=t.__e){o.__e=o.__c.base=t.__e;break}return ko(o)}}function qg(o){Je?setTimeout(o):To(o)}function Sn(o){(!o.__d&&(o.__d=!0)&&Me.push(o)&&!Et.__r++||Co!==S.debounceRendering)&&((Co=S.debounceRendering)||qg)(Et)}function Et(){var o,i,t,n,r,s,l,a;for(Me.sort(function(c,d){return c.__v.__b-d.__v.__b});o=Me.shift();)o.__d&&(i=Me.length,n=void 0,r=void 0,l=(s=(t=o).__v).__e,(a=t.__P)&&(n=[],(r=ue({},s)).__v=s.__v+1,kn(a,s,r,t.__n,void 0!==a.ownerSVGElement,null!=s.__h?[l]:null,n,l??dt(s),s.__h),Oo(n,s),s.__e!=l&&ko(s)),Me.length>i&&Me.sort(function(c,d){return c.__v.__b-d.__v.__b}));Et.__r=0}function Mo(o,i,t,n,r,s,l,a,c,d){var u,_,m,p,f,b,C,v=n&&n.__k||wo,w=v.length;for(t.__k=[],u=0;u<i.length;u++)if(null!=(p=t.__k[u]=null==(p=i[u])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?ct(null,p,null,null,p):Array.isArray(p)?ct(R,{children:p},null,null,null):p.__b>0?ct(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)){if(p.__=t,p.__b=t.__b+1,null===(m=v[u])||m&&p.key==m.key&&p.type===m.type)v[u]=void 0;else for(_=0;_<w;_++){if((m=v[_])&&p.key==m.key&&p.type===m.type){v[_]=void 0;break}m=null}kn(o,p,m=m||Mt,r,s,l,a,c,d),f=p.__e,(_=p.ref)&&m.ref!=_&&(C||(C=[]),m.ref&&C.push(m.ref,null,p),C.push(_,p.__c||f,p)),null!=f?(null==b&&(b=f),"function"==typeof p.type&&p.__k===m.__k?p.__d=c=Zo(p,c,o):c=Eo(o,p,m,v,f,c),"function"==typeof t.type&&(t.__d=c)):c&&m.__e==c&&c.parentNode!=o&&(c=dt(m))}for(t.__e=b,u=w;u--;)null!=v[u]&&("function"==typeof t.type&&null!=v[u].__e&&v[u].__e==t.__d&&(t.__d=Po(n).nextSibling),Uo(v[u],v[u]));if(C)for(u=0;u<C.length;u++)No(C[u],C[++u],C[++u])}function Zo(o,i,t){for(var n,r=o.__k,s=0;r&&s<r.length;s++)(n=r[s])&&(n.__=o,i="function"==typeof n.type?Zo(n,i,t):Eo(t,n,n,r,n.__e,i));return i}function pe(o,i){return i=i||[],null==o||"boolean"==typeof o||(Array.isArray(o)?o.some(function(t){pe(t,i)}):i.push(o)),i}function Eo(o,i,t,n,r,s){var l,a,c;if(void 0!==i.__d)l=i.__d,i.__d=void 0;else if(null==t||r!=s||null==r.parentNode)e:if(null==s||s.parentNode!==o)o.appendChild(r),l=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<n.length;c+=1)if(a==r)break e;o.insertBefore(r,s),l=s}return void 0!==l?l:r.nextSibling}function Po(o){var i,t,n;if(null==o.type||"string"==typeof o.type)return o.__e;if(o.__k)for(i=o.__k.length-1;i>=0;i--)if((t=o.__k[i])&&(n=Po(t)))return n;return null}function kn(o,i,t,n,r,s,l,a,c){var d,u,_,m,p,f,b,C,v,w,A,M,N,P,j,E=i.type;if(void 0!==i.constructor)return null;null!=t.__h&&(c=t.__h,a=i.__e=t.__e,i.__h=null,s=[a]),(d=S.__b)&&d(i);try{e:if("function"==typeof E){if(C=i.props,v=(d=E.contextType)&&n[d.__c],w=d?v?v.props.value:d.__:n,t.__c?b=(u=i.__c=t.__c).__=u.__E:("prototype"in E&&E.prototype.render?i.__c=u=new E(C,w):(i.__c=u=new K(C,w),u.constructor=E,u.render=Lg),v&&v.sub(u),u.props=C,u.state||(u.state={}),u.context=w,u.__n=n,_=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=E.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=ue({},u.__s)),ue(u.__s,E.getDerivedStateFromProps(C,u.__s))),m=u.props,p=u.state,u.__v=i,_)null==E.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==E.getDerivedStateFromProps&&C!==m&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(C,w),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(C,u.__s,w)||i.__v===t.__v){for(i.__v!==t.__v&&(u.props=C,u.state=u.__s,u.__d=!1),i.__e=t.__e,i.__k=t.__k,i.__k.forEach(function(G){G&&(G.__=i)}),A=0;A<u._sb.length;A++)u.__h.push(u._sb[A]);u._sb=[],u.__h.length&&l.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(C,u.__s,w),null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(m,p,f)})}if(u.context=w,u.props=C,u.__P=o,M=S.__r,N=0,"prototype"in E&&E.prototype.render){for(u.state=u.__s,u.__d=!1,M&&M(i),d=u.render(u.props,u.state,u.context),P=0;P<u._sb.length;P++)u.__h.push(u._sb[P]);u._sb=[]}else do{u.__d=!1,M&&M(i),d=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++N<25);u.state=u.__s,null!=u.getChildContext&&(n=ue(ue({},n),u.getChildContext())),_||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(m,p)),j=null!=d&&d.type===R&&null==d.key?d.props.children:d,Mo(o,Array.isArray(j)?j:[j],i,t,n,r,s,l,a,c),u.base=i.__e,i.__h=null,u.__h.length&&l.push(u),b&&(u.__E=u.__=null),u.__e=!1}else null==s&&i.__v===t.__v?(i.__k=t.__k,i.__e=t.__e):i.__e=function Jg(o,i,t,n,r,s,l,a){var c,d,u,_=t.props,m=i.props,p=i.type,f=0;if("svg"===p&&(r=!0),null!=s)for(;f<s.length;f++)if((c=s[f])&&"setAttribute"in c==!!p&&(p?c.localName===p:3===c.nodeType)){o=c,s[f]=null;break}if(null==o){if(null===p)return document.createTextNode(m);o=r?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,m.is&&m),s=null,a=!1}if(null===p)_===m||a&&o.data===m||(o.data=m);else{if(s=s&&at.call(o.childNodes),d=(_=t.props||Mt).dangerouslySetInnerHTML,u=m.dangerouslySetInnerHTML,!a){if(null!=s)for(_={},f=0;f<o.attributes.length;f++)_[o.attributes[f].name]=o.attributes[f].value;(u||d)&&(u&&(d&&u.__html==d.__html||u.__html===o.innerHTML)||(o.innerHTML=u&&u.__html||""))}if(function Fg(o,i,t,n,r){var s;for(s in t)"children"===s||"key"===s||s in i||Zt(o,s,null,t[s],n);for(s in i)r&&"function"!=typeof i[s]||"children"===s||"key"===s||"value"===s||"checked"===s||t[s]===i[s]||Zt(o,s,i[s],t[s],n)}(o,m,_,r,a),u)i.__k=[];else if(f=i.props.children,Mo(o,Array.isArray(f)?f:[f],i,t,n,r&&"foreignObject"!==p,s,l,s?s[0]:t.__k&&dt(t,0),a),null!=s)for(f=s.length;f--;)null!=s[f]&&Io(s[f]);a||("value"in m&&void 0!==(f=m.value)&&(f!==o.value||"progress"===p&&!f||"option"===p&&f!==_.value)&&Zt(o,"value",f,_.value,!1),"checked"in m&&void 0!==(f=m.checked)&&f!==o.checked&&Zt(o,"checked",f,_.checked,!1))}return o}(t.__e,i,t,n,r,s,l,c);(d=S.diffed)&&d(i)}catch(G){i.__v=null,(c||null!=s)&&(i.__e=a,i.__h=!!c,s[s.indexOf(a)]=null),S.__e(G,i,t)}}function Oo(o,i){S.__c&&S.__c(i,o),o.some(function(t){try{o=t.__h,t.__h=[],o.some(function(n){n.call(t)})}catch(n){S.__e(n,t.__v)}})}function No(o,i,t){try{"function"==typeof o?o(i):o.current=i}catch(n){S.__e(n,t)}}function Uo(o,i,t){var n,r;if(S.unmount&&S.unmount(o),(n=o.ref)&&(n.current&&n.current!==o.__e||No(n,null,i)),null!=(n=o.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){S.__e(s,i)}n.base=n.__P=null,o.__c=void 0}if(n=o.__k)for(r=0;r<n.length;r++)n[r]&&Uo(n[r],i,t||"function"!=typeof o.type);t||null==o.__e||Io(o.__e),o.__=o.__e=o.__d=void 0}function Lg(o,i,t){return this.constructor(o,t)}function xe(o,i,t){var n,r,s;S.__&&S.__(o,i),r=(n="function"==typeof t)?null:t&&t.__k||i.__k,s=[],kn(i,o=(!n&&t||i).__k=h(R,null,[o]),r||Mt,Mt,void 0!==i.ownerSVGElement,!n&&t?[t]:r?null:i.firstChild?at.call(i.childNodes):null,s,!n&&t?t:r?r.__e:i.firstChild,n),Oo(s,o)}at=wo.slice,S={__e:function(o,i,t,n){for(var r,s,l;i=i.__;)if((r=i.__c)&&!r.__)try{if((s=r.constructor)&&null!=s.getDerivedStateFromError&&(r.setState(s.getDerivedStateFromError(o)),l=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(o,n||{}),l=r.__d),l)return r.__E=r}catch(a){o=a}throw o}},bo=0,xo=function(o){return null!=o&&void 0===o.constructor},Je=!1,K.prototype.setState=function(o,i){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ue({},this.state),"function"==typeof o&&(o=o(ue({},t),this.props)),o&&ue(t,o),null!=o&&this.__v&&(i&&this._sb.push(i),Sn(this))},K.prototype.forceUpdate=function(o){this.__v&&(this.__e=!0,o&&this.__h.push(o),Sn(this))},K.prototype.render=R,Me=[],To="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Et.__r=0,yo=0;var q,Mn,Fo,qo=[],Pt=[],Jo=S.__b,Lo=S.__r,Bo=S.diffed,Ho=S.__c,Qo=S.unmount;function Wg(){for(var o;o=qo.shift();)if(o.__P&&o.__H)try{o.__H.__h.forEach(Nt),o.__H.__h.forEach(Pn),o.__H.__h=[]}catch(i){o.__H.__h=[],S.__e(i,o.__v)}}S.__b=function(o){q=null,Jo&&Jo(o)},S.__r=function(o){Lo&&Lo(o);var i=(q=o.__c).__H;i&&(Mn===q?(i.__h=[],q.__h=[],i.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Pt,t.__N=t.i=void 0})):(i.__h.forEach(Nt),i.__h.forEach(Pn),i.__h=[])),Mn=q},S.diffed=function(o){Bo&&Bo(o);var i=o.__c;i&&i.__H&&(i.__H.__h.length&&(1!==qo.push(i)&&Fo===S.requestAnimationFrame||((Fo=S.requestAnimationFrame)||$g)(Wg)),i.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Pt&&(t.__=t.__V),t.i=void 0,t.__V=Pt})),Mn=q=null},S.__c=function(o,i){i.some(function(t){try{t.__h.forEach(Nt),t.__h=t.__h.filter(function(n){return!n.__||Pn(n)})}catch(n){i.some(function(r){r.__h&&(r.__h=[])}),i=[],S.__e(n,t.__v)}}),Ho&&Ho(o,i)},S.unmount=function(o){Qo&&Qo(o);var i,t=o.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{Nt(n)}catch(r){i=r}}),t.__H=void 0,i&&S.__e(i,t.__v))};var zo="function"==typeof requestAnimationFrame;function $g(o){var i,t=function(){clearTimeout(n),zo&&cancelAnimationFrame(i),setTimeout(o)},n=setTimeout(t,100);zo&&(i=requestAnimationFrame(t))}function Nt(o){var i=q,t=o.__c;"function"==typeof t&&(o.__c=void 0,t()),q=i}function Pn(o){var i=q;o.__c=o.__(),q=i}function Nn(o,i){for(var t in o)if("__source"!==t&&!(t in i))return!0;for(var n in i)if("__source"!==n&&o[n]!==i[n])return!0;return!1}function jn(o){this.props=o}(jn.prototype=new K).isPureReactComponent=!0,jn.prototype.shouldComponentUpdate=function(o,i){return Nn(this.props,o)||Nn(this.state,i)};var $o=S.__b;S.__b=function(o){o.type&&o.type.__f&&o.ref&&(o.props.ref=o.ref,o.ref=null),$o&&$o(o)},typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref");var nh=S.__e;S.__e=function(o,i,t,n){if(o.then)for(var r,s=i;s=s.__;)if((r=s.__c)&&r.__c)return null==i.__e&&(i.__e=t.__e,i.__k=t.__k),r.__c(o,i);nh(o,i,t,n)};var Xo=S.unmount;function er(o,i,t){return o&&(o.__c&&o.__c.__H&&(o.__c.__H.__.forEach(function(n){"function"==typeof n.__c&&n.__c()}),o.__c.__H=null),null!=(o=function Wo(o,i){for(var t in i)o[t]=i[t];return o}({},o)).__c&&(o.__c.__P===t&&(o.__c.__P=i),o.__c=null),o.__k=o.__k&&o.__k.map(function(n){return er(n,i,t)})),o}function tr(o,i,t){return o&&(o.__v=null,o.__k=o.__k&&o.__k.map(function(n){return tr(n,i,t)}),o.__c&&o.__c.__P===i&&(o.__e&&t.insertBefore(o.__e,o.__d),o.__c.__e=!0,o.__c.__P=t)),o}function Ut(){this.__u=0,this.t=null,this.__b=null}function nr(o){var i=o.__.__c;return i&&i.__a&&i.__a(o)}function ut(){this.u=null,this.o=null}S.unmount=function(o){var i=o.__c;i&&i.__R&&i.__R(),i&&!0===o.__h&&(o.type=null),Xo&&Xo(o)},(Ut.prototype=new K).__c=function(o,i){var t=i.__c,n=this;null==n.t&&(n.t=[]),n.t.push(t);var r=nr(n.__v),s=!1,l=function(){s||(s=!0,t.__R=null,r?r(a):a())};t.__R=l;var a=function(){if(!--n.__u){if(n.state.__a){var d=n.state.__a;n.__v.__k[0]=tr(d,d.__c.__P,d.__c.__O)}var u;for(n.setState({__a:n.__b=null});u=n.t.pop();)u.forceUpdate()}},c=!0===i.__h;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),o.then(l,l)},Ut.prototype.componentWillUnmount=function(){this.t=[]},Ut.prototype.render=function(o,i){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=er(this.__b,t,n.__O=n.__P)}this.__b=null}var r=i.__a&&h(R,null,o.fallback);return r&&(r.__h=null),[h(R,null,i.__a?null:o.children),r]};var ir=function(o,i,t){if(++t[1]===t[0]&&o.o.delete(i),o.props.revealOrder&&("t"!==o.props.revealOrder[0]||!o.o.size))for(t=o.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;o.u=t=t[2]}};function oh(o){return this.getChildContext=function(){return o.context},o.children}function rh(o){var i=this,t=o.i;i.componentWillUnmount=function(){xe(null,i.l),i.l=null,i.i=null},i.i&&i.i!==t&&i.componentWillUnmount(),o.__v?(i.l||(i.i=t,i.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(n){this.childNodes.push(n),i.i.appendChild(n)},insertBefore:function(n,r){this.childNodes.push(n),i.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),i.i.removeChild(n)}}),xe(h(oh,{context:i.context},o.__v),i.l)):i.l&&i.componentWillUnmount()}(ut.prototype=new K).__a=function(o){var i=this,t=nr(i.__v),n=i.o.get(o);return n[0]++,function(r){var s=function(){i.props.revealOrder?(n.push(r),ir(i,o,n)):r()};t?t(s):s()}},ut.prototype.render=function(o){this.u=null,this.o=new Map;var i=pe(o.children);o.revealOrder&&"b"===o.revealOrder[0]&&i.reverse();for(var t=i.length;t--;)this.o.set(i[t],this.u=[1,0,this.u]);return o.children},ut.prototype.componentDidUpdate=ut.prototype.componentDidMount=function(){var o=this;this.o.forEach(function(i,t){ir(o,t,i)})};var rr=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,sh=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,lh=typeof document<"u",ah=function(o){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(o)};K.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(o){Object.defineProperty(K.prototype,o,{configurable:!0,get:function(){return this["UNSAFE_"+o]},set:function(i){Object.defineProperty(this,o,{configurable:!0,writable:!0,value:i})}})});var sr=S.event;function uh(){}function ph(){return this.cancelBubble}function _h(){return this.defaultPrevented}S.event=function(o){return sr&&(o=sr(o)),o.persist=uh,o.isPropagationStopped=ph,o.isDefaultPrevented=_h,o.nativeEvent=o};var ar={configurable:!0,get:function(){return this.class}},cr=S.vnode;S.vnode=function(o){var i=o.type,t=o.props,n=t;if("string"==typeof i){var r=-1===i.indexOf("-");for(var s in n={},t){var l=t[s];lh&&"children"===s&&"noscript"===i||"value"===s&&"defaultValue"in t&&null==l||("defaultValue"===s&&"value"in t&&null==t.value?s="value":"download"===s&&!0===l?l="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+i)&&!ah(t.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():r&&sh.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),n[s]&&(s="oninputCapture")),n[s]=l)}"select"==i&&n.multiple&&Array.isArray(n.value)&&(n.value=pe(t.children).forEach(function(a){a.props.selected=-1!=n.value.indexOf(a.props.value)})),"select"==i&&null!=n.defaultValue&&(n.value=pe(t.children).forEach(function(a){a.props.selected=n.multiple?-1!=n.defaultValue.indexOf(a.props.value):n.defaultValue==a.props.value})),o.props=n,t.class!=t.className&&(ar.enumerable="className"in t,null!=t.className&&(n.class=t.className),Object.defineProperty(n,"className",ar))}o.$$typeof=rr,cr&&cr(o)};var dr=S.__r;S.__r=function(o){dr&&dr(o)};const _r=[],Rn=new Map;function Fn(o){_r.push(o),Rn.forEach(i=>{gr(i,o)})}function mr(o){let i=Rn.get(o);if(!i||!i.isConnected){if(i=o.querySelector("style[data-fullcalendar]"),!i){i=document.createElement("style"),i.setAttribute("data-fullcalendar","");const t=function Sh(){return void 0===qn&&(qn=function kh(){const o=document.querySelector('meta[name="csp-nonce"]');if(o&&o.hasAttribute("content"))return o.getAttribute("content");const i=document.querySelector("script[nonce]");return i&&i.nonce||""}()),qn}();t&&(i.nonce=t);const n=o===document?document.head:o,r=o===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(i,r)}Rn.set(o,i),function Dh(o){for(const i of _r)gr(o,i)}(i)}}function gr(o,i){const{sheet:t}=o,n=t.cssRules.length;i.split("}").forEach((r,s)=>{(r=r.trim())&&t.insertRule(r+"}",n+s)})}let qn;typeof document<"u"&&mr(document),Fn(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class Jn{constructor(i){this.drainedOption=i,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(i){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==i?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),i))}pause(i=""){let{pauseDepths:t}=this;t[i]=(t[i]||0)+1,this.clearTimeout()}resume(i="",t){let{pauseDepths:n}=this;i in n&&(t?delete n[i]:(n[i]-=1,n[i]<=0&&delete n[i]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Ln(o){o.parentNode&&o.parentNode.removeChild(o)}function V(o,i){if(o.closest)return o.closest(i);if(!document.documentElement.contains(o))return null;do{if(hr(o,i))return o;o=o.parentElement||o.parentNode}while(null!==o&&1===o.nodeType);return null}function hr(o,i){return(o.matches||o.matchesSelector||o.msMatchesSelector).call(o,i)}const Eh=/(top|left|right|bottom|width|height)$/i;function pt(o,i){for(let t in i)fr(o,t,i[t])}function fr(o,i,t){o.style[i]=null==t?"":"number"==typeof t&&Eh.test(i)?`${t}px`:t}function vr(o){var i,t;return null!==(t=null===(i=o.composedPath)||void 0===i?void 0:i.call(o)[0])&&void 0!==t?t:o.target}let br=0;function jt(){return br+=1,"fc-dom-"+br}function Rt(o){o.preventDefault()}function xr(o,i,t,n){let r=function Ph(o,i){return t=>{let n=V(t.target,o);n&&i.call(n,t,n)}}(t,n);return o.addEventListener(i,r),()=>{o.removeEventListener(i,r)}}const Cr=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Tr(o){return Object.assign({onClick:o},yr(o))}function yr(o){return{tabIndex:0,onKeyDown(i){("Enter"===i.key||" "===i.key)&&(o(i),i.preventDefault())}}}let wr=0;function Ee(){return wr+=1,String(wr)}function Bn(){document.body.classList.add("fc-not-allowed")}function Hn(){document.body.classList.remove("fc-not-allowed")}function Lh(o,i,t){return t.func?t.func(o,i):function Bh(o,i){return o||i?null==i?-1:null==o?1:"string"==typeof o||"string"==typeof i?String(o).localeCompare(String(i)):o-i:0}(o[t.field],i[t.field])*(t.order||1)}function Be(o,i){let t=String(o);return"000".substr(0,i-t.length)+t}function _t(o,i,t){return"function"==typeof o?o(...i):"string"==typeof o?i.reduce((n,r,s)=>n.replace("$"+s,r||""),o):t}function Hh(o,i){return o-i}function Ft(o){return o%1==0}function Qh(o){let i=o.querySelector(".fc-scrollgrid-shrink-frame"),t=o.querySelector(".fc-scrollgrid-shrink-cushion");if(!i)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return o.getBoundingClientRect().width-i.getBoundingClientRect().width+t.getBoundingClientRect().width}const Ir=["years","months","days","milliseconds"],Yh=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function O(o,i){return"string"==typeof o?function Gh(o){let i=Yh.exec(o);if(i){let t=i[1]?-1:1;return{years:0,months:0,days:t*(i[2]?parseInt(i[2],10):0),milliseconds:t*(60*(i[3]?parseInt(i[3],10):0)*60*1e3+60*(i[4]?parseInt(i[4],10):0)*1e3+1e3*(i[5]?parseInt(i[5],10):0)+(i[6]?parseInt(i[6],10):0))}}return null}(o):"object"==typeof o&&o?Ar(o):"number"==typeof o?Ar({[i||"milliseconds"]:o}):null}function Ar(o){let i={years:o.years||o.year||0,months:o.months||o.month||0,days:o.days||o.day||0,milliseconds:60*(o.hours||o.hour||0)*60*1e3+60*(o.minutes||o.minute||0)*1e3+1e3*(o.seconds||o.second||0)+(o.milliseconds||o.millisecond||o.ms||0)},t=o.weeks||o.week;return t&&(i.days+=7*t,i.specifiedWeeks=!0),i}function Qn(o,i){return{years:o.years+i.years,months:o.months+i.months,days:o.days+i.days,milliseconds:o.milliseconds+i.milliseconds}}function He(o){return ee(o)/864e5}function ee(o){return 31536e6*o.years+2592e6*o.months+864e5*o.days+o.milliseconds}function Yn(o,i){let t=null;for(let n=0;n<Ir.length;n+=1){let r=Ir[n];if(i[r]){let s=o[r]/i[r];if(!Ft(s)||null!==t&&t!==s)return null;t=s}else if(o[r])return null}return t}function Gn(o){let i=o.milliseconds;if(i){if(i%1e3!=0)return{unit:"millisecond",value:i};if(i%6e4!=0)return{unit:"second",value:i/1e3};if(i%36e5!=0)return{unit:"minute",value:i/6e4};if(i)return{unit:"hour",value:i/36e5}}return o.days?o.specifiedWeeks&&o.days%7==0?{unit:"week",value:o.days/7}:{unit:"day",value:o.days}:o.months?{unit:"month",value:o.months}:o.years?{unit:"year",value:o.years}:{unit:"millisecond",value:0}}function re(o,i,t){if(o===i)return!0;let r,n=o.length;if(n!==i.length)return!1;for(r=0;r<n;r+=1)if(!(t?t(o[r],i[r]):o[r]===i[r]))return!1;return!0}const Dr=["sun","mon","tue","wed","thu","fri","sat"];function Sr(o,i){let t=we(o);return t[2]+=7*i,X(t)}function W(o,i){let t=we(o);return t[2]+=i,X(t)}function Te(o,i){let t=we(o);return t[6]+=i,X(t)}function ye(o,i){return(i.valueOf()-o.valueOf())/864e5}function qt(o,i){return Ie(o)===Ie(i)?Math.round(ye(o,i)):null}function F(o){return X([o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()])}function zn(o,i,t,n){let r=X([i,0,1+df(i,t,n)]),s=F(o),l=Math.round(ye(r,s));return Math.floor(l/7)+1}function df(o,i,t){let n=7+i-t;return-(7+X([o,0,n]).getUTCDay()-i)%7+n-1}function kr(o){return[o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()]}function Mr(o){return new Date(o[0],o[1]||0,null==o[2]?1:o[2],o[3]||0,o[4]||0,o[5]||0)}function we(o){return[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()]}function X(o){return 1===o.length&&(o=o.concat([0])),new Date(Date.UTC(...o))}function Zr(o){return!isNaN(o.valueOf())}function Ie(o){return 1e3*o.getUTCHours()*60*60+1e3*o.getUTCMinutes()*60+1e3*o.getUTCSeconds()+o.getUTCMilliseconds()}function Er(o,i,t=!1){let n=o.toISOString();return n=n.replace(".000",""),t&&(n=n.replace("T00:00:00Z","")),n.length>10&&(null==i?n=n.replace("Z",""):0!==i&&(n=n.replace("Z",Wn(i,!0)))),n}function Vn(o){return o.toISOString().replace(/T.*$/,"")}function pf(o){return Be(o.getUTCHours(),2)+":"+Be(o.getUTCMinutes(),2)+":"+Be(o.getUTCSeconds(),2)}function Wn(o,i=!1){let t=o<0?"-":"+",n=Math.abs(o),r=Math.floor(n/60),s=Math.round(n%60);return i?`${t+Be(r,2)}:${Be(s,2)}`:`GMT${t}${r}${s?`:${Be(s,2)}`:""}`}function Z(o,i,t){let n,r;return function(...s){if(n){if(!re(n,s)){t&&t(r);let l=o.apply(this,s);(!i||!i(l,r))&&(r=l)}}else r=o.apply(this,s);return n=s,r}}function Jt(o,i,t){let n,r;return s=>{if(n){if(!se(n,s)){t&&t(r);let l=o.call(this,s);(!i||!i(l,r))&&(r=l)}}else r=o.call(this,s);return n=s,r}}const Pr={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Lt={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Bt=/\s*([ap])\.?m\.?/i,_f=/,/g,mf=/\s+/g,gf=/\u200e/g,hf=/UTC|GMT/;class ff{constructor(i){let t={},n={},r=0;for(let s in i)s in Pr?(n[s]=i[s],r=Math.max(Pr[s],r)):(t[s]=i[s],s in Lt&&(r=Math.max(Lt[s],r)));this.standardDateProps=t,this.extendedSettings=n,this.severity=r,this.buildFormattingFunc=Z(Or)}format(i,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(i)}formatRange(i,t,n,r){let{standardDateProps:s,extendedSettings:l}=this,a=function yf(o,i,t){return t.getMarkerYear(o)!==t.getMarkerYear(i)?5:t.getMarkerMonth(o)!==t.getMarkerMonth(i)?4:t.getMarkerDay(o)!==t.getMarkerDay(i)?2:Ie(o)!==Ie(i)?1:0}(i.marker,t.marker,n.calendarSystem);if(!a)return this.format(i,n);let c=a;c>1&&("numeric"===s.year||"2-digit"===s.year)&&("numeric"===s.month||"2-digit"===s.month)&&("numeric"===s.day||"2-digit"===s.day)&&(c=1);let d=this.format(i,n),u=this.format(t,n);if(d===u)return d;let _=function wf(o,i){let t={};for(let n in o)(!(n in Lt)||Lt[n]<=i)&&(t[n]=o[n]);return t}(s,c),m=Or(_,l,n),p=m(i),f=m(t),b=function If(o,i,t,n){let r=0;for(;r<o.length;){let s=o.indexOf(i,r);if(-1===s)break;let l=o.substr(0,s);r=s+i.length;let a=o.substr(r),c=0;for(;c<t.length;){let d=t.indexOf(n,c);if(-1===d)break;let u=t.substr(0,d);c=d+n.length;let _=t.substr(c);if(l===u&&a===_)return{before:l,after:a}}}return null}(d,p,u,f),C=l.separator||r||n.defaultSeparator||"";return b?b.before+p+C+f+b.after:d+C+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Or(o,i,t){let n=Object.keys(o).length;return 1===n&&"short"===o.timeZoneName?r=>Wn(r.timeZoneOffset):0===n&&i.week?r=>function Tf(o,i,t,n,r){let s=[];return"long"===r?s.push(t):("short"===r||"narrow"===r)&&s.push(i),("long"===r||"short"===r)&&s.push(" "),s.push(n.simpleNumberFormat.format(o)),"rtl"===n.options.direction&&s.reverse(),s.join("")}(t.computeWeekNumber(r.marker),t.weekText,t.weekTextLong,t.locale,i.week):function vf(o,i,t){o=Object.assign({},o),i=Object.assign({},i),function bf(o,i){o.timeZoneName&&(o.hour||(o.hour="2-digit"),o.minute||(o.minute="2-digit")),"long"===o.timeZoneName&&(o.timeZoneName="short"),i.omitZeroMinute&&(o.second||o.millisecond)&&delete i.omitZeroMinute}(o,i),o.timeZone="UTC";let r,n=new Intl.DateTimeFormat(t.locale.codes,o);if(i.omitZeroMinute){let s=Object.assign({},o);delete s.minute,r=new Intl.DateTimeFormat(t.locale.codes,s)}return s=>{let a,{marker:l}=s;return a=r&&!l.getUTCMinutes()?r:n,function xf(o,i,t,n,r){return o=o.replace(gf,""),"short"===t.timeZoneName&&(o=function Cf(o,i){let t=!1;return o=o.replace(hf,()=>(t=!0,i)),t||(o+=` ${i}`),o}(o,"UTC"===r.timeZone||null==i.timeZoneOffset?"UTC":Wn(i.timeZoneOffset))),n.omitCommas&&(o=o.replace(_f,"").trim()),n.omitZeroMinute&&(o=o.replace(":00","")),!1===n.meridiem?o=o.replace(Bt,"").trim():"narrow"===n.meridiem?o=o.replace(Bt,(s,l)=>l.toLocaleLowerCase()):"short"===n.meridiem?o=o.replace(Bt,(s,l)=>`${l.toLocaleLowerCase()}m`):"lowercase"===n.meridiem&&(o=o.replace(Bt,s=>s.toLocaleLowerCase())),o=(o=o.replace(mf," ")).trim()}(a.format(l),s,o,i,t)}}(o,i,t)}function Nr(o,i){let t=i.markerToArray(o.marker);return{marker:o.marker,timeZoneOffset:o.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Ht(o,i,t,n){let r=Nr(o,t.calendarSystem);return{date:r,start:r,end:i?Nr(i,t.calendarSystem):null,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:n||t.defaultSeparator}}class Af{constructor(i){this.cmdStr=i}format(i,t,n){return t.cmdFormatter(this.cmdStr,Ht(i,null,t,n))}formatRange(i,t,n,r){return n.cmdFormatter(this.cmdStr,Ht(i,t,n,r))}}class Df{constructor(i){this.func=i}format(i,t,n){return this.func(Ht(i,null,t,n))}formatRange(i,t,n,r){return this.func(Ht(i,t,n,r))}}function B(o){return"object"==typeof o&&o?new ff(o):"string"==typeof o?new Af(o):"function"==typeof o?new Df(o):null}const Ur={navLinkDayClick:x,navLinkWeekClick:x,duration:O,bootstrapFontAwesome:x,buttonIcons:x,customButtons:x,defaultAllDayEventDuration:O,defaultTimedEventDuration:O,nextDayThreshold:O,scrollTime:O,scrollTimeReset:Boolean,slotMinTime:O,slotMaxTime:O,dayPopoverFormat:B,slotDuration:O,snapDuration:O,headerToolbar:x,footerToolbar:x,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:B,dayHeaderClassNames:x,dayHeaderContent:x,dayHeaderDidMount:x,dayHeaderWillUnmount:x,dayCellClassNames:x,dayCellContent:x,dayCellDidMount:x,dayCellWillUnmount:x,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:x,weekNumbers:Boolean,weekNumberClassNames:x,weekNumberContent:x,weekNumberDidMount:x,weekNumberWillUnmount:x,editable:Boolean,viewClassNames:x,viewDidMount:x,viewWillUnmount:x,nowIndicator:Boolean,nowIndicatorClassNames:x,nowIndicatorContent:x,nowIndicatorDidMount:x,nowIndicatorWillUnmount:x,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:x,locale:x,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:x,eventOrder:function qh(o){let n,r,i=[],t=[];for("string"==typeof o?t=o.split(/\s*,\s*/):"function"==typeof o?t=[o]:Array.isArray(o)&&(t=o),n=0;n<t.length;n+=1)r=t[n],"string"==typeof r?i.push("-"===r.charAt(0)?{field:r.substring(1),order:-1}:{field:r,order:1}):"function"==typeof r&&i.push({func:r});return i},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:x,contentHeight:x,direction:String,weekNumberFormat:B,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:x,initialDate:x,now:x,eventDataTransform:x,stickyHeaderDates:x,stickyFooterScrollbar:x,viewHeight:x,defaultAllDay:Boolean,eventSourceFailure:x,eventSourceSuccess:x,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:x,eventConstraint:x,eventAllow:x,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:x,eventContent:x,eventDidMount:x,eventWillUnmount:x,selectConstraint:x,selectOverlap:x,selectAllow:x,droppable:Boolean,unselectCancel:String,slotLabelFormat:x,slotLaneClassNames:x,slotLaneContent:x,slotLaneDidMount:x,slotLaneWillUnmount:x,slotLabelClassNames:x,slotLabelContent:x,slotLabelDidMount:x,slotLabelWillUnmount:x,dayMaxEvents:x,dayMaxEventRows:x,dayMinWidth:Number,slotLabelInterval:O,allDayText:String,allDayClassNames:x,allDayContent:x,allDayDidMount:x,allDayWillUnmount:x,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:B,rerenderDelay:Number,moreLinkText:x,moreLinkHint:x,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:x,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:O,hiddenDays:x,fixedWeekCount:Boolean,validRange:x,visibleRange:x,titleFormat:x,eventInteractive:Boolean,noEventsText:String,viewHint:x,navLinkHint:x,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:x,moreLinkClassNames:x,moreLinkContent:x,moreLinkDidMount:x,moreLinkWillUnmount:x,monthStartFormat:B,handleCustomRendering:x,customRenderingMetaMap:x,customRenderingReplaces:Boolean},mt={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},jr={datesSet:x,eventsSet:x,eventAdd:x,eventChange:x,eventRemove:x,windowResize:x,eventClick:x,eventMouseEnter:x,eventMouseLeave:x,select:x,unselect:x,loading:x,_unmount:x,_beforeprint:x,_afterprint:x,_noEventDrop:x,_noEventResize:x,_resize:x,_scrollRequest:x},Rr={buttonText:x,buttonHints:x,views:x,plugins:x,initialEvents:x,events:x,eventSources:x},Pe={headerToolbar:Oe,footerToolbar:Oe,buttonText:Oe,buttonHints:Oe,buttonIcons:Oe,dateIncrement:Oe,plugins:Qt,events:Qt,eventSources:Qt,resources:Qt};function Oe(o,i){return"object"==typeof o&&"object"==typeof i&&o&&i?se(o,i):o===i}function Qt(o,i){return Array.isArray(o)&&Array.isArray(i)?re(o,i):o===i}const Sf={type:String,component:x,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:x,usesMinMaxTime:Boolean,classNames:x,content:x,didMount:x,willUnmount:x};function $n(o){return Kn(o,Pe)}function Yt(o,i){let t={},n={};for(let r in i)r in o&&(t[r]=i[r](o[r]));for(let r in o)r in i||(n[r]=o[r]);return{refined:t,extra:n}}function x(o){return o}const{hasOwnProperty:Gt}=Object.prototype;function Kn(o,i){let t={};if(i)for(let n in i)if(i[n]===Oe){let r=[];for(let s=o.length-1;s>=0;s-=1){let l=o[s][n];if("object"==typeof l&&l)r.unshift(l);else if(void 0!==l){t[n]=l;break}}r.length&&(t[n]=Kn(r))}for(let n=o.length-1;n>=0;n-=1){let r=o[n];for(let s in r)s in t||(t[s]=r[s])}return t}function Ne(o,i){let t={};for(let n in o)i(o[n],n)&&(t[n]=o[n]);return t}function _e(o,i){let t={};for(let n in o)t[n]=i(o[n],n);return t}function Fr(o){let i={};for(let t of o)i[t]=!0;return i}function Xn(o){let i=[];for(let t in o)i.push(o[t]);return i}function se(o,i){if(o===i)return!0;for(let t in o)if(Gt.call(o,t)&&!(t in i))return!1;for(let t in i)if(Gt.call(i,t)&&o[t]!==i[t])return!1;return!0}const kf=/^on[A-Z]/;function ei(o,i){let t=[];for(let n in o)Gt.call(o,n)&&(n in i||t.push(n));for(let n in i)Gt.call(i,n)&&o[n]!==i[n]&&t.push(n);return t}function ti(o,i,t={}){if(o===i)return!0;for(let n in i)if(!(n in o)||!Zf(o[n],i[n],t[n]))return!1;for(let n in o)if(!(n in i))return!1;return!0}function Zf(o,i,t){return o===i||!0===t||!!t&&t(o,i)}let qr={};!function Pf(o,i){qr[o]=i}("gregory",class Nf{getMarkerYear(i){return i.getUTCFullYear()}getMarkerMonth(i){return i.getUTCMonth()}getMarkerDay(i){return i.getUTCDate()}arrayToMarker(i){return X(i)}markerToArray(i){return we(i)}});const Uf=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class Rf{constructor(i){let t=this.timeZone=i.timeZone,n="local"!==t&&"UTC"!==t;i.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new i.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=function Of(o){return new qr[o]}(i.calendarSystem),this.locale=i.locale,this.weekDow=i.locale.week.dow,this.weekDoy=i.locale.week.doy,"ISO"===i.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof i.firstDay&&(this.weekDow=i.firstDay),"function"==typeof i.weekNumberCalculation&&(this.weekNumberFunc=i.weekNumberCalculation),this.weekText=null!=i.weekText?i.weekText:i.locale.options.weekText,this.weekTextLong=(null!=i.weekTextLong?i.weekTextLong:i.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=i.cmdFormatter,this.defaultSeparator=i.defaultSeparator}createMarker(i){let t=this.createMarkerMeta(i);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):X(kr(new Date))}createMarkerMeta(i){if("string"==typeof i)return this.parse(i);let t=null;return"number"==typeof i?t=this.timestampToMarker(i):i instanceof Date?(i=i.valueOf(),isNaN(i)||(t=this.timestampToMarker(i))):Array.isArray(i)&&(t=X(i)),null!==t&&Zr(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(i){let t=function jf(o){let i=Uf.exec(o);if(i){let t=new Date(Date.UTC(Number(i[1]),i[3]?Number(i[3])-1:0,Number(i[5]||1),Number(i[7]||0),Number(i[8]||0),Number(i[10]||0),i[12]?1e3*Number(`0.${i[12]}`):0));if(Zr(t)){let n=null;return i[13]&&(n=("-"===i[15]?-1:1)*(60*Number(i[16]||0)+Number(i[18]||0))),{marker:t,isTimeUnspecified:!i[6],timeZoneOffset:n}}}return null}(i);if(null===t)return null;let{marker:n}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(i){return this.calendarSystem.getMarkerYear(i)}getMonth(i){return this.calendarSystem.getMarkerMonth(i)}getDay(i){return this.calendarSystem.getMarkerDay(i)}add(i,t){let n=this.calendarSystem.markerToArray(i);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(i,t){let n=this.calendarSystem.markerToArray(i);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(i,t){let n=this.calendarSystem.markerToArray(i);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(i,t){let n=this.calendarSystem.markerToArray(i);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(i,t){let{calendarSystem:n}=this;return Ie(i)===Ie(t)&&n.getMarkerDay(i)===n.getMarkerDay(t)&&n.getMarkerMonth(i)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(i):null}diffWholeMonths(i,t){let{calendarSystem:n}=this;return Ie(i)===Ie(t)&&n.getMarkerDay(i)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(i)+12*(n.getMarkerYear(t)-n.getMarkerYear(i)):null}greatestWholeUnit(i,t){let n=this.diffWholeYears(i,t);return null!==n?{unit:"year",value:n}:(n=this.diffWholeMonths(i,t),null!==n?{unit:"month",value:n}:(n=function rf(o,i){let t=qt(o,i);return null!==t&&t%7==0?t/7:null}(i,t),null!==n?{unit:"week",value:n}:(n=qt(i,t),null!==n?{unit:"day",value:n}:(n=function ef(o,i){return(i.valueOf()-o.valueOf())/36e5}(i,t),Ft(n)?{unit:"hour",value:n}:(n=function tf(o,i){return(i.valueOf()-o.valueOf())/6e4}(i,t),Ft(n)?{unit:"minute",value:n}:(n=function nf(o,i){return(i.valueOf()-o.valueOf())/1e3}(i,t),Ft(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-i.valueOf()}))))))}countDurationsBetween(i,t,n){let r;return n.years&&(r=this.diffWholeYears(i,t),null!==r)?r/function $h(o){return He(o)/365}(n):n.months&&(r=this.diffWholeMonths(i,t),null!==r)?r/function Kh(o){return He(o)/30}(n):n.days&&(r=qt(i,t),null!==r)?r/He(n):(t.valueOf()-i.valueOf())/ee(n)}startOf(i,t){return"year"===t?this.startOfYear(i):"month"===t?this.startOfMonth(i):"week"===t?this.startOfWeek(i):"day"===t?F(i):"hour"===t?function sf(o){return X([o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours()])}(i):"minute"===t?function lf(o){return X([o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes()])}(i):"second"===t?function af(o){return X([o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds()])}(i):null}startOfYear(i){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(i)])}startOfMonth(i){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(i),this.calendarSystem.getMarkerMonth(i)])}startOfWeek(i){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(i),this.calendarSystem.getMarkerMonth(i),i.getUTCDate()-(i.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(i){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(i)):function cf(o,i,t){let n=o.getUTCFullYear(),r=zn(o,n,i,t);if(r<1)return zn(o,n-1,i,t);let s=zn(o,n+1,i,t);return s>=1?Math.min(r,s):r}(i,this.weekDow,this.weekDoy)}format(i,t,n={}){return t.format({marker:i,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(i)},this)}formatRange(i,t,n,r={}){return r.isEndExclusive&&(t=Te(t,-1)),n.formatRange({marker:i,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(i)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(i,t={}){let n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(i)),Er(i,n,t.omitTime)}timestampToMarker(i){return"local"===this.timeZone?X(kr(new Date(i))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?X(this.namedTimeZoneImpl.timestampToArray(i)):new Date(i)}offsetForMarker(i){return"local"===this.timeZone?-Mr(we(i)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(we(i)):null}toDate(i,t){return"local"===this.timeZone?Mr(we(i)):"UTC"===this.timeZone?new Date(i.valueOf()):this.namedTimeZoneImpl?new Date(i.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(we(i))*60):new Date(i.valueOf()-(t||0))}}class gt{constructor(i){this.iconOverrideOption&&this.setIconOverride(i[this.iconOverrideOption])}setIconOverride(i){let t,n;if("object"==typeof i&&i){for(n in t=Object.assign({},this.iconClasses),i)t[n]=this.applyIconOverridePrefix(i[n]);this.iconClasses=t}else!1===i&&(this.iconClasses={})}applyIconOverridePrefix(i){let t=this.iconOverridePrefix;return t&&0!==i.indexOf(t)&&(i=t+i),i}getClass(i){return this.classes[i]||""}getIconClass(i,t){let n;return n=t&&this.rtlIconClasses&&this.rtlIconClasses[i]||this.iconClasses[i],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(i){let t;return this.iconOverrideCustomButtonOption&&(t=i[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function zt(o){o();let i=S.debounceRendering,t=[];for(S.debounceRendering=function n(r){t.push(r)},xe(h(Ff,{}),document.createElement("div"));t.length;)t.shift()();S.debounceRendering=i}gt.prototype.classes={},gt.prototype.iconClasses={},gt.prototype.baseIconClass="",gt.prototype.iconOverridePrefix="";class Ff extends K{render(){return h("div",{})}componentDidMount(){this.setState({})}}function Jr(o){let i=function Ro(o,i){var t={__c:i="__cC"+yo++,__:o,Consumer:function(n,r){return n.children(r)},Provider:function(n){var r,s;return this.getChildContext||(r=[],(s={})[i]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&r.some(function(a){a.__e=!0,Sn(a)})},this.sub=function(l){r.push(l);var a=l.componentWillUnmount;l.componentWillUnmount=function(){r.splice(r.indexOf(l),1),a&&a.call(l)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}(o),t=i.Provider;return i.Provider=function(){let n=!this.getChildContext,r=t.apply(this,arguments);if(n){let s=[];this.shouldComponentUpdate=l=>{this.props.value!==l.value&&s.forEach(a=>{a.context=l.value,a.forceUpdate()})},this.sub=l=>{s.push(l);let a=l.componentWillUnmount;l.componentWillUnmount=()=>{s.splice(s.indexOf(l),1),a&&a.call(l)}}}return r},i}class qf{constructor(i,t,n,r){this.execFunc=i,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(i){i&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const me=Jr({});function Jf(o,i,t,n,r,s,l,a,c,d,u,_,m){return{dateEnv:r,options:t,pluginHooks:l,emitter:d,dispatch:a,getCurrentData:c,calendarApi:u,viewSpec:o,viewApi:i,dateProfileGenerator:n,theme:s,isRtl:"rtl"===t.direction,addResizeHandler(p){d.on("_resize",p)},removeResizeHandler(p){d.off("_resize",p)},createScrollResponder:p=>new qf(p,d,O(t.scrollTime),t.scrollTimeReset),registerInteractiveComponent:_,unregisterInteractiveComponent:m}}let Vt=(()=>{class o extends K{shouldComponentUpdate(t,n){return this.debug&&console.log(ei(t,this.props),ei(n,this.state)),!ti(this.props,t,this.propEquality)||!ti(this.state,n,this.stateEquality)}safeSetState(t){ti(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return o.addPropsEquality=Lf,o.addStateEquality=Bf,o.contextType=me,o})();Vt.prototype.propEquality={},Vt.prototype.stateEquality={};let U=(()=>{class o extends Vt{}return o.contextType=me,o})();function Lf(o){let i=Object.create(this.prototype.propEquality);Object.assign(i,o),this.prototype.propEquality=i}function Bf(o){let i=Object.create(this.prototype.stateEquality);Object.assign(i,o),this.prototype.stateEquality=i}function ge(o,i){"function"==typeof o?o(i):o&&(o.current=i)}class ni extends U{constructor(){super(...arguments),this.id=Ee(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=i=>{const{options:t}=this.context,{generatorName:n}=this.props;(!t.customRenderingReplaces||!ii(n,t))&&this.updateElRef(i)},this.updateElRef=i=>{this.props.elRef&&ge(this.props.elRef,i)}}render(){const{props:i,context:t}=this,{options:n}=t,{customGenerator:r,defaultGenerator:s,renderProps:l}=i,a=Lr(i,[],this.handleEl);let d,_,c=!1,u=[];if(null!=r){const m="function"==typeof r?r(l,h):r;if(!0===m)c=!0;else{const p=m&&"object"==typeof m;p&&"html"in m?a.dangerouslySetInnerHTML={__html:m.html}:p&&"domNodes"in m?u=Array.prototype.slice.call(m.domNodes):(p?xo(m):"function"!=typeof m)?d=m:_=m}}else c=!ii(i.generatorName,n);return c&&s&&(d=s(l)),this.queuedDomNodes=u,this.currentGeneratorMeta=_,h(i.elTag,a,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(i){var t;const{props:n,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:l}=r.options;if(s){const a=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:l?.[n.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:i,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},n),{elClasses:(n.elClasses||[]).filter(Hf)}))}}applyQueueudDomNodes(){const{queuedDomNodes:i,currentDomNodes:t}=this,n=this.base;if(!re(i,t)){t.forEach(Ln);for(let r of i)n.appendChild(r);this.currentDomNodes=i}}}function ii(o,i){var t;return Boolean(i.handleCustomRendering&&o&&(null===(t=i.customRenderingMetaMap)||void 0===t?void 0:t[o]))}function Lr(o,i,t){const n=Object.assign(Object.assign({},o.elAttrs),{ref:t});return(o.elClasses||i)&&(n.className=(o.elClasses||[]).concat(i||[]).concat(n.className||[]).filter(Boolean).join(" ")),o.elStyle&&(n.style=o.elStyle),n}function Hf(o){return Boolean(o)}ni.addPropsEquality({elClasses:re,elStyle:se,elAttrs:function Mf(o,i){const t=ei(o,i);for(let n of t)if(!kf.test(n))return!1;return!0},renderProps:se});const Br=Jr(0);let ne=(()=>{class o extends K{constructor(){super(...arguments),this.InnerContent=Qf.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(ge(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:t}=this,n=function Yf(o,i){const t="function"==typeof o?o(i):o||[];return"string"==typeof t?[t]:t}(t.classNameGenerator,t.renderProps);if(t.children){const r=Lr(t,n,this.handleEl),s=t.children(this.InnerContent,t.renderProps,r);return t.elTag?h(t.elTag,r,s):s}return h(ni,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var t,n;this.el?null===(n=(t=this.props).didMount)||void 0===n||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,n;null===(n=(t=this.props).willUnmount)||void 0===n||n.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return o.contextType=Br,o})();function Qf(o,i){const t=o.props;return h(ni,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:o.context},i))}class Wt extends U{render(){let{props:i,context:t}=this,{options:n}=t,r={view:t.viewApi};return h(ne,Object.assign({},i,{elTag:i.elTag||"div",elClasses:[...Hr(i.viewSpec),...i.elClasses||[]],renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>i.children)}}function Hr(o){return[`fc-${o.type}-view`,"fc-view"]}function Qr(o,i){let r,s,t=[],{start:n}=i;for(o.sort(zf),r=0;r<o.length;r+=1)s=o[r],s.start>n&&t.push({start:n,end:s.start}),s.end>n&&(n=s.end);return n<i.end&&t.push({start:n,end:i.end}),t}function zf(o,i){return o.start.valueOf()-i.start.valueOf()}function Ue(o,i){let{start:t,end:n}=o,r=null;return null!==i.start&&(t=null===t?i.start:new Date(Math.max(t.valueOf(),i.start.valueOf()))),null!=i.end&&(n=null===n?i.end:new Date(Math.min(n.valueOf(),i.end.valueOf()))),(null===t||null===n||t<n)&&(r={start:t,end:n}),r}function oi(o,i){return(null===o.end||null===i.start||o.end>i.start)&&(null===o.start||null===i.end||o.start<i.end)}function $t(o,i){return(null===o.start||null!==i.start&&i.start>=o.start)&&(null===o.end||null!==i.end&&i.end<=o.end)}function he(o,i){return(null===o.start||i>=o.start)&&(null===o.end||i<o.end)}function Yr(o){let i=Math.floor(ye(o.start,o.end))||1,t=F(o.start);return{start:t,end:W(t,i)}}function ri(o,i=O(0)){let t=null,n=null;if(o.end){n=F(o.end);let r=o.end.valueOf()-n.valueOf();r&&r>=ee(i)&&(n=W(n,1))}return o.start&&(t=F(o.start),n&&n<=t&&(n=W(t,1))),{start:t,end:n}}function Qe(o,i,t,n){return"year"===n?O(t.diffWholeYears(o,i),"year"):"month"===n?O(t.diffWholeMonths(o,i),"month"):function of(o,i){let t=F(o),n=F(i);return{years:0,months:0,days:Math.round(ye(t,n)),milliseconds:i.valueOf()-n.valueOf()-(o.valueOf()-t.valueOf())}}(o,i)}function ht(o,i){return"function"==typeof o&&(o=o()),null==o?i.createNowMarker():i.createMarker(o)}class Gr{constructor(i){this.props=i,this.nowDate=ht(i.nowInput,i.dateEnv),this.initHiddenDays()}buildPrev(i,t,n){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(t,i.currentRangeUnit),i.dateIncrement);return this.build(s,-1,n)}buildNext(i,t,n){let{dateEnv:r}=this.props,s=r.add(r.startOf(t,i.currentRangeUnit),i.dateIncrement);return this.build(s,1,n)}build(i,t,n=!0){let s,l,a,c,d,u,{props:r}=this;return s=this.buildValidRange(),s=this.trimHiddenDays(s),n&&(i=function Wf(o,i){return null!=i.start&&o<i.start?i.start:null!=i.end&&o>=i.end?new Date(i.end.valueOf()-1):o}(i,s)),l=this.buildCurrentRangeInfo(i,t),a=/^(year|month|week|day)$/.test(l.unit),c=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,a),c=this.trimHiddenDays(c),d=c,r.showNonCurrentDates||(d=Ue(d,l.range)),d=this.adjustActiveRange(d),d=Ue(d,s),u=oi(l.range,s),he(c,i)||(i=c.start),{currentDate:i,validRange:s,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:a,activeRange:d,renderRange:c,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let i=this.props.validRangeInput,t="function"==typeof i?i.call(this.props.calendarApi,this.nowDate):i;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(i,t){let a,{props:n}=this,r=null,s=null,l=null;return n.duration?(r=n.duration,s=n.durationUnit,l=this.buildRangeFromDuration(i,t,r,s)):(a=this.props.dayCount)?(s="day",l=this.buildRangeFromDayCount(i,t,a)):(l=this.buildCustomVisibleRange(i))?s=n.dateEnv.greatestWholeUnit(l.start,l.end).unit:(r=this.getFallbackDuration(),s=Gn(r).unit,l=this.buildRangeFromDuration(i,t,r,s)),{duration:r,unit:s,range:l}}getFallbackDuration(){return O({day:1})}adjustActiveRange(i){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:s}=this.props,{start:l,end:a}=i;return n&&(He(r)<0&&(l=F(l),l=t.add(l,r)),He(s)>1&&(a=F(a),a=W(a,-1),a=t.add(a,s))),{start:l,end:a}}buildRangeFromDuration(i,t,n,r){let a,c,d,{dateEnv:s,dateAlignment:l}=this.props;if(!l){let{dateIncrement:_}=this.props;l=_&&ee(_)<ee(n)?Gn(_).unit:r}function u(){a=s.startOf(i,l),c=s.add(a,n),d={start:a,end:c}}return He(n)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,t),a=F(a)),u(),this.trimHiddenDays(d)||(i=this.skipHiddenDays(i,t),u()),d}buildRangeFromDayCount(i,t,n){let c,{dateEnv:r,dateAlignment:s}=this.props,l=0,a=i;s&&(a=r.startOf(a,s)),a=F(a),a=this.skipHiddenDays(a,t),c=a;do{c=W(c,1),this.isHiddenDay(c)||(l+=1)}while(l<n);return{start:a,end:c}}buildCustomVisibleRange(i){let{props:t}=this,n=t.visibleRangeInput,r="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(i)):n,s=this.refineRange(r);return!s||null!=s.start&&null!=s.end?s:null}buildRenderRange(i,t,n){return i}buildDateIncrement(i){let n,{dateIncrement:t}=this.props;return t||((n=this.props.dateAlignment)?O(1,n):i||O({days:1}))}refineRange(i){if(i){let t=function Gf(o,i){let t=null,n=null;return o.start&&(t=i.createMarker(o.start)),o.end&&(n=i.createMarker(o.end)),!t&&!n||t&&n&&n<t?null:{start:t,end:n}}(i,this.props.dateEnv);return t&&(t=ri(t)),t}return null}initHiddenDays(){let r,i=this.props.hiddenDays||[],t=[],n=0;for(!1===this.props.weekends&&i.push(0,6),r=0;r<7;r+=1)(t[r]=-1!==i.indexOf(r))||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(i){let{start:t,end:n}=i;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null}isHiddenDay(i){return i instanceof Date&&(i=i.getUTCDay()),this.isHiddenDayHash[i]}skipHiddenDays(i,t=1,n=!1){for(;this.isHiddenDayHash[(i.getUTCDay()+(n?t:0)+7)%7];)i=W(i,t);return i}}function si(o,i,t,n){return{instanceId:Ee(),defId:o,range:i,forcedStartTzo:t??null,forcedEndTzo:n??null}}function je(o,i,t){let{dateEnv:n,pluginHooks:r,options:s}=t,{defs:l,instances:a}=o;a=Ne(a,c=>!l[c.defId].recurringDef);for(let c in l){let d=l[c];if(d.recurringDef){let{duration:u}=d.recurringDef;u||(u=d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let _=e1(d,u,i,n,r.recurringTypes);for(let m of _){let p=si(c,{start:m,end:n.add(m,u)});a[p.instanceId]=p}}}return{defs:l,instances:a}}function e1(o,i,t,n,r){let l=r[o.recurringDef.typeId].expand(o.recurringDef.typeData,{start:n.subtract(t.start,i),end:t.end},n);return o.allDay&&(l=l.map(F)),l}const Kt={id:String,groupId:String,title:String,url:String,interactive:Boolean},zr={start:x,end:x,date:x,allDay:Boolean},t1=Object.assign(Object.assign(Object.assign({},Kt),zr),{extendedProps:x});function Vr(o,i,t,n,r=li(t),s,l){let{refined:a,extra:c}=Wr(o,t,r),d=function i1(o,i){let t=null;return o&&(t=o.defaultAllDay),null==t&&(t=i.options.defaultAllDay),t}(i,t),u=function Xf(o,i,t,n){for(let r=0;r<n.length;r+=1){let s=n[r].parse(o,t);if(s){let{allDay:l}=o;return null==l&&(l=i,null==l&&(l=s.allDayGuess,null==l&&(l=!1))),{allDay:l,duration:s.duration,typeData:s.typeData,typeId:r}}}return null}(a,d,t.dateEnv,t.pluginHooks.recurringTypes);if(u){let m=ai(a,c,i?i.sourceId:"",u.allDay,Boolean(u.duration),t,s);return m.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:m,instance:null}}let _=function n1(o,i,t,n){let s,c,{allDay:r}=o,l=null,a=!1,d=null;if(s=t.dateEnv.createMarkerMeta(null!=o.start?o.start:o.date),s)l=s.marker;else if(!n)return null;return null!=o.end&&(c=t.dateEnv.createMarkerMeta(o.end)),null==r&&(r=null!=i?i:(!s||s.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),r&&l&&(l=F(l)),c&&(d=c.marker,r&&(d=F(d)),l&&d<=l&&(d=null)),d?a=!0:n||(a=t.options.forceEventDuration||!1,d=t.dateEnv.add(l,r?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:r,hasEnd:a,range:{start:l,end:d},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}(a,d,t,n);if(_){let m=ai(a,c,i?i.sourceId:"",_.allDay,_.hasEnd,t,s),p=si(m.defId,_.range,_.forcedStartTzo,_.forcedEndTzo);return l&&m.publicId&&l[m.publicId]&&(p.instanceId=l[m.publicId]),{def:m,instance:p}}return null}function Wr(o,i,t=li(i)){return Yt(o,t)}function li(o){return Object.assign(Object.assign(Object.assign({},en),t1),o.pluginHooks.eventRefiners)}function ai(o,i,t,n,r,s,l){let a={title:o.title||"",groupId:o.groupId||"",publicId:o.id||"",url:o.url||"",recurringDef:null,defId:(l&&o.id?l[o.id]:"")||Ee(),sourceId:t,allDay:n,hasEnd:r,interactive:o.interactive,ui:tn(o,s),extendedProps:Object.assign(Object.assign({},o.extendedProps||{}),i)};for(let c of s.pluginHooks.eventDefMemberAdders)Object.assign(a,c(o));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function ft(o,i,t,n,r,s){let l={defs:{},instances:{}},a=li(t);for(let c of o){let d=Vr(c,i,t,n,a,r,s);d&&ci(d,l)}return l}function ci(o,i={defs:{},instances:{}}){return i.defs[o.def.defId]=o.def,o.instance&&(i.instances[o.instance.instanceId]=o.instance),i}function di(o,i){let t=o.instances[i];if(t){let n=o.defs[t.defId],r=Xt(o,s=>function o1(o,i){return Boolean(o.groupId&&o.groupId===i.groupId)}(n,s));return r.defs[n.defId]=n,r.instances[t.instanceId]=t,r}return{defs:{},instances:{}}}function ui(o,i){return{defs:Object.assign(Object.assign({},o.defs),i.defs),instances:Object.assign(Object.assign({},o.instances),i.instances)}}function Xt(o,i){let t=Ne(o.defs,i),n=Ne(o.instances,r=>t[r.defId]);return{defs:t,instances:n}}function $r(o){return Array.isArray(o)?o:"string"==typeof o?o.split(/\s+/):[]}const en={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:x,overlap:x,allow:x,className:$r,classNames:$r,color:String,backgroundColor:String,borderColor:String,textColor:String},l1={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function tn(o,i){let t=function s1(o,i){return Array.isArray(o)?ft(o,null,i,!0):"object"==typeof o&&o?ft([o],null,i,!0):null!=o?String(o):null}(o.constraint,i);return{display:o.display||null,startEditable:null!=o.startEditable?o.startEditable:o.editable,durationEditable:null!=o.durationEditable?o.durationEditable:o.editable,constraints:null!=t?[t]:[],overlap:null!=o.overlap?o.overlap:null,allows:null!=o.allow?[o.allow]:[],backgroundColor:o.backgroundColor||o.color||"",borderColor:o.borderColor||o.color||"",textColor:o.textColor||"",classNames:(o.className||[]).concat(o.classNames||[])}}function Kr(o){return o.reduce(a1,l1)}function a1(o,i){return{display:null!=i.display?i.display:o.display,startEditable:null!=i.startEditable?i.startEditable:o.startEditable,durationEditable:null!=i.durationEditable?i.durationEditable:o.durationEditable,constraints:o.constraints.concat(i.constraints),overlap:"boolean"==typeof i.overlap?i.overlap:o.overlap,allows:o.allows.concat(i.allows),backgroundColor:i.backgroundColor||o.backgroundColor,borderColor:i.borderColor||o.borderColor,textColor:i.textColor||o.textColor,classNames:o.classNames.concat(i.classNames)}}const c1={id:String,defaultAllDay:Boolean,url:String,format:String,events:x,eventDataTransform:x,success:x,failure:x};function Xr(o,i,t=es(i)){let n;if("string"==typeof o?n={url:o}:"function"==typeof o||Array.isArray(o)?n={events:o}:"object"==typeof o&&o&&(n=o),n){let{refined:r,extra:s}=Yt(n,t),l=function d1(o,i){let t=i.pluginHooks.eventSourceDefs;for(let n=t.length-1;n>=0;n-=1){let s=t[n].parseMeta(o);if(s)return{sourceDefId:n,meta:s}}return null}(r,i);if(l)return{_raw:o,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Ee(),sourceDefId:l.sourceDefId,meta:l.meta,ui:tn(r,i),extendedProps:s}}return null}function es(o){return Object.assign(Object.assign(Object.assign({},en),c1),o.pluginHooks.eventSourceRefiners)}function ts(o,i,t){let n=t.options.eventDataTransform,r=i?i.eventDataTransform:null;return r&&(o=ns(o,r)),n&&(o=ns(o,n)),o}function ns(o,i){let t;if(i){t=[];for(let n of o){let r=i(n);r?t.push(r):null==r&&t.push(n)}}else t=o;return t}function is(o,i,t){let{defs:n}=o,r=_e(o.instances,s=>n[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:t.createMarker(i.toDate(s.range.start,s.forcedStartTzo)),end:t.createMarker(i.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:s.forcedEndTzo}));return{defs:n,instances:r}}function os(o,i){return Xt(o,t=>t.sourceId!==i)}class nn{constructor(){this.handlers={},this.thisContext=null}setThisContext(i){this.thisContext=i}setOptions(i){this.options=i}on(i,t){!function f1(o,i,t){(o[i]||(o[i]=[])).push(t)}(this.handlers,i,t)}off(i,t){!function v1(o,i,t){t?o[i]&&(o[i]=o[i].filter(n=>n!==t)):delete o[i]}(this.handlers,i,t)}trigger(i,...t){let s=[].concat(this.options&&this.options[i]||[],this.handlers[i]||[]);for(let l of s)l.apply(this.thisContext,t)}hasHandlers(i){return Boolean(this.handlers[i]&&this.handlers[i].length||this.options&&this.options[i])}}const b1={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function rs(o,i,t){t.emitter.trigger("select",Object.assign(Object.assign({},pi(o,t)),{jsEvent:i?i.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function pi(o,i){let t={};for(let n of i.pluginHooks.dateSpanTransforms)Object.assign(t,n(o,i));return Object.assign(t,function U1(o,i){return Object.assign(Object.assign({},hs(o.range,i,o.allDay)),{allDay:o.allDay})}(o,i.dateEnv)),t}function ss(o,i,t){let{dateEnv:n,options:r}=t,s=i;return o?(s=F(s),s=n.add(s,r.defaultAllDayEventDuration)):s=n.add(s,r.defaultTimedEventDuration),s}function _i(o,i,t,n){let r=on(o.defs,i),s={defs:{},instances:{}};for(let l in o.defs)s.defs[l]=y1(o.defs[l],r[l],t,n);for(let l in o.instances){let a=o.instances[l];s.instances[l]=w1(a,s.defs[a.defId],r[a.defId],t,n)}return s}function y1(o,i,t,n){let r=t.standardProps||{};null==r.hasEnd&&i.durationEditable&&(t.startDelta||t.endDelta)&&(r.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},o),r),{ui:Object.assign(Object.assign({},o.ui),r.ui)});t.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),t.extendedProps));for(let l of n.pluginHooks.eventDefMutationAppliers)l(s,t,n);return!s.hasEnd&&n.options.forceEventDuration&&(s.hasEnd=!0),s}function w1(o,i,t,n,r){let{dateEnv:s}=r,l=n.standardProps&&!0===n.standardProps.allDay,a=n.standardProps&&!1===n.standardProps.hasEnd,c=Object.assign({},o);return l&&(c.range=Yr(c.range)),n.datesDelta&&t.startEditable&&(c.range={start:s.add(c.range.start,n.datesDelta),end:s.add(c.range.end,n.datesDelta)}),n.startDelta&&t.durationEditable&&(c.range={start:s.add(c.range.start,n.startDelta),end:c.range.end}),n.endDelta&&t.durationEditable&&(c.range={start:c.range.start,end:s.add(c.range.end,n.endDelta)}),a&&(c.range={start:c.range.start,end:ss(i.allDay,c.range.start,r)}),i.allDay&&(c.range={start:F(c.range.start),end:F(c.range.end)}),c.range.end<c.range.start&&(c.range.end=ss(i.allDay,c.range.start,r)),c}class Ye{constructor(i,t){this.context=i,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class J{constructor(i,t,n){this._context=i,this._def=t,this._instance=n||null}setProp(i,t){if(i in zr)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===i)t=Kt[i](t),this.mutate({standardProps:{publicId:t}});else if(i in Kt)t=Kt[i](t),this.mutate({standardProps:{[i]:t}});else if(i in en){let n=en[i](t);n="color"===i?{backgroundColor:t,borderColor:t}:"editable"===i?{startEditable:t,durationEditable:t}:{[i]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${i}'. Use setExtendedProp instead.`)}setExtendedProp(i,t){this.mutate({extendedProps:{[i]:t}})}setStart(i,t={}){let{dateEnv:n}=this._context,r=n.createMarker(i);if(r&&this._instance){let l=Qe(this._instance.range.start,r,n,t.granularity);this.mutate(t.maintainDuration?{datesDelta:l}:{startDelta:l})}}setEnd(i,t={}){let r,{dateEnv:n}=this._context;if((null==i||(r=n.createMarker(i),r))&&this._instance)if(r){let s=Qe(this._instance.range.end,r,n,t.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(i,t,n={}){let a,{dateEnv:r}=this._context,s={allDay:n.allDay},l=r.createMarker(i);if(l&&(null==t||(a=r.createMarker(t),a))&&this._instance){let c=this._instance.range;!0===n.allDay&&(c=Yr(c));let d=Qe(c.start,l,r,n.granularity);if(a){let u=Qe(c.end,a,r,n.granularity);!function zh(o,i){return o.years===i.years&&o.months===i.months&&o.days===i.days&&o.milliseconds===i.milliseconds}(d,u)?this.mutate({startDelta:d,endDelta:u,standardProps:s}):this.mutate({datesDelta:d,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:d,standardProps:s})}}moveStart(i){let t=O(i);t&&this.mutate({startDelta:t})}moveEnd(i){let t=O(i);t&&this.mutate({endDelta:t})}moveDates(i){let t=O(i);t&&this.mutate({datesDelta:t})}setAllDay(i,t={}){let n={allDay:i},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==i&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(i){let{dateEnv:t}=this._context,n=this._instance,r=B(i);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(i){let t=this._instance;if(t){let n=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),l=di(s,t.instanceId);l=_i(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},i,r);let c=new J(r,n,t);this._def=l.defs[n.defId],this._instance=l.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:l}),r.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:Re(l,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let i=this._context,t=ls(this);i.dispatch({type:"REMOVE_EVENTS",eventStore:t}),i.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){i.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:i}=this._def;return i?new Ye(this._context,this._context.getCurrentData().eventSources[i]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let i=this._instance;return i?this._context.dateEnv.formatIso(i.range.start,{omitTime:this._def.allDay,forcedTzo:i.forcedStartTzo}):""}get endStr(){let i=this._instance;return i&&this._def.hasEnd?this._context.dateEnv.formatIso(i.range.end,{omitTime:this._def.allDay,forcedTzo:i.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(i={}){let t=this._def,{ui:n}=t,{startStr:r,endStr:s}=this,l={allDay:t.allDay};return t.title&&(l.title=t.title),r&&(l.start=r),s&&(l.end=s),t.publicId&&(l.id=t.publicId),t.groupId&&(l.groupId=t.groupId),t.url&&(l.url=t.url),n.display&&"auto"!==n.display&&(l.display=n.display),i.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?l.color=n.backgroundColor:(n.backgroundColor&&(l.backgroundColor=n.backgroundColor),n.borderColor&&(l.borderColor=n.borderColor)),n.textColor&&(l.textColor=n.textColor),n.classNames.length&&(l.classNames=n.classNames),Object.keys(t.extendedProps).length&&(i.collapseExtendedProps?Object.assign(l,t.extendedProps):l.extendedProps=t.extendedProps),l}toJSON(){return this.toPlainObject()}}function ls(o){let i=o._def,t=o._instance;return{defs:{[i.defId]:i},instances:t?{[t.instanceId]:t}:{}}}function Re(o,i,t){let{defs:n,instances:r}=o,s=[],l=t?t.instanceId:"";for(let a in r){let c=r[a];c.instanceId!==l&&s.push(new J(i,n[c.defId],c))}return s}function as(o,i,t,n){let r={},s={},l={},a=[],c=[],d=on(o.defs,i);for(let u in o.defs){let _=o.defs[u];"inverse-background"===d[_.defId].display&&(_.groupId?(r[_.groupId]=[],l[_.groupId]||(l[_.groupId]=_)):s[u]=[])}for(let u in o.instances){let _=o.instances[u],m=o.defs[_.defId],p=d[m.defId],f=_.range,b=!m.allDay&&n?ri(f,n):f,C=Ue(b,t);C&&("inverse-background"===p.display?m.groupId?r[m.groupId].push(C):s[_.defId].push(C):"none"!==p.display&&("background"===p.display?a:c).push({def:m,ui:p,instance:_,range:C,isStart:b.start&&b.start.valueOf()===C.start.valueOf(),isEnd:b.end&&b.end.valueOf()===C.end.valueOf()}))}for(let u in r){let m=Qr(r[u],t);for(let p of m){let f=l[u];a.push({def:f,ui:d[f.defId],instance:null,range:p,isStart:!1,isEnd:!1})}}for(let u in s){let m=Qr(s[u],t);for(let p of m)a.push({def:o.defs[u],ui:d[u],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:a,fg:c}}function cs(o,i){o.fcSeg=i}function Ge(o){return o.fcSeg||o.parentNode.fcSeg||null}function on(o,i){return _e(o,t=>ds(t,i))}function ds(o,i){let t=[];return i[""]&&t.push(i[""]),i[o.defId]&&t.push(i[o.defId]),t.push(o.ui),Kr(t)}function us(o,i){let t=o.map(A1);return t.sort((n,r)=>function Jh(o,i,t){let n,r;for(n=0;n<t.length;n+=1)if(r=Lh(o,i,t[n]),r)return r;return 0}(n,r,i)),t.map(n=>n._seg)}function A1(o){let{eventRange:i}=o,t=i.def,n=i.instance?i.instance.range:i.range,r=n.start?n.start.valueOf():0,s=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:r,end:s,duration:s-r,allDay:Number(t.allDay),_seg:o})}function D1(o,i){let{pluginHooks:t}=i,n=t.isDraggableTransformers,{def:r,ui:s}=o.eventRange,l=s.startEditable;for(let a of n)l=a(l,r,s,i);return l}function S1(o,i){return o.isStart&&o.eventRange.ui.durationEditable&&i.options.eventResizableFromStart}function ps(o,i,t,n,r,s,l){let{dateEnv:a,options:c}=t,{displayEventTime:d,displayEventEnd:u}=c,_=o.eventRange.def,m=o.eventRange.instance;null==d&&(d=!1!==n),null==u&&(u=!1!==r);let p=m.range.start,f=m.range.end,b=s||o.start||o.eventRange.range.start,C=l||o.end||o.eventRange.range.end,v=F(p).valueOf()===F(b).valueOf(),w=F(Te(f,-1)).valueOf()===F(Te(C,-1)).valueOf();return d&&!_.allDay&&(v||w)?(b=v?p:b,C=w?f:C,u&&_.hasEnd?a.formatRange(b,C,i,{forcedStartTzo:s?null:m.forcedStartTzo,forcedEndTzo:l?null:m.forcedEndTzo}):a.format(b,i,{forcedTzo:s?null:m.forcedStartTzo})):""}function Ae(o,i,t){let n=o.eventRange.range;return{isPast:n.end<=(t||i.start),isFuture:n.start>=(t||i.end),isToday:i&&he(i,n.start)}}function M1(o){let i=["fc-event"];return o.isMirror&&i.push("fc-event-mirror"),o.isDraggable&&i.push("fc-event-draggable"),(o.isStartResizable||o.isEndResizable)&&i.push("fc-event-resizable"),o.isDragging&&i.push("fc-event-dragging"),o.isResizing&&i.push("fc-event-resizing"),o.isSelected&&i.push("fc-event-selected"),o.isStart&&i.push("fc-event-start"),o.isEnd&&i.push("fc-event-end"),o.isPast&&i.push("fc-event-past"),o.isToday&&i.push("fc-event-today"),o.isFuture&&i.push("fc-event-future"),i}function _s(o){return o.instance?o.instance.instanceId:`${o.def.defId}:${o.range.start.toISOString()}`}function ms(o,i){let{def:t,instance:n}=o.eventRange,{url:r}=t;if(r)return{href:r};let{emitter:s,options:l}=i,{eventInteractive:a}=l;return null==a&&(a=t.interactive,null==a&&(a=Boolean(s.hasHandlers("eventClick")))),a?yr(c=>{s.trigger("eventClick",{el:c.target,event:new J(i,t,n),jsEvent:c,view:i.viewApi})}):{}}const Z1={start:x,end:x,allDay:Boolean};function gs(o,i,t){return Object.assign(Object.assign({},hs(o,i,t)),{timeZone:i.timeZone})}function hs(o,i,t){return{start:i.toDate(o.start),end:i.toDate(o.end),startStr:i.formatIso(o.start,{omitTime:t}),endStr:i.formatIso(o.end,{omitTime:t})}}class fs extends Error{constructor(i,t){super(i),this.response=t}}let mi;function vs(){return null==mi&&(mi=function q1(){if(typeof document>"u")return!0;let o=document.createElement("div");o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.innerHTML="<table><tr><td><div></div></td></tr></table>",o.querySelector("table").style.height="100px",o.querySelector("div").style.height="100%",document.body.appendChild(o);let t=o.querySelector("div").offsetHeight>0;return document.body.removeChild(o),t}()),mi}class J1 extends U{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{zt(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{zt(()=>{this.setState({forPrint:!1})})}}render(){let{props:i}=this,{options:t}=i,{forPrint:n}=this.state,r=n||"auto"===t.height||"auto"===t.contentHeight,s=r||null==t.height?"":t.height,l=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,i.theme.getClass("root")];return vs()||l.push("fc-liquid-hack"),i.children(l,s,r,n)}componentDidMount(){let{emitter:i}=this.props;i.on("_beforeprint",this.handleBeforePrint),i.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:i}=this.props;i.off("_beforeprint",this.handleBeforePrint),i.off("_afterprint",this.handleAfterPrint)}}class ze{constructor(i){this.component=i.component,this.isHitComboAllowed=i.isHitComboAllowed||null}destroy(){}}function gi(o){return{[o.component.uid]:o}}const hi={};class B1{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(i){this.currentDataManager.dispatch(i)}get view(){return this.getCurrentData().viewApi}batchRendering(i){i()}updateSize(){this.trigger("_resize",!0)}setOption(i,t){this.dispatch({type:"SET_OPTION",optionName:i,rawOptionValue:t})}getOption(i){return this.currentDataManager.currentCalendarOptionsInput[i]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(i,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[i]?n.emitter.on(i,t):console.warn(`Unknown listener name '${i}'`)}off(i,t){this.currentDataManager.emitter.off(i,t)}trigger(i,...t){this.currentDataManager.emitter.trigger(i,...t)}changeView(i,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i})})}zoomTo(i,t){let r;r=this.getCurrentData().viewSpecs[t=t||"day"]||this.getUnitViewSpec(t),this.unselect(),this.dispatch(r?{type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:i}:{type:"CHANGE_DATE",dateMarker:i})}getUnitViewSpec(i){let s,l,{viewSpecs:t,toolbarConfig:n}=this.getCurrentData(),r=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]);for(let a in t)r.push(a);for(s=0;s<r.length;s+=1)if(l=t[r[s]],l&&l.singleUnit===i)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:i.dateEnv.addYears(i.currentDate,-1)})}nextYear(){let i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:i.dateEnv.addYears(i.currentDate,1)})}today(){let i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:ht(i.calendarOptions.now,i.dateEnv)})}gotoDate(i){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(i)})}incrementDate(i){let t=this.getCurrentData(),n=O(i);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let i=this.getCurrentData();return i.dateEnv.toDate(i.currentDate)}formatDate(i,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(i),B(t))}formatRange(i,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(i),r.createMarker(t),B(n),n)}formatIso(i,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(i),{omitTime:t})}select(i,t){let n;n=null==t?null!=i.start?i:{start:i,end:null}:{start:i,end:t};let r=this.getCurrentData(),s=function E1(o,i,t){let n=function P1(o,i){let{refined:t,extra:n}=Yt(o,Z1),r=t.start?i.createMarkerMeta(t.start):null,s=t.end?i.createMarkerMeta(t.end):null,{allDay:l}=t;return null==l&&(l=r&&r.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:s?s.marker:null},allDay:l},n)}(o,i),{range:r}=n;if(!r.start)return null;if(!r.end){if(null==t)return null;r.end=i.add(r.start,t)}return n}(n,r.dateEnv,O({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),rs(s,null,r))}unselect(i){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function T1(o,i){i.emitter.trigger("unselect",{jsEvent:o?o.origEvent:null,view:i.viewApi||i.calendarApi.view})}(i,t))}addEvent(i,t){if(i instanceof J){let l=i._def,a=i._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:ci({def:l,instance:a})}),this.triggerEventAdd(i)),i}let r,n=this.getCurrentData();if(t instanceof Ye)r=t.internalEventSource;else if("boolean"==typeof t)t&&([r]=Xn(n.eventSources));else if(null!=t){let l=this.getEventSourceById(t);if(!l)return console.warn(`Could not find an event source with ID "${t}"`),null;r=l.internalEventSource}let s=Vr(i,r,n,!1);if(s){let l=new J(n,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:ci(s)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(i){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:i,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:ls(i)})}})}getEventById(i){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;i=String(i);for(let s in n){let l=n[s];if(l.publicId===i){if(l.recurringDef)return new J(t,l,null);for(let a in r){let c=r[a];if(c.defId===l.defId)return new J(t,l,c)}}}return null}getEvents(){let i=this.getCurrentData();return Re(i.eventStore,i)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let i=this.getCurrentData(),t=i.eventSources,n=[];for(let r in t)n.push(new Ye(i,t[r]));return n}getEventSourceById(i){let t=this.getCurrentData(),n=t.eventSources;i=String(i);for(let r in n)if(n[r].publicId===i)return new Ye(t,n[r]);return null}addEventSource(i){let t=this.getCurrentData();if(i instanceof Ye)return t.eventSources[i.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i.internalEventSource]}),i;let n=Xr(i,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Ye(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(i){let t=O(i);t&&this.trigger("_scrollRequest",{time:t})}}function H1(o,i){return o.left>=i.left&&o.left<i.right&&o.top>=i.top&&o.top<i.bottom}function bs(o,i){let t={left:Math.max(o.left,i.left),right:Math.min(o.right,i.right),top:Math.max(o.top,i.top),bottom:Math.min(o.bottom,i.bottom)};return t.left<t.right&&t.top<t.bottom&&t}const fi={defs:{},instances:{}};class z1{constructor(){this.getKeysForEventDefs=Z(this._getKeysForEventDefs),this.splitDateSelection=Z(this._splitDateSpan),this.splitEventStore=Z(this._splitEventStore),this.splitIndividualUi=Z(this._splitIndividualUi),this.splitEventDrag=Z(this._splitInteraction),this.splitEventResize=Z(this._splitInteraction),this.eventUiBuilders={}}splitProps(i){let t=this.getKeyInfo(i),n=this.getKeysForEventDefs(i.eventStore),r=this.splitDateSelection(i.dateSelection),s=this.splitIndividualUi(i.eventUiBases,n),l=this.splitEventStore(i.eventStore,n),a=this.splitEventDrag(i.eventDrag),c=this.splitEventResize(i.eventResize),d={};this.eventUiBuilders=_e(t,(u,_)=>this.eventUiBuilders[_]||Z(V1));for(let u in t){let _=t[u],m=l[u]||fi;d[u]={businessHours:_.businessHours||i.businessHours,dateSelection:r[u]||null,eventStore:m,eventUiBases:(0,this.eventUiBuilders[u])(i.eventUiBases[""],_.ui,s[u]),eventSelection:m.instances[i.eventSelection]?i.eventSelection:"",eventDrag:a[u]||null,eventResize:c[u]||null}}return d}_splitDateSpan(i){let t={};if(i){let n=this.getKeysForDateSpan(i);for(let r of n)t[r]=i}return t}_getKeysForEventDefs(i){return _e(i.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(i,t){let{defs:n,instances:r}=i,s={};for(let l in n)for(let a of t[l])s[a]||(s[a]={defs:{},instances:{}}),s[a].defs[l]=n[l];for(let l in r){let a=r[l];for(let c of t[a.defId])s[c]&&(s[c].instances[l]=a)}return s}_splitIndividualUi(i,t){let n={};for(let r in i)if(r)for(let s of t[r])n[s]||(n[s]={}),n[s][r]=i[r];return n}_splitInteraction(i){let t={};if(i){let n=this._splitEventStore(i.affectedEvents,this._getKeysForEventDefs(i.affectedEvents)),r=this._getKeysForEventDefs(i.mutatedEvents),s=this._splitEventStore(i.mutatedEvents,r),l=a=>{t[a]||(t[a]={affectedEvents:n[a]||fi,mutatedEvents:s[a]||fi,isEvent:i.isEvent})};for(let a in n)l(a);for(let a in s)l(a)}return t}}function V1(o,i,t){let n=[];o&&n.push(o),i&&n.push(i);let r={"":Kr(n)};return t&&Object.assign(r,t),r}function xs(o,i,t,n){return{dow:o.getUTCDay(),isDisabled:Boolean(n&&!he(n.activeRange,o)),isOther:Boolean(n&&!he(n.currentRange,o)),isToday:Boolean(i&&he(i,o)),isPast:Boolean(t?o<t:!!i&&o<i.start),isFuture:Boolean(t?o>t:!!i&&o>=i.end)}}function vi(o,i){let t=["fc-day",`fc-day-${Dr[o.dow]}`];return o.isDisabled?t.push("fc-day-disabled"):(o.isToday&&(t.push("fc-day-today"),t.push(i.getClass("today"))),o.isPast&&t.push("fc-day-past"),o.isFuture&&t.push("fc-day-future"),o.isOther&&t.push("fc-day-other")),t}const W1=B({year:"numeric",month:"long",day:"numeric"}),$1=B({week:"long"});function rn(o,i,t="day",n=!0){const{dateEnv:r,options:s,calendarApi:l}=o;let a=r.format(i,"week"===t?$1:W1);if(s.navLinks){let c=r.toDate(i);const d=u=>{let _="day"===t?s.navLinkDayClick:"week"===t?s.navLinkWeekClick:null;"function"==typeof _?_.call(l,r.toDate(i),u):("string"==typeof _&&(t=_),l.zoomTo(i,t))};return Object.assign({title:_t(s.navLinkHint,[a,c],a),"data-navlink":""},n?Tr(d):{onClick:d})}return{"aria-label":a}}let xi,bi=null;function Cs(o){return{x:o.offsetHeight-o.clientHeight,y:o.offsetWidth-o.clientWidth}}function iv(o,i=!1,t){let n=t?o.getBoundingClientRect():Ci(o),r=function nv(o,i=!1){let t=window.getComputedStyle(o),n=parseInt(t.borderLeftWidth,10)||0,r=parseInt(t.borderRightWidth,10)||0,s=parseInt(t.borderTopWidth,10)||0,l=parseInt(t.borderBottomWidth,10)||0,a=Cs(o),c=a.y-n-r,u={borderLeft:n,borderRight:r,borderTop:s,borderBottom:l,scrollbarBottom:a.x-s-l,scrollbarLeft:0,scrollbarRight:0};return function K1(){return null===bi&&(bi=function X1(){let o=document.createElement("div");pt(o,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),o.innerHTML="<div></div>",document.body.appendChild(o);let t=o.firstChild.getBoundingClientRect().left>o.getBoundingClientRect().left;return Ln(o),t}()),bi}()&&"rtl"===t.direction?u.scrollbarLeft=c:u.scrollbarRight=c,i&&(u.paddingLeft=parseInt(t.paddingLeft,10)||0,u.paddingRight=parseInt(t.paddingRight,10)||0,u.paddingTop=parseInt(t.paddingTop,10)||0,u.paddingBottom=parseInt(t.paddingBottom,10)||0),u}(o,i),s={left:n.left+r.borderLeft+r.scrollbarLeft,right:n.right-r.borderRight-r.scrollbarRight,top:n.top+r.borderTop,bottom:n.bottom-r.borderBottom-r.scrollbarBottom};return i&&(s.left+=r.paddingLeft,s.right-=r.paddingRight,s.top+=r.paddingTop,s.bottom-=r.paddingBottom),s}function Ci(o){let i=o.getBoundingClientRect();return{left:i.left+window.scrollX,top:i.top+window.scrollY,right:i.right+window.scrollX,bottom:i.bottom+window.scrollY}}function Ts(o){let i=[];for(;o instanceof HTMLElement;){let t=window.getComputedStyle(o);if("fixed"===t.position)break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&i.push(o),o=o.parentNode}return i}class Ve{constructor(i,t,n,r){this.els=t;let s=this.originClientRect=i.getBoundingClientRect();n&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(i){let t=[],n=[];for(let r of this.els){let s=r.getBoundingClientRect();t.push(s.left-i),n.push(s.right-i)}this.lefts=t,this.rights=n}buildElVerticals(i){let t=[],n=[];for(let r of this.els){let s=r.getBoundingClientRect();t.push(s.top-i),n.push(s.bottom-i)}this.tops=t,this.bottoms=n}leftToIndex(i){let s,{lefts:t,rights:n}=this,r=t.length;for(s=0;s<r;s+=1)if(i>=t[s]&&i<n[s])return s}topToIndex(i){let s,{tops:t,bottoms:n}=this,r=t.length;for(s=0;s<r;s+=1)if(i>=t[s]&&i<n[s])return s}getWidth(i){return this.rights[i]-this.lefts[i]}getHeight(i){return this.bottoms[i]-this.tops[i]}similarTo(i){return sn(this.tops||[],i.tops||[])&&sn(this.bottoms||[],i.bottoms||[])&&sn(this.lefts||[],i.lefts||[])&&sn(this.rights||[],i.rights||[])}}function sn(o,i){const t=o.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(Math.round(o[n])!==Math.round(i[n]))return!1;return!0}class Ti{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class rv extends Ti{constructor(i){super(),this.el=i}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(i){this.el.scrollTop=i}setScrollLeft(i){this.el.scrollLeft=i}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class sv extends Ti{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(i){window.scroll(window.scrollX,i)}setScrollLeft(i){window.scroll(i,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class le extends U{constructor(){super(...arguments),this.uid=Ee()}prepareHits(){}queryHit(i,t,n,r){return null}isValidSegDownEl(i){return!this.props.eventDrag&&!this.props.eventResize&&!V(i,".fc-event-mirror")}isValidDateDownEl(i){return!(V(i,".fc-event:not(.fc-bg-event)")||V(i,".fc-more-link")||V(i,"a[data-navlink]")||V(i,".fc-popover"))}}class ys{constructor(i=(t=>t.thickness||1)){this.getEntryThickness=i,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(i){let t=[];for(let n of i)this.insertEntry(n,t);return t}insertEntry(i,t){let n=this.findInsertion(i);this.isInsertionValid(n,i)?this.insertEntryAt(i,n):this.handleInvalidInsertion(n,i,t)}isInsertionValid(i,t){return(-1===this.maxCoord||i.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(-1===this.maxStackCnt||i.stackCnt<this.maxStackCnt)}handleInvalidInsertion(i,t,n){if(this.allowReslicing&&i.touchingEntry){const r=Object.assign(Object.assign({},t),{span:wi(t.span,i.touchingEntry.span)});n.push(r),this.splitEntry(t,i.touchingEntry,n)}else n.push(t)}splitEntry(i,t,n){let r=i.span,s=t.span;r.start<s.start&&this.insertEntry({index:i.index,thickness:i.thickness,span:{start:r.start,end:s.start}},n),r.end>s.end&&this.insertEntry({index:i.index,thickness:i.thickness,span:{start:s.end,end:r.end}},n)}insertEntryAt(i,t){let{entriesByLevel:n,levelCoords:r}=this;-1===t.lateral?(Ii(r,t.level,t.levelCoord),Ii(n,t.level,[i])):Ii(n[t.level],t.lateral,i),this.stackCnts[Fe(i)]=t.stackCnt}findInsertion(i){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:s}=this,l=t.length,a=0,c=-1,d=-1,u=null,_=0;for(let f=0;f<l;f+=1){const b=t[f];if(!r&&b>=a+this.getEntryThickness(i))break;let v,C=n[f],w=Ai(C,i.span.start,yi),A=w[0]+w[1];for(;(v=C[A])&&v.span.start<i.span.end;){let M=b+this.getEntryThickness(v);M>a&&(a=M,u=v,c=f,d=A),M===a&&(_=Math.max(_,s[Fe(v)]+1)),A+=1}}let m=0;if(u)for(m=c+1;m<l&&t[m]<a;)m+=1;let p=-1;return m<l&&t[m]===a&&(p=Ai(n[m],i.span.end,yi)[0]),{touchingLevel:c,touchingLateral:d,touchingEntry:u,stackCnt:_,levelCoord:a,level:m,lateral:p}}toRects(){let{entriesByLevel:i,levelCoords:t}=this,n=i.length,r=[];for(let s=0;s<n;s+=1){let l=i[s],a=t[s];for(let c of l)r.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:a}))}return r}}function yi(o){return o.span.end}function Fe(o){return o.index+":"+o.span.start}function av(o,i){return{start:Math.min(o.start,i.start),end:Math.max(o.end,i.end)}}function wi(o,i){let t=Math.max(o.start,i.start),n=Math.min(o.end,i.end);return t<n?{start:t,end:n}:null}function Ii(o,i,t){o.splice(i,0,t)}function Ai(o,i,t){let n=0,r=o.length;if(!r||i<t(o[n]))return[0,0];if(i>t(o[r-1]))return[r,0];for(;n<r;){let s=Math.floor(n+(r-n)/2),l=t(o[s]);if(i<l)r=s;else{if(!(i>l))return[s,1];n=s+1}}return[n,0]}class cv{constructor(i,t){this.emitter=new nn}destroy(){}setMirrorIsVisible(i){}setMirrorNeedsRevert(i){}setAutoScrollEnabled(i){}}const Di={};Boolean;const ws="fc-col-header-cell";function Is(o){return o.text}class pv extends U{render(){let{dateEnv:i,options:t,theme:n,viewApi:r}=this.context,{props:s}=this,{date:l,dateProfile:a}=s,c=xs(l,s.todayRange,null,a),d=[ws].concat(vi(c,n)),u=i.format(l,s.dayHeaderFormat),_=!c.isDisabled&&s.colCnt>1?rn(this.context,l):{},m=Object.assign(Object.assign(Object.assign({date:i.toDate(l),view:r},s.extraRenderProps),{text:u}),c);return h(ne,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":c.isDisabled?void 0:Vn(l)},s.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Is,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},p=>h("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&h(p,{elTag:"a",elAttrs:_,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const _v=B({weekday:"long"});class mv extends U{render(){let{props:i}=this,{dateEnv:t,theme:n,viewApi:r,options:s}=this.context,l=W(new Date(2592e5),i.dow),a={dow:i.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=t.format(l,i.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:l},a),{view:r}),i.extraRenderProps),{text:c});return h(ne,{elTag:"th",elClasses:[ws,...vi(a,n),...i.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan},i.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:Is,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},u=>h("div",{className:"fc-scrollgrid-sync-inner"},h(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(l,_v)}})))}}let ln=(()=>{class o extends K{constructor(t,n){super(t,n),this.initialNowDate=ht(n.options.now,n.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:n}=this;return t.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:n}=this,r=Te(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),s=n.dateEnv.startOf(r,t.unit),l=n.dateEnv.add(s,O(1,t.unit)),a=l.valueOf()-r.valueOf();return a=Math.min(864e5,a),{currentState:{nowDate:s,todayRange:As(s)},nextState:{nowDate:l,todayRange:As(l)},waitMs:a}}setTimeout(){let{nextState:t,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return o.contextType=me,o})();function As(o){let i=F(o);return{start:i,end:W(i,1)}}class Ds extends U{constructor(){super(...arguments),this.createDayHeaderFormatter=Z(gv)}render(){let{context:i}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:s}=this.props,l=this.createDayHeaderFormatter(i.options.dayHeaderFormat,r,t.length);return h(ln,{unit:"day"},(a,c)=>h("tr",{role:"row"},s&&s("day"),t.map(d=>r?h(pv,{key:d.toISOString(),date:d,dateProfile:n,todayRange:c,colCnt:t.length,dayHeaderFormat:l}):h(mv,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:l}))))}}function gv(o,i,t){return o||function uv(o,i){return B(!o||i>10?{weekday:"short"}:i>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(i,t)}class Ss{constructor(i,t){let n=i.start,{end:r}=i,s=[],l=[],a=-1;for(;n<r;)t.isHiddenDay(n)?s.push(a+.5):(a+=1,s.push(a),l.push(n)),n=W(n,1);this.dates=l,this.indices=s,this.cnt=l.length}sliceRange(i){let t=this.getDateDayIndex(i.start),n=this.getDateDayIndex(W(i.end,-1)),r=Math.max(0,t),s=Math.min(this.cnt-1,n);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:t===r,isEnd:n===s}:null}getDateDayIndex(i){let{indices:t}=this,n=Math.floor(ye(this.dates[0],i));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class ks{constructor(i,t){let r,s,l,{dates:n}=i;if(t){for(s=n[0].getUTCDay(),r=1;r<n.length&&n[r].getUTCDay()!==s;r+=1);l=Math.ceil(n.length/r)}else l=1,r=n.length;this.rowCnt=l,this.colCnt=r,this.daySeries=i,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let i=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let r=0;r<this.colCnt;r+=1)n.push(this.buildCell(t,r));i.push(n)}return i}buildCell(i,t){let n=this.daySeries.dates[i*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let i=[];for(let t=0;t<this.colCnt;t+=1)i.push(this.cells[0][t].date);return i}sliceRange(i){let{colCnt:t}=this,n=this.daySeries.sliceRange(i),r=[];if(n){let{firstIndex:s,lastIndex:l}=n,a=s;for(;a<=l;){let c=Math.floor(a/t),d=Math.min((c+1)*t,l+1);r.push({row:c,firstCol:a%t,lastCol:(d-1)%t,isStart:n.isStart&&a===s,isEnd:n.isEnd&&d-1===l}),a=d}}return r}}class Ms{constructor(){this.sliceBusinessHours=Z(this._sliceBusinessHours),this.sliceDateSelection=Z(this._sliceDateSpan),this.sliceEventStore=Z(this._sliceEventStore),this.sliceEventDrag=Z(this._sliceInteraction),this.sliceEventResize=Z(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(i,t,n,r,...s){let{eventUiBases:l}=i,a=this.sliceEventStore(i.eventStore,l,t,n,...s);return{dateSelectionSegs:this.sliceDateSelection(i.dateSelection,t,n,l,r,...s),businessHourSegs:this.sliceBusinessHours(i.businessHours,t,n,r,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(i.eventDrag,l,t,n,...s),eventResize:this.sliceEventResize(i.eventResize,l,t,n,...s),eventSelection:i.eventSelection}}sliceNowDate(i,t,n,r,...s){return this._sliceDateSpan({range:{start:i,end:Te(i,1)},allDay:!1},t,n,{},r,...s)}_sliceBusinessHours(i,t,n,r,...s){return i?this._sliceEventStore(je(i,an(t,Boolean(n)),r),{},t,n,...s).bg:[]}_sliceEventStore(i,t,n,r,...s){if(i){let l=as(i,t,an(n,Boolean(r)),r);return{bg:this.sliceEventRanges(l.bg,s),fg:this.sliceEventRanges(l.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(i,t,n,r,...s){if(!i)return null;let l=as(i.mutatedEvents,t,an(n,Boolean(r)),r);return{segs:this.sliceEventRanges(l.fg,s),affectedInstances:i.affectedEvents.instances,isEvent:i.isEvent}}_sliceDateSpan(i,t,n,r,s,...l){if(!i)return[];let a=an(t,Boolean(n)),c=Ue(i.range,a);if(c){let d=function j1(o,i,t){let n=Wr({editable:!1},t),r=ai(n.refined,n.extra,"",o.allDay,!0,t);return{def:r,ui:ds(r,i),instance:si(r.defId,o.range),range:o.range,isStart:!0,isEnd:!0}}(i=Object.assign(Object.assign({},i),{range:c}),r,s),u=this.sliceRange(i.range,...l);for(let _ of u)_.eventRange=d;return u}return[]}sliceEventRanges(i,t){let n=[];for(let r of i)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(i,t){let n=i.range;this.forceDayIfListItem&&"list-item"===i.ui.display&&(n={start:n.start,end:W(n.start,1)});let r=this.sliceRange(n,...t);for(let s of r)s.eventRange=i,s.isStart=i.isStart&&s.isStart,s.isEnd=i.isEnd&&s.isEnd;return r}}function an(o,i){let t=o.activeRange;return i?t:{start:Te(t.start,o.slotMinTime.milliseconds),end:Te(t.end,o.slotMaxTime.milliseconds-864e5)}}function Zs(o,i,t){let{instances:n}=o.mutatedEvents;for(let r in n)if(!$t(i.validRange,n[r].range))return!1;return Es({eventDrag:o},t)}function Es(o,i){let t=i.getCurrentData(),n=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},o);return(i.pluginHooks.isPropsValid||fv)(n,i)}function fv(o,i,t={},n){return!(o.eventDrag&&!function vv(o,i,t,n){let r=i.getCurrentData(),s=o.eventDrag,l=s.mutatedEvents,a=l.defs,c=l.instances,d=on(a,s.isEvent?o.eventUiBases:{"":r.selectionConfig});n&&(d=_e(d,n));let u=function g1(o,i){return{defs:o.defs,instances:Ne(o.instances,t=>!i[t.instanceId])}}(o.eventStore,s.affectedEvents.instances),_=u.defs,m=u.instances,p=on(_,o.eventUiBases);for(let f in c){let b=c[f],C=b.range,v=d[b.defId],w=a[b.defId];if(!Ps(v.constraints,C,u,o.businessHours,i))return!1;let{eventOverlap:A}=i.options,M="function"==typeof A?A:null;for(let P in m){let j=m[P];if(oi(C,j.range)&&(!1===p[j.defId].overlap&&s.isEvent||!1===v.overlap||M&&!M(new J(i,_[j.defId],j),new J(i,w,b))))return!1}let N=r.eventStore;for(let P of v.allows){let tt,j=Object.assign(Object.assign({},t),{range:b.range,allDay:w.allDay}),E=N.defs[w.defId];if(tt=E?new J(i,E,N.instances[f]):new J(i,w),!P(pi(j,i),tt))return!1}}return!0}(o,i,t,n)||o.dateSelection&&!function bv(o,i,t,n){let r=o.eventStore,s=r.defs,l=r.instances,a=o.dateSelection,c=a.range,{selectionConfig:d}=i.getCurrentData();if(n&&(d=n(d)),!Ps(d.constraints,c,r,o.businessHours,i))return!1;let{selectOverlap:u}=i.options,_="function"==typeof u?u:null;for(let m in l){let p=l[m];if(oi(c,p.range)&&(!1===d.overlap||_&&!_(new J(i,s[p.defId],p),null)))return!1}for(let m of d.allows)if(!m(pi(Object.assign(Object.assign({},t),a),i),null))return!1;return!0}(o,i,t,n))}function Ps(o,i,t,n,r){for(let s of o)if(!Cv(xv(s,i,t,n,r),i))return!1;return!0}function xv(o,i,t,n,r){return"businessHours"===o?Si(je(n,i,r)):"string"==typeof o?Si(Xt(t,s=>s.groupId===o)):"object"==typeof o&&o?Si(je(o,i,r)):[]}function Si(o){let{instances:i}=o,t=[];for(let n in i)t.push(i[n].range);return t}function Cv(o,i){for(let t of o)if($t(t,i))return!0;return!1}const cn=/^(visible|hidden)$/;class Tv extends U{constructor(){super(...arguments),this.handleEl=i=>{this.el=i,ge(this.props.elRef,i)}}render(){let{props:i}=this,{liquid:t,liquidIsAbsolute:n}=i,r=t&&n,s=["fc-scroller"];return t&&s.push(n?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),h("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:i.overflowX,overflowY:i.overflowY,left:r&&-(i.overcomeLeft||0)||"",right:r&&-(i.overcomeRight||0)||"",bottom:r&&-(i.overcomeBottom||0)||"",marginLeft:!r&&-(i.overcomeLeft||0)||"",marginRight:!r&&-(i.overcomeRight||0)||"",marginBottom:!r&&-(i.overcomeBottom||0)||"",maxHeight:i.maxHeight||""}},i.children)}needsXScrolling(){if(cn.test(this.props.overflowX))return!1;let{el:i}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=i;for(let r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(cn.test(this.props.overflowY))return!1;let{el:i}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=i;for(let r=0;r<n.length;r+=1)if(n[r].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return cn.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return cn.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class fe{constructor(i){this.masterCallback=i,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,n)=>{let{depths:r,currentMap:s}=this,l=!1,a=!1;null!==t?(l=n in s,s[n]=t,r[n]=(r[n]||0)+1,a=!0):(r[n]-=1,r[n]||(delete s[n],delete this.callbackMap[n],l=!0)),this.masterCallback&&(l&&this.masterCallback(null,String(n)),a&&this.masterCallback(t,String(n)))}}createRef(i){let t=this.callbackMap[i];return t||(t=this.callbackMap[i]=n=>{this.handleValue(n,String(i))}),t}collect(i,t,n){return function Ef(o,i=0,t,n=1){let r=[];null==t&&(t=Object.keys(o).length);for(let s=i;s<t;s+=n){let l=o[s];void 0!==l&&r.push(l)}return r}(this.currentMap,i,t,n)}getAll(){return Xn(this.currentMap)}}function Os(o,i){return o.liquid&&i.liquid}function Av(o,i){return re(o,i,se)}function Dv(o,i){let t=[];for(let n of o){let r=n.span||1;for(let s=0;s<r;s+=1)t.push(h("col",{style:{width:"shrink"===n.width?Sv(i):n.width||"",minWidth:n.minWidth||""}}))}return h("colgroup",{},...t)}function Sv(o){return o??4}function Zv(o,i){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${o.type}`,o.className];return i&&o.liquid&&null==o.maxHeight&&t.push("fc-scrollgrid-section-liquid"),o.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function ki(o){return h("div",{className:"fc-scrollgrid-sticky-shim",style:{width:o.clientWidth,minWidth:o.tableMinWidth}})}function dn(o){let{stickyHeaderDates:i}=o;return(null==i||"auto"===i)&&(i="auto"===o.height||"auto"===o.viewHeight),i}function Ns(o){let{stickyFooterScrollbar:i}=o;return(null==i||"auto"===i)&&(i="auto"===o.height||"auto"===o.viewHeight),i}class Mi extends U{constructor(){super(...arguments),this.processCols=Z(i=>i,Av),this.renderMicroColGroup=Z(Dv),this.scrollerRefs=new fe,this.scrollerElRefs=new fe(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:i,state:t,context:n}=this,r=i.sections||[],s=this.processCols(i.cols),l=this.renderMicroColGroup(s,t.shrinkWidth),a=function Mv(o,i){let t=["fc-scrollgrid",i.theme.getClass("table")];return o&&t.push("fc-scrollgrid-liquid"),t}(i.liquid,n);i.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let u,c=r.length,d=0,_=[],m=[],p=[];for(;d<c&&"header"===(u=r[d]).type;)_.push(this.renderSection(u,l,!0)),d+=1;for(;d<c&&"body"===(u=r[d]).type;)m.push(this.renderSection(u,l,!1)),d+=1;for(;d<c&&"footer"===(u=r[d]).type;)p.push(this.renderSection(u,l,!0)),d+=1;let f=!vs();const b={role:"rowgroup"};return h("table",{role:"grid",className:a.join(" "),style:{height:i.height}},Boolean(!f&&_.length)&&h("thead",b,..._),Boolean(!f&&m.length)&&h("tbody",b,...m),Boolean(!f&&p.length)&&h("tfoot",b,...p),f&&h("tbody",b,..._,...m,...p))}renderSection(i,t,n){return"outerContent"in i?h(R,{key:i.key},i.outerContent):h("tr",{key:i.key,role:"presentation",className:Zv(i,this.props.liquid).join(" ")},this.renderChunkTd(i,t,i.chunk,n))}renderChunkTd(i,t,n,r){if("outerContent"in n)return n.outerContent;let{props:s}=this,{forceYScrollbars:l,scrollerClientWidths:a,scrollerClientHeights:c}=this.state,d=function wv(o,i){return null!=i.maxHeight||Os(o,i)}(s,i),u=Os(s,i),_=s.liquid?l?"scroll":d?"auto":"hidden":"visible",m=i.key,p=function Iv(o,i,t,n){let{expandRows:r}=t;return"function"==typeof i.content?i.content(t):h("table",{role:"presentation",className:[i.tableClassName,o.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:r?t.clientHeight:""}},t.tableColGroupNode,h(n?"thead":"tbody",{role:"presentation"},"function"==typeof i.rowContent?i.rowContent(t):i.rowContent))}(i,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:s.collapsibleWidth||void 0===a[m]?null:a[m],clientHeight:void 0!==c[m]?c[m]:null,expandRows:i.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return h(r?"th":"td",{ref:n.elRef,role:"presentation"},h("div",{className:"fc-scroller-harness"+(u?" fc-scroller-harness-liquid":"")},h(Tv,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:_,overflowX:s.liquid?"hidden":"visible",maxHeight:i.maxHeight,liquid:u,liquidIsAbsolute:!0},p)))}_handleScrollerEl(i,t){let n=function Ev(o,i){for(let t of o)if(t.key===i)return t;return null}(this.props.sections,t);n&&ge(n.chunk.scrollerElRef,i)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function kv(o){for(let i of o)if("shrink"===i.width)return!0;return!1}(this.props.cols)?function yv(o){let i=function Zh(o,i){let t=o instanceof HTMLElement?[o]:o,n=[];for(let r=0;r<t.length;r+=1){let s=t[r].querySelectorAll(i);for(let l=0;l<s.length;l+=1)n.push(s[l])}return n}(o,".fc-scrollgrid-shrink"),t=0;for(let n of i)t=Math.max(t,Qh(n));return Math.ceil(t)}(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let i=function ev(){return xi||(xi=function tv(){let o=document.createElement("div");o.style.overflow="scroll",o.style.position="absolute",o.style.top="-9999px",o.style.left="-9999px",document.body.appendChild(o);let i=Cs(o);return document.body.removeChild(o),i}()),xi}(),{scrollerRefs:t,scrollerElRefs:n}=this,r=!1,s={},l={};for(let a in t.currentMap){let c=t.currentMap[a];if(c&&c.needsYScrolling()){r=!0;break}}for(let a of this.props.sections){let c=a.key,d=n.currentMap[c];if(d){let u=d.parentNode;s[c]=Math.floor(u.getBoundingClientRect().width-(r?i.y:0)),l[c]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:l}}}Mi.addStateEquality({scrollerClientWidths:se,scrollerClientHeights:se});class Zi extends U{constructor(){super(...arguments),this.handleEl=i=>{this.el=i,i&&cs(i,this.props.seg)}}render(){const{props:i,context:t}=this,{options:n}=t,{seg:r}=i,{eventRange:s}=r,{ui:l}=s,a={event:new J(t,s.def,s.instance),view:t.viewApi,timeText:i.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!i.disableDragging&&D1(r,t),isStartResizable:!i.disableResizing&&S1(r,t),isEndResizable:!i.disableResizing&&(o=r,o.isEnd&&o.eventRange.ui.durationEditable),isMirror:Boolean(i.isDragging||i.isResizing||i.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(i.isPast),isFuture:Boolean(i.isFuture),isToday:Boolean(i.isToday),isSelected:Boolean(i.isSelected),isDragging:Boolean(i.isDragging),isResizing:Boolean(i.isResizing)};var o;return h(ne,Object.assign({},i,{elRef:this.handleEl,elClasses:[...M1(a),...r.eventRange.ui.classNames,...i.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:i.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(i){this.el&&this.props.seg!==i.seg&&cs(this.el,this.props.seg)}}class Us extends U{render(){let{props:i,context:t}=this,{options:n}=t,{seg:r}=i,{ui:s}=r.eventRange,a=ps(r,n.eventTimeFormat||i.defaultTimeFormat,t,i.defaultDisplayEventTime,i.defaultDisplayEventEnd);return h(Zi,Object.assign({},i,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:ms(r,t),defaultGenerator:Pv,timeText:a}),(c,d)=>h(R,null,h(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),Boolean(d.isStartResizable)&&h("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(d.isEndResizable)&&h("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function Pv(o){return h("div",{className:"fc-event-main-frame"},o.timeText&&h("div",{className:"fc-event-time"},o.timeText),h("div",{className:"fc-event-title-container"},h("div",{className:"fc-event-title fc-sticky"},o.event.title||h(R,null,"\xa0"))))}const Ei=o=>h(me.Consumer,null,i=>{let{options:t}=i,n={isAxis:o.isAxis,date:i.dateEnv.toDate(o.date),view:i.viewApi};return h(ne,Object.assign({},o,{elTag:o.elTag||"div",renderProps:n,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),Ov=B({day:"numeric"});class Pi extends U{constructor(){super(...arguments),this.refineRenderProps=Jt(Nv)}render(){let{props:i,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,isMonthStart:i.isMonthStart||!1,showDayNumber:i.showDayNumber,extraRenderProps:i.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return h(ne,Object.assign({},i,{elClasses:[...vi(r,t.theme),...i.elClasses||[]],elAttrs:Object.assign(Object.assign({},i.elAttrs),r.isDisabled?{}:{"data-date":Vn(i.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:i.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function Oi(o){return Boolean(o.dayCellContent||ii("dayCellContent",o))}function Nv(o){let{date:i,dateEnv:t,dateProfile:n,isMonthStart:r}=o,s=xs(i,o.todayRange,null,n),l=o.showDayNumber?t.format(i,r?o.monthStartFormat:Ov):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(i),view:o.viewApi},s),{isMonthStart:r,dayNumberText:l}),o.extraRenderProps)}class js extends U{render(){let{props:i}=this,{seg:t}=i;return h(Zi,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:Uv,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:i.isPast,isFuture:i.isFuture,isToday:i.isToday,disableDragging:!0,disableResizing:!0})}}function Uv(o){let{title:i}=o.event;return i&&h("div",{className:"fc-event-title"},o.event.title)}function Rs(o){return h("div",{className:`fc-${o}`})}const Fs=o=>h(me.Consumer,null,i=>{let{dateEnv:t,options:n}=i,{date:r}=o,s=n.weekNumberFormat||o.defaultFormat,l=t.computeWeekNumber(r),a=t.format(r,s);return h(ne,Object.assign({},o,{renderProps:{num:l,text:a,date:r},generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:jv,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))});function jv(o){return o.text}class Rv extends U{constructor(){super(...arguments),this.state={titleId:jt()},this.handleRootEl=i=>{this.rootEl=i,this.props.elRef&&ge(this.props.elRef,i)},this.handleDocumentMouseDown=i=>{const t=vr(i);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=i=>{"Escape"===i.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:i}=this.props;i&&i()}}render(){let{theme:i,options:t}=this.context,{props:n,state:r}=this,s=["fc-popover",i.getClass("popover")].concat(n.extraClassNames||[]);return function or(o,i){var t=h(rh,{__v:o,i});return t.containerInfo=i,t}(h("div",Object.assign({},n.extraAttrs,{id:n.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),h("div",{className:"fc-popover-header "+i.getClass("popoverHeader")},h("span",{className:"fc-popover-title",id:r.titleId},n.title),h("span",{className:"fc-popover-close "+i.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),h("div",{className:"fc-popover-body "+i.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:i}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,s=function ov(o){let i=Ts(o),t=o.getBoundingClientRect();for(let n of i){let r=bs(t,n.getBoundingClientRect());if(!r)return null;t=r}return t}(t);if(s){let l=r.getBoundingClientRect(),a=n?V(t,".fc-scrollgrid").getBoundingClientRect().top:s.top,c=i?s.right-l.width:s.left;a=Math.max(a,10),c=Math.min(c,document.documentElement.clientWidth-10-l.width),c=Math.max(c,10);let d=r.offsetParent.getBoundingClientRect();pt(r,{top:a-d.top,left:c-d.left})}}}class Fv extends le{constructor(){super(...arguments),this.handleRootEl=i=>{this.rootEl=i,i?this.context.registerInteractiveComponent(this,{el:i,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:i,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:s,dateProfile:l}=n,a=t.format(r,i.dayPopoverFormat);return h(Pi,{elRef:this.handleRootEl,date:r,dateProfile:l,todayRange:s},(c,d,u)=>h(Rv,{elRef:u.ref,id:n.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Oi(i)&&h(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(i,t,n,r){let{rootEl:s,props:l}=this;return i>=0&&i<n&&t>=0&&t<r?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}}class qs extends U{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:jt()},this.handleLinkEl=i=>{this.linkEl=i,this.props.elRef&&ge(this.props.elRef,i)},this.handleClick=i=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,s=Js(t).start;function l(a){let{def:c,instance:d,range:u}=a.eventRange;return{event:new J(n,c,d),start:n.dateEnv.toDate(u.start),end:n.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}"function"==typeof r&&(r=r({date:s,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(l),hiddenSegs:t.hiddenSegs.map(l),jsEvent:i,view:n.viewApi})),r&&"popover"!==r?"string"==typeof r&&n.calendarApi.zoomTo(s,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:i,state:t}=this;return h(me.Consumer,null,n=>{let{viewApi:r,options:s,calendarApi:l}=n,{moreLinkText:a}=s,{moreCnt:c}=i,d=Js(i),u="function"==typeof a?a.call(l,c):`+${c} ${a}`,_=_t(s.moreLinkHint,[c],u),m={num:c,shortText:`+${c}`,text:u,view:r};return h(R,null,Boolean(i.moreCnt)&&h(ne,{elTag:i.elTag||"a",elRef:this.handleLinkEl,elClasses:[...i.elClasses||[],"fc-more-link"],elStyle:i.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},i.elAttrs),Tr(this.handleClick)),{title:_,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:i.defaultGenerator||qv,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},i.children),t.isPopoverOpen&&h(Fv,{id:t.popoverId,startDate:d.start,endDate:d.end,dateProfile:i.dateProfile,todayRange:i.todayRange,extraDateSpan:i.extraDateSpan,parentEl:this.parentEl,alignmentEl:i.alignmentElRef?i.alignmentElRef.current:this.linkEl,alignGridTop:i.alignGridTop,forceTimed:i.forceTimed,onClose:this.handlePopoverClose},i.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=V(this.linkEl,".fc-view-harness"))}}function qv(o){return o.text}function Js(o){if(o.allDayDate)return{start:o.allDayDate,end:W(o.allDayDate,1)};let{hiddenSegs:i}=o;return{start:Ls(i),end:Lv(i)}}function Ls(o){return o.reduce(Jv).eventRange.range.start}function Jv(o,i){return o.eventRange.range.start<i.eventRange.range.start?o:i}function Lv(o){return o.reduce(Bv).eventRange.range.end}function Bv(o,i){return o.eventRange.range.end>i.eventRange.range.end?o:i}class Hv{constructor(){this.handlers=[]}set(i){this.currentValue=i;for(let t of this.handlers)t(i)}subscribe(i){this.handlers.push(i),void 0!==this.currentValue&&i(this.currentValue)}}class Qv extends Hv{constructor(){super(...arguments),this.map=new Map}handle(i){const{map:t}=this;let n=!1;i.isActive?(t.set(i.id,i),n=!0):t.has(i.id)&&(t.delete(i.id),n=!0),n&&this.set(t)}}const Yv=[],Bs={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Hs=Object.assign(Object.assign({},Bs),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(o,i)=>"day"===i?"Today":`This ${o}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:o=>`Show ${o} more event${1===o?"":"s"}`});function Qs(o){let i=o.length>0?o[0].code:"en",t=Yv.concat(o),n={en:Hs};for(let r of t)n[r.code]=r;return{map:n,defaultCode:i}}function Ui(o,i){return"object"!=typeof o||Array.isArray(o)?function Gv(o,i){let t=[].concat(o||[]),n=function zv(o,i){for(let t=0;t<o.length;t+=1){let n=o[t].toLocaleLowerCase().split("-");for(let r=n.length;r>0;r-=1){let s=n.slice(0,r).join("-");if(i[s])return i[s]}}return null}(t,i)||Hs;return Ys(o,t,n)}(o,i):Ys(o.code,[o.code],o)}function Ys(o,i,t){let n=Kn([Bs,t],["buttonText"]);delete n.code;let{week:r}=n;return delete n.week,{codeArg:o,codes:i,week:r,simpleNumberFormat:new Intl.NumberFormat(o),options:n}}function ve(o){return{id:Ee(),name:o.name,premiumReleaseDate:o.premiumReleaseDate?new Date(o.premiumReleaseDate):void 0,deps:o.deps||[],reducers:o.reducers||[],isLoadingFuncs:o.isLoadingFuncs||[],contextInit:[].concat(o.contextInit||[]),eventRefiners:o.eventRefiners||{},eventDefMemberAdders:o.eventDefMemberAdders||[],eventSourceRefiners:o.eventSourceRefiners||{},isDraggableTransformers:o.isDraggableTransformers||[],eventDragMutationMassagers:o.eventDragMutationMassagers||[],eventDefMutationAppliers:o.eventDefMutationAppliers||[],dateSelectionTransformers:o.dateSelectionTransformers||[],datePointTransforms:o.datePointTransforms||[],dateSpanTransforms:o.dateSpanTransforms||[],views:o.views||{},viewPropsTransformers:o.viewPropsTransformers||[],isPropsValid:o.isPropsValid||null,externalDefTransforms:o.externalDefTransforms||[],viewContainerAppends:o.viewContainerAppends||[],eventDropTransformers:o.eventDropTransformers||[],componentInteractions:o.componentInteractions||[],calendarInteractions:o.calendarInteractions||[],themeClasses:o.themeClasses||{},eventSourceDefs:o.eventSourceDefs||[],cmdFormatter:o.cmdFormatter,recurringTypes:o.recurringTypes||[],namedTimeZonedImpl:o.namedTimeZonedImpl,initialView:o.initialView||"",elementDraggingImpl:o.elementDraggingImpl,optionChangeHandlers:o.optionChangeHandlers||{},scrollGridImpl:o.scrollGridImpl||null,listenerRefiners:o.listenerRefiners||{},optionRefiners:o.optionRefiners||{},propSetHandlers:o.propSetHandlers||{}}}function $v(o,i){return{premiumReleaseDate:Kv(o.premiumReleaseDate,i.premiumReleaseDate),reducers:o.reducers.concat(i.reducers),isLoadingFuncs:o.isLoadingFuncs.concat(i.isLoadingFuncs),contextInit:o.contextInit.concat(i.contextInit),eventRefiners:Object.assign(Object.assign({},o.eventRefiners),i.eventRefiners),eventDefMemberAdders:o.eventDefMemberAdders.concat(i.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},o.eventSourceRefiners),i.eventSourceRefiners),isDraggableTransformers:o.isDraggableTransformers.concat(i.isDraggableTransformers),eventDragMutationMassagers:o.eventDragMutationMassagers.concat(i.eventDragMutationMassagers),eventDefMutationAppliers:o.eventDefMutationAppliers.concat(i.eventDefMutationAppliers),dateSelectionTransformers:o.dateSelectionTransformers.concat(i.dateSelectionTransformers),datePointTransforms:o.datePointTransforms.concat(i.datePointTransforms),dateSpanTransforms:o.dateSpanTransforms.concat(i.dateSpanTransforms),views:Object.assign(Object.assign({},o.views),i.views),viewPropsTransformers:o.viewPropsTransformers.concat(i.viewPropsTransformers),isPropsValid:i.isPropsValid||o.isPropsValid,externalDefTransforms:o.externalDefTransforms.concat(i.externalDefTransforms),viewContainerAppends:o.viewContainerAppends.concat(i.viewContainerAppends),eventDropTransformers:o.eventDropTransformers.concat(i.eventDropTransformers),calendarInteractions:o.calendarInteractions.concat(i.calendarInteractions),componentInteractions:o.componentInteractions.concat(i.componentInteractions),themeClasses:Object.assign(Object.assign({},o.themeClasses),i.themeClasses),eventSourceDefs:o.eventSourceDefs.concat(i.eventSourceDefs),cmdFormatter:i.cmdFormatter||o.cmdFormatter,recurringTypes:o.recurringTypes.concat(i.recurringTypes),namedTimeZonedImpl:i.namedTimeZonedImpl||o.namedTimeZonedImpl,initialView:o.initialView||i.initialView,elementDraggingImpl:o.elementDraggingImpl||i.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},o.optionChangeHandlers),i.optionChangeHandlers),scrollGridImpl:i.scrollGridImpl||o.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},o.listenerRefiners),i.listenerRefiners),optionRefiners:Object.assign(Object.assign({},o.optionRefiners),i.optionRefiners),propSetHandlers:Object.assign(Object.assign({},o.propSetHandlers),i.propSetHandlers)}}function Kv(o,i){return void 0===o?i:void 0===i?o:new Date(Math.max(o.valueOf(),i.valueOf()))}class De extends gt{}function ji(o,i,t,n){if(i[o])return i[o];let r=function eb(o,i,t,n){let r=t[o],s=n[o],l=u=>r&&null!==r[u]?r[u]:s&&null!==s[u]?s[u]:null,a=l("component"),c=l("superType"),d=null;if(c){if(c===o)throw new Error("Can't have a custom view type that references itself");d=ji(c,i,t,n)}return!a&&d&&(a=d.component),a?{type:o,component:a,defaults:Object.assign(Object.assign({},d?d.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),s?s.rawOptions:{})}:null}(o,i,t,n);return r&&(i[o]=r),r}function Gs(o){return _e(o,tb)}function tb(o){let i="function"==typeof o?{component:o}:o,{component:t}=i;return i.content?t=zs(i):t&&!(t.prototype instanceof U)&&(t=zs(Object.assign(Object.assign({},i),{content:t}))),{superType:i.type,component:t,rawOptions:i}}function zs(o){return i=>h(me.Consumer,null,t=>h(ne,{elTag:"div",elClasses:Hr(t.viewSpec),renderProps:Object.assign(Object.assign({},i),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:o.content,classNameGenerator:o.classNames,didMount:o.didMount,willUnmount:o.willUnmount}))}function nb(o,i,t,n){let r=Gs(o),s=Gs(i.views),l=function Xv(o,i){let n,t={};for(n in o)ji(n,t,o,i);for(n in i)ji(n,t,o,i);return t}(r,s);return _e(l,a=>function ib(o,i,t,n,r){let s=o.overrides.duration||o.defaults.duration||n.duration||t.duration,l=null,a="",c="",d={};if(s&&(l=function ob(o){let i=JSON.stringify(o),t=Vs[i];return void 0===t&&(t=O(o),Vs[i]=t),t}(s),l)){let m=Gn(l);a=m.unit,1===m.value&&(c=a,d=i[a]?i[a].rawOptions:{})}let u=m=>{let p=m.buttonText||{},f=o.defaults.buttonTextKey;return null!=f&&null!=p[f]?p[f]:null!=p[o.type]?p[o.type]:null!=p[c]?p[c]:null},_=m=>{let p=m.buttonHints||{},f=o.defaults.buttonTextKey;return null!=f&&null!=p[f]?p[f]:null!=p[o.type]?p[o.type]:null!=p[c]?p[c]:null};return{type:o.type,component:o.component,duration:l,durationUnit:a,singleUnit:c,optionDefaults:o.defaults,optionOverrides:Object.assign(Object.assign({},d),o.overrides),buttonTextOverride:u(n)||u(t)||o.overrides.buttonText,buttonTextDefault:u(r)||o.defaults.buttonText||u(mt)||o.type,buttonTitleOverride:_(n)||_(t)||o.overrides.buttonHint,buttonTitleDefault:_(r)||o.defaults.buttonHint||_(mt)}}(a,s,i,t,n))}De.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},De.prototype.baseIconClass="fc-icon",De.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},De.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},De.prototype.iconOverrideOption="buttonIcons",De.prototype.iconOverrideCustomButtonOption="icon",De.prototype.iconOverridePrefix="fc-icon-";let Vs={};function Ws(o){for(let i in o)if(o[i].isFetching)return!0;return!1}function $s(o,i,t,n){let r={};for(let s of i)r[s.sourceId]=s;return t&&(r=Ks(r,t,n)),Object.assign(Object.assign({},o),r)}function Ks(o,i,t){return Ri(o,Ne(o,n=>function pb(o,i,t){return el(o,t)?!t.options.lazyFetching||!o.fetchRange||o.isFetching||i.start<o.fetchRange.start||i.end>o.fetchRange.end:!o.latestFetchId}(n,i,t)),i,!1,t)}function Ri(o,i,t,n,r){let s={};for(let l in o){let a=o[l];s[l]=i[l]?_b(a,t,n,r):a}return s}function _b(o,i,t,n){let{options:r,calendarApi:s}=n,l=n.pluginHooks.eventSourceDefs[o.sourceDefId],a=Ee();return l.fetch({eventSource:o,range:i,isRefetch:t,context:n},c=>{let{rawEvents:d}=c;r.eventSourceSuccess&&(d=r.eventSourceSuccess.call(s,d,c.response)||d),o.success&&(d=o.success.call(s,d,c.response)||d),n.dispatch({type:"RECEIVE_EVENTS",sourceId:o.sourceId,fetchId:a,fetchRange:i,rawEvents:d})},c=>{let d=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(s,c),d=!0),o.failure&&(o.failure(c),d=!0),d||console.warn(c.message,c),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:o.sourceId,fetchId:a,fetchRange:i,error:c})}),Object.assign(Object.assign({},o),{isFetching:!0,latestFetchId:a})}function Xs(o,i){return Ne(o,t=>el(t,i))}function el(o,i){return!i.pluginHooks.eventSourceDefs[o.sourceDefId].ignoreRange}function hb(o,i){switch(i.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return i.selection;default:return o}}function fb(o,i){switch(i.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return i.eventInstanceId;default:return o}}function vb(o,i){let t;switch(i.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=i.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return o}}function bb(o,i){let t;switch(i.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=i.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return o}}function xb(o,i,t,n,r){return{header:o.headerToolbar?tl(o.headerToolbar,o,i,t,n,r):null,footer:o.footerToolbar?tl(o.footerToolbar,o,i,t,n,r):null}}function tl(o,i,t,n,r,s){let l={},a=[],c=!1;for(let d in o){let _=Cb(o[d],i,t,n,r,s);l[d]=_.widgets,a.push(..._.viewsWithButtons),c=c||_.hasTitle}return{sectionWidgets:l,viewsWithButtons:a,hasTitle:c}}function Cb(o,i,t,n,r,s){let l="rtl"===i.direction,a=i.customButtons||{},c=t.buttonText||{},d=i.buttonText||{},u=t.buttonHints||{},_=i.buttonHints||{},m=o?o.split(" "):[],p=[],f=!1;return{widgets:m.map(C=>C.split(",").map(v=>{if("title"===v)return f=!0,{buttonName:v};let w,A,M,N,P,j;if(w=a[v])M=E=>{w.click&&w.click.call(E.target,E,E.target)},(N=n.getCustomButtonIconClass(w))||(N=n.getIconClass(v,l))||(P=w.text),j=w.hint||w.text;else if(A=r[v]){p.push(v),M=()=>{s.changeView(v)},(P=A.buttonTextOverride)||(N=n.getIconClass(v,l))||(P=A.buttonTextDefault);let E=A.buttonTextOverride||A.buttonTextDefault;j=_t(A.buttonTitleOverride||A.buttonTitleDefault||i.viewHint,[E,v],E)}else if(s[v])if(M=()=>{s[v]()},(P=c[v])||(N=n.getIconClass(v,l))||(P=d[v]),"prevYear"===v||"nextYear"===v){let E="prevYear"===v?"prev":"next";j=_t(u[E]||_[E],[d.year||"year","year"],d[v])}else j=E=>_t(u[v]||_[v],[d[E]||E,E],d[v]);return{buttonName:v,buttonClick:M,buttonIcon:N,buttonText:P,buttonHint:j}})),viewsWithButtons:p,hasTitle:f}}class Tb{constructor(i,t,n){this.type=i,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(i){return this.getCurrentData().options[i]}}function nl(o,i){let t=Xn(i.getCurrentData().eventSources);if(1===t.length&&1===o.length&&Array.isArray(t[0]._raw)&&Array.isArray(o[0]))return void i.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:o[0]});let n=[];for(let r of o){let s=!1;for(let l=0;l<t.length;l+=1)if(t[l]._raw===r){t.splice(l,1),s=!0;break}s||n.push(r)}for(let r of t)i.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of n)i.calendarApi.addEventSource(r)}const Eb=[ve({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:o=>Array.isArray(o.events)?o.events:null,fetch(o,i){i({rawEvents:o.eventSource.meta})}}]}),ve({name:"func-event-source",eventSourceDefs:[{parseMeta:o=>"function"==typeof o.events?o.events:null,fetch(o,i,t){const{dateEnv:n}=o.context;!function R1(o,i,t){let n=!1,r=function(a){n||(n=!0,i(a))},s=function(a){n||(n=!0,t(a))},l=o(r,s);l&&"function"==typeof l.then&&l.then(r,s)}(o.eventSource.meta.bind(null,gs(o.range,n)),s=>i({rawEvents:s}),t)}}]}),ve({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:x,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:o=>!o.url||"json"!==o.format&&o.format?null:{url:o.url,format:"json",method:(o.method||"GET").toUpperCase(),extraParams:o.extraParams,startParam:o.startParam,endParam:o.endParam,timeZoneParam:o.timeZoneParam},fetch(o,i,t){const{meta:n}=o.eventSource,r=function Ab(o,i,t){let s,l,a,c,{dateEnv:n,options:r}=t,d={};return s=o.startParam,null==s&&(s=r.startParam),l=o.endParam,null==l&&(l=r.endParam),a=o.timeZoneParam,null==a&&(a=r.timeZoneParam),c="function"==typeof o.extraParams?o.extraParams():o.extraParams||{},Object.assign(d,c),d[s]=n.formatIso(i.start),d[l]=n.formatIso(i.end),"local"!==n.timeZone&&(d[a]=n.timeZone),d}(n,o.range,o.context);(function F1(o,i,t){const n={method:o=o.toUpperCase()};return"GET"===o?i+=(-1===i.indexOf("?")?"?":"&")+new URLSearchParams(t):(n.body=new URLSearchParams(t),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(i,n).then(r=>{if(r.ok)return r.json().then(s=>[s,r],()=>{throw new fs("Failure parsing JSON",r)});throw new fs("Request failed",r)})})(n.method,n.url,r).then(([s,l])=>{i({rawEvents:s,response:l})},t)}}]}),ve({name:"simple-recurring-event",recurringTypes:[{parse(o,i){if(o.daysOfWeek||o.startTime||o.endTime||o.startRecur||o.endRecur){let n,t={daysOfWeek:o.daysOfWeek||null,startTime:o.startTime||null,endTime:o.endTime||null,startRecur:o.startRecur?i.createMarker(o.startRecur):null,endRecur:o.endRecur?i.createMarker(o.endRecur):null};return o.duration&&(n=o.duration),!n&&o.startTime&&o.endTime&&(n=function Vh(o,i){return{years:o.years-i.years,months:o.months-i.months,days:o.days-i.days,milliseconds:o.milliseconds-i.milliseconds}}(o.endTime,o.startTime)),{allDayGuess:Boolean(!o.startTime&&!o.endTime),duration:n,typeData:t}}return null},expand(o,i,t){let n=Ue(i,{start:o.startRecur,end:o.endRecur});return n?function Sb(o,i,t,n){let r=o?Fr(o):null,s=F(t.start),l=t.end,a=[];for(;s<l;){let c;(!r||r[s.getUTCDay()])&&(c=i?n.add(s,i):s,a.push(c)),s=W(s,1)}return a}(o.daysOfWeek,o.startTime,n,t):[]}}],eventRefiners:{daysOfWeek:x,startTime:O,endTime:O,duration:O,startRecur:x,endRecur:x}}),ve({name:"change-handler",optionChangeHandlers:{events(o,i){nl([o],i)},eventSources:nl}}),ve({name:"misc",isLoadingFuncs:[o=>Ws(o.eventSources)],propSetHandlers:{dateProfile:function Mb(o,i){i.emitter.trigger("datesSet",Object.assign(Object.assign({},gs(o.activeRange,i.dateEnv)),{view:i.viewApi}))},eventStore:function Zb(o,i){let{emitter:t}=i;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Re(o,i))}}})];class Pb{constructor(i,t){this.runTaskOption=i,this.drainedOption=t,this.queue=[],this.delayedRunner=new Jn(this.drain.bind(this))}request(i,t){this.queue.push(i),this.delayedRunner.request(t)}pause(i){this.delayedRunner.pause(i)}resume(i,t){this.delayedRunner.resume(i,t)}drain(){let{queue:i}=this;for(;i.length;){let n,t=[];for(;n=i.shift();)this.runTask(n),t.push(n);this.drained(t)}}runTask(i){this.runTaskOption&&this.runTaskOption(i)}drained(i){this.drainedOption&&this.drainedOption(i)}}function Ob(o,i,t){let n;return n=/^(year|month)$/.test(o.currentRangeUnit)?o.currentRange:o.activeRange,t.formatRange(n.start,n.end,B(i.titleFormat||function Nb(o){let{currentRangeUnit:i}=o;if("year"===i)return{year:"numeric"};if("month"===i)return{year:"numeric",month:"long"};let t=qt(o.currentRange.start,o.currentRange.end);return null!==t&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(o)),{isEndExclusive:o.isRangeAllDay,defaultSeparator:i.titleRangeSeparator})}class Ub{constructor(i){this.computeCurrentViewData=Z(this._computeCurrentViewData),this.organizeRawLocales=Z(Qs),this.buildLocale=Z(Ui),this.buildPluginHooks=function Wv(){let t,o=[],i=[];return(n,r)=>((!t||!re(n,o)||!re(r,i))&&(t=function Vv(o,i){let t={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(s){for(let l of s){const a=l.name,c=t[a];void 0===c?(t[a]=l.id,r(l.deps),n=$v(n,l)):c!==l.id&&console.warn(`Duplicate plugin '${a}'`)}}return o&&r(o),r(i),n}(n,r)),o=n,i=r,t)}(),this.buildDateEnv=Z(jb),this.buildTheme=Z(Rb),this.parseToolbars=Z(xb),this.buildViewSpecs=Z(nb),this.buildDateProfileGenerator=Jt(Fb),this.buildViewApi=Z(qb),this.buildViewUiProps=Jt(Bb),this.buildEventUiBySource=Z(Jb,se),this.buildEventUiBases=Z(Lb),this.parseContextBusinessHours=Jt(Hb),this.buildTitle=Z(Ob),this.emitter=new nn,this.actionRunner=new Pb(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=i,this.actionRunner.pause();let t={},n=this.computeOptionsData(i.optionOverrides,t,i.calendarApi),r=n.calendarOptions.initialView||n.pluginHooks.initialView,s=this.computeCurrentViewData(r,n,i.optionOverrides,t);i.calendarApi.currentDataManager=this,this.emitter.setThisContext(i.calendarApi),this.emitter.setOptions(s.options);let l=function Kf(o,i){let t=o.initialDate;return null!=t?i.createMarker(t):ht(o.now,i)}(n.calendarOptions,n.dateEnv),a=s.dateProfileGenerator.build(l);he(a.activeRange,l)||(l=a.currentRange.start);let c={dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let m of n.pluginHooks.contextInit)m(c);let d=function ab(o,i,t){let n=i?i.activeRange:null;return $s({},function gb(o,i){let t=es(i),n=[].concat(o.eventSources||[]),r=[];o.initialEvents&&n.unshift(o.initialEvents),o.events&&n.unshift(o.events);for(let s of n){let l=Xr(s,i,t);l&&r.push(l)}return r}(o,t),n,t)}(n.calendarOptions,a,c),u={dynamicOptionOverrides:t,currentViewType:r,currentDate:l,dateProfile:a,businessHours:this.parseContextBusinessHours(c),eventSources:d,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},_=Object.assign(Object.assign({},c),u);for(let m of n.pluginHooks.reducers)Object.assign(u,m(null,null,_));Fi(u,c)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(i,t){let{props:n}=this;void 0===t?n.optionOverrides=i:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),i),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(i){let{props:t,state:n,emitter:r}=this,s=function sb(o,i){return"SET_OPTION"===i.type?Object.assign(Object.assign({},o),{[i.optionName]:i.rawOptionValue}):o}(n.dynamicOptionOverrides,i),l=this.computeOptionsData(t.optionOverrides,s,t.calendarApi),a=function rb(o,i){return"CHANGE_VIEW_TYPE"===i.type&&(o=i.viewType),o}(n.currentViewType,i),c=this.computeCurrentViewData(a,l,t.optionOverrides,s);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(c.options);let d={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:_}=n;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(_=c.dateProfileGenerator.build(u)),u=function $f(o,i){return"CHANGE_DATE"===i.type?i.dateMarker:o}(u,i),_=function lb(o,i,t,n){let r;switch(i.type){case"CHANGE_VIEW_TYPE":return n.build(i.dateMarker||t);case"CHANGE_DATE":return n.build(i.dateMarker);case"PREV":if(r=n.buildPrev(o,t),r.isValid)return r;break;case"NEXT":if(r=n.buildNext(o,t),r.isValid)return r}return o}(_,i,u,c.dateProfileGenerator),("PREV"===i.type||"NEXT"===i.type||!he(_.currentRange,u))&&(u=_.currentRange.start);let m=function cb(o,i,t,n){let r=t?t.activeRange:null;switch(i.type){case"ADD_EVENT_SOURCES":return $s(o,i.sources,r,n);case"REMOVE_EVENT_SOURCE":return function ub(o,i){return Ne(o,t=>t.sourceId!==i)}(o,i.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Ks(o,r,n):o;case"FETCH_EVENT_SOURCES":return Ri(o,i.sourceIds?Fr(i.sourceIds):Xs(o,n),r,i.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function mb(o,i,t,n){let r=o[i];return r&&t===r.latestFetchId?Object.assign(Object.assign({},o),{[i]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:n})}):o}(o,i.sourceId,i.fetchId,i.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return o}}(n.eventSources,i,_,d),p=function u1(o,i,t,n,r){switch(i.type){case"RECEIVE_EVENTS":return function p1(o,i,t,n,r,s){if(i&&t===i.latestFetchId){let l=ft(ts(r,i,s),i,s);return n&&(l=je(l,n,s)),ui(os(o,i.sourceId),l)}return o}(o,t[i.sourceId],i.fetchId,i.fetchRange,i.rawEvents,r);case"RESET_RAW_EVENTS":return function _1(o,i,t,n,r){const{defIdMap:s,instanceIdMap:l}=function h1(o){const{defs:i,instances:t}=o,n={},r={};for(let s in i){const l=i[s],{publicId:a}=l;a&&(n[a]=s)}for(let s in t){const a=i[t[s].defId],{publicId:c}=a;c&&(r[c]=s)}return{defIdMap:n,instanceIdMap:r}}(o);return je(ft(ts(t,i,r),i,r,!1,s,l),n,r)}(o,t[i.sourceId],i.rawEvents,n.activeRange,r);case"ADD_EVENTS":return function m1(o,i,t,n){return t&&(i=je(i,t,n)),ui(o,i)}(o,i.eventStore,n?n.activeRange:null,r);case"RESET_EVENTS":return i.eventStore;case"MERGE_EVENTS":return ui(o,i.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?je(o,n.activeRange,r):o;case"REMOVE_EVENTS":return function r1(o,i){let{defs:t,instances:n}=o,r={},s={};for(let l in t)i.defs[l]||(r[l]=t[l]);for(let l in n)!i.instances[l]&&r[n[l].defId]&&(s[l]=n[l]);return{defs:r,instances:s}}(o,i.eventStore);case"REMOVE_EVENT_SOURCE":return os(o,i.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Xt(o,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return o}}(n.eventStore,i,m,_,d),b=Ws(m)&&!c.options.progressiveEventRendering&&n.renderableEventStore||p,{eventUiSingleBase:C,selectionConfig:v}=this.buildViewUiProps(d),w=this.buildEventUiBySource(m),M={dynamicOptionOverrides:s,currentViewType:a,currentDate:u,dateProfile:_,eventSources:m,eventStore:p,renderableEventStore:b,selectionConfig:v,eventUiBases:this.buildEventUiBases(b.defs,C,w),businessHours:this.parseContextBusinessHours(d),dateSelection:hb(n.dateSelection,i),eventSelection:fb(n.eventSelection,i),eventDrag:vb(n.eventDrag,i),eventResize:bb(n.eventResize,i)},N=Object.assign(Object.assign({},d),M);for(let E of l.pluginHooks.reducers)Object.assign(M,E(n,i,N));let P=Fi(n,d),j=Fi(M,d);!P&&j?r.trigger("loading",!0):P&&!j&&r.trigger("loading",!1),this.state=M,t.onAction&&t.onAction(i)}updateData(){let{props:i,state:t}=this,n=this.data,r=this.computeOptionsData(i.optionOverrides,t.dynamicOptionOverrides,i.calendarApi),s=this.computeCurrentViewData(t.currentViewType,r,i.optionOverrides,t.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,s.options,r.dateEnv),calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),t),a=r.pluginHooks.optionChangeHandlers,c=n&&n.calendarOptions,d=r.calendarOptions;if(c&&c!==d){c.timeZone!==d.timeZone&&(t.eventSources=l.eventSources=function db(o,i,t){let n=i?i.activeRange:null;return Ri(o,Xs(o,t),n,!0,t)}(l.eventSources,t.dateProfile,l),t.eventStore=l.eventStore=is(l.eventStore,n.dateEnv,l.dateEnv),t.renderableEventStore=l.renderableEventStore=is(l.renderableEventStore,n.dateEnv,l.dateEnv));for(let u in a)(-1!==this.optionsForHandling.indexOf(u)||c[u]!==d[u])&&a[u](d[u],l)}this.optionsForHandling=[],i.onData&&i.onData(l)}computeOptionsData(i,t,n){if(!this.optionsForRefining.length&&i===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:l,availableLocaleData:a,extra:c}=this.processRawCalendarOptions(i,t);il(c);let d=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,a,r.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),_=this.buildTheme(r,s),m=this.parseToolbars(r,this.stableOptionOverrides,_,u,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:d,viewSpecs:u,theme:_,toolbarConfig:m,localeDefaults:l,availableRawLocales:a.map}}processRawCalendarOptions(i,t){let{locales:n,locale:r}=$n([mt,i,t]),s=this.organizeRawLocales(n),a=this.buildLocale(r||s.defaultCode,s.map).options,c=this.buildPluginHooks(i.plugins||[],Eb),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ur),jr),Rr),c.listenerRefiners),c.optionRefiners),u={},_=$n([mt,a,i,t]),m={},p=this.currentCalendarOptionsInput,f=this.currentCalendarOptionsRefined,b=!1;for(let C in _)-1===this.optionsForRefining.indexOf(C)&&(_[C]===p[C]||Pe[C]&&C in p&&Pe[C](p[C],_[C]))?m[C]=f[C]:d[C]?(m[C]=d[C](_[C]),b=!0):u[C]=p[C];return b&&(this.currentCalendarOptionsInput=_,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=i,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(i,t,n,r){let s=t.viewSpecs[i];if(!s)throw new Error(`viewType "${i}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:a}=this.processRawViewOptions(s,t.pluginHooks,t.localeDefaults,n,r);return il(a),{viewSpec:s,options:l,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),viewApi:this.buildViewApi(i,this.getCurrentData,t.dateEnv)}}processRawViewOptions(i,t,n,r,s){let l=$n([mt,i.optionDefaults,n,r,i.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ur),jr),Rr),Sf),t.listenerRefiners),t.optionRefiners),c={},d=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,_=!1,m={};for(let p in l)l[p]===d[p]||Pe[p]&&Pe[p](l[p],d[p])?c[p]=u[p]:(l[p]===this.currentCalendarOptionsInput[p]||Pe[p]&&Pe[p](l[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(c[p]=this.currentCalendarOptionsRefined[p]):a[p]?c[p]=a[p](l[p]):m[p]=l[p],_=!0);return _&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}}function jb(o,i,t,n,r,s,l,a){let c=Ui(i||l.defaultCode,l.map);return new Rf({calendarSystem:"gregory",timeZone:o,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:c,weekNumberCalculation:t,firstDay:n,weekText:r,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function Rb(o,i){return new(i.themeClasses[o.themeSystem]||De)(o)}function Fb(o){return new(o.dateProfileGeneratorClass||Gr)(o)}function qb(o,i,t){return new Tb(o,i,t)}function Jb(o){return _e(o,i=>i.ui)}function Lb(o,i,t){let n={"":i};for(let r in o){let s=o[r];s.sourceId&&t[s.sourceId]&&(n[r]=t[s.sourceId])}return n}function Bb(o){let{options:i}=o;return{eventUiSingleBase:tn({display:i.eventDisplay,editable:i.editable,startEditable:i.eventStartEditable,durationEditable:i.eventDurationEditable,constraint:i.eventConstraint,overlap:"boolean"==typeof i.eventOverlap?i.eventOverlap:void 0,allow:i.eventAllow,backgroundColor:i.eventBackgroundColor,borderColor:i.eventBorderColor,textColor:i.eventTextColor,color:i.eventColor},o),selectionConfig:tn({constraint:i.selectConstraint,overlap:"boolean"==typeof i.selectOverlap?i.selectOverlap:void 0,allow:i.selectAllow},o)}}function Fi(o,i){for(let t of i.pluginHooks.isLoadingFuncs)if(t(o))return!0;return!1}function Hb(o){return function x1(o,i){return ft(function C1(o){let i;return i=!0===o?[{}]:Array.isArray(o)?o.filter(t=>t.daysOfWeek):"object"==typeof o&&o?[o]:[],i=i.map(t=>Object.assign(Object.assign({},b1),t)),i}(o),null,i)}(o.options.businessHours,o)}function il(o,i){for(let t in o)console.warn(`Unknown option '${t}'`+(i?` for view '${i}'`:""))}class Qb extends U{render(){return h("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(t=>this.renderWidgetGroup(t)))}renderWidgetGroup(i){let{props:t}=this,{theme:n}=this.context,r=[],s=!0;for(let l of i){let{buttonName:a,buttonClick:c,buttonText:d,buttonIcon:u,buttonHint:_}=l;if("title"===a)s=!1,r.push(h("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let m=a===t.activeButton,p=!t.isTodayEnabled&&"today"===a||!t.isPrevEnabled&&"prev"===a||!t.isNextEnabled&&"next"===a,f=[`fc-${a}-button`,n.getClass("button")];m&&f.push(n.getClass("buttonActive")),r.push(h("button",{type:"button",title:"function"==typeof _?_(t.navUnit):_,disabled:p,"aria-pressed":m,className:f.join(" "),onClick:c},d||(u?h("span",{className:u,role:"img"}):"")))}}return r.length>1?h("div",{className:s&&n.getClass("buttonGroup")||""},...r):r[0]}}class ol extends U{render(){let r,s,{model:i,extraClassName:t}=this.props,n=!1,l=i.sectionWidgets,a=l.center;return l.left?(n=!0,r=l.left):r=l.start,l.right?(n=!0,s=l.right):s=l.end,h("div",{className:[t||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(i,t){let{props:n}=this;return h(Qb,{key:i,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class Yb extends U{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=i=>{this.el=i,ge(this.props.elRef,i),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:i,state:t}=this,{aspectRatio:n}=i,s="",l="";return n?null!==t.availableWidth?s=t.availableWidth/n:l=1/n*100+"%":s=i.height||"",h("div",{"aria-labelledby":i.labeledById,ref:this.handleEl,className:["fc-view-harness",n||i.liquid||i.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:s,paddingBottom:l}},i.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Gb extends ze{constructor(i){super(i),this.handleSegClick=(t,n)=>{let{component:r}=this,{context:s}=r,l=Ge(n);if(l&&r.isValidSegDownEl(t.target)){let a=V(t.target,".fc-event-forced-url"),c=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:n,event:new J(r.context,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:s.viewApi}),c&&!t.defaultPrevented&&(window.location.href=c)}},this.destroy=xr(i.el,"click",".fc-event",this.handleSegClick)}}class zb extends ze{constructor(i){super(i),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,n)=>{Ge(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",t,n))},this.handleSegLeave=(t,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,n))},this.removeHoverListeners=function Oh(o,i,t,n){let r;return xr(o,"mouseover",i,(s,l)=>{if(l!==r){r=l,t(s,l);let a=c=>{r=null,n(c,l),l.removeEventListener("mouseleave",a)};l.addEventListener("mouseleave",a)}})}(i.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(i,t,n){let{component:r}=this,{context:s}=r,l=Ge(n);(!t||r.isValidSegDownEl(t.target))&&s.emitter.trigger(i,{el:n,event:new J(s,l.eventRange.def,l.eventRange.instance),jsEvent:t,view:s.viewApi})}}class Vb extends Vt{constructor(){super(...arguments),this.buildViewContext=Z(Jf),this.buildViewPropTransformers=Z($b),this.buildToolbarProps=Z(Wb),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:jt()},this.registerInteractiveComponent=(i,t)=>{let n=function L1(o,i){return{component:o,el:i.el,useEventCenter:null==i.useEventCenter||i.useEventCenter,isHitComboAllowed:i.isHitComboAllowed||null}}(i,t),l=[Gb,zb].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(n));this.interactionsStore[i.uid]=l,hi[i.uid]=n},this.unregisterInteractiveComponent=i=>{let t=this.interactionsStore[i.uid];if(t){for(let n of t)n.destroy();delete this.interactionsStore[i.uid]}delete hi[i.uid]},this.resizeRunner=new Jn(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=i=>{let{options:t}=this.props;t.handleWindowResize&&i.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let a,{props:i}=this,{toolbarConfig:t,options:n}=i,r=this.buildToolbarProps(i.viewSpec,i.dateProfile,i.dateProfileGenerator,i.currentDate,ht(i.options.now,i.dateEnv),i.viewTitle),s=!1,l="";i.isHeightAuto||i.forPrint?l="":null!=n.height?s=!0:null!=n.contentHeight?l=n.contentHeight:a=Math.max(n.aspectRatio,.5);let c=this.buildViewContext(i.viewSpec,i.viewApi,i.options,i.dateProfileGenerator,i.dateEnv,i.theme,i.pluginHooks,i.dispatch,i.getCurrentData,i.emitter,i.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return h(me.Provider,{value:c},t.header&&h(ol,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:d},r)),h(Yb,{liquid:s,height:l,aspectRatio:a,labeledById:d},this.renderView(i),this.buildAppendContent()),t.footer&&h(ol,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},r)))}componentDidMount(){let{props:i}=this;this.calendarInteractions=i.pluginHooks.calendarInteractions.map(n=>new n(i)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=i.pluginHooks;for(let n in t)t[n](i[n],i)}componentDidUpdate(i){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==i[r]&&n[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let i of this.calendarInteractions)i.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:i}=this;return h(R,{},...i.pluginHooks.viewContainerAppends.map(n=>n(i)))}renderView(i){let{pluginHooks:t}=i,{viewSpec:n}=i,r={dateProfile:i.dateProfile,businessHours:i.businessHours,eventStore:i.renderableEventStore,eventUiBases:i.eventUiBases,dateSelection:i.dateSelection,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,isHeightAuto:i.isHeightAuto,forPrint:i.forPrint},s=this.buildViewPropTransformers(t.viewPropsTransformers);for(let a of s)Object.assign(r,a.transform(r,i));return h(n.component,Object.assign({},r))}}function Wb(o,i,t,n,r,s){let l=t.build(r,void 0,!1),a=t.buildPrev(i,n,!1),c=t.buildNext(i,n,!1);return{title:s,activeButton:o.type,navUnit:o.singleUnit,isTodayEnabled:l.isValid&&!he(i.currentRange,r),isPrevEnabled:a.isValid,isNextEnabled:c.isValid}}function $b(o){return o.map(i=>new i)}class Kb extends B1{constructor(i,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;zt(()=>{xe(h(J1,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(r,s,l,a)=>(this.setClassNames(r),this.setHeight(s),h(Br.Provider,{value:this.customContentRenderId},h(Vb,Object.assign({isHeightAuto:l,forPrint:a},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,xe(null,this.el),this.setClassNames([]),this.setHeight(""))},function Ah(o){o.isConnected&&o.getRootNode&&mr(o.getRootNode())}(i),this.el=i,this.renderRunner=new Jn(this.handleRenderRequest),new Ub({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let i=this.isRendering;i?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),i&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){zt(()=>{super.updateSize()})}batchRendering(i){this.renderRunner.pause("batchRendering"),i(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(i,t){this.currentDataManager.resetOptions(i,t)}setClassNames(i){if(!re(i,this.currentClassNames)){let{classList:t}=this.el;for(let n of this.currentClassNames)t.remove(n);for(let n of i)t.add(n);this.currentClassNames=i}}setHeight(i){fr(this.el,"height",i)}}class Xb extends le{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(i,t){let{props:n,context:r}=this,s=[],l=dn(r.options);return i&&s.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:i}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),h(Wt,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},h(Mi,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:s}))}renderHScrollLayout(i,t,n,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:l,context:a}=this,c=!l.forPrint&&dn(a.options),d=!l.forPrint&&Ns(a.options),u=[];return i&&u.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:i}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),d&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:ki}]}),h(Wt,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},h(s,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:u}))}}function un(o,i){let t=[];for(let n=0;n<i;n+=1)t[n]=[];for(let n of o)t[n.row].push(n);return t}function pn(o,i){let t=[];for(let n=0;n<i;n+=1)t[n]=[];for(let n of o)t[n.firstCol].push(n);return t}function sl(o,i){let t=[];if(o){for(let n=0;n<i;n+=1)t[n]={affectedInstances:o.affectedInstances,isEvent:o.isEvent,segs:[]};for(let n of o.segs)t[n.row].segs.push(n)}else for(let n=0;n<i;n+=1)t[n]=null;return t}const ll=B({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function al(o){let{display:i}=o.eventRange.ui;return"list-item"===i||"auto"===i&&!o.eventRange.def.allDay&&o.firstCol===o.lastCol&&o.isStart&&o.isEnd}class cl extends U{render(){let{props:i}=this;return h(Us,Object.assign({},i,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:ll,defaultDisplayEventEnd:i.defaultDisplayEventEnd,disableResizing:!i.seg.eventRange.def.allDay}))}}class dl extends U{render(){let{props:i,context:t}=this,{options:n}=t,{seg:r}=i,l=ps(r,n.eventTimeFormat||ll,t,!0,i.defaultDisplayEventEnd);return h(Zi,Object.assign({},i,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:ms(i.seg,t),defaultGenerator:ex,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function ex(o){return h(R,null,h("div",{className:"fc-daygrid-event-dot",style:{borderColor:o.borderColor||o.backgroundColor}}),o.timeText&&h("div",{className:"fc-event-time"},o.timeText),h("div",{className:"fc-event-title"},o.event.title||h(R,null,"\xa0")))}class tx extends U{constructor(){super(...arguments),this.compileSegs=Z(nx)}render(){let{props:i}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(i.singlePlacements);return h(qs,{elClasses:["fc-daygrid-more-link"],dateProfile:i.dateProfile,todayRange:i.todayRange,allDayDate:i.allDayDate,moreCnt:i.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:i.alignmentElRef,alignGridTop:i.alignGridTop,extraDateSpan:i.extraDateSpan,popoverContent:()=>{let r=(i.eventDrag?i.eventDrag.affectedInstances:null)||(i.eventResize?i.eventResize.affectedInstances:null)||{};return h(R,null,t.map(s=>{let l=s.eventRange.instance.instanceId;return h("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:r[l]?"hidden":""}},al(s)?h(dl,Object.assign({seg:s,isDragging:!1,isSelected:l===i.eventSelection,defaultDisplayEventEnd:!1},Ae(s,i.todayRange))):h(cl,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===i.eventSelection,defaultDisplayEventEnd:!1},Ae(s,i.todayRange))))}))}})}}function nx(o){let i=[],t=[];for(let n of o)i.push(n.seg),n.isVisible||t.push(n.seg);return{allSegs:i,invisibleSegs:t}}const ix=B({week:"narrow"});class ox extends le{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:jt()},this.handleRootEl=i=>{ge(this.rootElRef,i),ge(this.props.elRef,i)}}render(){let{context:i,props:t,state:n,rootElRef:r}=this,{options:s,dateEnv:l}=i,{date:a,dateProfile:c}=t;const d=t.showDayNumber&&function sx(o,i,t){const{start:n,end:r}=i,s=Te(r,-1),l=t.getYear(n),a=t.getMonth(n),c=t.getYear(s),d=t.getMonth(s);return!(l===c&&a===d)&&Boolean(o.valueOf()===n.valueOf()||1===t.getDay(o)&&o.valueOf()<r.valueOf())}(a,c.currentRange,l);return h(Pi,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:rx,date:a,dateProfile:c,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:d,extraRenderProps:t.extraRenderProps},(u,_)=>h("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&h(Fs,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:rn(i,a,"week"),date:a,defaultFormat:ix}),!_.isDisabled&&(t.showDayNumber||Oi(s)||t.forceDayTop)?h("div",{className:"fc-daygrid-day-top"},h(u,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},rn(i,a)),{id:n.dayNumberId})})):t.showDayNumber?h("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},h("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,h("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,h("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},h(tx,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),h("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function rx(o){return o.dayNumberText||h(R,null,"\xa0")}function ul(o){return o.eventRange.instance.instanceId+":"+o.firstCol}function pl(o){return ul(o)+":"+o.lastCol}function We(o,i,t,n){if(o.firstCol===i&&o.lastCol===t-1)return o;let r=o.eventRange,s=r.range,l=Ue(s,{start:n[i].date,end:W(n[t-1].date,1)});return Object.assign(Object.assign({},o),{firstCol:i,lastCol:t-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:l},isStart:o.isStart&&l.start.valueOf()===s.start.valueOf(),isEnd:o.isEnd&&l.end.valueOf()===s.end.valueOf()})}class dx extends ys{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(i){const t=super.addSegs(i),{entriesByLevel:n}=this,r=s=>!this.forceHidden[Fe(s)];for(let s=0;s<n.length;s+=1)n[s]=n[s].filter(r);return t}handleInvalidInsertion(i,t,n){const{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:l,touchingLevel:a,touchingLateral:c}=i;if(this.hiddenConsumes&&l){const d=Fe(l);if(!s[d])if(this.allowReslicing){const u=Object.assign(Object.assign({},l),{span:wi(l.span,t.span)});s[Fe(u)]=!0,r[a][c]=u,n.push(u),this.splitEntry(l,t,n)}else s[d]=!0,n.push(l)}super.handleInvalidInsertion(i,t,n)}}class _l extends le{constructor(){super(...arguments),this.cellElRefs=new fe,this.frameElRefs=new fe,this.fgElRefs=new fe,this.segHarnessRefs=new fe,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=i=>{i&&this.updateSizing(!0)}}render(){let{props:i,state:t,context:n}=this,{options:r}=n,s=i.cells.length,l=pn(i.businessHourSegs,s),a=pn(i.bgEventSegs,s),c=pn(this.getHighlightSegs(),s),d=pn(this.getMirrorSegs(),s),{singleColPlacements:u,multiColPlacements:_,moreCnts:m,moreMarginTops:p}=function lx(o,i,t,n,r,s,l){let a=new dx(v=>r[o[v.index].eventRange.instance.instanceId+":"+v.span.start+":"+(v.span.end-1)]||1);a.allowReslicing=!0,a.strictOrder=n,!0===i||!0===t?(a.maxCoord=s,a.hiddenConsumes=!0):"number"==typeof i?a.maxStackCnt=i:"number"==typeof t&&(a.maxStackCnt=t,a.hiddenConsumes=!0);let c=[],d=[];for(let v=0;v<o.length;v+=1){let w=o[v],A=pl(w);null!=r[A]?c.push({index:v,span:{start:w.firstCol,end:w.lastCol+1}}):d.push(w)}let u=a.addSegs(c),_=a.toRects(),{singleColPlacements:m,multiColPlacements:p,leftoverMargins:f}=function ax(o,i,t){let n=function cx(o,i){let t=[];for(let n=0;n<i;n+=1)t.push([]);for(let n of o)for(let r=n.span.start;r<n.span.end;r+=1)t[r].push(n);return t}(o,t.length),r=[],s=[],l=[];for(let a=0;a<t.length;a+=1){let c=n[a],d=[],u=0,_=0;for(let p of c)d.push({seg:We(i[p.index],a,a+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-u}),u=p.levelCoord+p.thickness;let m=[];u=0,_=0;for(let p of c){let f=i[p.index],C=p.span.start===a;_+=p.levelCoord-u,u=p.levelCoord+p.thickness,p.span.end-p.span.start>1?(_+=p.thickness,C&&m.push({seg:We(f,p.span.start,p.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):C&&(m.push({seg:We(f,p.span.start,p.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:_}),_=0)}r.push(d),s.push(m),l.push(_)}return{singleColPlacements:r,multiColPlacements:s,leftoverMargins:l}}(_,o,l),b=[],C=[];for(let v of d){p[v.firstCol].push({seg:v,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let w=v.firstCol;w<=v.lastCol;w+=1)m[w].push({seg:We(v,w,w+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<l.length;v+=1)b.push(0);for(let v of u){let w=o[v.index],A=v.span;p[A.start].push({seg:We(w,A.start,A.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let M=A.start;M<A.end;M+=1)b[M]+=1,m[M].push({seg:We(w,M,M+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<l.length;v+=1)C.push(f[v]);return{singleColPlacements:m,multiColPlacements:p,moreCnts:b,moreMarginTops:C}}(us(i.fgEventSegs,r.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,i.cells),f=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return h("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map((b,C)=>{let v=this.renderFgSegs(C,i.forPrint?u[C]:_[C],i.todayRange,f),w=this.renderFgSegs(C,function ux(o,i){if(!o.length)return[];let t=function px(o){let i={};for(let t of o)for(let n of t)i[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return i}(i);return o.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:t[n.eventRange.instance.instanceId],marginTop:0}))}(d[C],_),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return h(ox,{key:b.key,elRef:this.cellElRefs.createRef(b.key),innerElRef:this.frameElRefs.createRef(b.key),dateProfile:i.dateProfile,date:b.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&0===C,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraRenderProps:b.extraRenderProps,extraDataAttrs:b.extraDataAttrs,extraClassNames:b.extraClassNames,extraDateSpan:b.extraDateSpan,moreCnt:m[C],moreMarginTop:p[C],singlePlacements:u[C],fgContentElRef:this.fgElRefs.createRef(b.key),fgContent:h(R,null,h(R,null,v),h(R,null,w)),bgContent:h(R,null,this.renderFillSegs(c[C],"highlight"),this.renderFillSegs(l[C],"non-business"),this.renderFillSegs(a[C],"bg-event")),minHeight:i.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(i,t){this.updateSizing(!se(i,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:i}=this;return i.eventDrag&&i.eventDrag.segs.length?i.eventDrag.segs:i.eventResize&&i.eventResize.segs.length?i.eventResize.segs:i.dateSelectionSegs}getMirrorSegs(){let{props:i}=this;return i.eventResize&&i.eventResize.segs.length?i.eventResize.segs:[]}renderFgSegs(i,t,n,r,s,l,a){let{context:c}=this,{eventSelection:d}=this.props,{framePositions:u}=this.state,_=1===this.props.cells.length,m=s||l||a,p=[];if(u)for(let f of t){let{seg:b}=f,{instanceId:C}=b.eventRange.instance,v=f.isVisible&&!r[C],w=f.isAbsolute,A="",M="";w&&(c.isRtl?(M=0,A=u.lefts[b.lastCol]-u.lefts[b.firstCol]):(A=0,M=u.rights[b.firstCol]-u.rights[b.lastCol])),p.push(h("div",{className:"fc-daygrid-event-harness"+(w?" fc-daygrid-event-harness-abs":""),key:ul(b),ref:m?null:this.segHarnessRefs.createRef(pl(b)),style:{visibility:v?"":"hidden",marginTop:w?"":f.marginTop,top:w?f.absoluteTop:"",left:A,right:M}},al(b)?h(dl,Object.assign({seg:b,isDragging:s,isSelected:C===d,defaultDisplayEventEnd:_},Ae(b,n))):h(cl,Object.assign({seg:b,isDragging:s,isResizing:l,isDateSelecting:a,isSelected:C===d,defaultDisplayEventEnd:_},Ae(b,n)))))}return p}renderFillSegs(i,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,l=[];if(s)for(let a of i){let c=n?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};l.push(h("div",{key:_s(a.eventRange),className:"fc-daygrid-bg-harness",style:c},"bg-event"===t?h(js,Object.assign({seg:a},Ae(a,r))):Rs(t)))}return h(R,{},...l)}updateSizing(i){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(i){let c=t.cells.map(d=>r.currentMap[d.key]);if(c.length){let d=this.rootElRef.current,u=new Ve(d,c,!0,!1);(!n.framePositions||!n.framePositions.similarTo(u))&&this.setState({framePositions:new Ve(d,c,!0,!1)})}}const s=this.state.segHeights,l=this.querySegHeights(),a=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},s),l),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let i=this.segHarnessRefs.currentMap,t={};for(let n in i){let r=Math.round(i[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let i=this.props.cells[0].key,n=this.fgElRefs.currentMap[i];return this.cellElRefs.currentMap[i].getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let i=this.cellElRefs.currentMap;return this.props.cells.map(t=>i[t.key])}}_l.addStateEquality({segHeights:se});class _x extends le{constructor(){super(...arguments),this.splitBusinessHourSegs=Z(un),this.splitBgEventSegs=Z(un),this.splitFgEventSegs=Z(un),this.splitDateSelectionSegs=Z(un),this.splitEventDrag=Z(sl),this.splitEventResize=Z(sl),this.rowRefs=new fe}render(){let{props:i,context:t}=this,n=i.cells.length,r=this.splitBusinessHourSegs(i.businessHourSegs,n),s=this.splitBgEventSegs(i.bgEventSegs,n),l=this.splitFgEventSegs(i.fgEventSegs,n),a=this.splitDateSelectionSegs(i.dateSelectionSegs,n),c=this.splitEventDrag(i.eventDrag,n),d=this.splitEventResize(i.eventResize,n),u=n>=7&&i.clientWidth?i.clientWidth/t.options.aspectRatio/6:null;return h(ln,{unit:"day"},(_,m)=>h(R,null,i.cells.map((p,f)=>h(_l,{ref:this.rowRefs.createRef(f),key:p.length?p[0].date.toISOString():f,showDayNumbers:n>1,showWeekNumbers:i.showWeekNumbers,todayRange:m,dateProfile:i.dateProfile,cells:p,renderIntro:i.renderRowIntro,businessHourSegs:r[f],eventSelection:i.eventSelection,bgEventSegs:s[f].filter(mx),fgEventSegs:l[f],dateSelectionSegs:a[f],eventDrag:c[f],eventResize:d[f],dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,clientWidth:i.clientWidth,clientHeight:i.clientHeight,cellMinHeight:u,forPrint:i.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const i=this.rowRefs.currentMap[0].getCellEls()[0],t=i?i.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Ve(this.rootEl,this.rowRefs.collect().map(i=>i.getCellEls()[0]),!1,!0),this.colPositions=new Ve(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(i,t){let{colPositions:n,rowPositions:r}=this,s=n.leftToIndex(i),l=r.topToIndex(t);if(null!=l&&null!=s){let a=this.props.cells[l][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(l,s),rect:{left:n.lefts[s],right:n.rights[s],top:r.tops[l],bottom:r.bottoms[l]},layer:0}}return null}getCellEl(i,t){return this.rowRefs.currentMap[i].getCellEls()[t]}getCellRange(i,t){let n=this.props.cells[i][t].date;return{start:n,end:W(n,1)}}}function mx(o){return o.eventRange.def.allDay}class gx extends le{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:i}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=i,s=!0===n||!0===t;return s&&!r&&(s=!1,t=null,n=null),h("div",{ref:this.elRef,className:["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"].join(" "),style:{width:i.clientWidth,minWidth:i.tableMinWidth}},h("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:i.clientWidth,minWidth:i.tableMinWidth,height:r?i.clientHeight:""}},i.colGroupNode,h("tbody",{role:"presentation"},h(_x,{dateProfile:i.dateProfile,cells:i.cells,renderRowIntro:i.renderRowIntro,showWeekNumbers:i.showWeekNumbers,clientWidth:i.clientWidth,clientHeight:i.clientHeight,businessHourSegs:i.businessHourSegs,bgEventSegs:i.bgEventSegs,fgEventSegs:i.fgEventSegs,dateSelectionSegs:i.dateSelectionSegs,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:i.forPrint,isHitComboAllowed:i.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(i){i.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const i=function hx(o,i){let t;return i.currentRangeUnit.match(/year|month/)&&(t=o.querySelector(`[data-date="${function uf(o){return o.toISOString().match(/^\d{4}-\d{2}/)[0]}(i.currentDate)}-01"]`)),t||(t=o.querySelector(`[data-date="${Vn(i.currentDate)}"]`)),t}(this.elRef.current,this.props.dateProfile);if(i){const t=i.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),r=i.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}class fx extends Ms{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(i,t){return t.sliceRange(i)}}class ml extends le{constructor(){super(...arguments),this.slicer=new fx,this.tableRef={current:null}}render(){let{props:i,context:t}=this;return h(gx,Object.assign({ref:this.tableRef},this.slicer.sliceProps(i,i.dateProfile,i.nextDayThreshold,t,i.dayTableModel),{dateProfile:i.dateProfile,cells:i.dayTableModel.cells,colGroupNode:i.colGroupNode,tableMinWidth:i.tableMinWidth,renderRowIntro:i.renderRowIntro,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.showWeekNumbers,expandRows:i.expandRows,headerAlignElRef:i.headerAlignElRef,clientWidth:i.clientWidth,clientHeight:i.clientHeight,forPrint:i.forPrint}))}}function bx(o,i){let t=new Ss(o.renderRange,i);return new ks(t,/year|month|week/.test(o.currentRangeUnit))}Fn(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var yx=ve({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class vx extends Xb{constructor(){super(...arguments),this.buildDayTableModel=Z(bx),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:i,dateProfileGenerator:t}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,t),s=i.dayHeaders&&h(Ds,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),l=a=>h(ml,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:n.forPrint});return i.dayMinWidth?this.renderHScrollLayout(s,l,r.colCnt,i.dayMinWidth):this.renderSimpleLayout(s,l)}},dateProfileGeneratorClass:class xx extends Gr{buildRenderRange(i,t,n){let r=super.buildRenderRange(i,t,n),{props:s}=this;return function Cx(o){let s,{dateEnv:i,currentRange:t}=o,{start:n,end:r}=t;if(o.snapToWeek&&(n=i.startOfWeek(n),s=i.startOfWeek(r),s.valueOf()!==r.valueOf()&&(r=Sr(s,1))),o.fixedWeekCount){let l=i.startOfWeek(i.startOfMonth(W(t.end,-1))),a=Math.ceil(function Xh(o,i){return ye(o,i)/7}(l,r));r=Sr(r,6-a)}return{start:n,end:r}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class wx extends z1{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(i){return i.allDay?["allDay"]:["timed"]}getKeysForEventDef(i){return i.allDay?function I1(o){return"background"===o.ui.display||"inverse-background"===o.ui.display}(i)?["timed","allDay"]:["allDay"]:["timed"]}}const Ix=B({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function gl(o){let i=["fc-timegrid-slot","fc-timegrid-slot-label",o.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return h(me.Consumer,null,t=>{if(!o.isLabeled)return h("td",{className:i.join(" "),"data-time":o.isoTimeStr});let{dateEnv:n,options:r,viewApi:s}=t,l=null==r.slotLabelFormat?Ix:Array.isArray(r.slotLabelFormat)?B(r.slotLabelFormat[0]):B(r.slotLabelFormat),a={level:0,time:o.time,date:n.toDate(o.date),view:s,text:n.format(o.date,l)};return h(ne,{elTag:"td",elClasses:i,elAttrs:{"data-time":o.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:Ax,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},c=>h("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},h(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Ax(o){return o.text}class Dx extends U{render(){return this.props.slatMetas.map(i=>h("tr",{key:i.key},h(gl,Object.assign({},i))))}}const Sx=B({week:"short"});class Mx extends le{constructor(){super(...arguments),this.allDaySplitter=new wx,this.headerElRef={current:null},this.rootElRef={current:null},this.scrollerElRef={current:null},this.state={slatCoords:null},this.handleScrollTopRequest=i=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=i)},this.renderHeadAxis=(i,t="")=>{let{options:n}=this.context,{dateProfile:r}=this.props,s=r.renderRange,a=1===ye(s.start,s.end)?rn(this.context,s.start,"week"):{};return n.weekNumbers&&"day"===i?h(Fs,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:Sx},c=>h("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},h(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):h("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},h("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=i=>{let{options:t,viewApi:n}=this.context;return h(ne,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:t.allDayText,view:n},generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:Zx,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},s=>h("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==i?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:i}},h(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=i=>{this.setState({slatCoords:i})}}renderSimpleLayout(i,t,n){let{context:r,props:s}=this,l=[],a=dn(r.options);return i&&l.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:i}}),t&&(l.push({type:"body",key:"all-day",chunk:{content:t}}),l.push({type:"body",key:"all-day-divider",outerContent:h("tr",{role:"presentation",className:"fc-scrollgrid-section"},h("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),l.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),h(Wt,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},h(Mi,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:l}))}renderHScrollLayout(i,t,n,r,s,l,a){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:d,props:u}=this,_=!u.forPrint&&dn(d.options),m=!u.forPrint&&Ns(d.options),p=[];i&&p.push({type:"header",key:"header",isSticky:_,syncRowHeights:!0,chunks:[{key:"axis",rowContent:b=>h("tr",{role:"presentation"},this.renderHeadAxis("day",b.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:i}]}),t&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:b=>h("tr",{role:"presentation"},this.renderTableRowAxis(b.rowSyncHeights[0]))},{key:"cols",content:t}]}),p.push({key:"all-day-divider",type:"body",outerContent:h("tr",{role:"presentation",className:"fc-scrollgrid-section"},h("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let f=d.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(d.options.expandRows),chunks:[{key:"axis",content:b=>h("div",{className:"fc-timegrid-axis-chunk"},h("table",{"aria-hidden":!0,style:{height:b.expandRows?b.clientHeight:""}},b.tableColGroupNode,h("tbody",null,h(Dx,{slatMetas:l}))),h("div",{className:"fc-timegrid-now-indicator-container"},h(ln,{unit:f?"minute":"day"},C=>{let v=f&&a&&a.safeComputeTop(C);return"number"==typeof v?h(Ei,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:v},isAxis:!0,date:C}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),m&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:ki},{key:"cols",content:ki}]}),h(Wt,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},h(c,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:s}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:i,dayMaxEventRows:t}=this.context.options;return(!0===i||!0===t)&&(i=void 0,t=5),{dayMaxEvents:i,dayMaxEventRows:t}}}function Zx(o){return o.text}class Ex{constructor(i,t,n){this.positions=i,this.dateProfile=t,this.slotDuration=n}safeComputeTop(i){let{dateProfile:t}=this;if(he(t.currentRange,i)){let n=F(i),r=i.valueOf()-n.valueOf();if(r>=ee(t.slotMinTime)&&r<ee(t.slotMaxTime))return this.computeTimeTop(O(r))}return null}computeDateTop(i,t){return t||(t=F(i)),this.computeTimeTop(O(i.valueOf()-t.valueOf()))}computeTimeTop(i){let l,a,{positions:t,dateProfile:n}=this,r=t.els.length,s=(i.milliseconds-ee(n.slotMinTime))/ee(this.slotDuration);return s=Math.max(0,s),s=Math.min(r,s),l=Math.floor(s),l=Math.min(l,r-1),a=s-l,t.tops[l]+t.getHeight(l)*a}}class Px extends U{render(){let{props:i,context:t}=this,{options:n}=t,{slatElRefs:r}=i;return h("tbody",null,i.slatMetas.map((s,l)=>{let a={time:s.time,date:t.dateEnv.toDate(s.date),view:t.viewApi};return h("tr",{key:s.key,ref:r.createRef(s.key)},i.axis&&h(gl,Object.assign({},s)),h(ne,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class Ox extends U{constructor(){super(...arguments),this.rootElRef={current:null},this.slatElRefs=new fe}render(){let{props:i,context:t}=this;return h("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},h("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:i.tableMinWidth,width:i.clientWidth,height:i.minHeight}},i.tableColGroupNode,h(Px,{slatElRefs:this.slatElRefs,axis:i.axis,slatMetas:i.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:i,props:t}=this;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new Ex(new Ve(this.rootElRef.current,function Nx(o,i){return i.map(t=>o[t.key])}(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,i.options.slotDuration))}}function vt(o,i){let n,t=[];for(n=0;n<i;n+=1)t.push([]);if(o)for(n=0;n<o.length;n+=1)t[o[n].col].push(o[n]);return t}function hl(o,i){let t=[];if(o){for(let n=0;n<i;n+=1)t[n]={affectedInstances:o.affectedInstances,isEvent:o.isEvent,segs:[]};for(let n of o.segs)t[n.col].segs.push(n)}else for(let n=0;n<i;n+=1)t[n]=null;return t}class Ux extends U{render(){let{props:i}=this;return h(qs,{elClasses:["fc-timegrid-more-link"],elStyle:{top:i.top,bottom:i.bottom},allDayDate:null,moreCnt:i.hiddenSegs.length,allSegs:i.hiddenSegs,hiddenSegs:i.hiddenSegs,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,todayRange:i.todayRange,popoverContent:()=>xl(i.hiddenSegs,i),defaultGenerator:jx,forceTimed:!0},t=>h(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function jx(o){return o.shortText}function fl(o,i){if(!o)return[[],0];let{level:t,lateralStart:n,lateralEnd:r}=o,s=n,l=[];for(;s<r;)l.push(i(t,s)),s+=1;return l.sort(qx),[l.map(Jx),l[0][1]]}function qx(o,i){return i[1]-o[1]}function Jx(o){return o[0]}function Hx(o){let i=[];const t=qi((r,s,l)=>Fe(r),(r,s,l)=>{let a=Object.assign(Object.assign({},r),{levelCoord:s,stackDepth:l,stackForward:0});return i.push(a),a.stackForward=n(r.nextLevelNodes,s+r.thickness,l+1)+1});function n(r,s,l){let a=0;for(let c of r)a=Math.max(t(c,s,l),a);return a}return n(o,0,0),i}function qi(o,i){const t={};return(...n)=>{let r=o(...n);return r in t?t[r]:t[r]=i(...n)}}function vl(o,i,t=null,n=0){let r=[];if(t)for(let s=0;s<o.length;s+=1){let l=o[s],a=t.computeDateTop(l.start,i),c=Math.max(a+(n||0),t.computeDateTop(l.end,i));r.push({start:Math.round(a),end:Math.round(c)})}return r}const Yx=B({hour:"numeric",minute:"2-digit",meridiem:!1});class bl extends U{render(){return h(Us,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Yx}))}}class Gx extends U{constructor(){super(...arguments),this.sortEventSegs=Z(us)}render(){let{props:i,context:t}=this,{options:n}=t,r=n.selectMirror,s=i.eventDrag&&i.eventDrag.segs||i.eventResize&&i.eventResize.segs||r&&i.dateSelectionSegs||[],l=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{},a=this.sortEventSegs(i.fgEventSegs,n.eventOrder);return h(Pi,{elTag:"td",elRef:i.elRef,elClasses:["fc-timegrid-col",...i.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},i.extraDataAttrs),date:i.date,dateProfile:i.dateProfile,todayRange:i.todayRange,extraRenderProps:i.extraRenderProps},c=>h("div",{className:"fc-timegrid-col-frame"},h("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(i.businessHourSegs,"non-business"),this.renderFillSegs(i.bgEventSegs,"bg-event"),this.renderFillSegs(i.dateSelectionSegs,"highlight")),h("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,l,!1,!1,!1)),h("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},Boolean(i.eventDrag),Boolean(i.eventResize),Boolean(r),"mirror")),h("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(i.nowIndicatorSegs)),Oi(n)&&h(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(i,t,n,r,s,l){let{props:a}=this;return a.forPrint?xl(i,a):this.renderPositionedFgSegs(i,t,n,r,s,l)}renderPositionedFgSegs(i,t,n,r,s,l){let{eventMaxStack:a,eventShortHeight:c,eventOrderStrict:d,eventMinHeight:u}=this.context.options,{date:_,slatCoords:m,eventSelection:p,todayRange:f,nowDate:b}=this.props,C=n||r||s,v=vl(i,_,m,u),{segPlacements:w,hiddenGroups:A}=function Qx(o,i,t,n){let r=[],s=[];for(let d=0;d<o.length;d+=1){let u=i[d];u?r.push({index:d,thickness:1,span:u}):s.push(o[d])}let{segRects:l,hiddenGroups:a}=function Rx(o,i,t){let n=new ys;null!=i&&(n.strictOrder=i),null!=t&&(n.maxStackCnt=t);let s=function lv(o){let i=[];for(let t of o){let n=[],r={span:t.span,entries:[t]};for(let s of i)wi(s.span,r.span)?r={entries:s.entries.concat(r.entries),span:av(s.span,r.span)}:n.push(s);n.push(r),i=n}return i}(n.addSegs(o)),l=function Fx(o){const{entriesByLevel:i}=o,t=qi((n,r)=>n+":"+r,(n,r)=>{let s=function Lx(o,i,t){let{levelCoords:n,entriesByLevel:r}=o,s=r[i][t],l=n[i]+s.thickness,a=n.length,c=i;for(;c<a&&n[c]<l;c+=1);for(;c<a;c+=1){let u,d=r[c],_=Ai(d,s.span.start,yi),m=_[0]+_[1],p=m;for(;(u=d[p])&&u.span.start<s.span.end;)p+=1;if(m<p)return{level:c,lateralStart:m,lateralEnd:p}}return null}(o,n,r),l=fl(s,t),a=i[n][r];return[Object.assign(Object.assign({},a),{nextLevelNodes:l[0]}),a.thickness+l[1]]});return fl(i.length?{level:0,lateralStart:0,lateralEnd:i[0].length}:null,t)[0]}(n);return l=function Bx(o,i){const t=qi((n,r,s)=>Fe(n),(n,r,s)=>{let u,{nextLevelNodes:l,thickness:a}=n,c=a+s,d=a/c,_=[];if(l.length)for(let p of l)if(void 0===u){let f=t(p,r,c);u=f[0],_.push(f[1])}else{let f=t(p,u,0);_.push(f[1])}else u=i;let m=(u-r)*d;return[u-m,Object.assign(Object.assign({},n),{thickness:m,nextLevelNodes:_})]});return o.map(n=>t(n,0,0)[1])}(l,1),{segRects:Hx(l),hiddenGroups:s}}(r,t,n),c=[];for(let d of l)c.push({seg:o[d.index],rect:d});for(let d of s)c.push({seg:d,rect:null});return{segPlacements:c,hiddenGroups:a}}(i,v,d,a);return h(R,null,this.renderHiddenGroups(A,i),w.map(M=>{let{seg:N,rect:P}=M,j=N.eventRange.instance.instanceId,E=C||Boolean(!t[j]&&P),G=Ji(P&&P.span),tt=!C&&P?this.computeSegHStyle(P):{left:0,right:0},vn=Boolean(P)&&P.stackForward>0,Ct=Boolean(P)&&P.span.end-P.span.start<c;return h("div",{className:"fc-timegrid-event-harness"+(vn?" fc-timegrid-event-harness-inset":""),key:l||j,style:Object.assign(Object.assign({visibility:E?"":"hidden"},G),tt)},h(bl,Object.assign({seg:N,isDragging:n,isResizing:r,isDateSelecting:s,isSelected:j===p,isShort:Ct},Ae(N,f,b))))}))}renderHiddenGroups(i,t){let{extraDateSpan:n,dateProfile:r,todayRange:s,nowDate:l,eventSelection:a,eventDrag:c,eventResize:d}=this.props;return h(R,null,i.map(u=>{let _=Ji(u.span),m=function zx(o,i){return o.map(t=>i[t.index])}(u.entries,t);return h(Ux,{key:Er(Ls(m)),hiddenSegs:m,top:_.top,bottom:_.bottom,extraDateSpan:n,dateProfile:r,todayRange:s,nowDate:l,eventSelection:a,eventDrag:c,eventResize:d})}))}renderFillSegs(i,t){let{props:n,context:r}=this,l=vl(i,n.date,n.slatCoords,r.options.eventMinHeight).map((a,c)=>{let d=i[c];return h("div",{key:_s(d.eventRange),className:"fc-timegrid-bg-harness",style:Ji(a)},"bg-event"===t?h(js,Object.assign({seg:d},Ae(d,n.todayRange,n.nowDate))):Rs(t))});return h(R,null,l)}renderNowIndicator(i){let{slatCoords:t,date:n}=this.props;return t?i.map((r,s)=>h(Ei,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(r.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(i){let a,c,{isRtl:t,options:n}=this.context,r=n.slotEventOverlap,s=i.levelCoord,l=i.levelCoord+i.thickness;r&&(l=Math.min(1,s+2*(l-s))),t?(a=1-l,c=s):(a=s,c=1-l);let d={zIndex:i.stackDepth+1,left:100*a+"%",right:100*c+"%"};return r&&!i.stackForward&&(d[t?"marginLeft":"marginRight"]=20),d}}function xl(o,{todayRange:i,nowDate:t,eventSelection:n,eventDrag:r,eventResize:s}){let l=(r?r.affectedInstances:null)||(s?s.affectedInstances:null)||{};return h(R,null,o.map(a=>{let c=a.eventRange.instance.instanceId;return h("div",{key:c,style:{visibility:l[c]?"hidden":""}},h(bl,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===n,isShort:!1},Ae(a,i,t))))}))}function Ji(o){return o?{top:o.start,bottom:-o.end}:{top:"",bottom:""}}class Vx extends U{constructor(){super(...arguments),this.splitFgEventSegs=Z(vt),this.splitBgEventSegs=Z(vt),this.splitBusinessHourSegs=Z(vt),this.splitNowIndicatorSegs=Z(vt),this.splitDateSelectionSegs=Z(vt),this.splitEventDrag=Z(hl),this.splitEventResize=Z(hl),this.rootElRef={current:null},this.cellElRefs=new fe}render(){let{props:i,context:t}=this,n=t.options.nowIndicator&&i.slatCoords&&i.slatCoords.safeComputeTop(i.nowDate),r=i.cells.length,s=this.splitFgEventSegs(i.fgEventSegs,r),l=this.splitBgEventSegs(i.bgEventSegs,r),a=this.splitBusinessHourSegs(i.businessHourSegs,r),c=this.splitNowIndicatorSegs(i.nowIndicatorSegs,r),d=this.splitDateSelectionSegs(i.dateSelectionSegs,r),u=this.splitEventDrag(i.eventDrag,r),_=this.splitEventResize(i.eventResize,r);return h("div",{className:"fc-timegrid-cols",ref:this.rootElRef},h("table",{role:"presentation",style:{minWidth:i.tableMinWidth,width:i.clientWidth}},i.tableColGroupNode,h("tbody",{role:"presentation"},h("tr",{role:"row"},i.axis&&h("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},h("div",{className:"fc-timegrid-col-frame"},h("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&h(Ei,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:i.nowDate})))),i.cells.map((m,p)=>h(Gx,{key:m.key,elRef:this.cellElRefs.createRef(m.key),dateProfile:i.dateProfile,date:m.date,nowDate:i.nowDate,todayRange:i.todayRange,extraRenderProps:m.extraRenderProps,extraDataAttrs:m.extraDataAttrs,extraClassNames:m.extraClassNames,extraDateSpan:m.extraDateSpan,fgEventSegs:s[p],bgEventSegs:l[p],businessHourSegs:a[p],nowIndicatorSegs:c[p],dateSelectionSegs:d[p],eventDrag:u[p],eventResize:_[p],slatCoords:i.slatCoords,eventSelection:i.eventSelection,forPrint:i.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:i}=this;i.onColCoords&&null!==i.clientWidth&&i.onColCoords(new Ve(this.rootElRef.current,function Wx(o,i){return i.map(t=>o[t.key])}(this.cellElRefs.currentMap,i.cells),!0,!1))}}class $x extends le{constructor(){super(...arguments),this.processSlotOptions=Z(Kx),this.state={slatCoords:null},this.handleRootEl=i=>{i?this.context.registerInteractiveComponent(this,{el:i,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=i=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(i.time){let r=n.computeTimeTop(i.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=i=>{this.colCoords=i},this.handleSlatCoords=i=>{this.setState({slatCoords:i}),this.props.onSlatCoords&&this.props.onSlatCoords(i)}}render(){let{props:i,state:t}=this;return h("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:i.clientWidth,minWidth:i.tableMinWidth}},h(Ox,{axis:i.axis,dateProfile:i.dateProfile,slatMetas:i.slatMetas,clientWidth:i.clientWidth,minHeight:i.expandRows?i.clientHeight:"",tableMinWidth:i.tableMinWidth,tableColGroupNode:i.axis?i.tableColGroupNode:null,onCoords:this.handleSlatCoords}),h(Vx,{cells:i.cells,axis:i.axis,dateProfile:i.dateProfile,businessHourSegs:i.businessHourSegs,bgEventSegs:i.bgEventSegs,fgEventSegs:i.fgEventSegs,dateSelectionSegs:i.dateSelectionSegs,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange,nowDate:i.nowDate,nowIndicatorSegs:i.nowIndicatorSegs,clientWidth:i.clientWidth,tableMinWidth:i.tableMinWidth,tableColGroupNode:i.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:i.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(i){this.scrollResponder.update(i.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(i,t){let{dateEnv:n,options:r}=this.context,{colCoords:s}=this,{dateProfile:l}=this.props,{slatCoords:a}=this.state,{snapDuration:c,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),u=s.leftToIndex(i),_=a.positions.topToIndex(t);if(null!=u&&null!=_){let m=this.props.cells[u],p=a.positions.tops[_],f=a.positions.getHeight(_),C=Math.floor((t-p)/f*d),w=this.props.cells[u].date,A=Qn(l.slotMinTime,function Wh(o,i){return{years:o.years*i,months:o.months*i,days:o.days*i,milliseconds:o.milliseconds*i}}(c,_*d+C)),M=n.add(w,A),N=n.add(M,c);return{dateProfile:l,dateSpan:Object.assign({range:{start:M,end:N},allDay:!1},m.extraDateSpan),dayEl:s.els[u],rect:{left:s.lefts[u],right:s.rights[u],top:p,bottom:p+f},layer:0}}return null}}function Kx(o,i){let t=i||o,n=Yn(o,t);return null===n&&(t=o,n=1),{snapDuration:t,snapsPerSlot:n}}class Xx extends Ms{sliceRange(i,t){let n=[];for(let r=0;r<t.length;r+=1){let s=Ue(i,t[r]);s&&n.push({start:s.start,end:s.end,isStart:s.start.valueOf()===i.start.valueOf(),isEnd:s.end.valueOf()===i.end.valueOf(),col:r})}return n}}class eC extends le{constructor(){super(...arguments),this.buildDayRanges=Z(tC),this.slicer=new Xx,this.timeColsRef={current:null}}render(){let{props:i,context:t}=this,{dateProfile:n,dayTableModel:r}=i,{nowIndicator:s,nextDayThreshold:l}=t.options,a=this.buildDayRanges(r,n,t.dateEnv);return h(ln,{unit:s?"minute":"day"},(c,d)=>h($x,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(i,n,null,t,a),{forPrint:i.forPrint,axis:i.axis,dateProfile:n,slatMetas:i.slatMetas,slotDuration:i.slotDuration,cells:r.cells[0],tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,clientWidth:i.clientWidth,clientHeight:i.clientHeight,expandRows:i.expandRows,nowDate:c,nowIndicatorSegs:s&&this.slicer.sliceNowDate(c,n,l,t,a),todayRange:d,onScrollTopRequest:i.onScrollTopRequest,onSlatCoords:i.onSlatCoords})))}}function tC(o,i,t){let n=[];for(let r of o.headerDates)n.push({start:t.add(r,i.slotMinTime),end:t.add(r,i.slotMaxTime)});return n}const Cl=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function nC(o,i,t,n,r){let s=new Date(0),l=o,a=O(0),c=t||function iC(o){let i,t,n;for(i=Cl.length-1;i>=0;i-=1)if(t=O(Cl[i]),n=Yn(t,o),null!==n&&n>1)return t;return o}(n),d=[];for(;ee(l)<ee(i);){let u=r.add(s,l),_=null!==Yn(a,c);d.push({date:u,time:l,key:u.toISOString(),isoTimeStr:pf(u),isLabeled:_}),l=Qn(l,n),a=Qn(a,n)}return d}function rC(o,i){let t=new Ss(o.renderRange,i);return new ks(t,!1)}Fn('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var lC=ve({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class oC extends Mx{constructor(){super(...arguments),this.buildTimeColsModel=Z(rC),this.buildSlatMetas=Z(nC)}render(){let{options:i,dateEnv:t,dateProfileGenerator:n}=this.context,{props:r}=this,{dateProfile:s}=r,l=this.buildTimeColsModel(s,n),a=this.allDaySplitter.splitProps(r),c=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,i.slotLabelInterval,i.slotDuration,t),{dayMinWidth:d}=i,u=!d,_=d,m=i.dayHeaders&&h(Ds,{dates:l.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),p=!1!==i.allDaySlot&&(b=>h(ml,Object.assign({},a.allDay,{dateProfile:s,dayTableModel:l,nextDayThreshold:i.nextDayThreshold,tableMinWidth:b.tableMinWidth,colGroupNode:b.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:b.clientWidth,clientHeight:b.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),f=b=>h(eC,Object.assign({},a.timed,{dayTableModel:l,dateProfile:s,axis:u,slotDuration:i.slotDuration,slatMetas:c,forPrint:r.forPrint,tableColGroupNode:b.tableColGroupNode,tableMinWidth:b.tableMinWidth,clientWidth:b.clientWidth,clientHeight:b.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:b.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return _?this.renderHScrollLayout(m,p,f,l.colCnt,d,c,this.state.slatCoords):this.renderSimpleLayout(m,p,f)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Di.touchMouseIgnoreWait=500;let Li=0,_n=0,Bi=!1;class Hi{constructor(i){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&function aC(o){return 0===o.button&&!o.ctrlKey}(t)&&this.tryStart(t)){let n=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let n=this.createEventFromMouse(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let n=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let r=t.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let n=this.createEventFromTouch(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=t=>{if(this.isDragging){let n=t.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,function cC(){Li+=1,setTimeout(()=>{Li-=1},Di.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:n-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=i,this.emitter=new nn,i.addEventListener("mousedown",this.handleMouseDown),i.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function dC(){_n+=1,1===_n&&window.addEventListener("touchmove",Tl,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function uC(){_n-=1,_n||window.removeEventListener("touchmove",Tl,{passive:!1})}()}tryStart(i){let t=this.querySubjectEl(i);return!(!t||this.handleSelector&&!V(i.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){Bi=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(i){return this.selector?V(i.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Li||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Bi=!0)}initScrollWatch(i){this.shouldWatchScroll&&(this.recordCoords(i),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(i){this.shouldWatchScroll&&(this.prevPageX=i.pageX,this.prevPageY=i.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(i,t){let n=0,r=0;return t?(this.origPageX=i.pageX,this.origPageY=i.pageY):(n=i.pageX-this.origPageX,r=i.pageY-this.origPageY),{origEvent:i,isTouch:!1,subjectEl:this.subjectEl,pageX:i.pageX,pageY:i.pageY,deltaX:n,deltaY:r}}createEventFromTouch(i,t){let r,s,n=i.touches,l=0,a=0;return n&&n.length?(r=n[0].pageX,s=n[0].pageY):(r=i.pageX,s=i.pageY),t?(this.origPageX=r,this.origPageY=s):(l=r-this.origPageX,a=s-this.origPageY),{origEvent:i,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:l,deltaY:a}}}function Tl(o){Bi&&o.preventDefault()}class pC{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(i,t,n){this.sourceEl=i,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(i,t){this.deltaX=i-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(i){i?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=i,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=i)}stop(i,t){let n=()=>{this.cleanup(),t()};i&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(i,t){let n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",pt(n,{left:r.left,top:r.top}),function Nh(o,i){let t=n=>{i(n),Cr.forEach(r=>{o.removeEventListener(r,t)})};Cr.forEach(n=>{o.addEventListener(n,t)})}(n,()=>{n.style.transition="",i()})}cleanup(){this.mirrorEl&&(Ln(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&pt(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let i=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),pt(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:i.right-i.left,height:i.bottom-i.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class yl extends Ti{constructor(i,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=i,this.doesListening=t,this.scrollTop=this.origScrollTop=i.getScrollTop(),this.scrollLeft=this.origScrollLeft=i.getScrollLeft(),this.scrollWidth=i.getScrollWidth(),this.scrollHeight=i.getScrollHeight(),this.clientWidth=i.getClientWidth(),this.clientHeight=i.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(i){this.scrollController.setScrollTop(i),this.doesListening||(this.scrollTop=Math.max(Math.min(i,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(i){this.scrollController.setScrollLeft(i),this.doesListening||(this.scrollLeft=Math.max(Math.min(i,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class wl extends yl{constructor(i,t){super(new rv(i),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return iv(this.scrollController.el)}}class _C extends yl{constructor(i){super(new sv,i)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Il="function"==typeof performance?performance.now:Date.now;class mC{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let i=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(i){let t=Il();this.handleSide(i,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(i,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(i,t))}handleMove(i,t){if(this.isEnabled){let n=i-window.scrollX,r=t-window.scrollY,s=null===this.pointerScreenY?0:r-this.pointerScreenY,l=null===this.pointerScreenX?0:n-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Il()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let i of this.scrollCaches)i.destroy();this.scrollCaches=null}}requestAnimation(i){this.msSinceRequest=i,requestAnimationFrame(this.animate)}handleSide(i,t){let{scrollCache:n}=i,{edgeThreshold:r}=this,s=r-i.distance,l=s*s/(r*r)*this.maxVelocity*t,a=1;switch(i.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+l*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+l*a)}}computeBestEdge(i,t){let{edgeThreshold:n}=this,r=null,s=this.scrollCaches||[];for(let l of s){let a=l.clientRect,c=i-a.left,d=a.right-i,u=t-a.top,_=a.bottom-t;c>=0&&d>=0&&u>=0&&_>=0&&(u<=n&&this.everMovedUp&&l.canScrollUp()&&(!r||r.distance>u)&&(r={scrollCache:l,name:"top",distance:u}),_<=n&&this.everMovedDown&&l.canScrollDown()&&(!r||r.distance>_)&&(r={scrollCache:l,name:"bottom",distance:_}),c<=n&&this.everMovedLeft&&l.canScrollLeft()&&(!r||r.distance>c)&&(r={scrollCache:l,name:"left",distance:c}),d<=n&&this.everMovedRight&&l.canScrollRight()&&(!r||r.distance>d)&&(r={scrollCache:l,name:"right",distance:d}))}return r}buildCaches(i){return this.queryScrollEls(i).map(t=>t===window?new _C(!1):new wl(t,!1))}queryScrollEls(i){let t=[];for(let n of this.scrollQuery)"object"==typeof n?t.push(n):t.push(...Array.prototype.slice.call(i.getRootNode().querySelectorAll(n)));return t}}class $e extends cv{constructor(i,t){super(i),this.containerEl=i,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,function Uh(o){o.style.userSelect="none",o.style.webkitUserSelect="none",o.addEventListener("selectstart",Rt)}(document.body),function Rh(o){o.addEventListener("contextmenu",Rt)}(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let l,s=this.minDistance,{deltaX:a,deltaY:c}=r;l=a*a+c*c,l>=s*s&&this.handleDistanceSurpassed(r)}this.isDragging&&("scroll"!==r.origEvent.type&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,function jh(o){o.style.userSelect="",o.style.webkitUserSelect="",o.removeEventListener("selectstart",Rt)}(document.body),function Fh(o){o.removeEventListener("contextmenu",Rt)}(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new Hi(i);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new pC,this.autoScroller=new mC}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(i){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(i)},this.delay):this.handleDelayEnd(i)}handleDelayEnd(i){this.isDelayEnded=!0,this.tryStartDrag(i)}handleDistanceSurpassed(i){this.isDistanceSurpassed=!0,this.tryStartDrag(i)}tryStartDrag(i){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(i.pageX,i.pageY,this.containerEl),this.emitter.trigger("dragstart",i),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(i){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,i))}stopDrag(i){this.isDragging=!1,this.emitter.trigger("dragend",i)}setIgnoreMove(i){this.pointer.shouldIgnoreMove=i}setMirrorIsVisible(i){this.mirror.setIsVisible(i)}setMirrorNeedsRevert(i){this.mirrorNeedsRevert=i}setAutoScrollEnabled(i){this.autoScroller.isEnabled=i}}class gC{constructor(i){this.el=i,this.origRect=Ci(i),this.scrollCaches=Ts(i).map(t=>new wl(t,!0))}destroy(){for(let i of this.scrollCaches)i.destroy()}computeLeft(){let i=this.origRect.left;for(let t of this.scrollCaches)i+=t.origScrollLeft-t.getScrollLeft();return i}computeTop(){let i=this.origRect.top;for(let t of this.scrollCaches)i+=t.origScrollTop-t.getScrollTop();return i}isWithinClipping(i,t){let n={left:i,top:t};for(let r of this.scrollCaches)if(!hC(r.getEventTarget())&&!H1(n,r.clientRect))return!1;return!0}}function hC(o){let i=o.tagName;return"HTML"===i||"BODY"===i}class bt{constructor(i,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):r.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=t,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("dragmove",this.handleDragMove),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd),this.dragging=i,this.emitter=new nn}processFirstCoord(i){let s,t={left:i.pageX,top:i.pageY},n=t,r=i.subjectEl;r instanceof HTMLElement&&(s=Ci(r),n=function Q1(o,i){return{left:Math.min(Math.max(o.left,i.left),i.right),top:Math.min(Math.max(o.top,i.top),i.bottom)}}(n,s));let l=this.initialHit=this.queryHitForOffset(n.left,n.top);if(l){if(this.useSubjectCenter&&s){let a=bs(s,l.rect);a&&(n=function Y1(o){return{left:(o.left+o.right)/2,top:(o.top+o.bottom)/2}}(a))}this.coordAdjust=function G1(o,i){return{left:o.left-i.left,top:o.top-i.top}}(n,t)}else this.coordAdjust={left:0,top:0}}handleMove(i,t){let n=this.queryHitForOffset(i.pageX+this.coordAdjust.left,i.pageY+this.coordAdjust.top);(t||!mn(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,i))}prepareHits(){this.offsetTrackers=_e(this.droppableStore,i=>(i.component.prepareHits(),new gC(i.el)))}releaseHits(){let{offsetTrackers:i}=this;for(let t in i)i[t].destroy();this.offsetTrackers={}}queryHitForOffset(i,t){let{droppableStore:n,offsetTrackers:r}=this,s=null;for(let l in n){let a=n[l].component,c=r[l];if(c&&c.isWithinClipping(i,t)){let d=c.computeLeft(),u=c.computeTop(),_=i-d,m=t-u,{origRect:p}=c,f=p.right-p.left,b=p.bottom-p.top;if(_>=0&&_<f&&m>=0&&m<b){let C=a.queryHit(_,m,f,b);C&&$t(C.dateProfile.activeRange,C.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(_+d-window.scrollX,m+u-window.scrollY)))&&(!s||C.layer>s.layer)&&(C.componentId=l,C.context=a.context,C.rect.left+=d,C.rect.right+=d,C.rect.top+=u,C.rect.bottom+=u,s=C)}}}return s}}function mn(o,i){return!o&&!i||Boolean(o)===Boolean(i)&&function O1(o,i){return function Vf(o,i){return(null===o.start?null:o.start.valueOf())===(null===i.start?null:i.start.valueOf())&&(null===o.end?null:o.end.valueOf())===(null===i.end?null:i.end.valueOf())}(o.range,i.range)&&o.allDay===i.allDay&&function N1(o,i){for(let t in i)if("range"!==t&&"allDay"!==t&&o[t]!==i[t])return!1;for(let t in o)if(!(t in i))return!1;return!0}(o,i)}(o.dateSpan,i.dateSpan)}function Qi(o,i){let t={};for(let n of i.pluginHooks.datePointTransforms)Object.assign(t,n(o,i));return Object.assign(t,function fC(o,i){return{date:i.toDate(o.range.start),dateStr:i.formatIso(o.range.start,{omitTime:o.allDay}),allDay:o.allDay}}(o,i.dateEnv)),t}let Al=(()=>{class o extends ze{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let c=a.origEvent.target,{component:d,dragging:u}=this,{mirror:_}=u,{options:m}=d.context,p=d.context;this.subjectEl=a.subjectEl;let f=this.subjectSeg=Ge(a.subjectEl),C=(this.eventRange=f.eventRange).instance.instanceId;this.relevantEvents=di(p.getCurrentData().eventStore,C),u.minDistance=a.isTouch?0:m.eventDragMinDistance,u.delay=a.isTouch&&C!==d.props.eventSelection?function yC(o){let{options:i}=o.context,t=i.eventLongPressDelay;return null==t&&(t=i.longPressDelay),t}(d):null,_.parentNode=m.fixedMirrorParent?m.fixedMirrorParent:V(c,".fc"),_.revertDuration=m.dragRevertDuration;let v=d.isValidSegDownEl(c)&&!V(c,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let c=this.component.context,d=this.eventRange,u=d.instance.instanceId;a.isTouch?u!==this.component.props.eventSelection&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):c.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(c.calendarApi.unselect(a),c.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new J(c,d.def,d.instance),jsEvent:a.origEvent,view:c.viewApi}))},this.handleHitUpdate=(a,c)=>{if(!this.isDragging)return;let d=this.relevantEvents,u=this.hitDragging.initialHit,_=this.component.context,m=null,p=null,f=null,b=!1,C={affectedEvents:d,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(a){m=a.context;let v=m.options;_===m||v.editable&&v.droppable?(p=function TC(o,i,t,n){let r=o.dateSpan,s=i.dateSpan,l=r.range.start,a=s.range.start,c={};r.allDay!==s.allDay&&(c.allDay=s.allDay,c.hasEnd=i.context.options.allDayMaintainDuration,l=s.allDay?F(t):t);let d=Qe(l,a,o.context.dateEnv,o.componentId===i.componentId?o.largeUnit:null);d.milliseconds&&(c.allDay=!1);let u={datesDelta:d,standardProps:c};for(let _ of n)_(u,o,i);return u}(u,a,this.eventRange.instance.range.start,m.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(f=_i(d,m.getCurrentData().eventUiBases,p,m),C.mutatedEvents=f,Zs(C,a.dateProfile,m)||(b=!0,p=null,f=null,C.mutatedEvents={defs:{},instances:{}}))):m=null}this.displayDrag(m,C),b?Bn():Hn(),c||(_===m&&mn(u,a)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=m,this.validMutation=p,this.mutatedRelevantEvents=f)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let c=this.component.context,d=c.viewApi,{receivingContext:u,validMutation:_}=this,m=this.eventRange.def,p=this.eventRange.instance,f=new J(c,m,p),b=this.relevantEvents,C=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),c.emitter.trigger("eventDragStop",{el:this.subjectEl,event:f,jsEvent:a.origEvent,view:d}),_){if(u===c){let w=new J(c,C.defs[m.defId],p?C.instances[p.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:C});let A={oldEvent:f,event:w,relatedEvents:Re(C,c,p),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:b})}},M={};for(let N of c.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(M,N(_,c));c.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},A),M),{el:a.subjectEl,delta:_.datesDelta,jsEvent:a.origEvent,view:d})),c.emitter.trigger("eventChange",A)}else if(u){let w={event:f,relatedEvents:Re(b,c,p),revert(){c.dispatch({type:"MERGE_EVENTS",eventStore:b})}};c.emitter.trigger("eventLeave",Object.assign(Object.assign({},w),{draggedEl:a.subjectEl,view:d})),c.dispatch({type:"REMOVE_EVENTS",eventStore:b}),c.emitter.trigger("eventRemove",w);let M=C.instances[p.instanceId],N=new J(u,C.defs[m.defId],M);u.dispatch({type:"MERGE_EVENTS",eventStore:C});let P={event:N,relatedEvents:Re(C,u,M),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:C})}};u.emitter.trigger("eventAdd",P),a.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},Qi(v.dateSpan,u)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},P),{draggedEl:a.subjectEl,view:v.context.viewApi}))}}else c.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,s=this.dragging=new $e(t.el);s.pointer.selector=o.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=r.dragScroll;let l=this.hitDragging=new bt(this.dragging,hi);l.useSubjectCenter=t.useEventCenter,l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp),l.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,n){let s=this.receivingContext;s&&s!==t&&s.dispatch(s===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let t=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t!==n&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return o.SELECTOR=".fc-event-draggable, .fc-event-resizable",o})();const DC={fixedMirrorParent:x},SC={dateClick:x,eventDragStart:x,eventDragStop:x,eventDrop:x,eventResizeStart:x,eventResizeStop:x,eventResize:x,drop:x,eventReceive:x,eventLeave:x};Di.dataAttrPrefix="";var PC=ve({name:"@fullcalendar/interaction",componentInteractions:[class vC extends ze{constructor(i){super(i),this.handlePointerDown=n=>{let{dragging:r}=this;r.setIgnoreMove(!this.component.isValidDateDownEl(n.origEvent.target))},this.handleDragEnd=n=>{let{component:r}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:l,finalHit:a}=this.hitDragging;if(l&&a&&mn(l,a)){let{context:c}=r,d=Object.assign(Object.assign({},Qi(l.dateSpan,c)),{dayEl:l.dayEl,jsEvent:n.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",d)}}},this.dragging=new $e(i.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new bt(this.dragging,gi(i));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class bC extends ze{constructor(i){super(i),this.dragSelection=null,this.handlePointerDown=l=>{let{component:a,dragging:c}=this,{options:d}=a.context,u=d.selectable&&a.isValidDateDownEl(l.origEvent.target);c.setIgnoreMove(!u),c.delay=l.isTouch?function xC(o){let{options:i}=o.context,t=i.selectLongPressDelay;return null==t&&(t=i.longPressDelay),t}(a):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,a)=>{let{context:c}=this.component,d=null,u=!1;if(l){let _=this.hitDragging.initialHit;l.componentId===_.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(_,l)||(d=function CC(o,i,t){let n=o.dateSpan,r=i.dateSpan,s=[n.range.start,n.range.end,r.range.start,r.range.end];s.sort(Hh);let l={};for(let a of t){let c=a(o,i);if(!1===c)return null;c&&Object.assign(l,c)}return l.range={start:s[0],end:s[3]},l.allDay=n.allDay,l}(_,l,c.pluginHooks.dateSelectionTransformers)),(!d||!function hv(o,i,t){return!!$t(i.validRange,o.range)&&Es({dateSelection:o},t)}(d,l.dateProfile,c))&&(u=!0,d=null)}d?c.dispatch({type:"SELECT_DATES",selection:d}):a||c.dispatch({type:"UNSELECT_DATES"}),u?Bn():Hn(),a||(this.dragSelection=d)},this.handlePointerUp=l=>{this.dragSelection&&(rs(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:t}=i,{options:n}=t.context,r=this.dragging=new $e(i.el);r.touchScrollAllowed=!1,r.minDistance=n.selectMinDistance||0,r.autoScroller.isEnabled=n.dragScroll;let s=this.hitDragging=new bt(this.dragging,gi(i));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},Al,class wC extends ze{constructor(i){super(i),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:l}=this,c=Ge(this.querySegEl(s)),d=this.eventRange=c.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=s=>{let{context:l}=this.component,a=this.eventRange;this.relevantEvents=di(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(s);this.draggingSegEl=c,this.draggingSeg=Ge(c),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:c,event:new J(l,a.def,a.instance),jsEvent:s.origEvent,view:l.viewApi})},this.handleHitUpdate=(s,l,a)=>{let{context:c}=this.component,d=this.relevantEvents,u=this.hitDragging.initialHit,_=this.eventRange.instance,m=null,p=null,f=!1,b={affectedEvents:d,mutatedEvents:{defs:{},instances:{}},isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(m=function IC(o,i,t,n){let r=o.context.dateEnv,a=Qe(o.dateSpan.range.start,i.dateSpan.range.start,r,o.largeUnit);if(t){if(r.add(n.start,a)<n.end)return{startDelta:a}}else if(r.add(n.end,a)>n.start)return{endDelta:a};return null}(u,s,a.subjectEl.classList.contains("fc-event-resizer-start"),_.range))),m&&(p=_i(d,c.getCurrentData().eventUiBases,m,c),b.mutatedEvents=p,Zs(b,s.dateProfile,c)||(f=!0,m=null,p=null,b.mutatedEvents=null)),c.dispatch(p?{type:"SET_EVENT_RESIZE",state:b}:{type:"UNSET_EVENT_RESIZE"}),f?Bn():Hn(),l||(m&&mn(u,s)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=p)},this.handleDragEnd=s=>{let{context:l}=this.component,a=this.eventRange.def,c=this.eventRange.instance,d=new J(l,a,c),u=this.relevantEvents,_=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:s.origEvent,view:l.viewApi}),this.validMutation){let m=new J(l,_.defs[a.defId],c?_.instances[c.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:_});let p={oldEvent:d,event:m,relatedEvents:Re(_,l,c),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:u})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||O(0),endDelta:this.validMutation.endDelta||O(0),jsEvent:s.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",p)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=i,n=this.dragging=new $e(i.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new bt(this.dragging,gi(i));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(i){return V(i.subjectEl,".fc-event")}}],calendarInteractions:[class AC{constructor(i){this.context=i,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let r=this.context.options.unselectCancel,s=vr(n.origEvent);this.matchesCancel=!!V(s,r),this.matchesEvent=!!V(s,Al.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:r}=this,{documentPointer:s}=this,l=r.getCurrentData();if(!s.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let a=r.options.unselectAuto;a&&(!a||!this.matchesCancel)&&r.calendarApi.unselect(n)}l.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Hi(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),i.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:$e,optionRefiners:DC,listenerRefiners:SC});const OC=["*"],NC=["rootEl"],Ke=function(o){return{$implicit:o}};function UC(o,i){if(1&o&&(e.TgZ(0,"div",1,2),e.GkF(2,3),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ke,t.renderProps))}}function jC(o,i){if(1&o&&(e.TgZ(0,"span",1,2),e.GkF(2,3),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ke,t.renderProps))}}function RC(o,i){if(1&o&&(e.TgZ(0,"a",1,2),e.GkF(2,3),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ke,t.renderProps))}}function FC(o,i){if(1&o&&(e.TgZ(0,"tr",1,2),e.GkF(2,3),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ke,t.renderProps))}}function qC(o,i){if(1&o&&(e.TgZ(0,"th",1,2),e.GkF(2,3),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ke,t.renderProps))}}function JC(o,i){if(1&o&&(e.TgZ(0,"td",1,2),e.GkF(2,3),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),e.xp6(2),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(4,Ke,t.renderProps))}}const LC=["dayHeaderContent"],BC=["dayCellContent"],HC=["weekNumberContent"],QC=["nowIndicatorContent"],YC=["eventContent"],GC=["slotLaneContent"],zC=["slotLabelContent"],VC=["allDayContent"],WC=["moreLinkContent"],$C=["noEventsContent"],KC=["resourceAreaHeaderContent"],XC=["resourceGroupLabelContent"],e0=["resourceLabelContent"],t0=["resourceLaneContent"],n0=["resourceGroupLaneContent"];function o0(o,i){if(1&o&&e._UZ(0,"transport-container",1),2&o){const t=i.$implicit,n=e.oxw();e.Q6J("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",n.templateMap[t.generatorName])("renderProps",t.renderProps)}}const Sl={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},r0=["events","eventSources","resources"],s0=Object.prototype.hasOwnProperty;function gn(o){return Array.isArray(o)?o.map(gn):o instanceof Date?new Date(o.valueOf()):"object"==typeof o&&o?kl(o,gn):o}function kl(o,i){const t={};for(const n in o)s0.call(o,n)&&(t[n]=i(o[n],n));return t}function Yi(o,i){if(o===i)return!0;if(o&&i&&"object"==typeof o&&"object"==typeof i){if(o.constructor!==i.constructor)return!1;var t,n,r;if(Array.isArray(o)){if((t=o.length)!=i.length)return!1;for(n=t;0!=n--;)if(!Yi(o[n],i[n]))return!1;return!0}if(o.constructor===RegExp)return o.source===i.source&&o.flags===i.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===i.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===i.toString();if((t=(r=Object.keys(o)).length)!==Object.keys(i).length)return!1;for(n=t;0!=n--;)if(!Object.prototype.hasOwnProperty.call(i,r[n]))return!1;for(n=t;0!=n--;){var s=r[n];if(!Yi(o[s],i[s]))return!1}return!0}return o!=o&&i!=i}const hn=typeof document<"u"?document.createDocumentFragment():null;let l0=(()=>{class o{constructor(t){this.element=t}ngAfterViewInit(){hn&&hn.appendChild(this.element.nativeElement)}ngOnDestroy(){hn&&hn.removeChild(this.element.nativeElement)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["offscreen-fragment"]],ngContentSelectors:OC,decls:1,vars:0,template:function(t,n){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2}),o})();const Xe=typeof document<"u"?document.createDocumentFragment():null;let a0=(()=>{class o{ngAfterViewInit(){const t=this.rootElRef?.nativeElement;Ml(t,this.inPlaceOf),Gi(t,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(t)}ngOnChanges(t){const n=this.rootElRef?.nativeElement;if(n)if(this.inPlaceOf.parentNode!==Xe)Ml(n,this.inPlaceOf),Gi(n,void 0,this.elAttrs),this.reportEl(n);else{const r=t.elAttrs;r&&Gi(n,r.previousValue,r.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===Xe&&Xe&&Xe.removeChild(this.inPlaceOf),this.reportEl(null)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["transport-container"]],viewQuery:function(t,n){if(1&t&&e.Gf(NC,5),2&t){let r;e.iGM(r=e.CRH())&&(n.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[e.TTD],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){1&t&&(e.YNc(0,UC,3,6,"ng-template",0),e.YNc(1,jC,3,6,"ng-template",0),e.YNc(2,RC,3,6,"ng-template",0),e.YNc(3,FC,3,6,"ng-template",0),e.YNc(4,qC,3,6,"ng-template",0),e.YNc(5,JC,3,6,"ng-template",0)),2&t&&(e.Q6J("ngIf","div"==n.elTag),e.xp6(1),e.Q6J("ngIf","span"==n.elTag),e.xp6(1),e.Q6J("ngIf","a"==n.elTag),e.xp6(1),e.Q6J("ngIf","tr"==n.elTag),e.xp6(1),e.Q6J("ngIf","th"==n.elTag),e.xp6(1),e.Q6J("ngIf","td"==n.elTag))},dependencies:[I.O5,I.mk,I.PC,I.tP],encapsulation:2}),o})();function Ml(o,i){i.parentNode?.insertBefore(o,i.nextSibling),Xe&&Xe.appendChild(i)}function Gi(o,i={},t={}){for(const n in i)n in t||(o[n]=null);for(const n in t)o[n]=t[n]}let c0=(()=>{class o{constructor(t,n){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};const r=new Qv;r.subscribe(s=>{this.customRenderingMap=s,this.customRenderingArray=void 0,n.detectChanges()}),this.handleCustomRendering=r.handle.bind(r),this.templateMap=this}ngAfterViewInit(){const{deepChangeDetection:t}=this,n={...this.options,...this.buildInputOptions()};this.optionSnapshot=kl(n,(a,c)=>t&&Sl[c]?gn(a):a);const r=this.element.nativeElement,s=this.calendar=new Kb(r,{...n,...this.buildExtraOptions()}),l=r.closest("ion-content");l&&l.componentOnReady?l.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{s.render()})}):s.render(),setTimeout(()=>s.updateSize())}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:n}=this,r={...this.options,...this.buildInputOptions()},s={},l=[];for(const c in r)if(r.hasOwnProperty(c)){let d=r[c];t&&Sl[c]?Yi(n[c],d)||(n[c]=gn(d),l.push(c)):n[c]!==d&&(n[c]=d,l.push(c)),s[c]=d}const a=Object.keys(n);for(const c of a)c in r||(delete n[c],l.push(c));l.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions({...s,...this.buildExtraOptions()},l))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){const t={};for(const n of r0){const r=this[n];null!=r&&(t[n]=r)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplaces:!0}}trackCustomRendering(t,n){return n.id}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["full-calendar"]],contentQueries:function(t,n,r){if(1&t&&(e.Suo(r,LC,7),e.Suo(r,BC,7),e.Suo(r,HC,7),e.Suo(r,QC,7),e.Suo(r,YC,7),e.Suo(r,GC,7),e.Suo(r,zC,7),e.Suo(r,VC,7),e.Suo(r,WC,7),e.Suo(r,$C,7),e.Suo(r,KC,7),e.Suo(r,XC,7),e.Suo(r,e0,7),e.Suo(r,t0,7),e.Suo(r,n0,7)),2&t){let s;e.iGM(s=e.CRH())&&(n.dayHeaderContent=s.first),e.iGM(s=e.CRH())&&(n.dayCellContent=s.first),e.iGM(s=e.CRH())&&(n.weekNumberContent=s.first),e.iGM(s=e.CRH())&&(n.nowIndicatorContent=s.first),e.iGM(s=e.CRH())&&(n.eventContent=s.first),e.iGM(s=e.CRH())&&(n.slotLaneContent=s.first),e.iGM(s=e.CRH())&&(n.slotLabelContent=s.first),e.iGM(s=e.CRH())&&(n.allDayContent=s.first),e.iGM(s=e.CRH())&&(n.moreLinkContent=s.first),e.iGM(s=e.CRH())&&(n.noEventsContent=s.first),e.iGM(s=e.CRH())&&(n.resourceAreaHeaderContent=s.first),e.iGM(s=e.CRH())&&(n.resourceGroupLabelContent=s.first),e.iGM(s=e.CRH())&&(n.resourceLabelContent=s.first),e.iGM(s=e.CRH())&&(n.resourceLaneContent=s.first),e.iGM(s=e.CRH())&&(n.resourceGroupLaneContent=s.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,n){1&t&&(e.TgZ(0,"offscreen-fragment"),e.YNc(1,o0,1,8,"transport-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.customRenderings)("ngForTrackBy",n.trackCustomRendering))},dependencies:[l0,a0,I.sg],encapsulation:2}),o})(),d0=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[I.ez]]}),o})();function u0(o,i){1&o&&(e.TgZ(0,"div",5),e._UZ(1,"span",6),e.qZA())}function p0(o,i){1&o&&(e.TgZ(0,"a",7),e._uU(1," Tooltip on top "),e.qZA())}let _0=(()=>{const i=class{constructor(n,r,s,l){this._activatedRoute=n,this._projectService=r,this._modalService=s,this._snackbarService=l,this.loader=!1,this.projectId=this._activatedRoute.snapshot.paramMap.get("id"),this.calendarOptions={contentHeight:"auto",plugins:[yx,lC,PC],initialView:"dayGridMonth",eventMinHeight:20,editable:!0,eventDisplay:"block",dayMaxEvents:3,selectable:!0,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},selectAllow:this.selectAllow.bind(this),eventChange:this.handleEventChanged.bind(this),dateClick:this.handleDateClick.bind(this),select:this.handleDateRangeSelect.bind(this),eventClick:this.handleEventClick.bind(this)},this.events=[],this.sprints=[],this.issuesWithEvent=[]}ngOnInit(){this.fetchSprintWithIssues()}selectAllow(n){return!this.isDateInPast(n.startStr)}handleEventClick(n){switch(n.event?.extendedProps?.eventType){case"projectIssue":this.viewIssue(n.event?.extendedProps?.issue);break;case"projectSprint":this.viewSprint(n.event?.extendedProps?.sprint);break;default:console.debug("unknown Event")}}handleDateClick(n){if(this.isDateInPast(n.dateStr))return;const r=this._modalService.open(wn,{size:"lg"});r.componentInstance.projectId=this.projectId,r.result.then(s=>{s?.issue&&(this.issuesWithEvent.push({...s.issue,dueDate:new Date(n.dateStr).toISOString()}),this.evaluateEvents(),console.log("issue",s),this.updateIssueData(s.issue,{dueDate:new Date(n.dateStr).toISOString()}))}).catch(()=>{})}handleEventChanged(n){if(console.log("event change",n),this.isDateInPast(n?.event?.startStr))return this._snackbarService.openSnackBar("Date cannot be in the past","error"),void this.evaluateEvents();const r=n?.event?.startStr,s=n?.event?.endStr;switch(n.event?.extendedProps?.eventType){case"projectIssue":{const l={dueDate:new Date(r).toISOString()};this.updateIssueData(n.event?.extendedProps?.issue,l);break}case"projectSprint":{const l=n.event?.extendedProps?.sprint;this.updateSprintData(l,r,s);break}default:console.debug("unknown Event")}}handleDateRangeSelect(n){var r=this;if(!n.startStr||!n.endStr||(new Date(n.endStr).getTime()-new Date(n.startStr).getTime())/1e3<=86400||this.isDateInPast(n.startStr))return;const s=new Date(new Date(n.startStr).setHours(0,0,0)).toISOString(),l=new Date(new Date(n.endStr).setHours(0,0,0,0)).toISOString();var a;this.loader=!0,this._projectService.createSprint(this.projectId,{startDate:s,endDate:l}).subscribe({next:a=>{this.viewSprint(a.data),this.sprints.push(a?.data),this.evaluateEvents(),this._snackbarService.openSnackBar("Created New Sprint","success")},error:a=>{console.error(a),this.loader=!1},complete:(a=(0,y.Z)(function*(){r.loader=!1}),function(){return a.apply(this,arguments)})})}fetchSprintWithIssues(){this.loader=!0,this._projectService.getProjectSprintsWithDetails(this.projectId).subscribe({next:n=>{this.sprints=n?.data?.sprints||[],this.issuesWithEvent=[],this.sprints.forEach(r=>{this.issuesWithEvent=[...this.issuesWithEvent,...n?.data?.sprintWithIssues[r.id]]}),n?.data?.sprintWithIssues.backlog&&(this.issuesWithEvent=[...this.issuesWithEvent,...n?.data?.sprintWithIssues.backlog]),this.loader=!1,this.evaluateEvents()},error:n=>{console.error(n),this.loader=!1}})}evaluateEvents(){const n=[];this.issuesWithEvent.map(s=>{s?.dueDate&&n.push({title:s.title,start:new Date(s.dueDate),eventType:"projectIssue",id:s.id,color:"#FF5733",issue:s}),s?.reminders?.length&&s?.reminders?.map(l=>{n.push({title:l.title,start:new Date(l.startTime),eventType:"projectIssue",id:s.id,color:"#21B2E1",issue:s,editable:!1})})});const r=[];this.sprints?.forEach(s=>{const l={title:s.title,eventType:"projectSprint",id:s.id,color:"#DA70D6",sprint:s};s.startDate&&(l.start=new Date(s.startDate)),s.endDate&&(l.end=new Date(s.endDate)),r.push(l)}),console.log(n,r),this.events=[...n,...r],console.log(this.events,"events")}viewIssue(n){const r=this._modalService.open(At,{size:"xl"});r.componentInstance.projectId=this.projectId,r.componentInstance.issueId=n?.id,r.componentInstance.selectedIssue=n,r.result.then(s=>{s&&this.fetchSprintWithIssues()}).catch(s=>{console.error("Error:",s)})}viewSprint(n){const r=this._modalService.open(An,{size:"lg"});r.componentInstance.projectId=this.projectId,r.componentInstance.sprint=n,r.componentInstance.startSprint=!1,r.result.then(s=>{s?.sprint&&(this.sprints=this.sprints.map(l=>l.id==s.sprint.id?s.sprint:l),this.evaluateEvents())}).catch(()=>{})}updateSprintData(n,r,s){this.loader=!0;const l={title:n.title,duration:n.duration,startDate:new Date(r).toISOString(),endDate:new Date(s).toISOString(),sprintGoal:n.sprintGoal||""};n&&this._projectService.updateSprint(this.projectId,n.id,l).subscribe({next:()=>{this.fetchSprintWithIssues(),this._snackbarService.openSnackBar("Updated Sprint.","success"),this.loader=!1},error:a=>{console.error(a),this._snackbarService.openSnackBar("Sprint Update Failed!","error"),this.loader=!1}})}updateIssueData(n,r){this.loader=!0,this._projectService.updateIssue(this.projectId,n.id,r).subscribe({next:()=>{this.loader=!1,this.fetchSprintWithIssues(),this._snackbarService.openSnackBar("Updated Issue Due Date.","success")},error:s=>{console.error("Error updating issue:",s),this.loader=!1}})}isDateInPast(n){const r=n.slice(0,10);return new Date(parseInt(r.split("-")[0]),parseInt(r.split("-")[1]),parseInt(r.split("-")[2])).getTime()-new Date((new Date).getFullYear(),(new Date).getMonth()+1,(new Date).getDate()).getTime()<0}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(H.gz),e.Y36(L.Y),e.Y36(k.FF),e.Y36(Q.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-project-calendar"]],decls:6,vars:3,consts:[["class","loading",4,"ngIf"],[1,"card"],[1,"card-body"],[3,"events","options"],["tooltipTemplate",""],[1,"loading"],[1,"loader"],["role","button","placement","top","ngbTooltip","Tooltip on top"]],template:function(r,s){1&r&&(e.YNc(0,u0,2,0,"div",0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"full-calendar",3),e.qZA()(),e.YNc(4,p0,2,0,"ng-template",null,4,e.W1O)),2&r&&(e.Q6J("ngIf",s.loader),e.xp6(3),e.Q6J("events",s.events)("options",s.calendarOptions))},dependencies:[I.O5,k._L,c0]}),o})();var Zl=D(4859),El=D(4385),Se=D(2722),m0=D(5698),ae=D(1281),Pl=D(9521),Ol=D(3353),zi=D(2687),g0=D(445),Vi=D(8184),Nl=D(4098),h0=D(4080),xt=(D(7340),D(3238));const f0=["tooltip"],Ul=new e.OlP("mat-tooltip-scroll-strategy"),x0={provide:Ul,deps:[Vi.aV],useFactory:function b0(o){return()=>o.scrollStrategies.reposition({scrollThrottle:20})}},T0=new e.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function C0(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),jl="tooltip-panel",Rl=(0,Ol.i$)({passive:!0});let S0=(()=>{class o{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=(0,ae.Ig)(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,ae.Ig)(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=(0,ae.su)(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=(0,ae.su)(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,n,r,s,l,a,c,d,u,_,m,p){this._overlay=t,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=l,this._platform=a,this._ariaDescriber=c,this._focusMonitor=d,this._dir=_,this._defaultOptions=m,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ot.x,this._scrollStrategy=u,this._document=p,m&&(m.position&&(this.position=m.position),m.positionAtOrigin&&(this.positionAtOrigin=m.positionAtOrigin),m.touchGestures&&(this.touchGestures=m.touchGestures)),_.change.pipe((0,Se.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,Se.R)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{t.removeEventListener(n,r,Rl)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new h0.C5(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe((0,Se.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(t):(n._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof e.SBq)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe((0,Se.R)(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${jl}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,Se.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,Se.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,Se.R)(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===Pl.hY&&!(0,Pl.Vb)(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const n=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:l}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&t||"right"==n&&!t?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&t||"left"==n&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,m0.q)(1),(0,Se.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:n}}_updateCurrentPositionClass(t){const{overlayY:n,originX:r,originY:s}=t;let l;if(l="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===s?"above":"below",l!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${jl}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(n=t),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const n=t.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",n],["touchcancel",n])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,Rl)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const n=this._elementRef.nativeElement,r=n.style;("on"===t||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return o.\u0275fac=function(t){e.$Z()},o.\u0275dir=e.lG2({type:o,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),o})(),k0=(()=>{class o extends S0{constructor(t,n,r,s,l,a,c,d,u,_,m,p){super(t,n,r,s,l,a,c,d,u,_,m,p),this._tooltipComponent=Z0,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Vi.aV),e.Y36(e.SBq),e.Y36(Nl.mF),e.Y36(e.s_b),e.Y36(e.R0b),e.Y36(Ol.t4),e.Y36(zi.$s),e.Y36(zi.tE),e.Y36(Ul),e.Y36(g0.Is,8),e.Y36(T0,8),e.Y36(I.K0))},o.\u0275dir=e.lG2({type:o,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[e.qOj]}),o})(),M0=(()=>{class o{constructor(t,n){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ot.x,this._animationsDisabled="NoopAnimations"===n}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const n=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(t?s:r),n.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(n);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(e.QbO,8))},o.\u0275dir=e.lG2({type:o}),o})(),Z0=(()=>{class o extends M0{constructor(t,n,r){super(t,r),this._elementRef=n,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(e.QbO,8))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-tooltip-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(f0,7),2&t){let r;e.iGM(r=e.CRH())&&(n._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("mouseleave",function(s){return n._handleMouseLeave(s)}),2&t&&e.Udp("zoom",n.isVisible()?1:null)},features:[e.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1),e.NdJ("animationend",function(s){return n._handleAnimationEnd(s)}),e.TgZ(2,"div",2),e._uU(3),e.qZA()()),2&t&&(e.ekj("mdc-tooltip--multiline",n._isMultiline),e.Q6J("ngClass",n.tooltipClass),e.xp6(3),e.Oqu(n.message))},dependencies:[I.mk],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),o})(),E0=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[x0],imports:[zi.rt,I.ez,Vi.U8,xt.BQ,xt.BQ,Nl.ZD]}),o})();var P0=D(9549);function O0(o,i){if(1&o&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function N0(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",16)(1,"mat-select",17),e.NdJ("selectionChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s._changePageSize(r.value))}),e.YNc(2,O0,2,2,"mat-option",18),e.qZA()()}if(2&o){const t=e.oxw(2);e.Q6J("appearance",t._formFieldAppearance)("color",t.color),e.xp6(1),e.Q6J("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),e.xp6(1),e.Q6J("ngForOf",t._displayedPageSizeOptions)}}function U0(o,i){if(1&o&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.pageSize)}}function j0(o,i){if(1&o&&(e.TgZ(0,"div",12)(1,"div",13),e._uU(2),e.qZA(),e.YNc(3,N0,3,8,"mat-form-field",14),e.YNc(4,U0,2,1,"div",15),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.s9C("id",t._pageSizeLabelId),e.xp6(1),e.hij(" ",t._intl.itemsPerPageLabel," "),e.xp6(1),e.Q6J("ngIf",t._displayedPageSizeOptions.length>1),e.xp6(1),e.Q6J("ngIf",t._displayedPageSizeOptions.length<=1)}}function R0(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.firstPage())}),e.O4$(),e.TgZ(1,"svg",7),e._UZ(2,"path",22),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),e.uIk("aria-label",t._intl.firstPageLabel)}}function F0(o,i){if(1&o){const t=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.lastPage())}),e.O4$(),e.TgZ(1,"svg",7),e._UZ(2,"path",24),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),e.uIk("aria-label",t._intl.lastPageLabel)}}let et=(()=>{class o{constructor(){this.changes=new ot.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const s=t*n;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+n,r):s+n} of ${r}`}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const J0={provide:et,deps:[[new e.FiY,new e.tp0,et]],useFactory:function q0(o){return o||new et}},B0=new e.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),H0=(0,xt.Id)((0,xt.dB)(class{}));let Q0=(()=>{class o extends H0{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max((0,ae.su)(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=(0,ae.su)(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max((0,ae.su)(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(n=>(0,ae.su)(n)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=(0,ae.Ig)(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=(0,ae.Ig)(t)}constructor(t,n,r){if(super(),this._intl=t,this._changeDetectorRef=n,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new e.vpe,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:l,hidePageSize:a,showFirstLastButtons:c}=r;null!=s&&(this._pageSize=s),null!=l&&(this._pageSizeOptions=l),null!=a&&(this._hidePageSize=a),null!=c&&(this._showFirstLastButtons=c)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,n)=>t-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return o.\u0275fac=function(t){e.$Z()},o.\u0275dir=e.lG2({type:o,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[e.qOj]}),o})(),Y0=0,G0=(()=>{class o extends Q0{constructor(t,n,r){super(t,n,r),this._pageSizeLabelId="mat-paginator-page-size-label-"+Y0++,this._formFieldAppearance=r?.formFieldAppearance||"outline"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(et),e.Y36(e.sBO),e.Y36(B0,8))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[e.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,j0,5,4,"div",2),e.TgZ(3,"div",3)(4,"div",4),e._uU(5),e.qZA(),e.YNc(6,R0,3,5,"button",5),e.TgZ(7,"button",6),e.NdJ("click",function(){return n.previousPage()}),e.O4$(),e.TgZ(8,"svg",7),e._UZ(9,"path",8),e.qZA()(),e.kcU(),e.TgZ(10,"button",9),e.NdJ("click",function(){return n.nextPage()}),e.O4$(),e.TgZ(11,"svg",7),e._UZ(12,"path",10),e.qZA()(),e.YNc(13,F0,3,5,"button",11),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",!n.hidePageSize),e.xp6(3),e.hij(" ",n._intl.getRangeLabel(n.pageIndex,n.pageSize,n.length)," "),e.xp6(1),e.Q6J("ngIf",n.showFirstLastButtons),e.xp6(1),e.Q6J("matTooltip",n._intl.previousPageLabel)("matTooltipDisabled",n._previousButtonsDisabled())("matTooltipPosition","above")("disabled",n._previousButtonsDisabled()),e.uIk("aria-label",n._intl.previousPageLabel),e.xp6(3),e.Q6J("matTooltip",n._intl.nextPageLabel)("matTooltipDisabled",n._nextButtonsDisabled())("matTooltipPosition","above")("disabled",n._nextButtonsDisabled()),e.uIk("aria-label",n._intl.nextPageLabel),e.xp6(3),e.Q6J("ngIf",n.showFirstLastButtons))},dependencies:[I.sg,I.O5,Zl.RK,P0.KE,El.gD,xt.ey,k0],styles:[".mat-mdc-paginator{display:block}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),o})(),z0=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[J0],imports:[I.ez,Zl.ot,El.LD,E0]}),o})(),V0=(()=>{const i=class extends et{constructor(){super(...arguments),this.getRangeLabel=(n,r,s)=>`Page ${n+1} of ${Math.ceil(s/r)}`}};let o=i;return i.\u0275fac=function(){let n;return function(s){return(n||(n=e.n5z(i)))(s||i)}}(),i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),o})();var Fl=D(3139),fn=D(2340),W0=D(4968);const $0=["editorContainer"],Wi=new e.OlP("NGX_MONACO_EDITOR_CONFIG");let Jl,ql=!1,K0=(()=>{class o{constructor(t){this.config=t,this.onInit=new e.vpe,this._insideNg=!1}set insideNg(t){this._insideNg=t,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}ngAfterViewInit(){ql?Jl.then(()=>{this.initMonaco(this._options,this.insideNg)}):(ql=!0,Jl=new Promise(t=>{const n=this.config.baseUrl||"./assets";if("object"==typeof window.monaco)return this.initMonaco(this._options,this.insideNg),void t();const r=()=>{window.require.config({paths:{vs:`${n}/monaco/min/vs`}}),window.require(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),t()})};if(window.require)r();else{const s=document.createElement("script");s.type="text/javascript",s.src=`${n}/monaco/min/vs/loader.js`,s.addEventListener("load",r),document.body.appendChild(s)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Wi))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&e.Gf($0,7),2&t){let r;e.iGM(r=e.CRH())&&(n._editorContainer=r.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(t,n){},encapsulation:2}),o})(),Ll=(()=>{class o extends K0{constructor(t,n){super(n),this.zone=t,this.editorConfig=n,this._value="",this.propagateChange=r=>{},this.onTouched=()=>{}}set options(t){this._options=Object.assign({},this.config.defaultOptions,t),this._editor&&(this._editor.dispose(),this.initMonaco(t,this.insideNg))}get options(){return this._options}set model(t){this.options.model=t,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}writeValue(t){this._value=t||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){this.onTouched=t}initMonaco(t,n){const r=!!t.model;if(r){const s=monaco.editor.getModel(t.model.uri||"");s?(t.model=s,t.model.setValue(this._value)):t.model=monaco.editor.createModel(t.model.value,t.model.language,t.model.uri)}n?this._editor=monaco.editor.create(this._editorContainer.nativeElement,t):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,t)}),r||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(s=>{const l=this._editor.getValue();this.zone.run(()=>{this.propagateChange(l),this._value=l})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=(0,W0.R)(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.R0b),e.Y36(Wi))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[e._Bn([{provide:g.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}]),e.qOj],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(t,n){1&t&&e._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"]}),o})(),X0=(()=>{class o{static forRoot(t={}){return{ngModule:o,providers:[{provide:Wi,useValue:t}]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[I.ez]}),o})();const e2=["fileInput"];function t2(o,i){1&o&&(e.TgZ(0,"div",10),e._UZ(1,"span",11),e.qZA())}function n2(o,i){1&o&&(e.TgZ(0,"div",10),e._UZ(1,"span",11),e.qZA())}function i2(o,i){if(1&o&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.title," ")}}function o2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",12,13)(2,"div",14)(3,"h4",15),e._uU(4,"Export As"),e.qZA(),e.TgZ(5,"button",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(6,"div",17),e.YNc(7,n2,2,0,"div",0),e.TgZ(8,"div",18)(9,"div",19)(10,"label"),e._uU(11,"Save as"),e.qZA(),e._UZ(12,"input",20),e.qZA()(),e.TgZ(13,"div",21)(14,"div",19)(15,"label"),e._uU(16,"Choose a Format"),e.qZA(),e.TgZ(17,"select",22),e.YNc(18,i2,2,2,"option",23),e.qZA()()()(),e.TgZ(19,"div",24)(20,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(21," Close "),e.qZA(),e.TgZ(22,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.exportDocumentAs())}),e._uU(23," Export "),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.exportAsFormField),e.xp6(7),e.Q6J("ngIf",t.loading),e.xp6(11),e.Q6J("ngForOf",t.exportAsList),e.xp6(4),e.Q6J("disabled",t.exportDoc)}}function r2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"h4",15),e._uU(2,"Delete"),e.qZA(),e.TgZ(3,"button",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",28)(5,"h5"),e._uU(6,"Are you sure you want to delete Documentation?"),e.qZA()(),e.TgZ(7,"div",24)(8,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(9," Cancel "),e.qZA(),e.TgZ(10,"button",29),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return l.deleteDocument(l.documentId),e.KtG(s.close("Close click"))}),e._uU(11," Delete "),e.qZA()()}}function s2(o,i){if(1&o&&(e.TgZ(0,"div",17)(1,"header")(2,"div",55)(3,"h1"),e._uU(4,"Function Documentation"),e.qZA()()(),e.TgZ(5,"main")(6,"section",56)(7,"h2"),e._uU(8,"Introduction"),e.qZA(),e._UZ(9,"p",57),e.TgZ(10,"h3"),e._uU(11,"Parameters"),e.qZA(),e.TgZ(12,"ul")(13,"li")(14,"code"),e._uU(15),e.qZA()()(),e.TgZ(16,"h3"),e._uU(17,"Returns"),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.qZA(),e.TgZ(20,"h3"),e._uU(21,"Example"),e.qZA(),e.TgZ(22,"pre")(23,"code",58),e._uU(24),e.qZA()()()()()),2&o){const t=e.oxw(2);e.xp6(9),e.Q6J("innerHTML",null==t.obj||null==t.obj.data?null:t.obj.data.content,e.oJD),e.xp6(6),e.Oqu(null==t.obj?null:t.obj.paramsArray),e.xp6(4),e.Oqu(null==t.obj||null==t.obj.data?null:t.obj.data.desAboutReturnOpt),e.xp6(5),e.hij("",null==t.obj||null==t.obj.data?null:t.obj.data.codeEditor,"\n        ")}}function l2(o,i){if(1&o&&(e.TgZ(0,"p",66),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.obj||null==t.obj.data?null:t.obj.data.bearer_token," ")}}function a2(o,i){if(1&o&&(e.TgZ(0,"p")(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"label"),e._uU(4),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(t.obj.data.basicAuthUserName),e.xp6(2),e.Oqu(t.obj.data.basicAuthpassword)}}function c2(o,i){if(1&o&&(e.TgZ(0,"div",17)(1,"header")(2,"div",55)(3,"h1"),e._uU(4,"API Documentation"),e.qZA()()(),e.TgZ(5,"main")(6,"section",59)(7,"div",55)(8,"h2"),e._uU(9,"Introduction"),e.qZA(),e._UZ(10,"p",57),e.qZA()(),e.TgZ(11,"section",60)(12,"div",55)(13,"h2"),e._uU(14,"Endpoints"),e.qZA(),e.TgZ(15,"div",61)(16,"h3")(17,"label",62),e._uU(18),e.qZA(),e._uU(19," / "),e.TgZ(20,"a",63),e._uU(21),e.qZA()(),e.TgZ(22,"p"),e._uU(23,"Description of the endpoint."),e.qZA(),e.TgZ(24,"pre")(25,"code",58),e._uU(26),e.qZA()()()()(),e.TgZ(27,"section",64)(28,"div",55)(29,"h2"),e._uU(30,"Authentication"),e.qZA(),e.TgZ(31,"p"),e._uU(32,"Information about how to authenticate with the API."),e.qZA(),e.TgZ(33,"p"),e._uU(34),e.qZA(),e.TgZ(35,"h3"),e._uU(36,"API Keys"),e.qZA(),e.TgZ(37,"p"),e._uU(38,"Instructions on obtaining and using API keys."),e.qZA(),e.YNc(39,l2,2,1,"p",65),e.YNc(40,a2,5,2,"p",47),e.qZA()()()()),2&o){const t=e.oxw(2);e.xp6(10),e.Q6J("innerHTML",t.obj.data.content,e.oJD),e.xp6(8),e.Oqu(t.obj.data.methodTypes.toUpperCase()),e.xp6(2),e.s9C("href",t.obj.data.url,e.LSH),e.xp6(1),e.Oqu(t.obj.data.url),e.xp6(5),e.Oqu(t.stringify),e.xp6(8),e.Oqu(t.obj.data.authType.toUpperCase()),e.xp6(5),e.Q6J("ngIf","bearer token"===t.obj.data.authType),e.xp6(1),e.Q6J("ngIf","basic auth"===t.obj.data.authType)}}function d2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",73)(2,"img",74),e.NdJ("click",function(){const s=e.CHM(t).index;e.oxw();const l=e.MAs(22),a=e.oxw(2);return e.KtG(a.openCarouselModal(l,s))}),e.qZA()()()}if(2&o){const t=i.$implicit,n=i.index;e.xp6(2),e.s9C("src",t,e.LSH),e.MGl("alt","Image ",n+1,"")}}function u2(o,i){if(1&o&&(e.TgZ(0,"div",52)(1,"a",75),e._uU(2),e.qZA()()),2&o){const t=i.$implicit,n=i.index;e.xp6(1),e.s9C("href",t,e.LSH),e.xp6(1),e.hij("Link ",n+1,"")}}function p2(o,i){if(1&o&&e._UZ(0,"img",79),2&o){const t=e.oxw(),r=t.$implicit;e.MGl("alt","Image ",t.index+1,""),e.Q6J("src",r,e.LSH)}}function _2(o,i){1&o&&e.YNc(0,p2,1,2,"ng-template",78),2&o&&e.Q6J("id",i.index.toString())}function m2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"h5",15),e._uU(2,"Image Preview"),e.qZA(),e.TgZ(3,"button",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",17)(5,"ngb-carousel",76),e.YNc(6,_2,1,1,null,77),e.qZA()()}if(2&o){const t=e.oxw(3);e.xp6(5),e.Q6J("activeId",t.selectedImageIndex.toString()),e.xp6(1),e.Q6J("ngForOf",t.obj.data.imagesUrl)}}function g2(o,i){if(1&o&&(e.TgZ(0,"div",17)(1,"header")(2,"div",55)(3,"h1"),e._uU(4,"Images and Links Documentation"),e.qZA()()(),e.TgZ(5,"main")(6,"section",59)(7,"div",55)(8,"h2"),e._uU(9,"Introduction"),e.qZA(),e._UZ(10,"p",57),e.qZA()(),e.TgZ(11,"div",18)(12,"div",67)(13,"h2"),e._uU(14,"Images List"),e.qZA(),e.TgZ(15,"div",18),e.YNc(16,d2,3,2,"div",68),e.qZA()(),e.TgZ(17,"div",69)(18,"h2"),e._uU(19,"Links"),e.qZA(),e.YNc(20,u2,3,2,"div",70),e.qZA()(),e.YNc(21,m2,7,2,"ng-template",null,71,e.W1O),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(10),e.Q6J("innerHTML",t.obj.data.content,e.oJD),e.xp6(6),e.Q6J("ngForOf",t.obj.data.imagesUrl),e.xp6(4),e.Q6J("ngForOf",t.obj.data.docUrl)}}function h2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",81)(2,"div",82)(3,"input",83),e.NdJ("ngModelChange",function(r){const l=e.CHM(t).index,a=e.oxw(3);return e.KtG(a.newComment.urls[l]=r)}),e.qZA()(),e.TgZ(4,"div",84)(5,"button",85),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.addUrl())}),e._uU(6," Add "),e.qZA()(),e.TgZ(7,"div",84)(8,"button",86),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.removeUrl(s))}),e._uU(9," Remove "),e.qZA()()()()}if(2&o){const t=i.index,n=e.oxw(3);e.xp6(3),e.Q6J("ngModel",n.newComment.urls[t])}}function f2(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,h2,10,1,"div",80),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.newComment.urls)("ngForTrackBy",t.trackByIndex)}}function v2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",90),e._UZ(1,"img",91),e.TgZ(2,"button",92),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.removeImage(s))}),e._uU(3," \xd7 "),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(1),e.Q6J("src",t,e.LSH)}}function b2(o,i){if(1&o&&(e.TgZ(0,"div",87)(1,"h6"),e._uU(2,"Image Previews:"),e.qZA(),e.TgZ(3,"div",88),e.YNc(4,v2,4,1,"div",89),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.imagePreviews)}}function x2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"button",93),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.updateComment(r.commentId))}),e._uU(2," Update "),e.qZA(),e.TgZ(3,"button",94),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.cancelComment())}),e._uU(4," cancel "),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.isSubmit)}}function C2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",93),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.addComment())}),e._uU(1," Submit "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("disabled",t.isSubmit)}}function T2(o,i){if(1&o&&(e.TgZ(0,"li")(1,"a",104),e._uU(2),e.qZA()()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("href",t,e.LSH),e.xp6(1),e.Oqu(t)}}function y2(o,i){if(1&o&&(e.TgZ(0,"div",103)(1,"ul"),e.YNc(2,T2,3,2,"li",77),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.urls)}}function w2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"img",106),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(5);return e.KtG(l.openPreviewModal(s))}),e.qZA()}2&o&&e.Q6J("src",i.$implicit,e.LSH)}function I2(o,i){if(1&o&&(e.TgZ(0,"div")(1,"div",88),e.YNc(2,w2,1,1,"img",105),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.bulkImages)}}function A2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",107)(1,"a",108),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.getSingleComment(r.id))}),e.TgZ(2,"span",44),e._uU(3," Edit "),e.qZA()(),e.TgZ(4,"a",109),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.deleteComment(r.id))}),e.TgZ(5,"span",44),e._uU(6," Delete "),e.qZA()()()}}function D2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",110)(1,"div",111)(2,"div",112)(3,"div",14)(4,"h5",113),e._uU(5," Image Preview "),e.qZA(),e.TgZ(6,"button",114),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.closePreviewModal())}),e.qZA()(),e.TgZ(7,"div",17),e._UZ(8,"img",115),e.qZA()()()()}if(2&o){const t=e.oxw(4);e.xp6(8),e.Q6J("src",t.previewImage,e.LSH)}}function S2(o,i){if(1&o&&(e.TgZ(0,"div",97),e._UZ(1,"img",37),e.TgZ(2,"div",98)(3,"h6")(4,"strong"),e._uU(5),e.qZA()(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.YNc(8,y2,3,1,"div",99),e.YNc(9,I2,3,1,"div",47),e.TgZ(10,"div",100)(11,"p"),e._uU(12),e.qZA()(),e.YNc(13,A2,7,0,"div",101),e.YNc(14,D2,9,1,"div",102),e.qZA()()),2&o){const t=i.$implicit,n=e.oxw(3);e.s9C("id",t.id),e.xp6(1),e.Q6J("src",(null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.profileImage)||"https://via.placeholder.com/50",e.LSH),e.xp6(4),e.Oqu(null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.fullname),e.xp6(2),e.Oqu(null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.commentText),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.urls.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.bulkImages.length)>0),e.xp6(3),e.Oqu(n.dateAndTimeFormat(null==t?null:t.created_at)),e.xp6(1),e.Q6J("ngIf",t&&(null==t||null==t.data||null==t.data.the_documentComment||null==t.data.the_documentComment.userConcept?null:t.data.the_documentComment.userConcept.includes(n.userId.userConcept.toString()))),e.xp6(1),e.Q6J("ngIf",n.previewImage)}}function k2(o,i){if(1&o&&(e.TgZ(0,"div",95),e.YNc(1,S2,15,9,"div",96),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listComment)}}function M2(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"No comments yet. Be the first to comment!"),e.qZA())}function Z2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"h4",30),e._uU(2),e.qZA(),e.TgZ(3,"button",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.YNc(4,s2,25,4,"div",31),e.YNc(5,c2,41,8,"div",31),e.YNc(6,g2,23,3,"div",31),e.TgZ(7,"div",32)(8,"main")(9,"div",33)(10,"div",34)(11,"h5",35),e._uU(12,"Leave a Comment"),e.qZA(),e.TgZ(13,"div",36),e._UZ(14,"img",37),e.TgZ(15,"div",38)(16,"div",39)(17,"textarea",40),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.newComment.commentText=r)}),e.qZA()(),e.TgZ(18,"div",41)(19,"label",42)(20,"a",43)(21,"span",44),e._uU(22," attachment "),e.qZA()()(),e.TgZ(23,"input",45),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.onImgFileSelected(r))}),e.qZA(),e.TgZ(24,"a",46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleUrlField())}),e.TgZ(25,"span",44),e._uU(26," link "),e.qZA()()(),e.YNc(27,f2,2,2,"div",47),e.YNc(28,b2,5,1,"div",48),e.YNc(29,x2,5,1,"div",49),e.YNc(30,C2,2,1,"ng-template",null,50,e.W1O),e.qZA()()()(),e.TgZ(32,"div",51)(33,"h5"),e._uU(34,"Comments:"),e.qZA(),e.TgZ(35,"div")(36,"div",52),e.YNc(37,k2,2,1,"div",53),e.qZA()(),e.YNc(38,M2,2,0,"ng-template",null,54,e.W1O),e.qZA()()(),e.TgZ(40,"div",24)(41,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(42," Close "),e.qZA()()}if(2&o){const t=e.MAs(31),n=e.MAs(39),r=e.oxw();e.xp6(2),e.hij(" ",r.obj.data.docTitle," "),e.xp6(2),e.Q6J("ngIf","function"===r.obj.data.types),e.xp6(1),e.Q6J("ngIf","api"===r.obj.data.types),e.xp6(1),e.Q6J("ngIf","images and links"===r.obj.data.types),e.xp6(8),e.s9C("src",r.userProfile.profileImg,e.LSH),e.xp6(3),e.Q6J("ngModel",r.newComment.commentText),e.xp6(10),e.Q6J("ngIf",r.showUrlField),e.xp6(1),e.Q6J("ngIf",r.imagePreviews.length>0),e.xp6(1),e.Q6J("ngIf",r.commentUpdateButton)("ngIfElse",t),e.xp6(8),e.Q6J("ngIf",(null==r.listComment?null:r.listComment.length)>0)("ngIfElse",n)}}function E2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(2,"div",17),e._UZ(3,"img",116),e.qZA(),e.TgZ(4,"div",24)(5,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(6," Close "),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("src",t.imageUrl?t.imageUrl:!!t.getSingleDocument&&(null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.imgUrl),e.LSH)}}function P2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",117)(1,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),s=e.MAs(2);return e.KtG(r.openBackDropCustomClass(s))}),e._uU(2," Export As "),e.qZA()()}}function O2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",118)(1,"button",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.formStatus(!0))}),e._uU(2," Create Document "),e.qZA()()}}function N2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",124),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.selectSuggestion(s))}),e.TgZ(1,"strong"),e._uU(2),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t.data.the_createDocument.docTitle)}}function U2(o,i){if(1&o&&(e.TgZ(0,"div",122),e.YNc(1,N2,3,1,"div",123),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.filteredResults)}}function j2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",119)(1,"input",120),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.searchTerm=r)})("input",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSearchChange())}),e.qZA(),e.YNc(2,U2,2,1,"div",121),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.searchTerm),e.xp6(1),e.Q6J("ngIf",t.filteredResults.length>0)}}function R2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",138)(1,"div",139)(2,"div",140)(3,"button",85),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.showFolderUploadModal(null==r.getSingleDocument||null==r.getSingleDocument.data||null==r.getSingleDocument.data.the_createDocument?null:r.getSingleDocument.data.the_createDocument.folderId,null==r.getSingleDocument?null:r.getSingleDocument.id))}),e._uU(4," Update "),e.qZA()()(),e.TgZ(5,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.cancel())}),e._uU(6," Cancel "),e.qZA()()}}function F2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",138)(1,"div",139)(2,"div",140)(3,"button",141),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.showFolderUploadModal(r.projectId,null))}),e._uU(4," Save As "),e.qZA()()(),e.TgZ(5,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.resetForm())}),e._uU(6," Cancel "),e.qZA()()}}function q2(o,i){1&o&&(e.TgZ(0,"div",62),e._uU(1," Introduction is required. "),e.qZA())}function J2(o,i){if(1&o&&(e.TgZ(0,"div",136)(1,"label",142),e._uU(2,"Introduction"),e.TgZ(3,"span",62),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"div",143),e._UZ(6,"ngx-editor-menu",144)(7,"ngx-editor",145),e.qZA(),e.YNc(8,q2,2,0,"div",146),e.qZA()),2&o){const t=e.oxw(2);let n;e.xp6(6),e.Q6J("editor",t.editors),e.xp6(1),e.Q6J("editor",t.editors)("ngModel",null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.content)("disabled",!1)("placeholder","Type here..."),e.xp6(1),e.Q6J("ngIf",(null==(n=t.documentForm.get("content"))?null:n.hasError("required"))&&(null==(n=t.documentForm.get("content"))?null:n.touched))}}function L2(o,i){if(1&o&&(e.TgZ(0,"option",152),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function B2(o,i){if(1&o&&(e.TgZ(0,"div",147)(1,"label",148),e._uU(2,"Type"),e.TgZ(3,"span",62),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"select",149)(6,"option",150),e._uU(7,"Select Documentation Type"),e.qZA(),e.YNc(8,L2,2,2,"option",151),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.getSingleDocument?null==t||null==t.getSingleDocument||null==t.getSingleDocument.data?null:t.getSingleDocument.data.the_createDocument.types:""),e.xp6(3),e.Q6J("ngForOf",t.types)}}function H2(o,i){if(1&o&&(e.TgZ(0,"option",152),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Q2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",153)(1,"label",142),e._uU(2,"Select Language:"),e.qZA(),e.TgZ(3,"select",154),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onChangelang(r))}),e.TgZ(4,"option",155),e._uU(5,"Select Language"),e.qZA(),e.YNc(6,H2,2,2,"option",151),e.qZA()()}if(2&o){const t=e.oxw(2);let n;e.xp6(3),e.Q6J("ngModel",null!==(n=null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.codeEditorlang)&&void 0!==n?n:"javascript"),e.xp6(3),e.Q6J("ngForOf",t.codeEditorType)}}function Y2(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",136)(1,"label",142),e._uU(2,"Write your code here:"),e.qZA(),e.TgZ(3,"ngx-monaco-editor",156),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.getCodeEditor=r)}),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("options",t.editorOptions)("ngModel",t.getCodeEditor)}}function G2(o,i){if(1&o&&(e.TgZ(0,"div",136)(1,"label",142),e._uU(2,"What the class/function returns:"),e.qZA(),e._UZ(3,"textarea",157),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.desAboutReturnOpt)}}function z2(o,i){if(1&o&&(e.TgZ(0,"option",152),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function V2(o,i){if(1&o&&(e.TgZ(0,"div",147)(1,"div",18)(2,"label",158),e._uU(3,"Your URL"),e.qZA(),e.TgZ(4,"div",159)(5,"select",160)(6,"option",150),e._uU(7,"Request Method"),e.qZA(),e.YNc(8,z2,2,2,"option",151),e.qZA()(),e.TgZ(9,"div",161),e._UZ(10,"input",162),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.getSingleDocument?null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.methodTypes:""),e.xp6(3),e.Q6J("ngForOf",t.methodTypes),e.xp6(2),e.Q6J("ngModel",null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.url)}}function W2(o,i){if(1&o&&(e.TgZ(0,"option",152),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function $2(o,i){if(1&o&&(e.TgZ(0,"div",147)(1,"label",158),e._uU(2,"Auth Type"),e.qZA(),e.TgZ(3,"select",163)(4,"option",150),e._uU(5,"Select Auth Type"),e.qZA(),e.YNc(6,W2,2,2,"option",151),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.getSingleDocument?null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.authType:""),e.xp6(3),e.Q6J("ngForOf",t.authTypes)}}function K2(o,i){1&o&&e._UZ(0,"div",164)}function X2(o,i){if(1&o&&(e.TgZ(0,"div",164)(1,"label",158),e._uU(2,"Bearer Token"),e.qZA(),e._UZ(3,"textarea",165),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.bearer_token)}}function eT(o,i){if(1&o&&(e.TgZ(0,"div",166)(1,"label",158),e._uU(2,"UserName"),e.qZA(),e._UZ(3,"input",167),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.basicAuthUserName)}}function tT(o,i){if(1&o&&(e.TgZ(0,"div",166)(1,"label",158),e._uU(2,"Password"),e.qZA(),e._UZ(3,"input",168),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.basicAuthpassword)}}function nT(o,i){1&o&&(e.TgZ(0,"div",169)(1,"label",142),e._uU(2,"Add key:"),e.qZA(),e._UZ(3,"input",170),e.qZA())}function iT(o,i){1&o&&(e.TgZ(0,"div",169)(1,"label",142),e._uU(2,"Add Value:"),e.qZA(),e._UZ(3,"input",171),e.qZA())}function oT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",169)(1,"button",172),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.addJsonValue())}),e._uU(2," Add "),e.qZA()()}}function rT(o,i){1&o&&e._UZ(0,"div",169)}function sT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",174)(1,"div",175),e._UZ(2,"input",176),e.qZA(),e.TgZ(3,"div",175),e._UZ(4,"input",177),e.qZA(),e.TgZ(5,"div",175)(6,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.delJsonValue(null==s?null:s.id))}),e._uU(7," Delete "),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.s9C("value",t.jsonKey),e.Q6J("disabled",!0),e.xp6(2),e.s9C("value",t.jsonValue),e.Q6J("disabled",!0)}}function lT(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,sT,8,4,"div",173),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.jsonList)}}function aT(o,i){if(1&o&&(e.TgZ(0,"div")(1,"span",180),e._uU(2),e.qZA(),e.TgZ(3,"span",179),e._uU(4,":"),e.qZA(),e.TgZ(5,"span",181),e._uU(6),e.qZA(),e.TgZ(7,"span",179),e._uU(8,","),e.qZA()()),2&o){const t=i.$implicit;e.xp6(2),e.hij('"',t.jsonKey,'"'),e.xp6(4),e.hij('"',t.jsonValue,'"')}}function cT(o,i){if(1&o&&(e.TgZ(0,"div",169)(1,"div",178)(2,"div",34)(3,"p",179),e._uU(4,"{"),e.qZA(),e.YNc(5,aT,9,2,"div",77),e.TgZ(6,"p",179),e._uU(7,"}"),e.qZA()()()()),2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t.jsonList)}}function dT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",147)(1,"div",182)(2,"label"),e._uU(3,"Add URLs"),e.qZA(),e.TgZ(4,"div",183)(5,"input",184),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.newUrl=r)}),e.qZA(),e.TgZ(6,"button",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.addDocUrl())}),e._uU(7," Add URL "),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("ngModel",t.newUrl)}}function uT(o,i){1&o&&e._UZ(0,"div",147)}function pT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li",189),e._uU(1),e.TgZ(2,"button",190),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(4);return e.KtG(l.deleteUrl(s))}),e._uU(3," \xd7 "),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t," ")}}function _T(o,i){if(1&o&&(e.TgZ(0,"ul",52),e.YNc(1,pT,4,1,"li",188),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.getSingleDocument.data.the_createDocument.docUrl)}}function mT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li",189),e._uU(1),e.TgZ(2,"button",190),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(4);return e.KtG(l.deleteUrl(s))}),e._uU(3," \xd7 "),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t," ")}}function gT(o,i){if(1&o&&(e.TgZ(0,"ul",52),e.YNc(1,mT,4,1,"li",188),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.docurls)}}function hT(o,i){if(1&o&&(e.TgZ(0,"div",147)(1,"div",185),e.YNc(2,_T,2,1,"ul",186),e.YNc(3,gT,2,1,"ng-template",null,187,e.W1O),e.qZA()()),2&o){const t=e.MAs(4),n=e.oxw(2);e.xp6(2),e.Q6J("ngIf",n.getSingleDocument)("ngIfElse",t)}}function fT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",136)(1,"label"),e._uU(2,"Image Upload"),e.qZA(),e.TgZ(3,"div",191),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onDropZoneClick())})("dragover",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDragOver(r))})("dragleave",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onDragLeave())})("drop",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDrop(r))}),e._uU(4," Drag & drop images here or click to upload "),e.qZA(),e.TgZ(5,"input",192),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onFilesSelected(r))}),e.qZA()()}}function vT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",196)(1,"div",197),e._UZ(2,"img",198),e.TgZ(3,"button",199),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(4);return e.KtG(l.deleteImage(s))}),e._uU(4," \xd7 "),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Q6J("src",t,e.LSH)}}function bT(o,i){if(1&o&&(e.TgZ(0,"div",194),e.YNc(1,vT,5,1,"div",195),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument?null:t.getSingleDocument.data.the_createDocument.imagesUrl)}}function xT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",196)(1,"div",197),e._UZ(2,"img",198),e.TgZ(3,"button",199),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(4);return e.KtG(l.deleteImage(s))}),e._uU(4," \xd7 "),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Q6J("src",t,e.LSH)}}function CT(o,i){if(1&o&&(e.TgZ(0,"div",194),e.YNc(1,xT,5,1,"div",195),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.dragAndDropImagePreviews)}}function TT(o,i){if(1&o&&(e.TgZ(0,"div",136),e.YNc(1,bT,2,1,"div",193),e.YNc(2,CT,2,1,"ng-template",null,187,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.getSingleDocument&&(null==n.getSingleDocument||null==n.getSingleDocument.data||null==n.getSingleDocument.data.the_createDocument?null:n.getSingleDocument.data.the_createDocument.imagesUrl))("ngIfElse",t)}}function yT(o,i){if(1&o&&e._UZ(0,"img",209),2&o){const t=e.oxw().$implicit;e.Q6J("src",t.profileImg,e.LSH)("alt","Profile Pic of "+t.firstName)}}function wT(o,i){1&o&&e._UZ(0,"img",210)}function IT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",206),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.handleAddAssignedUser(s))}),e.TgZ(1,"span"),e.YNc(2,yT,1,2,"img",207),e.YNc(3,wT,1,0,"ng-template",null,208,e.W1O),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()()}if(2&o){const t=i.$implicit,n=e.MAs(4),r=e.oxw(4);e.Q6J("disabled",r.isUserAlreadyAssigned(t)),e.xp6(2),e.Q6J("ngIf",t.profileImg)("ngIfElse",n),e.xp6(4),e.AsE("",null==t?null:t.firstName," ",null==t?null:t.lastName,"")}}function AT(o,i){if(1&o&&(e.ynx(0),e.YNc(1,IT,7,5,"button",205),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.projectUsers)}}function DT(o,i){1&o&&(e.TgZ(0,"span",211),e._uU(1,"No Users Available"),e.qZA())}function ST(o,i){if(1&o&&e._UZ(0,"img",209),2&o){const t=e.oxw().$implicit,n=e.oxw(4);let r,s;e.Q6J("src",null==(r=n.getUserProfile(t))?null:r.profileImg,e.LSH)("alt","Profile Pic of "+(null==(s=n.getUserProfile(t))?null:s.firstName))}}function kT(o,i){1&o&&e._UZ(0,"img",216)}function MT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",212)(2,"div",213)(3,"span"),e.YNc(4,ST,1,2,"img",207),e.YNc(5,kT,1,0,"ng-template",null,208,e.W1O),e.qZA(),e.TgZ(7,"p",103),e._uU(8),e.qZA()(),e.TgZ(9,"a",214),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.removeAssignedUser(s))}),e.TgZ(10,"span",215),e._uU(11,"close"),e.qZA()()()()}if(2&o){const t=i.$implicit,n=e.MAs(6),r=e.oxw(4);let s,l;e.xp6(4),e.Q6J("ngIf",null==(s=r.getUserProfile(t))?null:s.profileImg)("ngIfElse",n),e.xp6(4),e.AsE(" ",null==(l=r.getUserProfile(t))?null:l.firstName," ",null==(l=r.getUserProfile(t))?null:l.lastName," ")}}function ZT(o,i){if(1&o&&(e.ynx(0),e.YNc(1,MT,12,4,"div",77),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.assignedUsers)}}function ET(o,i){if(1&o&&(e.TgZ(0,"div",200)(1,"div",201)(2,"button",202),e._uU(3," Add Assignee "),e.qZA(),e.TgZ(4,"div",203),e.YNc(5,AT,2,1,"ng-container",49),e.YNc(6,DT,2,0,"ng-template",null,204,e.W1O),e.qZA()(),e.YNc(8,ZT,2,1,"ng-container",47),e.qZA()),2&o){const t=e.MAs(7),n=e.oxw(2);e.xp6(1),e.Q6J("autoClose",!0),e.xp6(4),e.Q6J("ngIf",n.projectUsers&&n.projectUsers.length>0)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",n.assignedUsers.length>0)}}function PT(o,i){if(1&o&&(e.TgZ(0,"div",36)(1,"form",125,126)(3,"div",127),e.YNc(4,R2,7,0,"div",128),e.YNc(5,F2,7,0,"div",128),e.TgZ(6,"div",129),e.YNc(7,J2,9,6,"div",130),e.YNc(8,B2,9,2,"div",131),e.YNc(9,Q2,7,2,"div",132),e.YNc(10,Y2,4,2,"div",130),e.YNc(11,G2,4,1,"div",130),e.YNc(12,V2,11,3,"div",131),e.YNc(13,$2,7,2,"div",131),e.YNc(14,K2,1,0,"div",133),e.YNc(15,X2,4,1,"div",133),e.YNc(16,eT,4,1,"div",134),e.YNc(17,tT,4,1,"div",134),e.YNc(18,nT,4,0,"div",135),e.YNc(19,iT,4,0,"div",135),e.YNc(20,oT,3,0,"div",135),e.YNc(21,rT,1,0,"div",135),e.YNc(22,lT,2,1,"div",47),e.YNc(23,cT,8,1,"div",135),e.YNc(24,dT,8,1,"div",131),e.YNc(25,uT,1,0,"div",131),e.YNc(26,hT,5,2,"div",131),e.YNc(27,fT,6,0,"div",130),e.YNc(28,TT,4,2,"div",130),e._UZ(29,"div",136),e.YNc(30,ET,9,4,"div",137),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.documentForm),e.xp6(3),e.Q6J("ngIf",t.getSingleDocument),e.xp6(1),e.Q6J("ngIf",!t.getSingleDocument),e.xp6(2),e.Q6J("ngIf",!t.isFolderChange),e.xp6(1),e.Q6J("ngIf",!t.isFolderChange),e.xp6(1),e.Q6J("ngIf",t.codeEditorStatus&&t.codeEditorStatus),e.xp6(1),e.Q6J("ngIf",t.editorOptions.language&&t.codeEditorStatus),e.xp6(1),e.Q6J("ngIf",t.editorOptions.language&&t.codeEditorStatus),e.xp6(1),e.Q6J("ngIf",t.api),e.xp6(1),e.Q6J("ngIf",t.api),e.xp6(1),e.Q6J("ngIf",t.api&&!t.authType),e.xp6(1),e.Q6J("ngIf",t.api&&"bearer token"===t.authType),e.xp6(1),e.Q6J("ngIf",t.api&&"basic auth"===t.authType),e.xp6(1),e.Q6J("ngIf",t.api&&"basic auth"===t.authType),e.xp6(1),e.Q6J("ngIf",t.api),e.xp6(1),e.Q6J("ngIf",t.api),e.xp6(1),e.Q6J("ngIf",t.api),e.xp6(1),e.Q6J("ngIf",t.api),e.xp6(1),e.Q6J("ngIf",t.api),e.xp6(1),e.Q6J("ngIf",t.jsonList&&t.jsonList.length>0&&t.api),e.xp6(1),e.Q6J("ngIf",t.isLink),e.xp6(1),e.Q6J("ngIf",t.isLink),e.xp6(1),e.Q6J("ngIf",t.isLink),e.xp6(1),e.Q6J("ngIf",t.isLink),e.xp6(1),e.Q6J("ngIf",t.isLink),e.xp6(2),e.Q6J("ngIf",(null==t.getSingleDocument||null==t.getSingleDocument.data||null==t.getSingleDocument.data.the_createDocument||null==t.getSingleDocument.data.the_createDocument.createdByEmail?null:t.getSingleDocument.data.the_createDocument.createdByEmail.includes(null==t.userId.email?null:t.userId.email.toString()))||t.assignUserStatus)}}function OT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"th")(1,"input",223),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onbulkCheckboxChange(r))}),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.isBulkChecked)}}function NT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"a",108),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.listSingleDocument(r.id))}),e.TgZ(1,"span",44),e._uU(2," Edit "),e.qZA()()}}function UT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",231),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3),l=e.MAs(4);return e.KtG(s.openWindowCustomClass(l,null==r?null:r.id))}),e.TgZ(1,"span",44),e._uU(2," Delete "),e.qZA()()}}function jT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",224),e.NdJ("ngModelChange",function(r){const l=e.CHM(t).$implicit;return e.KtG(l.checked=r)})("change",function(r){const l=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.onSingleCheckboxChange(r,l))}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",225),e._uU(6),e.qZA(),e.TgZ(7,"td",225),e._uU(8),e.qZA(),e.TgZ(9,"td",226),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td",227)(16,"a",228),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3),a=e.MAs(6);return e.KtG(l.openXl(a,null==s||null==s.data?null:s.data.the_createDocument,s.id))}),e.TgZ(17,"span",44),e._uU(18," visibility "),e.qZA()(),e.YNc(19,NT,3,0,"a",229),e.YNc(20,UT,3,0,"button",230),e.qZA()()}if(2&o){const t=i.$implicit,n=i.index,r=e.oxw(3);e.xp6(2),e.Q6J("ngModel",t.checked),e.xp6(2),e.Oqu(n+1),e.xp6(2),e.hij(" ",t.data.the_createDocument.docTitle," "),e.xp6(2),e.hij(" ",null==t.data.the_createDocument?null:t.data.the_createDocument.types," "),e.xp6(2),e.hij(" ",null==t.data.the_createDocument?null:t.data.the_createDocument.createdByEmail," "),e.xp6(2),e.hij(" ",r.formatDate(null==t?null:t.created_at)," "),e.xp6(2),e.hij(" ",null==t.data.the_createDocument?null:t.data.the_createDocument.updateByEmail," "),e.xp6(5),e.Q6J("ngIf",(null==t||null==t.data?null:t.data.the_createDocument)&&(null==t||null==t.data||null==t.data.the_createDocument||null==t.data.the_createDocument.assignedUserId?null:t.data.the_createDocument.assignedUserId.includes(null==r.userId.userConcept?null:r.userId.userConcept.toString()))||(null==t||null==t.data?null:t.data.the_createDocument)&&(null==t||null==t.data||null==t.data.the_createDocument||null==t.data.the_createDocument.createdByEmail?null:t.data.the_createDocument.createdByEmail.includes(null==r.userId||null==r.userId.email?null:r.userId.email.toString()))),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.data?null:t.data.the_createDocument)&&(null==t||null==t.data||null==t.data.the_createDocument||null==t.data.the_createDocument.assignedUserId?null:t.data.the_createDocument.assignedUserId.includes(r.userId.userConcept.toString()))||(null==t||null==t.data?null:t.data.the_createDocument)&&(null==t||null==t.data||null==t.data.the_createDocument||null==t.data.the_createDocument.createdByEmail?null:t.data.the_createDocument.createdByEmail.includes(null==r.userId?null:r.userId.email.toString())))}}function RT(o,i){if(1&o&&(e.ynx(0),e.YNc(1,jT,21,9,"tr",77),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.getAllDocuments)}}function FT(o,i){1&o&&(e.TgZ(0,"tr",232)(1,"td",233)(2,"p"),e._uU(3,"No data found..."),e.qZA()()())}const qT=function(){return[2,5,10]};function JT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",217)(1,"div",218)(2,"table",219)(3,"thead")(4,"tr"),e.YNc(5,OT,2,1,"th",47),e.TgZ(6,"th"),e._uU(7,"Sn"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Title"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Type"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Created By"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Created Date"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Last Updated By"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Actions"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,RT,2,1,"ng-container",49),e.YNc(22,FT,4,0,"ng-template",null,220,e.W1O),e.qZA()()(),e.TgZ(24,"div",221)(25,"div",18)(26,"mat-paginator",222),e.NdJ("page",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.handlePageEvent(r))}),e.qZA()()()()}if(2&o){const t=e.MAs(23),n=e.oxw();e.xp6(5),e.Q6J("ngIf",(null==n.getAllDocuments?null:n.getAllDocuments.length)>0),e.xp6(16),e.Q6J("ngIf",(null==n.getAllDocuments?null:n.getAllDocuments.length)>0)("ngIfElse",t),e.xp6(5),e.Q6J("length",5)("pageSize",5)("showFirstLastButtons",!0)("pageSizeOptions",e.DdM(8,qT))("pageIndex",n.currentPage)}}let LT=(()=>{const i=class{constructor(n,r,s,l,a,c,d){this._snackbarService=n,this._nodeService=r,this._projectService=s,this.sanitizer=l,this.formBuilder=a,this.itemService=c,this._activatedRoute=d,this.loading=!1,this.html="",this.getSingleDocument="",this.modalService=(0,e.f3M)(k.FF),this.filterObj={page:"",limit:""},this.api=!1,this.selectedFile=null,this.imageUrl=null,this.jsonList=[],this.jsonKeyValuePair=[],this.newComment={commentText:"",profilePic:"https://via.placeholder.com/50",urls:[""],bulkImages:[],images:[]},this.listComment=[],this.showUrlField=!1,this.imagePreviews=[],this.commentUpdateButton=!1,this.editorOptions={theme:"vs-dark",language:"javascript",automaticLayout:!0},this.code="//write your code here",this.codeEditorStatus=!1,this.isLink=!1,this.isChecked=!1,this.isBulkChecked=!1,this.docsIdBulk=[],this.isFolderChange=!1,this.options=[],this.formHideShow=!1,this.tableHideShow=!0,this.arrayOfObj={},this.exportDoc=!1,this.docurls=[],this.newUrl="",this.dragAndDropImages=[],this.dragAndDropImagePreviews=[],this.selectedImage=[],this.previewImage=null,this.imageDescriptions=[],this.projectUsers=[],this.assignedUsers=[],this.assignUserStatus=!1,this.searchTerm="",this.filteredResults=[],this.searchResults=[],this.selectedImageIndex=0,this.isSubmit=!1,this.exportAsList=[{title:"Word",code:"docx"},{title:"Text",code:"txt"}],this.fileTypes=[{id:"doc",name:"Document",format:"doc"},{id:"html",name:"Html",format:"html"},{id:"txt",name:"Text",format:"txt"}],this.types=[{id:"api",name:"API"},{id:"function",name:"Class or Function"},{id:"images and links",name:"Images & Links"}],this.methodTypes=[{id:"get",name:"GET"},{id:"post",name:"POST"},{id:"put",name:"PUT"},{id:"update",name:"UPDATE"},{id:"patch",name:"PATCH"}],this.codeEditorType=[{id:"java",name:"Java"},{id:"javascript",name:"JavaScript"},{id:"typescript",name:"TypeScript"},{id:"python",name:"Python"},{id:"csharp",name:"C#"},{id:"html",name:"HTML"},{id:"ruby",name:"Ruby"}],this.authTypes=[{id:"no auth",name:"None"},{id:"bearer token",name:"Bearer Token"},{id:"basic auth",name:"Basic Auth"}],this.currentPage=0,this.pageLength=10}ngOnInit(){var n=this;return(0,y.Z)(function*(){n.documentForm=yield new g.cw({content:new g.NI("",[g.kI.required]),types:new g.NI("",[g.kI.required]),methodTypes:new g.NI(""),isFolder:new g.NI(""),isSubFolder:new g.NI(""),codeEditorlang:new g.NI(""),codeEditor:new g.NI(""),desAboutReturnOpt:new g.NI(""),url:new g.NI(""),docUrl:new g.NI(""),authType:new g.NI(""),bearer_token:new g.NI(""),basicAuthUserName:new g.NI(""),basicAuthpassword:new g.NI(""),jsonKey:new g.NI(""),jsonValue:new g.NI("")}),n.exportAsFormField=new g.cw({docName:new g.NI("",[g.kI.required]),docFormat:new g.NI("",[g.kI.required])}),n.projectId=n.projectData,n.editors=new oe.ML,yield n._activatedRoute.queryParams.subscribe(s=>{n.listAllDocuments(s.docid)}),yield n.onFileSelected,yield n.onChanges();const r=localStorage.getItem("profile");n.userId=JSON.parse(r),yield n._projectService.getProjectUsers(n.projectId).then(s=>{const l=s?.filter(a=>a.id==n.userId.userConcept);n.userProfile=l[0],n.projectUsers=s,n.projectUsers=s?.filter(a=>a.id!==n.userId.userConcept)}).catch(s=>console.error(s))})()}onFileSelected(n){(n.target.files||n.target.files[0])&&(n.target.files[0]?.size/1024>2e3?this._snackbarService.openSnackBar("File size must be less than 2mb","warning"):(this.image=n.target.files[0],this.selectedFile=n.target.files[0],this.preview()))}preview(){if(!this.selectedFile)return;const n=new FileReader;n.readAsDataURL(this.selectedFile),n.onload=()=>{this.imageUrl=n.result}}onDeleteImage(){this.selectedFile=null,this.imageUrl=null,this.getSingleDocument=null,this.fileInput&&(this.fileInput.nativeElement.value="")}listAllDocuments(n){this.loading=!0,this._nodeService.getDocuments(this.projectId,this.filterObj).subscribe({next:r=>(this.loading=!1,this.folders=r.folders,this.getAllDocuments=r.data.filter(s=>s?.data?.the_createDocument),console.log(this.getAllDocuments,"myData"),n&&(this.getAllDocuments=r.data.filter(s=>s?.id==n)),!0)})}formatDate(n){const r=new Date(n),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()],a=r.getDate(),c=r.getFullYear();let d=r.getHours();const _=d>=12?"PM":"AM";return d=d%12||12,`${l} ${a} ${c} ${d}:${String(r.getMinutes()).padStart(2,"0")}${_}`}generateSelectOptions(n,r="",s=""){n.forEach(l=>{l?.data?.the_createDocument?.isSubFolder===r&&l?.data?.the_createDocument?.isFolder&&(this.options.push({id:l.id,title:`${s}${l?.data?.the_createDocument?.docTitle}`}),this.options.concat(this.generateSelectOptions(n,l.id.toString(),`${s}----`)))})}listSingleDocument(n){var r=this;return(0,y.Z)(function*(){var s;r.formHideShow=!0,r.tableHideShow=!1,r._nodeService.getOneDocument(n)?.subscribe({next:(s=(0,y.Z)(function*(l){r.getSingleDocument=l.data,r.jsonList=r.getSingleDocument?.data?.the_createDocument?.jsonList,l?.data?.data?.the_createDocument?.assignedUserId&&l?.data?.data?.the_createDocument?.assignedUserId?.map(a=>{r.assignedUsers.push(parseInt(a))})}),function(a){return s.apply(this,arguments)}),error:s=>{console.error("Error creating project:",s),r._snackbarService.openSnackBar('Error listing single Document: Document Doesn"t Exist Or Not Valid',"error"),window.scrollTo({top:0,behavior:"smooth"})}})})()}onSubmitDocument(){var n=this;if(this.loading=!0,this.loading=!1,!this.documentForm.valid)return;this.loading=!0;const r=new FormData;var s;r.append("docTitle",this.documentForm.value.docTitle??""),r.append("isFolder",this.documentForm.value.isFolder??""),r.append("isSubFolder",this.documentForm.value.isSubFolder??""),r.append("content",this.documentForm.value.content??""),r.append("types",this.documentForm.value.types??""),r.append("codeEditorlang",this.api?"":this.documentForm.value.codeEditorlang),r.append("codeEditor",this.api?"":this.documentForm.value.codeEditor),r.append("desAboutReturnOpt",this.api?"":this.documentForm.value.desAboutReturnOpt),r.append("methodTypes",this.api?this.documentForm.value.methodTypes:""),r.append("jsonList",JSON.stringify(this.jsonList)??""),r.append("authType",this.documentForm.value.authType??""),r.append("bearer_token",this.documentForm.value.bearer_token??""),r.append("basicAuthUserName",this.documentForm.value.basicAuthUserName??""),r.append("basicAuthpassword",this.documentForm.value.basicAuthUserName??""),r.append("url",this.documentForm.value.url??""),this._nodeService.createDocument(r,this.projectId).subscribe({next:(s=(0,y.Z)(function*(l){n.listAllDocuments(null),n.documentForm.reset(),n.documentForm.get("docTitle")?.markAsUntouched(),n.documentForm.get("docTitle")?.markAsPristine(),n.documentForm.get("docTitle")?.setErrors(null),n.selectedFile=null,n.imageUrl=null,n.fileInput&&(n.fileInput.nativeElement.value=""),n.loading=!1,n._snackbarService.openSnackBar(l.message,"success")}),function(a){return s.apply(this,arguments)}),error:s=>{console.warn(s),this.loading=!1,this._snackbarService.openSnackBar("Error creating Document: Document Already Exist Or Not Valid","error")}})}updateDocument(n){var r=this;this.loading=!0;const s=new FormData;var l;s.append("docTitle",this.documentForm.value.docTitle??""),s.append("isFolder",this.documentForm.value.isFolder??""),s.append("isSubFolder",this.documentForm.value.isSubFolder??""),s.append("content",this.documentForm.value.content??""),s.append("types",this.documentForm.value.types??""),s.append("methodTypes",this.api?this.documentForm.value.methodTypes:""),s.append("url",this.api?this.documentForm.value.url:""),s.append("codeEditorlang",this.api?"":this.documentForm.value.codeEditorlang),s.append("codeEditor",this.api?"":this.documentForm.value.codeEditor),s.append("desAboutReturnOpt",this.api?"":this.documentForm.value.desAboutReturnOpt),s.append("authType",this.documentForm.value.authType??""),s.append("bearer_token",this.documentForm.value.bearer_token??""),s.append("basicAuthUserName",this.documentForm.value.basicAuthUserName??""),s.append("basicAuthpassword",this.documentForm.value.basicAuthUserName??""),s.append("jsonList",JSON.stringify(this.jsonList)??""),this._nodeService.updateDocumentMgmt(n,s).subscribe({next:(l=(0,y.Z)(function*(a){r.getSingleDocument=a.data,yield r.listAllDocuments(null),r.documentForm.reset(),r.imageUrl=null,r.getSingleDocument=null,r.fileInput&&(r.fileInput.nativeElement.value=""),r.documentForm.get("docTitle")?.markAsUntouched(),r.documentForm.get("docTitle")?.markAsPristine(),r.documentForm.get("docTitle")?.setErrors(),r.loading=!1,r._snackbarService.openSnackBar(a.message,"success"),window.location.reload()}),function(c){return l.apply(this,arguments)}),error:l=>{console.warn("Error Updating Document:",l),this.loading=!1,this._snackbarService.openSnackBar("Error Error Updating Document:Updating Document Or Not Valid","error")}})}deleteDocument(n){var s,r=this;this.loading=!0,this._nodeService.deleteDocument(n).subscribe({next:(s=(0,y.Z)(function*(l){r.loading=!1,r._snackbarService.openSnackBar(l.message,"success"),yield r.listAllDocuments(null)}),function(a){return s.apply(this,arguments)}),error:s=>{console.warn(s),this.loading=!1,this._snackbarService.openSnackBar("Error Deleteing Document: Not Valid","error")}})}downloadDocument(n){var s,r=this;this.loading=!0,this._nodeService.downloadDocument(n).subscribe({next:(s=(0,y.Z)(function*(l){if(l.data){const a=document.createElement("a");a.href=l.data,a.target="_blank",a.download="filename.pdf",a.click(),URL.revokeObjectURL(l.data),r.loading=!1,r._snackbarService.openSnackBar(l.message,"info")}else r._snackbarService.openSnackBar("Download Failed","error")}),function(a){return s.apply(this,arguments)}),error:s=>{console.error("Error downloading document:",s),this._snackbarService.openSnackBar("Error Downloading Document","error")}})}openWindowCustomClass(n,r){this.modalService.open(n,{windowClass:"dark-modal"}),this.documentId=r}openBackDropCustomClass(n){this.modalService.open(n,{backdropClass:"light-blue-backdrop"})}formStatus(n){this.formHideShow=n,this.tableHideShow=!n,this.assignUserStatus=n}openXl(n,r,s){var l=this;return(0,y.Z)(function*(){l.modalService.open(n,{size:"xl"});const a=r?.codeEditor||"";if(l.obj=a?{data:r,paramsArray:a,docId:s}:{data:r,docId:s},r&&r?.jsonList){const d=[r.jsonList.reduce((u,_)=>(u[_.jsonKey]=_.jsonValue,u),{})];l.stringify=JSON.stringify(d,null,"\t")}yield l.getAllDocumentCommentByDocId()})()}handlePageEvent(n){this.currentPage=n.pageIndex,this.filterObj.page=n.pageIndex?n.pageIndex+1:n.previousPageIndex,this.filterObj.limit=n?.pageSize,this.listAllDocuments(null)}addJsonValue(){if(this.documentForm?.value.jsonKey&&this.documentForm?.value.jsonValue){this.jsonList?.push({id:this.jsonList?.length,jsonKey:this.documentForm?.value?.jsonKey,jsonValue:this.documentForm.value?.jsonValue});const n=this.documentForm?.value?.jsonKey;this.arrayOfObj[n]=this.documentForm?.value.jsonValue,this.jsonKeyValuePair=[this.arrayOfObj],this.documentForm.get("jsonKey")?.reset(),this.documentForm.get("jsonValue")?.reset()}}delJsonValue(n){this.jsonList=this.jsonList.filter(r=>r.id!=n)}onChanges(){this.documentForm?.valueChanges.subscribe(n=>{"function"===n.types?(this.codeEditorStatus=!0,this.api=!1,this.isLink=!1,this.jsonList=[]):"api"===n.types?(this.api=!0,this.codeEditorStatus=!1,this.isLink=!1):"images and links"===n.types?(this.isLink=!0,this.api=!1,this.codeEditorStatus=!1):(this.api=!1,this.codeEditorStatus=!1,this.isLink=!1),this.authType="bearer token"===n?.authType?"bearer token":"basic auth"===n.authType?"basic auth":null})}onChangelang(n){const r=n.target.value.slice(3,n.target.value.length);this.editorOptions={...this.editorOptions,language:r}}resetForm(){this.tableHideShow=!0,this.formHideShow=!1,this.documentForm.reset(),this.documentForm.value.docTitle&&(this.documentForm.control.markAsUntouched(),this.documentForm.control.markAsPristine(),this.documentForm.control.setErrors())}cancel(){this.tableHideShow=!0,this.formHideShow=!1,this.isBulkChecked=!1,this.isChecked=!1,this.documentForm.reset(),this.getSingleDocument=null,this.assignUserStatus=!1}onbulkCheckboxChange(n){this.tableHideShow=!0,this.formHideShow=!1,this.isBulkChecked=n.target.checked,this.docsIdBulk=[],this.getAllDocuments.forEach(r=>{r.checked=this.isBulkChecked,this.isBulkChecked&&this.docsIdBulk.push(r.id)})}onSingleCheckboxChange(n,r){if(this.isChecked=n.target.checked,this.isChecked)this.docsIdBulk.push(r.id);else{const s=this.docsIdBulk.indexOf(r.id);s>-1&&this.docsIdBulk.splice(s,1)}this.isChecked=this.docsIdBulk.length>0,this.isBulkChecked=this.getAllDocuments.every(s=>s.checked)}exportDocumentAs(){this.exportAsFormField.value.docName?(this.exportDoc=!0,this._snackbarService.openSnackBar("Downloading documents","info"),this.loading=!0,this.docsIdBulk.map(n=>{this._nodeService.exportDocumentAs(n,this.exportAsFormField.value).subscribe({next:r=>{r.data?fetch(r.data).then(s=>s.blob()).then(s=>{const l=window.URL.createObjectURL(s),a=document.createElement("a");a.style.display="none",document.body.appendChild(a),a.href=l,a.download=this.exportAsFormField.value.docName+"."+this.exportAsFormField.value.docFormat,a.click(),window.URL.revokeObjectURL(l),document.body.removeChild(a),this.loading=!1,this.modalService.dismissAll(),this.exportDoc=!0}).catch(s=>{console.error("Error downloading file:",s),this.exportDoc=!1}):(this._snackbarService.openSnackBar("Download Failed","error"),this.loading=!1,this.exportDoc=!1)},error:r=>{console.error("Error downloading document:",r),this._snackbarService.openSnackBar("Error Downloading Document","error")}})})):this._snackbarService.openSnackBar("Error in Name","error")}checkIsFolder(n){this.isFolderChange=n.target.checked}get getCodeEditor(){return this.getSingleDocument?.data?.the_createDocument.codeEditor||""}set getCodeEditor(n){this.getSingleDocument&&this.getSingleDocument.data&&(this.getSingleDocument.data.the_createDocument.codeEditor=n)}onImgFileSelected(n){var r=this;return(0,y.Z)(function*(){r.loading=!0;const s=n.target.files;if(s){const l=new FormData;Array.from(s).forEach(c=>{l.append("Images",c)});const a={method:"POST",body:l,redirect:"follow"};yield fetch(fn.N.baseUrl+"/Image/upload_image_bulk",a).then(c=>c.text()).then(c=>{const d=JSON.parse(c);r.newComment.bulkImages=[...new Set([...r.newComment.bulkImages,...d.data])]}).catch(c=>console.error(c)),r.loading=!1,r.newComment.images=[],Array.from(s).forEach(c=>{const d=new FileReader,u=new FileReader;u.onload=_=>{r.imagePreviews.push(_.target.result),r.newComment.images.push(_.target.result)},u.readAsDataURL(c),d.readAsArrayBuffer(c)})}})()}addComment(){var n=this;return(0,y.Z)(function*(){if(n.newComment.commentText.trim()){n.loading=!0,n.isSubmit=!0;const r={the_documentComment:{fullname:n.userProfile.firstName+" "+n.userProfile.lastName,profileImage:n.userProfile.profileImg,commentText:n.newComment.commentText,urls:[...n.newComment.urls.filter(s=>s.trim())],bulkImages:n.newComment.bulkImages,userConcept:n.userId.userConcept}};try{const s=yield(0,T.J0M)(n.obj.docId),l=yield(0,T.joo)(r,void 0,void 0,void 0,n.userId.theUserId,4);yield(0,T.GIn)(s,l,"my_console"),yield T.smK.SyncDataOnline(),n.loading=!1,n.isSubmit=!1,n.getAllDocumentCommentByDocId(),n._snackbarService.openSnackBar("comment create successful","success")}catch{n.loading=!1,n._snackbarService.openSnackBar("failed to create comment","error")}n.newComment={commentText:"",profilePic:"https://via.placeholder.com/50",urls:[""],bulkImages:[],images:[]},n.imagePreviews=[],n.showUrlField=!1}})()}removeImage(n){this.imagePreviews.splice(n,1),this.newComment.images.splice(n,1),this.newComment.bulkImages.splice(n,1)}toggleUrlField(){this.showUrlField=!this.showUrlField}addUrl(){this.newComment.urls.push("")}removeUrl(n){this.newComment.urls.splice(n,1)}trackByIndex(n){return n}openPreviewModal(n){this.previewImage=n}closePreviewModal(){this.previewImage=null}dateAndTimeFormat(n){return new Date(n).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})}onDropZoneClick(){document.getElementById("fileInput").click()}onFilesSelected(n){const r=n.target.files;r&&this.handleFiles(r)}onDragOver(n){n.preventDefault(),document.getElementById("dropZone")?.classList.add("dragover")}onDragLeave(){document.getElementById("dropZone")?.classList.remove("dragover")}onDrop(n){n.preventDefault(),document.getElementById("dropZone")?.classList.remove("dragover");const s=n.dataTransfer?.files;s&&this.handleFiles(s)}handleFiles(n){Array.from(n).forEach(r=>{const s=new FileReader;s.onload=l=>{if(this.dragAndDropImagePreviews.push(l.target.result),this.getSingleDocument&&this.getSingleDocument.data.the_createDocument.imagesUrl){const a=this.getSingleDocument.data.the_createDocument.imagesUrl;this.imgUrlIndex=a.length,a.push(l.target.result)}},s.readAsDataURL(r)})}deleteImage(n){this.dragAndDropImagePreviews?.splice(n,1),this.getSingleDocument?.data?.the_createDocument?.imagesUrl?.splice(n,1)}addDocUrl(){this.getSingleDocument?.data?.the_createDocument?.docUrl?this.getSingleDocument.data.the_createDocument.docUrl.push(this.newUrl.trim()):""==this.getSingleDocument?.data?.the_createDocument?.docUrl&&(this.getSingleDocument.data.the_createDocument.docUrl=[this.newUrl.trim()]),this.newUrl.trim()&&(this.docurls.push(this.newUrl.trim()),this.newUrl="")}deleteUrl(n){this.docurls.splice(n,1),this.getSingleDocument?.data?.the_createDocument?.docUrl?.splice(n,1)}showFolderUploadModal(n,r){var s=this;return(0,y.Z)(function*(){s.documentForm.value.docUrl=s.docurls;const l=yield s.generateFileList(),a=new FormData;Array.from(l).forEach(d=>{a.append("Images",d)});const c={method:"POST",body:a,redirect:"follow"};if(yield fetch(fn.N.baseUrl+"/Image/upload_image_bulk",c).then(d=>d.text()).then(d=>{const u=JSON.parse(d);if(s.imgUrlIndex){const _=s.getSingleDocument.data.the_createDocument?.imagesUrl;_[s.imgUrlIndex]=u.data}else s.getSingleDocument?.data?.the_createDocument?.imagesUrl&&u?.data?.length>0?s.getSingleDocument.data.the_createDocument?.imagesUrl.push(u.data[0]):""==s.getSingleDocument?.data?.the_createDocument?.imagesUrl?s.getSingleDocument.data.the_createDocument.imagesUrl=u.data:s.documentForm.value.imagesUrl=u.data}).catch(d=>console.error(d)),s.documentForm.valid){const d=s.modalService.open(Fl.f,{size:"lg"});d.componentInstance.upload=!1,d.componentInstance.isdoc=!0,s.documentForm.value.jsonList=s.jsonList,s.documentForm.value.assignedUserId=s.assignedUsers,s.documentForm.value.projectId=s.projectId,d.componentInstance.isdocValue=s.documentForm.value,d.componentInstance.singleDocValue=s.getSingleDocument,d.componentInstance.projectId=n,d.componentInstance.documentId=r,d.result.then(function(){var u=(0,y.Z)(function*(_){_&&(s.tableHideShow=!0,s.formHideShow=!1,s.documentForm.reset())});return function(_){return u.apply(this,arguments)}}())}})()}base64ToFile(n,r){const s=n.split(","),l=s[0].match(/:(.*?);/),a=l?l[1]:"application/octet-stream",c=atob(s[1]);let d=c.length;const u=new Uint8Array(d);for(;d--;)u[d]=c.charCodeAt(d);return new File([u],r,{type:a})}generateFileList(){const n=new DataTransfer;return this.dragAndDropImagePreviews.forEach((s,l)=>{const a=this.base64ToFile(s,`file${l+1}.jpeg`);n.items.add(a)}),n.files}isUserAlreadyAssigned(n){return this.assignedUsers.includes(n.id)}handleAddAssignedUser(n){this.isUserAlreadyAssigned(n)||this.assignedUsers.push(n.id)}getUserProfile(n){return this.projectUsers.find(r=>r.id===n)}removeAssignedUser(n){this.assignedUsers=this.assignedUsers.filter(r=>r!==n)}getAllDocumentCommentByDocId(){var n=this;return(0,y.Z)(function*(){n.listComment=yield(0,T.oKR)(n.obj.docId,"documentationComment_s"),console.log(n.listComment,"this.listComment2")})()}getSingleComment(n){var r=this;return(0,y.Z)(function*(){document.getElementById("leaveComment").scrollIntoView();const l=yield(0,T.EHb)([n]);r.commentId=n,r.newComment.commentText=l[0].data.the_documentComment.commentText,r.newComment.profilePic=l[0].data.the_documentComment.profileImage,r.newComment.urls=l[0].data.the_documentComment.urls,r.newComment.bulkImages=l[0].data.the_documentComment.bulkImages,r.imagePreviews=l[0].data.the_documentComment.bulkImages,r.showUrlField=!0,r.commentUpdateButton=!0})()}updateComment(n){var r=this;return(0,y.Z)(function*(){try{r.loading=!0,r.isSubmit=!0;const s=new T.MYZ;s.userId=r.userProfile?.userId,s.compositionId=n,s.patchObject={fullname:r.userProfile.firstName+" "+r.userProfile.lastName,commentText:r.newComment.commentText,urls:r.newComment.urls,bulkImages:r.newComment.bulkImages,profileImage:r.userProfile.profileImg},yield(0,T.hrH)(s),yield T.smK.SyncDataOnline(),r.loading=!1,r.isSubmit=!1,r._snackbarService.openSnackBar("comment edited successful","success"),r.commentUpdateButton=!1,r.newComment.commentText="",r.newComment.urls=[],r.newComment.bulkImages=[],r.imagePreviews=[],document.getElementById(n).scrollIntoView(),yield r.getAllDocumentCommentByDocId()}catch{r._snackbarService.openSnackBar("error to update Comment","error")}})()}deleteComment(n){var r=this;return(0,y.Z)(function*(){try{r.loading=!0,r.isSubmit=!0,yield(0,T.Ac7)(n),yield T.smK.SyncDataOnline(),r.loading=!1,r.isSubmit=!1,yield r.getAllDocumentCommentByDocId(),r._snackbarService.openSnackBar("comment deleted successful","success")}catch{r._snackbarService.openSnackBar("error to delete","error")}})()}cancelComment(){var n=this;return(0,y.Z)(function*(){n.commentUpdateButton=!1,n.newComment.commentText="",n.newComment.urls=[],n.newComment.bulkImages=[],n.imagePreviews=[]})()}onSearchChange(){this.searchTerm?this.filteredResults=this.getAllDocuments.filter(n=>n.data.the_createDocument.docTitle.toLowerCase().includes(this.searchTerm.toLowerCase())):(this.getAllDocuments=this.filteredResults,this.listAllDocuments(null),this.filteredResults=[])}selectSuggestion(n){this.searchTerm=`${n.data.the_createDocument.docTitle}`,this.getAllDocuments=[n],this.filteredResults=[]}openCarouselModal(n,r){this.selectedImageIndex=r,this.modalService.open(n,{size:"xl",centered:!0})}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(Q.o),e.Y36(rt.s),e.Y36(L.Y),e.Y36(yn.H7),e.Y36(g.qu),e.Y36(lt.e),e.Y36(H.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-document-mgmt"]],viewQuery:function(r,s){if(1&r&&e.Gf(e2,5),2&r){let l;e.iGM(l=e.CRH())&&(s.fileInput=l.first)}},inputs:{projectData:"projectData"},features:[e._Bn([{provide:et,useClass:V0}])],decls:14,vars:6,consts:[["class","loading",4,"ngIf"],["export",""],["content",""],["viewDoc",""],["picture",""],["class","d-flex ms-4 mt-4",4,"ngIf"],["class","d-flex justify-content-end ms-4 mt-4",4,"ngIf"],["class","col-md-3 ms-4",4,"ngIf"],["class","d-flex",4,"ngIf"],["class","page-card",4,"ngIf"],[1,"loading"],[1,"loader"],[3,"formGroup"],["createExportASFormId","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],["formControlName","docName","id","docName","name","docName","type","text","placeholder","File name",1,"form-control"],[1,"row","mt-3"],["formControlName","docFormat","name","docFormat",1,"form-control","form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],[1,"modal-body",2,"min-height","fit-content"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-title",2,"text-align","center"],["class","modal-body",4,"ngIf"],[1,"modal-body","p-0"],["id","leaveComment",1,"card","mb-4"],[1,"card-body"],[1,"card-title"],[1,"d-flex"],["alt","User Profile Picture","width","50","height","50",1,"rounded-circle","me-3",3,"src"],[1,"flex-grow-1"],[1,"form-group","mb-3"],["rows","1","placeholder","Write your comment here...",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mb-3","d-flex","gap-2"],["title","Update cover image","for","project_attachment"],["role","button","title","Add attachment",1,"btn","btn-light","btn-sm","px-2","py-1"],[1,"material-symbols-outlined"],["id","project_attachment","type","file","accept",".png, .jpg, .jpeg","multiple","",1,"d-none",3,"change"],["role","button","title","Add Web Link",1,"btn","btn-light","btn-sm","px-2","py-1",3,"click"],[4,"ngIf"],["class","mb-3",4,"ngIf"],[4,"ngIf","ngIfElse"],["submit",""],[1,"comments-section","mt-4"],[1,"list-group"],["class","list-group-item",4,"ngIf","ngIfElse"],["noComments",""],[1,"container"],["id","function1"],[3,"innerHTML"],[2,"color","black"],["id","introduction"],["id","endpoints"],[1,"endpoint"],[2,"color","red"],[3,"href"],["id","authentication"],["style","overflow: scroll",4,"ngIf"],[2,"overflow","scroll"],[1,"col-md-8"],["class","col-md-6 image-container",4,"ngFor","ngForOf"],[1,"col-md-4"],["class","list-group",4,"ngFor","ngForOf"],["carousel",""],[1,"col-md-6","image-container"],[1,"card"],[1,"img-fluid","card-img-top",3,"src","alt","click"],[1,"list-group-item","list-group-item-action","link-item",3,"href"],[3,"activeId"],[4,"ngFor","ngForOf"],["ngbSlide","",3,"id"],[1,"d-block","w-100",3,"src","alt"],["class","form-group mb-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","m-0"],[1,"col-8"],["type","url","placeholder","Enter a URL",1,"form-control","mb-2",3,"ngModel","ngModelChange"],[1,"col-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"mb-3"],[1,"d-flex","flex-wrap"],["class","position-relative me-2 mb-2",4,"ngFor","ngForOf"],[1,"position-relative","me-2","mb-2"],["alt","Image Preview","width","150","height","150",1,"img-thumbnail",3,"src"],[1,"btn","btn-sm","btn-danger","position-absolute","top-0","end-0","px-1","py-1","m-0",2,"transform","translate(25%, -25%)",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-secondary","ms-3",3,"click"],[1,"list-group-item"],["class","d-flex align-items-start",3,"id",4,"ngFor","ngForOf"],[1,"d-flex","align-items-start",3,"id"],[1,"mt-2"],["class","m-0",4,"ngIf"],[1,"mt-2","d-flex","justify-content-between"],["class","d-flex align-items-center justify-content-start",4,"ngIf"],["class","modal fade show bd-example-modal-lg","style","display: block","tabindex","-1","aria-labelledby","imagePreviewModalLabel","aria-modal","true","role","dialog",4,"ngIf"],[1,"m-0"],["target","_blank",3,"href"],["class","img-thumbnail me-2 mb-2","width","100","height","100","style","cursor: pointer",3,"src","click",4,"ngFor","ngForOf"],["width","100","height","100",1,"img-thumbnail","me-2","mb-2",2,"cursor","pointer",3,"src","click"],[1,"d-flex","align-items-center","justify-content-start"],["ngbTooltip","Update",1,"btn-top_header","d-flex","align-items-center","justify-content-center",3,"click"],["ngbTooltip","delete",1,"btn-top_header","link-danger","d-flex","align-items-center","justify-content-center",3,"click"],["tabindex","-1","aria-labelledby","imagePreviewModalLabel","aria-modal","true","role","dialog",1,"modal","fade","show","bd-example-modal-lg",2,"display","block"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],["id","imagePreviewModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["alt","Preview Image",1,"img-fluid",3,"src"],["alt","Selected Image",1,"card-img-top",3,"src"],[1,"d-flex","ms-4","mt-4"],[1,"d-flex","justify-content-end","ms-4","mt-4"],[1,"col-md-3","ms-4"],["placeholder","Search by Document Name",1,"form-control","mt-3",3,"ngModel","ngModelChange","input"],["class","autocomplete-items",4,"ngIf"],[1,"autocomplete-items"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["id","documentationForm",1,"row","g-3",3,"formGroup"],["createDocument","ngForm"],[1,"row","align-items-center"],["class","col-4 order-last",4,"ngIf"],[1,"row","g-3","align-items-center"],["class","col-12",4,"ngIf"],["class","col-6",4,"ngIf"],["class","col-6 mt-3",4,"ngIf"],["class","col-6 mt-6",4,"ngIf"],["class","col-3 mt-3",4,"ngIf"],["class","col-3",4,"ngIf"],[1,"col-12"],["class","col-md-3",4,"ngIf"],[1,"col-4","order-last"],[1,"btn-group","me-3"],["ngbDropdown","","role","group","aria-label","Button group with nested dropdown",1,"btn-group"],["role","button",1,"btn","btn-primary",3,"click"],["for","formFile",1,"form-label"],[1,"NgxEditor__Wrapper"],[3,"editor"],["formControlName","content",3,"editor","ngModel","disabled","placeholder"],["style","color: red",4,"ngIf"],[1,"col-6"],["for","types",1,"form-label"],["placeholder","Type","formControlName","types",1,"form-control",3,"ngModel"],["value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"col-6","mt-3"],["formControlName","codeEditorlang","placeholder","choose Language",1,"form-control",3,"ngModel","change"],["value",""],["formControlName","codeEditor",3,"options","ngModel","ngModelChange"],["formControlName","desAboutReturnOpt","name","desAboutReturnOpt","placeholder","write description here...",1,"form-control",3,"ngModel"],["for","basic-url",1,"form-label"],[1,"col-3","mt-1"],["placeholder","Method","formControlName","methodTypes",1,"form-control",3,"ngModel"],[1,"col-9","mt-1"],["type","text","placeholder","https://boomconsole.com/projects/","formControlName","url","name","url","aria-label","Text input with dropdown button",1,"form-control",3,"ngModel"],["formControlName","authType",1,"form-control",3,"ngModel"],[1,"col-6","mt-6"],["id","myTextArea","formControlName","bearer_token","name","myTextArea","placeholder","Enter text here...",1,"form-control",3,"ngModel"],[1,"col-3","mt-3"],["placeholder","UserName","type","text","formControlName","basicAuthUserName","name","userName",1,"form-control",3,"ngModel"],["type","password","formControlName","basicAuthpassword","name","password","placeholder","password",1,"form-control",3,"ngModel"],[1,"col-3"],["formControlName","jsonKey","placeholder","key","type","text","id","formkey","name","key",1,"form-control"],["formControlName","jsonValue","placeholder","value","type","text","id","formjsonValue","name","jsonValue",1,"form-control"],["type","button",1,"btn","btn-primary","mt-4",3,"click"],["class","d-flex gap-1",4,"ngFor","ngForOf"],[1,"d-flex","gap-1"],[1,"col-3","mt-2"],["type","text","name","jsonKey",1,"form-control",3,"value","disabled"],["type","text","name","jsonValue",1,"form-control",3,"value","disabled"],[1,"card",2,"background-color","black"],[2,"color","white"],[2,"color","aqua"],[2,"color","brown"],[1,"mt-3"],[1,"input-group","mb-3"],["type","text","formControlName","docUrl","placeholder","Enter URL",1,"form-control",3,"ngModel","ngModelChange"],["id","urlList"],["class","list-group",4,"ngIf","ngIfElse"],["noUpdate",""],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-danger","btn-sm",3,"click"],["id","dropZone",1,"drop-zone","mb-3",3,"click","dragover","dragleave","drop"],["id","fileInput","type","file","multiple","","accept","image/*","hidden","",1,"form-control",3,"change"],["id","imagePreview","class","image-preview row",4,"ngIf","ngIfElse"],["id","imagePreview",1,"image-preview","row"],["class","col-md-3 w-auto",4,"ngFor","ngForOf"],[1,"col-md-3","w-auto"],[1,"position-relative","card","mb-3"],["alt","Preview",1,"img-fluid",3,"src"],[1,"btn","btn-danger","btn-sm","position-absolute","top-0","end-0","m-2",3,"click"],[1,"col-md-3"],["ngbDropdown","",3,"autoClose"],["id","assignee","ngbDropdownToggle","",1,"form-control","hide-dropdown-toggle","form-select","form-select-sm","px-2","py-1","shadow-none","w-full","text-start"],["ngbDropdownMenu","","aria-labelledby","assignee"],["noUsers",""],["ngbDropdownItem","","class","px-2 d-flex align-items-center gap-1",3,"disabled","click",4,"ngFor","ngForOf"],["ngbDropdownItem","",1,"px-2","d-flex","align-items-center","gap-1",3,"disabled","click"],["width","30px","height","30px","style","border-radius: 50%","class","avatar",3,"src","alt",4,"ngIf","ngIfElse"],["noAvatar",""],["width","30px","height","30px",1,"avatar",2,"border-radius","50%",3,"src","alt"],["src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp","alt","Profile Image",1,"avatar"],[2,"padding","11px"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","gap-1"],["role","button","title","Remove User",1,"p-1",3,"click"],[1,"material-symbols-outlined","h6","mb-0","text-danger"],["width","30px","height","30px","src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp","alt","Profile Image",1,"avatar",2,"border-radius","50%"],[1,"page-card"],[1,"table-responsive"],["width","100%",1,"table","fixed-layout"],["notFound",""],[1,"pagination","mt-3"],[3,"length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex","page"],["id","select-all","type","checkbox",3,"checked","change"],["type","checkbox","name","docDownload",1,"item-checkbox",3,"ngModel","ngModelChange","change"],[1,"text-capitalize"],["width","20%"],[1,"d-flex","flex-row"],["ngbTooltip","View Details",1,"btn-top_header","d-flex","align-items-center","justify-content-center",3,"click"],["class","btn-top_header d-flex align-items-center justify-content-center","ngbTooltip","Update",3,"click",4,"ngIf"],["class","btn-top_header link-danger d-flex align-items-center justify-content-center","type","button","ngbTooltip","Delete",3,"click",4,"ngIf"],["type","button","ngbTooltip","Delete",1,"btn-top_header","link-danger","d-flex","align-items-center","justify-content-center",3,"click"],[1,"'fdasda"],["colspan","5"]],template:function(r,s){1&r&&(e.YNc(0,t2,2,0,"div",0),e.YNc(1,o2,24,4,"ng-template",null,1,e.W1O),e.YNc(3,r2,12,0,"ng-template",null,2,e.W1O),e.YNc(5,Z2,43,12,"ng-template",null,3,e.W1O),e.YNc(7,E2,7,1,"ng-template",null,4,e.W1O),e.YNc(9,P2,3,0,"div",5),e.YNc(10,O2,3,0,"div",6),e.YNc(11,j2,3,2,"div",7),e.YNc(12,PT,31,26,"div",8),e.YNc(13,JT,27,9,"div",9)),2&r&&(e.Q6J("ngIf",s.loading),e.xp6(9),e.Q6J("ngIf",!s.formHideShow&&s.isBulkChecked||s.isChecked),e.xp6(1),e.Q6J("ngIf",!s.formHideShow),e.xp6(1),e.Q6J("ngIf",!s.formHideShow),e.xp6(1),e.Q6J("ngIf",s.formHideShow),e.xp6(1),e.Q6J("ngIf",s.tableHideShow))},dependencies:[I.sg,I.O5,g._Y,g.YN,g.Kr,g.Fj,g.Wl,g.EJ,g.JJ,g.JL,g.On,g.sg,g.u,k.uo,k.xl,k.jt,k.iD,k.Vi,k.TH,k._L,oe.tP,oe.Mn,G0,Ll],styles:["ngx-monaco-editor[_ngcontent-%COMP%]{height:250px;width:100%}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2em}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;text-align:center;margin-top:20px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline;margin-right:10px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#666}section[_ngcontent-%COMP%]{background-color:#fff;margin-bottom:20px;padding:20px;border-radius:5px;box-shadow:0 2px 5px #0000001a}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;border-bottom:1px solid #ccc;padding-bottom:5px;margin-bottom:10px}section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2em}section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:10px}pre[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:10px;border-radius:5px;overflow-x:auto}code[_ngcontent-%COMP%]{font-family:Consolas,Monaco,Andale Mono,monospace}footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding:10px 0;background-color:#333;color:#fff}header[_ngcontent-%COMP%]{background-color:#333;color:#fff;text-align:center;padding:10px 0}main[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:20px;background-color:#fff;box-shadow:0 0 10px #0000001a}section[_ngcontent-%COMP%]{margin-bottom:20px}h2[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding-bottom:5px}h3[_ngcontent-%COMP%]{margin-top:10px}code[_ngcontent-%COMP%]{display:block;background-color:#f7f7f7;padding:10px;overflow-x:auto}pre[_ngcontent-%COMP%]{margin:0}.drop-zone[_ngcontent-%COMP%]{border:2px dashed #007bff;border-radius:5px;padding:30px;text-align:center;cursor:pointer}.drop-zone.dragover[_ngcontent-%COMP%]{background-color:#f8f9fa}.image-preview[_ngcontent-%COMP%]{margin-top:15px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;margin:10px}.card[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;border-radius:5px;overflow:hidden}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem}.position-absolute[_ngcontent-%COMP%]{top:0;right:0}button.btn-danger[_ngcontent-%COMP%]{font-size:1rem;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]{margin-bottom:20px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.image-description[_ngcontent-%COMP%]{text-align:center;margin-top:10px;font-style:italic}.link-item[_ngcontent-%COMP%]{margin-bottom:10px}.autocomplete-items[_ngcontent-%COMP%]{position:absolute;border:1px solid #d4d4d4;z-index:99;background-color:#fff;max-height:150px;overflow-y:auto;width:25%}.autocomplete-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px;cursor:pointer}.autocomplete-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#e9e9e9}"]}),o})();class BT{constructor(i,t){this._document=t;const n=this._textarea=this._document.createElement("textarea"),r=n.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",n.setAttribute("aria-hidden","true"),n.value=i,n.readOnly=!0,this._document.body.appendChild(n)}copy(){const i=this._textarea;let t=!1;try{if(i){const n=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),t=this._document.execCommand("copy"),n&&n.focus()}}catch{}return t}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let $i=(()=>{class o{constructor(t){this._document=t}copy(t){const n=this.beginCopy(t),r=n.copy();return n.destroy(),r}beginCopy(t){return new BT(t,this._document)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(I.K0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),HT=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({}),o})();const QT=["content"];function YT(o,i){1&o&&e._UZ(0,"img",37),2&o&&e.Q6J("src",i.$implicit.profileImg,e.LSH)}function GT(o,i){1&o&&e._UZ(0,"i",38)}function zT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"label")(2,"input",44),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.handleAddAssignedUser(s,l.singleDocsList))}),e.qZA(),e._UZ(3,"img",45),e.TgZ(4,"span"),e._uU(5),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Q6J("value",t.id)("checked",t.checked),e.xp6(1),e.Q6J("src",t.profileImg,e.LSH),e.xp6(2),e.AsE("",t.firstName," ",t.lastName,"")}}function VT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",40)(2,"h3"),e._uU(3,"Assignee"),e.qZA(),e.TgZ(4,"input",41),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.searchText=r)}),e.qZA()(),e.TgZ(5,"ul",42),e.YNc(6,zT,6,5,"li",43),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.searchText),e.xp6(2),e.Q6J("ngForOf",t.filteredAssignees(t.assigneesList,t.searchText))}}function WT(o,i){if(1&o&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function $T(o,i){1&o&&(e.TgZ(0,"div",65)(1,"div",13)(2,"div",52)(3,"label",24)(4,"strong"),e._uU(5,"Username"),e.qZA()()(),e.TgZ(6,"div",52)(7,"label",24)(8,"strong"),e._uU(9,"Password"),e.qZA()()()(),e.TgZ(10,"div",25)(11,"div",52)(12,"div",47),e._UZ(13,"input",66),e.qZA()(),e.TgZ(14,"div",52)(15,"div",47),e._UZ(16,"input",67),e.qZA()()()())}function KT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",68)(1,"div",58)(2,"div",59)(3,"div",47),e._UZ(4,"input",69),e.TgZ(5,"button",70),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.copyText(r.documentionForm.value.bearerToken))}),e._UZ(6,"i",71),e.qZA()()()()()}}const Bl=function(o){return{active:o}};function XT(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li",72)(1,"a",73),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.selectTab(s))}),e._UZ(2,"i",74),e._uU(3),e.qZA()()}if(2&o){const t=i.$implicit,n=i.index,r=e.oxw(3);e.xp6(1),e.MGl("id","",t.id,"-tab"),e.Q6J("ngClass",e.VKq(7,Bl,n===r.currentTab)),e.xp6(1),e.Tol(t.icon),e.Q6J("ngClass",e.VKq(9,Bl,n===r.currentTab)),e.xp6(1),e.hij(" ",t.title," ")}}function ey(o,i){if(1&o&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.key)}}const Hl=function(){return{standalone:!0}};function ty(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td")(1,"input",103),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.key=r)})("keyup.enter",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(5);return e.KtG(s.saveEdit(r))}),e.qZA()()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.key)("ngModelOptions",e.DdM(2,Hl))}}function ny(o,i){if(1&o&&(e.TgZ(0,"td")(1,"span"),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.value)}}function iy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"td")(1,"input",103),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.value=r)})("keyup.enter",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(5);return e.KtG(s.saveEdit(r))}),e.qZA()()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.value)("ngModelOptions",e.DdM(2,Hl))}}function oy(o,i){1&o&&(e.ynx(0),e._UZ(1,"i",104),e.BQk())}function ry(o,i){1&o&&e._UZ(0,"i",105)}function sy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr",96),e.NdJ("dragstart",function(){const s=e.CHM(t).$implicit,l=e.oxw(5);return e.KtG(l.onDragStart(s))})("dragend",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.onDragEnd())})("dragover",function(r){e.CHM(t);const s=e.oxw(5);return e.KtG(s.allowDrop(r))})("drop",function(){const s=e.CHM(t).$implicit,l=e.oxw(5);return e.KtG(l.onDrop(s))}),e.TgZ(1,"td",85),e._UZ(2,"input",81),e.qZA(),e.YNc(3,ey,2,1,"td",97),e.YNc(4,ty,2,3,"td",97),e.YNc(5,ny,3,1,"td",97),e.YNc(6,iy,2,3,"td",97),e.TgZ(7,"td",85)(8,"div",98)(9,"button",99),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(5);return e.KtG(l.toggleEdit(s))}),e.YNc(10,oy,2,0,"ng-container",100),e.YNc(11,ry,1,0,"ng-template",null,101,e.W1O),e.qZA(),e.TgZ(13,"button",99),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(5);return e.KtG(l.deleteRow(s))}),e._UZ(14,"i",102),e.qZA()()()()}if(2&o){const t=i.$implicit,n=e.MAs(12);e.Q6J("draggable",!0),e.xp6(3),e.Q6J("ngIf",!t.isEditing),e.xp6(1),e.Q6J("ngIf",t.isEditing),e.xp6(1),e.Q6J("ngIf",!t.isEditing),e.xp6(1),e.Q6J("ngIf",t.isEditing),e.xp6(4),e.Q6J("ngIf",t.isEditing)("ngIfElse",n)}}function ly(o,i){if(1&o&&(e.TgZ(0,"div")(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4,":"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA(),e.TgZ(7,"span"),e._uU(8,","),e.qZA()()),2&o){const t=i.$implicit;e.xp6(2),e.hij('"',t.key,'"'),e.xp6(4),e.hij('"',t.value,'"')}}function ay(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",77)(1,"div",78)(2,"table",79)(3,"thead")(4,"tr")(5,"th",80),e._UZ(6,"input",81),e.qZA(),e.TgZ(7,"th",82),e._uU(8,"Key"),e.qZA(),e.TgZ(9,"th",82),e._uU(10,"Value"),e.qZA(),e.TgZ(11,"th",83),e._uU(12,"Action"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,sy,15,7,"tr",84),e.TgZ(15,"tr"),e._UZ(16,"td",85),e.TgZ(17,"td")(18,"input",86,87),e.NdJ("keyup.enter",function(){e.CHM(t);const r=e.MAs(19),s=e.MAs(22),l=e.oxw(4);return e.KtG(l.keyValue(r,s))}),e.qZA()(),e.TgZ(20,"td")(21,"input",88,89),e.NdJ("keyup.enter",function(){e.CHM(t);const r=e.MAs(19),s=e.MAs(22),l=e.oxw(4);return e.KtG(l.keyValue(r,s))}),e.qZA()(),e.TgZ(23,"td",85)(24,"button",90),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(19),s=e.MAs(22),l=e.oxw(4);return e.KtG(l.keyValue(r,s))}),e._uU(25," Add "),e.qZA()()()()()(),e.TgZ(26,"div",91)(27,"div",92)(28,"code",93)(29,"p",94),e._uU(30,"{"),e.qZA(),e.YNc(31,ly,9,2,"div",43),e.TgZ(32,"p"),e._uU(33,"}"),e.qZA()(),e.TgZ(34,"button",95),e._uU(35," Key-Value Edit "),e.qZA()()()()}if(2&o){const t=e.oxw(4);e.xp6(14),e.Q6J("ngForOf",t.rows),e.xp6(17),e.Q6J("ngForOf",t.rows)}}function cy(o,i){1&o&&(e.TgZ(0,"div",77)(1,"h1"),e._uU(2,"Body"),e.qZA()())}function dy(o,i){1&o&&(e.TgZ(0,"div",77)(1,"h1"),e._uU(2,"Scripts"),e.qZA()())}const uy=function(o){return{"show active":o}};function py(o,i){if(1&o&&(e.TgZ(0,"div",75),e.YNc(1,ay,36,2,"div",76),e.YNc(2,cy,3,0,"div",76),e.YNc(3,dy,3,0,"div",76),e.qZA()),2&o){const t=i.$implicit,n=i.index,r=e.oxw(3);e.s9C("id",t.id),e.Q6J("ngClass",e.VKq(5,uy,n===r.currentTab)),e.xp6(1),e.Q6J("ngIf","params"===t.id),e.xp6(1),e.Q6J("ngIf","body"===t.id),e.xp6(1),e.Q6J("ngIf","scripts"===t.id)}}function _y(o,i){if(1&o&&(e.TgZ(0,"div",46)(1,"div",13)(2,"div",26)(3,"div",47)(4,"select",48)(5,"option",49),e._uU(6,"Choose Method"),e.qZA(),e.YNc(7,WT,2,2,"option",50),e.qZA(),e._UZ(8,"input",51),e.qZA()()(),e.TgZ(9,"div",13)(10,"div",14)(11,"label",24)(12,"strong"),e._uU(13,"Auth Type"),e.qZA()()()(),e.TgZ(14,"div",25)(15,"div",52)(16,"div",47)(17,"select",53)(18,"option",49),e._uU(19,"None"),e.qZA(),e.TgZ(20,"option",54),e._uU(21,"Basic Auth"),e.qZA(),e.TgZ(22,"option",55),e._uU(23,"Bearer Token"),e.qZA()()()()(),e.YNc(24,$T,17,0,"div",56),e.YNc(25,KT,7,0,"div",57),e.TgZ(26,"div",58)(27,"div",59)(28,"ul",60),e.YNc(29,XT,4,11,"li",61),e.qZA(),e.TgZ(30,"div",62),e.YNc(31,py,4,7,"div",63),e.qZA()()()()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("formControlName","methodTypes"),e.xp6(3),e.Q6J("ngForOf",t.methodTypesList),e.xp6(17),e.Q6J("ngIf","basicAuth"==t.documentionForm.value.authType),e.xp6(1),e.Q6J("ngIf","bearerToken"==t.documentionForm.value.authType),e.xp6(4),e.Q6J("ngForOf",t.tabs),e.xp6(2),e.Q6J("ngForOf",t.tabs)}}function my(o,i){if(1&o&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function gy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",106)(1,"div",13)(2,"div",14)(3,"label",24)(4,"strong"),e._uU(5,"Select Language"),e.qZA()()()(),e.TgZ(6,"div",25)(7,"div",59)(8,"div",47)(9,"select",107),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onCodeEditorLangChange(r))}),e.YNc(10,my,2,2,"option",50),e.qZA()()()(),e.TgZ(11,"div",13)(12,"div",14)(13,"label",24)(14,"strong"),e._uU(15,"Write your code here:"),e.qZA()()()(),e.TgZ(16,"div",25)(17,"div",59),e._UZ(18,"ngx-monaco-editor",108),e.qZA()(),e.TgZ(19,"div",13)(20,"div",14)(21,"label",24)(22,"strong"),e._uU(23,"What the class/function returns:"),e.qZA()()()(),e.TgZ(24,"div",25)(25,"div",59),e._UZ(26,"textarea",109),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(10),e.Q6J("ngForOf",t.codeEditorType),e.xp6(8),e.Q6J("options",t.editorOptions)}}function hy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li",121),e._uU(1),e.TgZ(2,"button",122),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.deleteUrl(s))}),e._uU(3," \xd7 "),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(1),e.hij(" ",t," ")}}function fy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",123)(1,"div",124),e._UZ(2,"img",125),e.TgZ(3,"button",126),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.deleteImage(s))}),e._uU(4," \xd7 "),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Q6J("src",t,e.LSH)}}function vy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",110)(1,"div",13)(2,"div",14)(3,"label",24)(4,"strong"),e._uU(5,"Add URLs"),e.qZA()()()(),e.TgZ(6,"div",25)(7,"div",59)(8,"div",111),e._UZ(9,"input",112),e.TgZ(10,"button",113),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.addDocUrls(r.singleDocsList))}),e._uU(11," Add URL "),e.qZA()()()(),e.TgZ(12,"div",58)(13,"div",59)(14,"div",114)(15,"ul",115),e.YNc(16,hy,4,1,"li",116),e.qZA()()()(),e.TgZ(17,"div",13)(18,"div",14)(19,"label",24)(20,"strong"),e._uU(21,"Image Upload"),e.qZA()()()(),e.TgZ(22,"div",25)(23,"div",59)(24,"div",117),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onDropZoneClick())})("dragover",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDragOver(r))})("dragleave",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onDragLeave())})("drop",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onDropImg(r))}),e._uU(25," Drag & drop images here or click to upload "),e.qZA(),e.TgZ(26,"input",118),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onFilesSelected(r))}),e.qZA()()(),e.TgZ(27,"div",13)(28,"div",59)(29,"div",119),e.YNc(30,fy,5,1,"div",120),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(16),e.Q6J("ngForOf",t.docurls),e.xp6(14),e.Q6J("ngForOf",t.dragAndDropImagePreviews)}}function by(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",127),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw();return s.showFolderUploadModal(s.projectId,null),e.KtG(r.close("Close click"))}),e._uU(1," Save As "),e.qZA()}}function xy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",127),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw();return s.showFolderUploadModal(s.projectId,s.singleDocsList),e.KtG(r.close("Close click"))}),e._uU(1," Update As "),e.qZA()}}function Cy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._UZ(3,"img",4),e.TgZ(4,"h5",5),e._uU(5,"Create Document"),e.qZA()(),e.TgZ(6,"button",6),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.toggleDropdown(null==r.singleDocsList?null:r.singleDocsList.the_createDocument.created_by))}),e.YNc(7,YT,1,1,"img",7),e.TgZ(8,"label"),e._uU(9),e.qZA(),e.YNc(10,GT,1,0,"i",8),e.qZA()(),e.TgZ(11,"button",9),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return s.dismiss("Cross click"),e.KtG(l.resetCertainFields())}),e.qZA()(),e.YNc(12,VT,7,2,"div",10),e.TgZ(13,"div",11)(14,"form",12)(15,"div",13)(16,"div",14)(17,"label",15)(18,"strong"),e._uU(19,"Document Type"),e.qZA(),e.TgZ(20,"span"),e._uU(21,"*"),e.qZA()()()(),e.TgZ(22,"div",16)(23,"div",17),e._UZ(24,"input",18),e.TgZ(25,"label",19),e._uU(26,"Blank"),e.qZA()(),e.TgZ(27,"div",17),e._UZ(28,"input",20),e.TgZ(29,"label",21),e._uU(30,"API"),e.qZA()(),e.TgZ(31,"div",17),e._UZ(32,"input",22),e.TgZ(33,"label",23),e._uU(34,"Class or Function"),e.qZA()()(),e.TgZ(35,"div",13)(36,"div",14)(37,"label",24)(38,"strong"),e._uU(39,"Introduction"),e.qZA(),e.TgZ(40,"span"),e._uU(41,"*"),e.qZA()()()(),e.TgZ(42,"div",25)(43,"div",26)(44,"div",27),e._UZ(45,"ngx-editor-menu",28)(46,"ngx-editor",29),e.qZA()()(),e.YNc(47,_y,32,6,"div",30),e.YNc(48,gy,27,2,"div",31),e.YNc(49,vy,31,2,"div",32),e.qZA()(),e.TgZ(50,"div",33),e.YNc(51,by,2,0,"button",34),e.YNc(52,xy,2,0,"ng-template",null,35,e.W1O),e.TgZ(54,"button",36),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return s.close("Close click"),e.KtG(l.resetCertainFields())}),e._uU(55," Cancel "),e.qZA()()}if(2&o){const t=e.MAs(53),n=e.oxw();e.xp6(7),e.Q6J("ngForOf",null==n.singleDocsList||null==n.singleDocsList.the_createDocument?null:n.singleDocsList.the_createDocument.assignUsers),e.xp6(2),e.Oqu(null==n.singleDocsList||null==n.singleDocsList.the_createDocument||null==n.singleDocsList.the_createDocument.assignUsers?null:n.singleDocsList.the_createDocument.assignUsers.length),e.xp6(1),e.Q6J("ngIf",!(null!=n.singleDocsList&&null!=n.singleDocsList.the_createDocument&&n.singleDocsList.the_createDocument.created_by)),e.xp6(2),e.Q6J("ngIf",n.isDropdownVisible),e.xp6(2),e.Q6J("formGroup",n.documentionForm),e.xp6(31),e.Q6J("editor",n.editor),e.xp6(1),e.Q6J("editor",n.editor)("disabled",!1)("placeholder","Type here..."),e.xp6(1),e.Q6J("ngIf","api"==n.documentionForm.value.types),e.xp6(1),e.Q6J("ngIf","function"==n.documentionForm.value.types),e.xp6(1),e.Q6J("ngIf","imgAndLink"==n.documentionForm.value.types),e.xp6(2),e.Q6J("ngIf",!n.singleDocsList)("ngIfElse",t)}}let Ql=(()=>{const i=class{constructor(n,r,s){this.modalService=n,this.clipboard=r,this._projectService=s,this.html="",this.currentTab=0,this.folderModalService=(0,e.f3M)(k.FF),this.draggedRow=null,this.rows=[],this.newKey="",this.newValue="",this.selectedAssignees=[],this.editorOptions={theme:"vs-dark",language:"javascript",automaticLayout:!0},this.code="//write your code here",this.docurls=[],this.dragAndDropImagePreviews=[],this.searchText="",this.isDropdownVisible=!1,this.callGrandParent=new e.vpe,this.tabs=[{id:"params",title:"Params",icon:"bi bi-file-earmark-check",content:"This is the Home tab content."},{id:"body",title:"Body",icon:"bi bi-file-text",content:"This is the Profile tab content."},{id:"scripts",title:"Scripts",icon:"bi bi-filetype-js",content:"This is the Messages tab content."}],this.methodTypesList=[{id:"get",name:"GET"},{id:"post",name:"POST"},{id:"put",name:"PUT"},{id:"update",name:"UPDATE"},{id:"patch",name:"PATCH"}],this.codeEditorType=[{id:"java",name:"Java"},{id:"javascript",name:"JavaScript"},{id:"typescript",name:"TypeScript"},{id:"python",name:"Python"},{id:"csharp",name:"C#"},{id:"html",name:"HTML"},{id:"ruby",name:"Ruby"}]}ngOnInit(){var n=this;return(0,y.Z)(function*(){n.documentionForm=new g.cw({types:new g.NI("blank",[g.kI.required]),content:new g.NI("",[g.kI.required]),methodTypes:new g.NI("get"),methodUrl:new g.NI(""),authType:new g.NI(""),bearerToken:new g.NI(""),username:new g.NI(""),password:new g.NI(""),languageType:new g.NI("javascript"),codeEditor:new g.NI(""),desAboutReturnOpt:new g.NI(""),docsUrl:new g.NI(""),imagesUrl:new g.NI(""),assignUsers:new g.NI("")});const r=localStorage.getItem("profile");n.userId=JSON.parse(r),n.editor=new oe.ML})()}open(n,r,s){this.projectId=r,s&&(this.singleDocsList=s,this.documentionForm.patchValue({types:s?.the_createDocument?.types||"",content:s?.the_createDocument?.content||"",methodTypes:s?.the_createDocument?.methodTypes,methodUrl:s?.the_createDocument?.methodUrl||"get",authType:s?.the_createDocument?.authType||"none",username:s?.the_createDocument?.username,password:s?.the_createDocument?.password,bearerToken:s?.the_createDocument?.bearerToken,languageType:s?.the_createDocument?.languageType||"javascript",codeEditor:s?.the_createDocument?.codeEditor,desAboutReturnOpt:s?.the_createDocument?.desAboutReturnOpt,assignUsers:s?.the_createDocument?.assignUsers}),this.rows=s?.the_createDocument?.jsonList&&s?.the_createDocument?.jsonList,this.docurls=s?.the_createDocument?.docsUrl&&s?.the_createDocument?.docsUrl,this.dragAndDropImagePreviews=s?.the_createDocument?.imagesUrl&&s?.the_createDocument?.imagesUrl,this._projectService.getProjectUsers(this.singleDocsList?.the_createDocument?.folderId).then(l=>{const c=l?.filter(d=>d.id!==this.userId.userConcept&&d.id.toString()!==this.singleDocsList?.the_createDocument.created_by).map(d=>{const u=s?.the_createDocument?.assignUsers&&s?.the_createDocument?.assignUsers?.some(_=>_.id===d.id.toString());return{...d,checked:u}});this.assigneesList=c}).catch(l=>{console.error(l)})),this._projectService.getProjectUsers(this.projectId).then(l=>{const a=l?.filter(c=>c.id!==this.userId.userConcept);this.assigneesList=a}).catch(l=>console.error(l)),this.modalService.open(n,{size:"lg"})}selectTab(n){this.currentTab=n}filteredAssignees(n,r){return r?n.filter(s=>s.firstName.toLowerCase().includes(r.toLowerCase())):n}handleAddAssignedUser(n,r){n.checked=!n.checked,n.checked?(this.selectedAssignees.push(n),this.documentionForm.patchValue({assignUsers:this.selectedAssignees||""})):(this.selectedAssignees=this.selectedAssignees.filter(s=>s.id.toString()!==n.id.toString()),this.documentionForm.patchValue({assignUsers:this.selectedAssignees||""}))}showFolderUploadModal(n,r){var s=this;return(0,y.Z)(function*(){const l=s.generateFileList(),a=new FormData;yield Array.from(l).forEach(u=>{a.append("Images",u)});const c={method:"POST",body:a,redirect:"follow"};yield fetch(fn.N.baseUrl+"/Image/upload_image_bulk",c).then(u=>u.text()).then(u=>{const _=JSON.parse(u);if(s.documentionForm.value.imagesUrl=_.data,r?.the_createDocument?.imagesUrl&&r?.the_createDocument?.imagesUrl){const m=r?.the_createDocument?.imagesUrl.filter(p=>!p.startsWith("data:image/png;base64,"));s.documentionForm.value.imagesUrl=[...s.documentionForm.value.imagesUrl,...m]}}).catch(u=>console.error(u)),s.documentionForm.value.jsonList=s.rows,s.documentionForm.value.docsUrl=s.docurls;const d=yield s.folderModalService.open(Fl.f,{size:"lg"});d.componentInstance.childComponent=s.handleChildToParentFun.bind(s),d.componentInstance.upload=!1,d.componentInstance.isdoc=!0,d.componentInstance.projectId=r&&r?r?.the_createDocument?.folderId:n,d.componentInstance.isdocValue=s.documentionForm.value,d.componentInstance.docTitle=r&&r?r?.the_createDocument?.docTitle:"",d.componentInstance.documentId=r&&r?n:"",s.resetCertainFields(),s.rows=[],s.singleDocsList=null})()}handleChildToParentFun(){this.callGrandParent.emit()}onDragStart(n){this.draggedRow=n}onDragEnd(){this.draggedRow=null}onDrop(n){if(this.draggedRow&&this.draggedRow!==n){const r=this.rows.indexOf(this.draggedRow),s=this.rows.indexOf(n);this.rows.splice(r,1),this.rows.splice(s,0,this.draggedRow)}}allowDrop(n){n.preventDefault()}keyValue(n,r){const s=n.value,l=r.value;s&&l&&Array.isArray(this.rows)&&this.rows?.push({key:s,value:l}),n.value="",r.value=""}deleteRow(n){this.rows.splice(n,1)}toggleEdit(n){n.isEditing=!n.isEditing}saveEdit(n){n.isEditing=!1}copyText(n){this.clipboard.copy(n),alert("Text copied to clipboard!")}toggleDropdown(n){n?parseInt(n)==this.userId.userConcept&&(this.isDropdownVisible=!this.isDropdownVisible):this.isDropdownVisible=!this.isDropdownVisible}docCount(n){return n-1}onCodeEditorLangChange(n){const r=n.target.value.toString();this.editorOptions={...this.editorOptions,language:r}}addDocUrls(n){const r=this.documentionForm.get("docsUrl")?.value;r?(""==n?.the_createDocument?.docsUrl?(this.docurls.length>0||(this.docurls=[]),this.docurls.push(r)):this.docurls.push(r),this.documentionForm.get("docsUrl")?.reset()):console.warn("Please enter a valid URL.")}deleteUrl(n){this.docurls.splice(n,1)}onDropZoneClick(){document.getElementById("fileInput").click()}onDragOver(n){n.preventDefault(),document.getElementById("dropZone")?.classList.add("dragover")}onDragLeave(){document.getElementById("dropZone")?.classList.remove("dragover")}onDropImg(n){n.preventDefault(),document.getElementById("dropZone")?.classList.remove("dragover");const s=n.dataTransfer?.files;s&&this.handleFiles(s)}onFilesSelected(n){const r=n.target.files;r&&this.handleFiles(r)}handleFiles(n){Array.from(n).forEach(r=>{const s=new FileReader;s.onload=l=>{Array.isArray(this.dragAndDropImagePreviews)||(this.dragAndDropImagePreviews=[]),this.dragAndDropImagePreviews.push(l.target.result)},s.readAsDataURL(r)})}deleteImage(n){n>-1&&this.dragAndDropImagePreviews.splice(n,1)}generateFileList(){const n=new DataTransfer;return this.dragAndDropImagePreviews&&this.dragAndDropImagePreviews?.forEach((s,l)=>{if(/^data:image\/[a-zA-Z]+;base64,[A-Za-z0-9+/=]+$/.test(s)){const c=this.base64ToFile(s,`file${l+1}.jpeg`);n.items.add(c)}}),n.files}base64ToFile(n,r){const s=n.split(","),l=s[0].match(/:(.*?);/),a=l?l[1]:"application/octet-stream",c=atob(s[1]);let d=c.length;const u=new Uint8Array(d);for(;d--;)u[d]=c.charCodeAt(d);return new File([u],r,{type:a})}resetCertainFields(){this.documentionForm.patchValue({types:"blank",content:"",methodTypes:"get",methodUrl:"",authType:"",bearerToken:"",username:"",password:"",languageType:"javascript",codeEditor:"",desAboutReturnOpt:"",docsUrl:"",imagesUrl:""}),this.dragAndDropImagePreviews=[],this.docurls=[],this.singleDocsList=[],this.selectedAssignees=[]}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.FF),e.Y36($i),e.Y36(L.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-document-management-dialogs"]],viewQuery:function(r,s){if(1&r&&e.Gf(QT,5),2&r){let l;e.iGM(l=e.CRH())&&(s.content=l.first)}},inputs:{singleDocument:"singleDocument"},outputs:{callGrandParent:"callGrandParent"},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],[1,"d-flex","w-100","justify-content-between"],[1,"d-flex"],["src","../../../../../assets/documentation/modalLogo.png","height","45px","alt",""],[1,"modal-title","ms-2"],["type","button",1,"assignUser",3,"click"],["alt","asf",3,"src",4,"ngFor","ngForOf"],["class","bi bi-person-fill-add",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["class","dropdown-container float-end",4,"ngIf"],[1,"modal-body"],[3,"formGroup"],[1,"row","gy-1","mb-0"],[1,"col-auto"],["for","docType",1,"col-form-label"],[1,"row","ms-3","mt-0"],[1,"col-auto","form-check","form-check-inline"],["formControlName","types","type","radio","id","inlineRadio1","value","blank",1,"form-check-input","custom-checkbox"],["for","inlineRadio1",1,"form-check-label"],["formControlName","types","type","radio","id","inlineRadio1","value","api",1,"form-check-input","custom-checkbox"],["for","inlineRadio2",1,"form-check-label"],["formControlName","types","type","radio","id","inlineRadio1","value","function",1,"form-check-input","custom-checkbox"],["for","inlineRadio3",1,"form-check-label"],["for","introduction",1,"col-form-label"],[1,"row","mt-0"],[1,"col-md-12"],[1,"NgxEditor__Wrapper"],[3,"editor"],["formControlName","content",3,"editor","disabled","placeholder"],["class","api",4,"ngIf"],["class","function",4,"ngIf"],["class","imgAndLink",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-primary",3,"click",4,"ngIf","ngIfElse"],["updateAs",""],["type","button",1,"btn","btn-secondary",3,"click"],["alt","asf",3,"src"],[1,"bi","bi-person-fill-add"],[1,"dropdown-container","float-end"],[1,"dropdown-header"],["type","search","placeholder","Search Assignee...",1,"search-input",3,"ngModel","ngModelChange"],[1,"assignee-list"],[4,"ngFor","ngForOf"],["type","checkbox",3,"value","checked","click"],["alt","Avatar",1,"avatar",3,"src"],[1,"api"],[1,"input-group"],["id","inputGroupSelect",1,"form-select",3,"formControlName"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","methodUrl","type","text","placeholder","https://boomconsole.com/projects",1,"form-control","w-75","shadow-none"],[1,"col-6"],["formControlName","authType","id","inputGroupSelect",1,"form-control","form-select"],["value","basicAuth"],["value","bearerToken"],["class","basicAuth",4,"ngIf"],["class","bearerToken",4,"ngIf"],[1,"row","mb-0"],[1,"col-12"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["class","nav-item","role","presentation",4,"ngFor","ngForOf"],[1,"tab-content"],["class","tab-pane fade","role","tabpanel",3,"ngClass","id",4,"ngFor","ngForOf"],[3,"value"],[1,"basicAuth"],["formControlName","username","type","text","placeholder","Username",1,"form-control","w-75","shadow-none"],["formControlName","password","type","text","placeholder","Password",1,"form-control","w-75","shadow-none"],[1,"bearerToken"],["formControlName","bearerToken","type","text","id","copyInput","placeholder","Copy this text",1,"form-control","border-end-0"],["type","button","id","copyButton",1,"btn","btn-outline-secondary","border-start-0","border-top","border-end","border-bottom",3,"click"],[1,"bi","bi-copy"],["role","presentation",1,"nav-item"],[1,"nav-link",3,"id","ngClass","click"],["width","18px","height","18px",3,"ngClass"],["role","tabpanel",1,"tab-pane","fade",3,"ngClass","id"],["class","mt-5",4,"ngIf"],[1,"mt-5"],[1,"table-responsive","mt-4","border-0"],[1,"table","table-bordered"],["scope","col","width","40px",1,"text-center"],["type","checkbox"],["scope","col"],["scope","col","width","162px"],[3,"draggable","dragstart","dragend","dragover","drop",4,"ngFor","ngForOf"],[1,"text-center"],["type","text","placeholder","Key...",1,"form-control","mt-1","mb-1",3,"keyup.enter"],["keyInput",""],["type","text","placeholder","Value...",1,"form-control","mt-1","mb-1",3,"keyup.enter"],["valueInput",""],["type","button",1,"btn","btn-bulkEdit",3,"click"],[1,"card"],[1,"card-body","d-flex","justify-content-between","text-align-top","gap-5","p-0","m-0"],[1,"w-50"],[1,"m-0"],[1,"btn","btn-bulkEdit","w-25","p-0","m-0"],[3,"draggable","dragstart","dragend","dragover","drop"],[4,"ngIf"],[1,"d-flex","align-items-end","justify-content-center","gap-2"],["type","button",1,"btn","btn-delete",3,"click"],[4,"ngIf","ngIfElse"],["editMode",""],[1,"bi","bi-trash"],["type","text",1,"form-control","mt-1","mb-1",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"bi","bi-save"],[1,"bi","bi-pencil-square"],[1,"function"],["formControlName","languageType","id","inputGroupSelect",1,"form-control","form-select",3,"change"],["formControlName","codeEditor",3,"options"],["formControlName","desAboutReturnOpt","name","desAboutReturnOpt","placeholder","write description here...",1,"form-control"],[1,"imgAndLink"],[1,"input-group","d-flex","mb-3"],["type","text","formControlName","docsUrl","placeholder","Enter URL",1,"form-control","w-75"],["type","button",1,"btn","btn-primary","w-25",3,"click"],["id","urlList"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["id","dropZone",1,"drop-zone","mb-3",3,"click","dragover","dragleave","drop"],["id","fileInput","type","file","multiple","","accept","image/*","hidden","",1,"form-control",3,"change"],["id","imagePreview",1,"image-preview","row"],["class","col-md-3 w-auto",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"col-md-3","w-auto"],[1,"position-relative","card","mb-3"],["alt","Preview",1,"img-fluid",3,"src"],[1,"btn","btn-danger","btn-sm","position-absolute","top-0","end-0","m-2",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,s){1&r&&e.YNc(0,Cy,56,14,"ng-template",null,0,e.W1O)},dependencies:[I.mk,I.sg,I.O5,g._Y,g.YN,g.Kr,g.Fj,g.EJ,g._,g.JJ,g.JL,g.On,g.sg,g.u,oe.tP,oe.Mn,Ll],styles:["h5[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:24px;font-weight:700}.modal-content[_ngcontent-%COMP%]{width:805px;height:967px;border-radius:16px}.modal-header[_ngcontent-%COMP%]{background-color:#f6f6f6;width:72px;width:100%}.modal-header[_ngcontent-%COMP%]   .assignUser[_ngcontent-%COMP%]{width:109px;height:42px;margin-right:11px;border-radius:4px;border:1px solid #dddddd;background:white}.modal-header[_ngcontent-%COMP%]   .assignUser[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;border:1px solid #ffffff;background:#ffffff;border-radius:100%;margin-left:-10px}.modal-header[_ngcontent-%COMP%]   .assignUser[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{size:13px;color:#000000b2}.modal-header[_ngcontent-%COMP%]   .assignUser[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:100%;background:#f9f9f9;border:1px solid #ffffff;color:#000000e5;font-size:10px;font-weight:500;position:relative;top:-5px;left:-11px}.modal-body[_ngcontent-%COMP%]{background:#ffffff;padding:0 6px;min-height:auto}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:12px}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:14px;font-weight:500;color:#000000b2}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:14px;font-weight:500;color:red}.custom-checkbox[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;width:16px;height:16px;border:1px solid #cecece;border-radius:50%;outline:none;position:relative;cursor:pointer;transition:.2s}.custom-checkbox[_ngcontent-%COMP%]:checked:before{color:#fff;font-size:1em;position:absolute;border:none;top:50%;left:50%;transform:translate(-50%,-50%)}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:#37a8d9;background-image:url(https://cdn.jsdelivr.net/gh/nischaldev/boomconsole-cdn@main/tick.80df09903b5b0180.png);background-size:8.66px 6.17px;border:none}.input-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:14px;color:#000000b2;box-shadow:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:0px solid transparent;border-bottom:none;color:#0009;padding:10px;font-size:14px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#ef598c;border:none;border-bottom:3px solid #ef598c;background-color:#fff;font-weight:700;size:14px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border-color:#dee2e6 #dee2e6 #ef598c;background-color:transparent}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-family:Inter,sans-serif;padding:10px 12px;font-size:14px;font-weight:500}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:Inter,sans-serif;padding:4px 10px;font-size:12px;font-weight:500}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{size:12px;padding:1px 8px;background:#f0f0f0;border-radius:4px;font-weight:400}.btn.btn-delete[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #f0a6a6;padding:5px 8px}.btn.btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{height:11.25px;width:13px;color:#f0a6a6}.btn.btn-bulkEdit[_ngcontent-%COMP%]{width:100%;height:44px;padding:8px 36px;margin-top:6px;border:1px solid black;border-radius:4px;color:#000;font-size:12px;font-weight:400}.btn.btn-bulkEdit[_ngcontent-%COMP%]:hover{background-color:transparent}.card[_ngcontent-%COMP%]{background:#f2f5f9;padding:12px;border:1px solid #cecece;border-radius:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:space-between;border-top:none;gap:18px;margin-bottom:34px}.btn.btn-primary[_ngcontent-%COMP%]{width:100%;background:linear-gradient(90deg,#ef598c 0%,#f48439 100%);border-radius:4px;font-size:16px;font-weight:500}.btn.btn-secondary[_ngcontent-%COMP%]{width:100%;background:transparent;border:1px solid #dddddd;border-radius:4px;color:#000000b2;font-family:Inter;font-size:16px;font-weight:500}.btn-edit[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{margin-right:5px}tr[draggable=true][_ngcontent-%COMP%]{cursor:move}.dropdown-container[_ngcontent-%COMP%]{position:absolute;right:48px;top:78px;background-color:#fff;border:1px solid #ccc;border-radius:10px;padding:10px;z-index:9999;width:300px;box-shadow:0 4px 8px #0003}.modal-header[_ngcontent-%COMP%]{position:relative;z-index:1}.dropdown-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px}.dropdown-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px;font-size:16px;font-weight:700;padding:12px 16px}.search-input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:5px;outline:none;font-size:14px}.assignee-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-height:200px;overflow-y:auto}.assignee-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 0}.assignee-list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;width:100%}.assignee-list[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px}.avatar[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;margin-right:10px}.assignee-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.drop-zone[_ngcontent-%COMP%]{border:2px dashed #007bff;border-radius:5px;padding:30px;text-align:center;cursor:pointer}.drop-zone.dragover[_ngcontent-%COMP%]{background-color:#f8f9fa}.image-preview[_ngcontent-%COMP%]{margin-top:15px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;margin:10px}.card[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;border-radius:5px;overflow:hidden}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem}.position-absolute[_ngcontent-%COMP%]{top:0;right:0}button.btn-danger[_ngcontent-%COMP%]{font-size:1rem;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center}"]}),o})();const Ty=["content"];function yy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"button",2),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(2,"div",3)(3,"div",4)(4,"div",5),e._UZ(5,"i",6),e.qZA(),e.TgZ(6,"h5"),e._uU(7,"Are you sure to delete?"),e.qZA(),e.TgZ(8,"p",7),e._uU(9," Do you really want to delete these records? This process cannot be undo "),e.qZA(),e.TgZ(10,"div",8)(11,"button",9),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return l.deleteDocument(l.docId),e.KtG(s.close("Close click"))}),e._uU(12," Delete "),e.qZA(),e.TgZ(13,"button",10),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(14," Close "),e.qZA()()()()}}let Yl=(()=>{const i=class{constructor(n,r){this.modalService=n,this._snackbarService=r,this.callParent=new e.vpe}open(n,r){this.docId=r,this.modalService.open(n,{size:"lg",windowClass:"custom-modal"})}deleteDocument(n){var r=this;return(0,y.Z)(function*(){try{yield(0,T.Ac7)(n),yield T.smK.SyncDataOnline(),r._snackbarService.openSnackBar("Document Deleted Successful","success"),r.callParent.emit()}catch{r._snackbarService.openSnackBar("Failed to Delete","error")}})()}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.FF),e.Y36(Q.o))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete-document"]],viewQuery:function(r,s){if(1&r&&e.Gf(Ty,5),2&r){let l;e.iGM(l=e.CRH())&&(s.content=l.first)}},outputs:{callParent:"callParent"},decls:2,vars:0,consts:[["content",""],[1,"modal-header","border-bottom-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"content","d-flex","flex-column","align-items-center","justify-content-center","gap-2"],[1,"circle"],[1,"bi","bi-trash3"],[1,"text-center"],[1,"buttons","d-flex","justify-content-center","align-items-center","gap-2"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,s){1&r&&e.YNc(0,yy,15,0,"ng-template",null,0,e.W1O)},styles:[".custom-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:660px;height:349px;max-width:none}.modal-content[_ngcontent-%COMP%]{width:660px!important}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:406px;height:59px;color:#0009}.modal-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:72px;height:72px;border-radius:100px;background:#f34a4a}.circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:34px;color:#fff}.btn[_ngcontent-%COMP%]{width:299px;height:42px;padding:2px 12px;border-radius:4px;font-size:16px;font-weight:500}.btn.btn-primary[_ngcontent-%COMP%]{background:#f34a4a;border-radius:4px;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]{background:#ffffff;border:1px solid #dddddd;border-radius:4px;color:#000}"]}),o})();const wy=["content"];function Iy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41),e._UZ(2,"input",42),e.TgZ(3,"button",43),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.copyText(null==r.singleDocument||null==r.singleDocument.the_createDocument?null:r.singleDocument.the_createDocument.methodUrl))}),e._UZ(4,"i",44),e.qZA()()()}if(2&o){const t=e.oxw(3);e.xp6(2),e.s9C("value",null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.methodUrl),e.Q6J("disabled",!0)}}function Ay(o,i){if(1&o&&(e.TgZ(0,"div",45)(1,"p",46)(2,"strong"),e._uU(3,"Username:"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"p",46)(6,"strong"),e._uU(7,"Password:"),e.qZA(),e._uU(8),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(4),e.hij(" ",null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.username," "),e.xp6(4),e.hij("",null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.password," ")}}function Dy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",41),e._UZ(1,"input",42),e.TgZ(2,"button",43),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.copyText(null==r.singleDocument||null==r.singleDocument.the_createDocument?null:r.singleDocument.the_createDocument.bearerToken))}),e._UZ(3,"i",44),e.qZA()()}if(2&o){const t=e.oxw(3);e.xp6(1),e.s9C("value",null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.bearerToken),e.Q6J("disabled",!0)}}function Sy(o,i){if(1&o&&(e.TgZ(0,"div",45),e._uU(1),e.TgZ(2,"pre"),e._uU(3),e.ALo(4,"json"),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.jsonFormatter(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.jsonList)," "),e.xp6(2),e.Oqu(e.lcZ(4,2,t.jsonresult))}}function ky(o,i){if(1&o&&(e.TgZ(0,"div",31)(1,"div",32)(2,"h6"),e._uU(3," Method Type: "),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.YNc(6,Iy,5,2,"div",33),e.qZA(),e.TgZ(7,"div",34)(8,"h6"),e._uU(9," Auth Type: "),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"div",35),e.YNc(13,Ay,9,2,"div",36),e.YNc(14,Dy,4,2,"ng-template",null,37,e.W1O),e.qZA()(),e.TgZ(16,"div",38)(17,"h6"),e._uU(18,"Returns"),e.qZA(),e.TgZ(19,"div",35),e.YNc(20,Sy,5,4,"div",39),e.qZA()()()),2&o){const t=e.MAs(15),n=e.oxw(2);e.xp6(5),e.Oqu(null==n.singleDocument||null==n.singleDocument.the_createDocument?null:n.singleDocument.the_createDocument.methodTypes.toUpperCase()),e.xp6(1),e.Q6J("ngIf",null==n.singleDocument||null==n.singleDocument.the_createDocument?null:n.singleDocument.the_createDocument.methodUrl),e.xp6(5),e.Oqu(null==n.singleDocument||null==n.singleDocument.the_createDocument?null:n.singleDocument.the_createDocument.authType.toUpperCase()),e.xp6(2),e.Q6J("ngIf","basicAuth"==(null==n.singleDocument||null==n.singleDocument.the_createDocument?null:n.singleDocument.the_createDocument.authType))("ngIfElse",t),e.xp6(7),e.Q6J("ngIf",null==n.singleDocument||null==n.singleDocument.the_createDocument?null:n.singleDocument.the_createDocument.jsonList)}}function My(o,i){if(1&o&&(e.TgZ(0,"div",45)(1,"pre"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.codeEditor)}}function Zy(o,i){if(1&o&&(e.TgZ(0,"div",45)(1,"pre"),e._uU(2),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.desAboutReturnOpt)}}function Ey(o,i){if(1&o&&(e.TgZ(0,"div",31)(1,"div",47)(2,"h6"),e._uU(3,"Parameter"),e.qZA(),e.TgZ(4,"div",35),e.YNc(5,My,3,1,"div",39),e.qZA()(),e.TgZ(6,"div",38)(7,"h6"),e._uU(8,"Returns"),e.qZA(),e.TgZ(9,"p"),e._uU(10,"This is a search query function"),e.qZA(),e.TgZ(11,"div",35),e.YNc(12,Zy,3,1,"div",39),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("ngIf",null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.codeEditor),e.xp6(7),e.Q6J("ngIf",null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.desAboutReturnOpt)}}function Py(o,i){if(1&o&&(e.TgZ(0,"div",52),e._UZ(1,"img",53),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("src",t,e.LSH)}}function Oy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41),e._UZ(2,"input",42),e.TgZ(3,"button",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.copyText(s))}),e._UZ(4,"i",44),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.s9C("value",t),e.Q6J("disabled",!0)}}function Ny(o,i){if(1&o&&(e.TgZ(0,"div",48)(1,"div",47)(2,"h6"),e._UZ(3,"i",27),e._uU(4," Attachments"),e.qZA(),e.TgZ(5,"div",35),e.YNc(6,Py,2,1,"div",49),e.qZA()(),e.TgZ(7,"div",32)(8,"h6"),e._UZ(9,"i",50),e._uU(10," Web Links"),e.qZA(),e.YNc(11,Oy,5,2,"div",51),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.imagesUrl),e.xp6(5),e.Q6J("ngForOf",null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.docsUrl)}}function Uy(o,i){1&o&&e._UZ(0,"img",69),2&o&&e.Q6J("src",i.$implicit,e.LSH)}function jy(o,i){if(1&o&&(e.TgZ(0,"div",67),e.YNc(1,Uy,1,1,"img",68),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.data.the_documentComment.bulkImages)}}function Ry(o,i){if(1&o&&(e.TgZ(0,"a",71),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("href",t,e.LSH),e.xp6(1),e.hij(" ",t," ")}}function Fy(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Ry,2,2,"a",70),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.data.the_documentComment.urls)}}function qy(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,jy,2,1,"div",66),e.YNc(2,Fy,2,1,"div",62),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.bulkImages),e.xp6(1),e.Q6J("ngIf",null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.urls)}}function Jy(o,i){if(1&o&&(e.TgZ(0,"p",72),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.commentText," ")}}function Ly(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"textarea",73),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw(4);return e.KtG(s.editableText=r)}),e.qZA()}if(2&o){const t=e.oxw(4);e.Q6J("ngModel",t.editableText)}}function By(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.updateComment(r))}),e._uU(1," Save "),e.qZA()}}function Hy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.cancelEdit())}),e._uU(1," Cancel "),e.qZA()}}function Qy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",74)(1,"button",75),e._uU(2,"..."),e.qZA(),e.TgZ(3,"div",76)(4,"button",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.toggleEditComment(r))}),e._uU(5,"Edit"),e.qZA(),e.TgZ(6,"button",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.deleteComment(r))}),e._uU(7,"Delete"),e.qZA(),e.YNc(8,By,2,0,"button",78),e.YNc(9,Hy,2,0,"button",78),e.qZA()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(8),e.Q6J("ngIf",n.editCommentId===t.id),e.xp6(1),e.Q6J("ngIf",n.editCommentId===t.id)}}function Yy(o,i){if(1&o&&(e.TgZ(0,"div",57)(1,"div",58),e._UZ(2,"img",59),e.TgZ(3,"div",60)(4,"label",61),e._uU(5),e.qZA(),e.TgZ(6,"p")(7,"span"),e._uU(8),e.qZA()(),e.YNc(9,qy,3,2,"div",62),e.YNc(10,Jy,2,1,"p",63),e.YNc(11,Ly,1,1,"textarea",64),e.qZA(),e.YNc(12,Qy,10,2,"div",65),e.qZA()()),2&o){const t=i.$implicit,n=e.oxw(3);e.xp6(2),e.s9C("src",null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.profileImage,e.LSH),e.xp6(3),e.Oqu(null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.fullname),e.xp6(3),e.Oqu(n.formatDate(t.created_at)),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.data||null==t.data.the_documentComment||null==t.data.the_documentComment.bulkImages?null:t.data.the_documentComment.bulkImages.length)||(null==t||null==t.data||null==t.data.the_documentComment||null==t.data.the_documentComment.urls?null:t.data.the_documentComment.urls.length)),e.xp6(1),e.Q6J("ngIf",n.editCommentId!==t.id),e.xp6(1),e.Q6J("ngIf",n.editCommentId===t.id),e.xp6(1),e.Q6J("ngIf",n.checkOwnerOfComment(null==t||null==t.data||null==t.data.the_documentComment?null:t.data.the_documentComment.email))}}function Gy(o,i){if(1&o&&(e.TgZ(0,"div",54)(1,"h6"),e._uU(2,"Comments"),e.qZA(),e.TgZ(3,"div",55),e.YNc(4,Yy,13,7,"div",56),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.listComment)}}const zy=function(){return{standalone:!0}};function Vy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",79)(1,"input",80),e.NdJ("ngModelChange",function(r){const l=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.inputs[l]=r)}),e.qZA(),e.TgZ(2,"div",81)(3,"button",26),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(2);return e.KtG(l.addNewField(s))}),e._UZ(4,"i",82),e.qZA(),e.TgZ(5,"button",26),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(2);return e.KtG(l.removeField(s))}),e._UZ(6,"i",83),e.qZA()()()}if(2&o){const t=i.index,n=e.oxw(2);e.xp6(1),e.Q6J("ngModel",n.inputs[t])("ngModelOptions",e.DdM(3,zy))("placeholder","Add a file or note...")}}function Wy(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",87),e._UZ(1,"img",88),e.TgZ(2,"button",89),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.removeImage(s))}),e._uU(3," \xd7 "),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(1),e.Q6J("src",t,e.LSH)}}function $y(o,i){if(1&o&&(e.TgZ(0,"div",84)(1,"h6"),e._uU(2,"Image Previews:"),e.qZA(),e.TgZ(3,"div",85),e.YNc(4,Wy,4,1,"div",86),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.imagePreviews)}}function Ky(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",1),e._UZ(1,"img",2),e.TgZ(2,"h5",3),e._uU(3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"h6"),e._uU(9,"Description"),e.qZA(),e._UZ(10,"p",8),e.YNc(11,ky,21,6,"div",9),e.YNc(12,Ey,13,2,"div",9),e.YNc(13,Ny,12,2,"div",10),e.YNc(14,Gy,5,1,"div",11),e.TgZ(15,"div",12)(16,"h6"),e._uU(17,"Leave a Comment"),e.qZA(),e.TgZ(18,"form",13)(19,"div",14)(20,"div",15)(21,"div",16),e._UZ(22,"textarea",17),e.qZA(),e.TgZ(23,"div",18),e.YNc(24,Vy,7,4,"div",19),e.qZA(),e.YNc(25,$y,5,1,"div",20),e.TgZ(26,"div",21)(27,"div")(28,"label",22)(29,"a",23),e._UZ(30,"i",24),e.qZA()(),e.TgZ(31,"input",25),e.NdJ("change",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.onImgFileSelected(r))}),e.qZA(),e.TgZ(32,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addInputField())}),e._UZ(33,"i",27),e.qZA()(),e.TgZ(34,"button",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addComment())}),e._uU(35," Send "),e.qZA()()()()()()(),e.TgZ(36,"div",29)(37,"ul")(38,"li"),e._uU(39," Doc Type "),e.TgZ(40,"p")(41,"label"),e._uU(42),e.qZA()()(),e.TgZ(43,"li"),e._uU(44," Created By "),e.TgZ(45,"p"),e._uU(46),e.qZA()(),e.TgZ(47,"li"),e._uU(48," Created Date "),e.TgZ(49,"p"),e._uU(50),e.qZA()(),e.TgZ(51,"li"),e._uU(52," Last Updated By "),e.TgZ(53,"p"),e._uU(54),e.qZA()()()()()(),e._UZ(55,"div",30)}if(2&o){const t=e.oxw();e.xp6(3),e.hij(" ","api"==(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.types)?"API Documentation":"function"==(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.types)?"Class and Function Documentation":"imgAndLink"==(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.types)?"Images and Link Documentation":"Blank Documentation"," "),e.xp6(7),e.Q6J("innerHTML",null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.content,e.oJD),e.xp6(1),e.Q6J("ngIf","api"==(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.types)),e.xp6(1),e.Q6J("ngIf","function"==(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.types)),e.xp6(1),e.Q6J("ngIf","imgAndLink"==(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.types)),e.xp6(1),e.Q6J("ngIf",t.listComment.length>0),e.xp6(4),e.Q6J("formGroup",t.commentsForm),e.xp6(6),e.Q6J("ngForOf",t.inputs),e.xp6(1),e.Q6J("ngIf",t.imagePreviews.length>0),e.xp6(17),e.Oqu(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.types),e.xp6(4),e.Oqu(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.createdByEmail),e.xp6(4),e.Oqu(t.formatDateandTime(t.created_at)),e.xp6(4),e.Oqu(null==t.singleDocument||null==t.singleDocument.the_createDocument?null:t.singleDocument.the_createDocument.last_updated_by)}}let Gl=(()=>{const i=class{constructor(n,r,s,l){this.modalService=n,this._snackbarService=r,this._projectService=s,this.clipboard=l,this.listComment=[],this.inputs=[],this.inputValues=[],this.jsonresult={},this.editCommentId=null,this.editableText="",this.comments=[{author:"Raj Shah",timestamp:"1 day ago (09:12 PM)",text:"In publishing and graphic design, Lorem ipsum is a placeholder text commonly..."},{author:"Raj Shah",timestamp:"1 day ago (09:12 PM)",text:"Another comment text here..."}],this.imagePreviews=[]}ngOnInit(){var n=this;return(0,y.Z)(function*(){n.commentsForm=new g.cw({comment:new g.NI("",[g.kI.required])})})()}open(n,r,s,l){console.log(r,s),this.modalService.open(n,{size:"xl"}),this.singleDocument=r,this.documentId=s,this.created_at=l,this.getAllDocumentCommentByDocId()}editComment(n){console.log("Editing comment:",n)}addInputField(){this.inputs.push("")}addNewField(n){this.inputs[n]&&this.inputValues.push(this.inputs[n]),this.inputs.splice(n+1,0,""),console.log("Adding new field after index:",this.inputValues)}editField(n){console.log("Editing field at index:",n)}removeField(n){if(this.inputs.length>1){if(this.inputs[n]){const r=this.inputValues.indexOf(this.inputs[n]);-1!==r&&this.inputValues.splice(r,1)}this.inputs.splice(n,1)}console.log("remove new field after index:",this.inputValues)}onImgFileSelected(n){var r=this;return(0,y.Z)(function*(){const s=n.target.files;if(s){const l=new FormData;Array.from(s).forEach(c=>{l.append("Images",c)});const a={method:"POST",body:l,redirect:"follow"};yield fetch(fn.N.baseUrl+"/Image/upload_image_bulk",a).then(c=>c.text()).then(c=>{const d=JSON.parse(c);console.log(d)}).catch(c=>console.error(c)),Array.from(s).forEach(c=>{const d=new FileReader;d.onload=u=>{r.imagePreviews.push(u.target.result)},d.readAsDataURL(c)})}})()}removeImage(n){this.imagePreviews.splice(n,1)}addComment(){var n=this;return(0,y.Z)(function*(){if(n.commentsForm.valid){const r=yield localStorage.getItem("profile"),s=JSON.parse(r),l=yield(0,T.lDJ)(s.userConcept),a={the_documentComment:{fullname:l?.data?.the_user?.entity?.first_name+" "+l?.data?.the_user?.entity?.last_name,profileImage:l?.data?.the_user.entity?.person?.profile_img||"",email:l?.data?.the_user?.user_data?.primary_email||"",commentText:n.commentsForm.value.comment||"",urls:n.inputValues||"",bulkImages:n.imagePreviews||""}};try{const c=yield(0,T.J0M)(n.documentId),d=yield(0,T.joo)(a,void 0,void 0,void 0,s.userConcept,4);yield(0,T.GIn)(c,d,"documentationComment"),yield T.smK.SyncDataOnline(),n._snackbarService.openSnackBar("comment create successful","success"),n.imagePreviews=[],n.inputValues=[],n.commentsForm.patchValue({comment:""}),n.getAllDocumentCommentByDocId()}catch{n._snackbarService.openSnackBar("failed to create comment","error")}}})()}getAllDocumentCommentByDocId(){var n=this;return(0,y.Z)(function*(){n.listComment=yield(0,T.oKR)(n.documentId,"documentationComment_s"),console.log(n.listComment,"this.listComment",n.documentId)})()}formatDate(n){const r=new Date(n),l=Math.abs(new Date-r),a=Math.floor(l/864e5),c=Math.floor(l%864e5/36e5);let d;return d=a>0?`${a} day${a>1?"s":""} ago`:c>0?`${c} hour${c>1?"s":""} ago`:"just now",`${d} (${r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})})`}formatDateandTime(n){const r=new Date(n);return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()]}/${String(r.getDate()).padStart(2,"0")}/${String(r.getFullYear()).slice(-2)} (${r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})`}jsonFormatter(n){this.jsonresult=n.reduce((r,s)=>(r[s.key]=s.value,r),{})}copyText(n){this.clipboard.copy(n),alert("Text copied to clipboard!")}toggleEditComment(n){this.editCommentId=n.id,this.editableText=n.data.the_documentComment.commentText}updateComment(n){var r=this;return(0,y.Z)(function*(){n.data.the_documentComment.commentText=r.editableText;try{const s=new T.MYZ,l=yield localStorage.getItem("profile"),a=JSON.parse(l);s.userId=a?.userConcept,s.compositionId=n.id,s.patchObject={commentText:n?.data?.the_documentComment?.commentText||""},yield(0,T.hrH)(s),T.smK.SyncDataOnline(),r._snackbarService.openSnackBar("Comment Update successful","success")}catch{r._snackbarService.openSnackBar("Failed to Update comment","error")}r.editCommentId=null})()}deleteComment(n){var r=this;return(0,y.Z)(function*(){console.log("Deleted comment:",n.id);try{yield(0,T.Ac7)(n.id),T.smK.SyncDataOnline(),r._snackbarService.openSnackBar("comment deleted successful","success"),yield r.getAllDocumentCommentByDocId()}catch{r._snackbarService.openSnackBar("failed to delete comment","error")}})()}cancelEdit(){this.editCommentId=null,this.editableText=""}checkOwnerOfComment(n){const r=localStorage.getItem("profile");return JSON.parse(r).email===n}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(k.FF),e.Y36(Q.o),e.Y36(L.Y),e.Y36($i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-document"]],viewQuery:function(r,s){if(1&r&&e.Gf(wy,5),2&r){let l;e.iGM(l=e.CRH())&&(s.content=l.first)}},inputs:{singleDocument:"singleDocument",docsId:"docsId"},decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["src","../../../../../assets/documentation/modalLogo.png","height","45px","alt","","srcset",""],[1,"modal-title","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"container-fluid","d-flex","justify-content-between"],[1,"content"],[3,"innerHTML"],["class","function",4,"ngIf"],["class","imgAndLink",4,"ngIf"],["class","comments",4,"ngIf"],[1,"leaveComment"],[3,"formGroup"],[1,"d-flex"],[1,"comment-box"],[1,"mb-2"],["formControlName","comment","rows","3","placeholder","Comment as Raj Shahi...",1,"form-control"],["id","additional-inputs",1,"mt-3"],["class","input-field-wrapper mb-2 d-flex gap-2",4,"ngFor","ngForOf"],["class","mb-3",4,"ngIf"],[1,"d-flex","justify-content-between"],["title","Update cover image","for","project_attachment"],["role","button","title","Add attachment",1,"btn","btn-light","btn-sm","px-2","py-1"],[1,"bi","bi-image"],["id","project_attachment","type","file","accept",".png, .jpg, .jpeg","multiple","",1,"d-none",3,"change"],[1,"icon-btn",3,"click"],[1,"bi","bi-paperclip"],[1,"btn","btn-send",3,"click"],[1,"side-bar"],[1,"modal-footer","border-0"],[1,"function"],[1,"urls"],["class","mb-1",4,"ngIf"],[1,"urls","mt-4"],[1,"images","d-flex","gap-4"],["class","card w-100 ps-4 pt-3","style","background: #f2f5f9; border: 1px solid #cecece",4,"ngIf","ngIfElse"],["bearerToken",""],[1,"attachments","mt-4"],["class","card w-100 ps-4 pt-3","style","background: #f2f5f9; border: 1px solid #cecece",4,"ngIf"],[1,"mb-1"],[1,"input-group"],["type","text","id","copyInput","placeholder","Copy this text",1,"form-control","form-group-lg","border-end-0","shadow-none",3,"value","disabled"],["type","button","id","copyButton",1,"btn","btn-outline-secondary","border-start-0","border-top","border-end","border-bottom",3,"click"],[1,"bi","bi-copy"],[1,"card","w-100","ps-4","pt-3",2,"background","#f2f5f9","border","1px solid #cecece"],[2,"font-size","12px","color","black","font-weight","400"],[1,"attachments"],[1,"imgAndLink"],["class","card",4,"ngFor","ngForOf"],[1,"bi","bi-link-45deg"],["class","mb-1",4,"ngFor","ngForOf"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"comments"],[1,"d-flex","gap-1","flex-column"],["class","card w-100",4,"ngFor","ngForOf"],[1,"card","w-100"],[1,"card-body","d-flex","gap-1"],["alt","",3,"src"],[1,"comment-list","flex-grow-1"],[1,"card-title"],[4,"ngIf"],["class","card-text",4,"ngIf"],["rows","3","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["class","dropdown",4,"ngIf"],["class","d-flex gap-2",4,"ngIf"],[1,"d-flex","gap-2"],["alt","Comment Image","class","comment-image mb-2 border rounded-0","style","width: 20%; height: auto",3,"src",4,"ngFor","ngForOf"],["alt","Comment Image",1,"comment-image","mb-2","border","rounded-0",2,"width","20%","height","auto",3,"src"],["target","_blank","class","comment-link d-block mb-2",3,"href",4,"ngFor","ngForOf"],["target","_blank",1,"comment-link","d-block","mb-2",3,"href"],[1,"card-text"],["rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"dropdown"],[1,"dropdown-button"],[1,"dropdown-content"],[3,"click"],[3,"click",4,"ngIf"],[1,"input-field-wrapper","mb-2","d-flex","gap-2"],["type","text",1,"form-control","w-75",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[1,"icon-container","d-flex","justify-content-between","mt-1"],[1,"bi","bi-plus"],[1,"bi","bi-x"],[1,"mb-3"],[1,"d-flex","flex-wrap"],["class","position-relative me-2 mb-2",4,"ngFor","ngForOf"],[1,"position-relative","me-2","mb-2"],["alt","Image Preview","width","150","height","150",1,"img-thumbnail",3,"src"],[1,"btn","btn-sm","btn-danger","position-absolute","top-0","end-0","px-1","py-1","m-0","rounded-circle","h-25","w-25",2,"transform","translate(25%, -25%)",3,"click"]],template:function(r,s){1&r&&e.YNc(0,Ky,56,13,"ng-template",null,0,e.W1O)},dependencies:[I.sg,I.O5,g._Y,g.Fj,g.JJ,g.JL,g.On,g.sg,g.u,I.Ts],styles:["h5[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:24px;font-weight:700}.modal-content[_ngcontent-%COMP%]{width:805px;height:967px;border-radius:16px}.modal-header[_ngcontent-%COMP%]{background-color:#f6f6f6;width:72px;width:100%}.modal-body[_ngcontent-%COMP%]{background:#ffffff;padding:0;min-height:auto}.container-fluid[_ngcontent-%COMP%]{padding:0}.container-fluid[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:740px;margin:21px 0 0 24px}.content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:14px;font-weight:500}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:12px;font-weight:400}.content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:4px}.urls[_ngcontent-%COMP%]{margin-top:12px}.form-control[_ngcontent-%COMP%]:disabled{background-color:transparent}.form-group-lg[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.comments[_ngcontent-%COMP%]{margin-top:12px}.comments[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #dddddd;box-shadow:none}.comments[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:13px}.comments[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:100px}.comments[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:14px;font-weight:500;color:#000;margin:0}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:12px;font-weight:400;color:#000000b2}.comments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:11px;font-weight:500;color:#00000080}.leaveComment[_ngcontent-%COMP%]{margin-top:12px}.side-bar[_ngcontent-%COMP%]{width:300px;padding-top:21px;border-left:1px solid #cecece;background:#f2f5f9}.side-bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.side-bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:700;margin-bottom:21px}.side-bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#000000b2}.side-bar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#d8f3ff;border-radius:4px;padding:0 8px;font-size:12px;font-weight:400}.comment-box[_ngcontent-%COMP%]{width:100%;max-width:450px;background-color:#f7f7f7;border-radius:10px;box-shadow:none}.comment-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;border:1px solid #ddd;border-radius:5px}.comment-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]{background-color:#ff9dbf;border:none;color:#fff}.comment-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:hover{background-color:#e87aa2}.comment-box[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:transparent;border:none}.icon-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#555}.icon-btn[_ngcontent-%COMP%]:hover{color:#333}.card[_ngcontent-%COMP%]{box-shadow:none;border-radius:5px;margin-bottom:10px}.card-img-top[_ngcontent-%COMP%]{width:150px}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown-button[_ngcontent-%COMP%]{background-color:transparent;cursor:pointer;font-size:16px;border:none}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:0;background-color:#fff;min-width:100px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;color:#000;padding:8px 12px;text-decoration:none;display:block;background-color:#fff;border:none}.dropdown-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.icon-container[_ngcontent-%COMP%]{align-items:center}.icon-btn[_ngcontent-%COMP%]{border:none;background:transparent;cursor:pointer;margin:0 5px}.icon-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.icon-container[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:2px;padding:8px 14px}pre[_ngcontent-%COMP%]{background-color:transparent;color:#e87aa2}.urls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e87aa2}"]}),o})();function Xy(o,i){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=i.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.title," ")}}function ew(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",5,6)(2,"div",7)(3,"h4",8),e._uU(4,"Export As"),e.qZA(),e.TgZ(5,"button",9),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return s.dismiss("Cross click"),e.KtG(l.exportAsFormField.reset())}),e.qZA()(),e.TgZ(6,"div",10)(7,"div",11)(8,"div",12)(9,"label"),e._uU(10,"Save as"),e.qZA(),e._UZ(11,"input",13),e.qZA()(),e.TgZ(12,"div",14)(13,"div",12)(14,"label"),e._uU(15,"Choose a Format"),e.qZA(),e.TgZ(16,"select",15),e.YNc(17,Xy,2,2,"option",16),e.qZA()()()(),e.TgZ(18,"div",17)(19,"button",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return s.close("Close click"),e.KtG(l.exportAsFormField.reset())}),e._uU(20," Close "),e.qZA(),e.TgZ(21,"button",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.exportDocumentAs())}),e._uU(22," Export "),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.exportAsFormField),e.xp6(17),e.Q6J("ngForOf",t.exportAsList),e.xp6(4),e.Q6J("disabled",t.exportButton)}}let tw=(()=>{const i=class{constructor(n,r,s,l,a,c,d,u){this._snackbarService=n,this.modal=r,this._activatedRoute=s,this.router=l,this.clipboard=a,this._nodeService=c,this.elementRef=d,this._projectService=u,this.isloading=!1,this.getAllDocuments=[],this.singleDocument=[],this.searchTerm="",this.filteredResults=[],this.searchResults=[],this.isBulkChecked=!1,this.isChecked=!1,this.docsIdBulk=[],this.isDropdownOpen=!1,this.selectedTypes=[],this.filteredArray=[],this.modalService=(0,e.f3M)(k.FF),this.createdBy=!1,this.exportButton=!1,this.exportAsList=[{title:"Word",code:"docx"},{title:"Text",code:"txt"},{title:"Pdf",code:"pdf"}],this.options=[{name:"Blank",value:"blank",checked:!1},{name:"Api",value:"api",checked:!1},{name:"Function and Class",value:"function",checked:!1},{name:"Images and Links",value:"imgAndLink",checked:!1}]}ngOnInit(){var n=this;return(0,y.Z)(function*(){n.initializeDocumentationWidget(),yield n._activatedRoute.queryParams.subscribe(s=>{n.listAllDocuments(s.docid||"")});const r=localStorage.getItem("profile");n.userProfile=JSON.parse(r),n.exportAsFormField=new g.cw({docName:new g.NI("",[g.kI.required]),docFormat:new g.NI("",[g.kI.required])}),n.getProjectDetails()})()}initializeDocumentationWidget(){var n=this;return(0,y.Z)(function*(){const r=document.getElementById("docWidget");if(r)try{yield(0,T.FtU)(101979790,r,n.projectId)}catch(s){console.error("Error rendering widget:",s)}else console.error("Element with ID 'docWidget' not found!")})()}getProjectDetails(){this._projectService.getProjectDetails(this.projectId).subscribe({next:n=>{this.createdBy=n.data.projectDetail.data.boomgpt.created_by==this.userProfile.userConcept.toString()}})}listAllDocuments(n){var r=this;return(0,y.Z)(function*(){r.isloading=!0;try{const s=yield(0,T.$Er)(r.projectId,"the_boom_folder_s_contain");r.getAllDocuments=n?yield s.filter(l=>l?.id==n):yield s.filter(l=>l?.data?.the_createDocument),r.filteredArray=r.getAllDocuments}catch{r._snackbarService.openSnackBar("Error getting all documents","error")}})()}createDocumentModal(n){this.myModal.open(this.myModal.content,n,null),this.listAllDocuments(null)}exportDocuments(n){this.modalService.open(n,{backdropClass:"light-blue-backdrop"})}viewDocument(n,r){var s=this;return(0,y.Z)(function*(){const l=yield(0,T.Tey)(n);yield s.viewDocsModal.open(s.viewDocsModal.content,l,n,r)})()}getSingleDocument(n){var r=this;return(0,y.Z)(function*(){try{r.singleDocument=yield(0,T.Tey)(n),r.myModal.open(r.myModal.content,n,r.singleDocument)}catch{r._snackbarService.openSnackBar('Error listing single Document: Document Doesn"t Exist Or Not Valid',"error")}})()}deleteDocument(n){var r=this;return(0,y.Z)(function*(){yield r.deleteModal.open(r.deleteModal.content,n)})()}shareDocument(n){this.clipboard.copy("http://localhost:4200"+this.router.url+`&docid=${n.id}`),alert("Ready to share: paste link in url")}onbulkCheckboxChange(n){this.isBulkChecked=n.target.checked,this.docsIdBulk=[],this.getAllDocuments.forEach(r=>{r.checked=this.isBulkChecked,this.isBulkChecked&&this.docsIdBulk.push(r.id)})}onSingleCheckboxChange(n,r){if(this.isChecked=n.target.checked,this.isChecked)this.docsIdBulk.push(r.id);else{const s=this.docsIdBulk.indexOf(r.id);s>-1&&this.docsIdBulk.splice(s,1)}this.isChecked=this.docsIdBulk.length>0,this.isBulkChecked=this.getAllDocuments.every(s=>s.checked)}onSearchChange(){this.searchTerm?this.filteredResults=this.getAllDocuments.filter(n=>n.data.the_createDocument.docTitle.toLowerCase().includes(this.searchTerm.toLowerCase())):(this.filteredArray=this.filteredResults,this.listAllDocuments(null),this.filteredResults=[])}selectSuggestion(n){this.searchTerm=`${n.data.the_createDocument.docTitle}`,this.filteredArray=[n],this.filteredResults=[]}filterByAssignedUser(n){return!(n?.assignUsers&&n?.assignUsers.some(s=>s.id===this.userProfile?.userConcept.toString())||n&&n?.createdByEmail?.includes(this.userProfile?.email.toString()))}exportDocumentAs(){var n=this;return(0,y.Z)(function*(){n.exportAsFormField.value.docName?(n._snackbarService.openSnackBar("Downloading documents","info"),n.isloading=!0,n.exportButton=!0,n.docsIdBulk.map(function(){var r=(0,y.Z)(function*(s){yield n._nodeService.exportDocumentAs(s,n.exportAsFormField.value).subscribe({next:l=>{l.data?fetch(l.data).then(a=>a.blob()).then(a=>{const c=window.URL.createObjectURL(a),d=document.createElement("a");d.style.display="none",document.body.appendChild(d),d.href=c,d.download=l.filename+"."+l.fileType,d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),n.isloading=!1,n.exportButton=!1,n.modalService.dismissAll(),n.exportAsFormField.reset()}).catch(a=>{console.error("Error downloading file:max size 2Mb allowed",a),n.exportAsFormField.reset(),n.exportButton=!1}):(n._snackbarService.openSnackBar("Download Failed:max size 2Mb allowed","error"),n.isloading=!1,n.exportButton=!1,n.exportAsFormField.reset())},error:l=>{n.exportAsFormField.reset(),n.exportButton=!1,console.error("Error downloading document:",l),n._snackbarService.openSnackBar("Error Downloading Document:max size 2Mb allowed","error")}})});return function(s){return r.apply(this,arguments)}}())):n._snackbarService.openSnackBar("Error in Name","error")})()}onOptionChange(n){if(n.target.checked)this.selectedTypes.length>=4&&(this.selectedTypes=[]),this.selectedTypes.push(n.target.value);else{const r=this.selectedTypes.indexOf(n.target.value);r>0?this.selectedTypes.splice(r,1):this.selectedTypes.push("blank","api","function","imgAndLink")}this.filteredArray=this.getAllDocuments.filter(r=>this.selectedTypes.includes(r.data.the_createDocument.types))}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}clickOutside(n){this.elementRef.nativeElement.contains(n.target)||(this.isDropdownOpen=!1)}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(Q.o),e.Y36(k.FF),e.Y36(H.gz),e.Y36(H.F0),e.Y36($i),e.Y36(rt.s),e.Y36(e.SBq),e.Y36(L.Y))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-document-management"]],viewQuery:function(r,s){if(1&r&&(e.Gf(Ql,5),e.Gf(Gl,5),e.Gf(Yl,5)),2&r){let l;e.iGM(l=e.CRH())&&(s.myModal=l.first),e.iGM(l=e.CRH())&&(s.viewDocsModal=l.first),e.iGM(l=e.CRH())&&(s.deleteModal=l.first)}},hostBindings:function(r,s){1&r&&e.NdJ("click",function(a){return s.clickOutside(a)},!1,e.evT)},inputs:{projectId:"projectId"},decls:9,vars:1,consts:[["export",""],[3,"singleDocument","callGrandParent"],[3,"callParent"],[1,"container"],["id","docWidget",1,""],[3,"formGroup"],["createExportASFormId","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],["formControlName","docName","id","docName","name","docName","type","text","placeholder","File name",1,"form-control"],[1,"row","mt-3"],["formControlName","docFormat","name","docFormat",1,"form-control","form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[3,"value"]],template:function(r,s){1&r&&(e.YNc(0,ew,23,3,"ng-template",null,0,e.W1O),e.TgZ(2,"app-document-management-dialogs",1),e.NdJ("callGrandParent",function(){return s.listAllDocuments(null)}),e.qZA(),e._UZ(3,"app-view-document"),e.TgZ(4,"app-delete-document",2),e.NdJ("callParent",function(){return s.listAllDocuments(null)}),e.qZA(),e.TgZ(5,"div",3)(6,"h5"),e._uU(7,"Project Documentation"),e.qZA(),e._UZ(8,"div",4),e.qZA()),2&r&&(e.xp6(2),e.Q6J("singleDocument",s.singleDocument))},dependencies:[I.sg,g._Y,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.JL,g.sg,g.u,Ql,Yl,Gl],styles:[".container[_ngcontent-%COMP%]{margin-top:1.5rem}h5[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#000}.topBar[_ngcontent-%COMP%]{margin-top:1rem}.topBar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:100%;max-width:394px;height:42px;border:1px solid #dddddd;border-radius:4px;color:#000}.btn.btn-filter[_ngcontent-%COMP%], .btn.btn-export[_ngcontent-%COMP%]{width:auto;padding:0 16px;height:42px;border-radius:4px;border:1px solid #dddddd;font-size:14px;font-weight:500;color:#000000b2;background:transparent;margin-left:8px}.btn.btn-export[_ngcontent-%COMP%]{color:#000;border:1px solid black}.btn[_ngcontent-%COMP%]{height:42px;padding:2px 16px;border-radius:4px;font-size:16px;font-weight:500}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef598c 0%,#f48439 100%);margin-left:12px;border:none}.btn.btn-secondary[_ngcontent-%COMP%]{background:transparent;border:1px solid #dddddd;border-radius:4px;color:#000000b2;font-family:Inter;font-size:16px;font-weight:500}.table-responsive[_ngcontent-%COMP%]{margin-top:12px}.table[_ngcontent-%COMP%]{font-size:14px}.table[_ngcontent-%COMP%]   .docType[_ngcontent-%COMP%]{width:115px;padding:2px 8px;border-radius:4px;font-size:12px}.table[_ngcontent-%COMP%]   .docEmail[_ngcontent-%COMP%]{font-size:12px;color:#000000b2}.btn-view[_ngcontent-%COMP%]{width:30px;height:24px;padding:4px 8px;display:flex;align-items:center;justify-content:center}.left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:40px;font-size:14px;color:#0009;background-size:16px}.input-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 20px 10px 40px;font-size:16px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.input-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:10px;transform:translateY(-50%);font-size:18px;color:#aaa}.autocomplete-items[_ngcontent-%COMP%]{position:absolute;border:1px solid #d4d4d4;z-index:99;background-color:#fff;max-height:150px;overflow-y:auto;width:100%}.autocomplete-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px;cursor:pointer}.autocomplete-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#e9e9e9}.btn-filter[_ngcontent-%COMP%]{background-color:#fff;color:#333;border:1px solid #ddd;border-radius:4px;padding:8px 16px}.custom-dropdown[_ngcontent-%COMP%]{min-width:200px;padding:0;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a;position:absolute;top:55px}.option-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 16px;border-bottom:1px solid #f0f0f0}.option-wrapper[_ngcontent-%COMP%]:last-child{border-bottom:none}.styled-checkbox[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:18px;height:18px;border:2px solid #ccc;border-radius:4px;margin-right:12px;margin-bottom:8px;position:relative;cursor:pointer}.styled-checkbox[_ngcontent-%COMP%]:checked{background-color:#0091ff;border-color:#0091ff}.styled-checkbox[_ngcontent-%COMP%]:checked:after{color:#fff;font-weight:700;position:absolute;top:1px;left:3px}.form-check-label[_ngcontent-%COMP%]{font-size:14px;color:#333}@media (max-width: 768px){.topBar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.btn.btn-filter[_ngcontent-%COMP%], .btn.btn-export[_ngcontent-%COMP%]{font-size:12px}h5[_ngcontent-%COMP%]{font-size:20px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:12px}.btn-view[_ngcontent-%COMP%]{width:24px;height:20px}.input-container[_ngcontent-%COMP%]{max-width:100%}.input-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:10px}}@media (max-width: 576px){.btn.btn-primary[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-top:8px}.topBar[_ngcontent-%COMP%]{flex-direction:column}.topBar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .topBar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.d-flex.gap-2[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width: 600px){table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:none}tr[_ngcontent-%COMP%]{border-bottom:10px solid #ffffff}td[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;padding:12px!important;font-size:16px}td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700}}"]}),o})();function nw(o,i){if(1&o&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij("(",null==t.project||null==t.project.data||null==t.project.data.boomgpt?null:t.project.data.boomgpt.title,")")}}function iw(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.assignUser(r.p))}),e._uU(1," Add Team Members "),e.qZA()}}function ow(o,i){if(1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Description:"),e.qZA(),e.TgZ(3,"td",30),e._uU(4),e.qZA()()),2&o){const t=e.oxw(4);e.xp6(4),e.hij(" ",null==t.project||null==t.project.data||null==t.project.data.boomgpt?null:t.project.data.boomgpt.visual_text," ")}}function rw(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2,"Enable Git:"),e.qZA(),e.TgZ(3,"td",31)(4,"button",32),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.enableGit())}),e._uU(5," Enable "),e.qZA()()()}}function sw(o,i){if(1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3,"Git Repository Name"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.TgZ(6,"tr")(7,"td"),e._uU(8,"Git Repository Branch"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()(),e.BQk()),2&o){const t=e.oxw(4);e.xp6(5),e.Oqu(null==t.integratedGitDetails?null:t.integratedGitDetails.applicationName),e.xp6(5),e.Oqu(null==t.integratedGitDetails?null:t.integratedGitDetails.applicationBranch)}}function lw(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",41)(1,"button",42),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.handleImportSelectedCapture())}),e._uU(2," Import Selected "),e.qZA(),e.TgZ(3,"button",43),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(5);return e.KtG(r.handleDeleteSelectedCapture())}),e._uU(4," Delete Selected "),e.qZA()()}}function aw(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",44),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(5);return e.KtG(l.selectCapture(s))}),e.qZA()(),e.TgZ(3,"td",45)(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"td")(7,"div",46)(8,"button",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(5);return e.KtG(l.handleImportCapture(s))}),e._uU(9," Import "),e.qZA(),e.TgZ(10,"button",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(5);return e.KtG(l.handleDeleteCapture(s))}),e._uU(11," Delete "),e.qZA()()()()}if(2&o){const t=i.$implicit,n=e.oxw(5);e.xp6(2),e.Q6J("name",t.id)("id",t.id)("checked",n.selectAllCaptures.includes(t)),e.xp6(3),e.Oqu(t.data.boomgpt.note||t.data.boomgpt.title)}}function cw(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"h4",35),e._uU(3,"Issues Raised But Not Imported"),e.qZA(),e.YNc(4,lw,5,0,"div",36),e.qZA(),e.TgZ(5,"table",37)(6,"tr",38)(7,"th")(8,"input",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.handleSelectAllCapturesClick())}),e.qZA()(),e.TgZ(9,"th"),e._uU(10,"Captures"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Actions"),e.qZA()(),e.YNc(13,aw,12,4,"tr",40),e.qZA()()}if(2&o){const t=e.oxw(4);e.xp6(4),e.Q6J("ngIf",t.selectAllCaptures.length>0),e.xp6(4),e.Q6J("checked",t.selectAllCaptures.length==t.filteredScreenshotCaptures.length),e.xp6(5),e.Q6J("ngForOf",t.filteredScreenshotCaptures)}}function dw(o,i){if(1&o&&(e.TgZ(0,"div",24)(1,"h2",25),e._uU(2),e.qZA(),e.TgZ(3,"span",26),e._uU(4,"Work In Progress"),e.qZA(),e.TgZ(5,"table",27)(6,"tr")(7,"th"),e._uU(8,"Project By:"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()(),e.YNc(11,ow,5,1,"tr",28),e.YNc(12,rw,6,0,"tr",28),e.YNc(13,sw,11,2,"ng-container",28),e.qZA(),e.YNc(14,cw,14,3,"div",29),e.qZA()),2&o){const t=e.oxw(3);e.xp6(2),e.Oqu(null==t.project||null==t.project.data||null==t.project.data.boomgpt?null:t.project.data.boomgpt.title),e.xp6(8),e.Oqu(null==t.project||null==t.project.data||null==t.project.data.boomgpt?null:t.project.data.boomgpt.created_by_email),e.xp6(1),e.Q6J("ngIf",null==t.project||null==t.project.data||null==t.project.data.boomgpt?null:t.project.data.boomgpt.visual_text),e.xp6(1),e.Q6J("ngIf",(null==t.project||null==t.project.data||null==t.project.data[t.captureBoomGPTComposition]?null:t.project.data[t.captureBoomGPTComposition].created_by)==t.user.userConcept&&!(null!=t.integratedGitDetails&&t.integratedGitDetails.applicationName)),e.xp6(1),e.Q6J("ngIf",null==t.integratedGitDetails?null:t.integratedGitDetails.applicationName),e.xp6(1),e.Q6J("ngIf",t.filteredScreenshotCaptures.length)}}function uw(o,i){if(1&o&&e._UZ(0,"app-project-board",48),2&o){const t=e.oxw(4);e.Q6J("template",t.projectTemplate)("projectData",t.project)("projectUsers",t.projectUsers)}}function pw(o,i){1&o&&(e.TgZ(0,"mat-tab",47),e.YNc(1,uw,1,3,"ng-template",16),e.qZA())}function _w(o,i){if(1&o&&e._UZ(0,"app-project-tasks",50),2&o){const t=e.oxw(4);e.Q6J("projectData",t.project)("projectUsers",t.projectUsers)}}function mw(o,i){1&o&&(e.TgZ(0,"mat-tab",49),e.YNc(1,_w,1,2,"ng-template",16),e.qZA())}function gw(o,i){if(1&o&&e._UZ(0,"app-project-gantt",52),2&o){const t=e.oxw(4);e.Q6J("projectData",t.project)}}function hw(o,i){1&o&&(e.TgZ(0,"mat-tab",51),e.YNc(1,gw,1,1,"ng-template",16),e.qZA())}function fw(o,i){if(1&o&&e._UZ(0,"app-project-reports",54),2&o){const t=e.oxw(4);e.Q6J("projectData",t.project)("projectTemplate",t.projectTemplate)}}function vw(o,i){1&o&&(e.TgZ(0,"mat-tab",53),e.YNc(1,fw,1,2,"ng-template",16),e.qZA())}function bw(o,i){1&o&&e._UZ(0,"app-project-calendar")}function xw(o,i){1&o&&(e.TgZ(0,"mat-tab",55),e.YNc(1,bw,1,0,"ng-template",16),e.qZA())}function Cw(o,i){if(1&o&&e._UZ(0,"app-document-mgmt",52),2&o){const t=e.oxw(4);e.Q6J("projectData",t.projectId)}}function Tw(o,i){1&o&&(e.TgZ(0,"mat-tab",56),e.YNc(1,Cw,1,1,"ng-template",16),e.qZA())}function yw(o,i){if(1&o&&e._UZ(0,"app-document-management",58),2&o){const t=e.oxw(4);e.Q6J("projectId",t.projectId)}}function ww(o,i){1&o&&(e.TgZ(0,"mat-tab",57),e.YNc(1,yw,1,1,"ng-template",16),e.qZA())}function Iw(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-tab-group",14),e.NdJ("selectedIndexChange",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.activeTabId=r)})("selectedTabChange",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.handleTabChange())}),e.TgZ(2,"mat-tab",15),e.YNc(3,dw,15,6,"ng-template",16),e.qZA(),e.YNc(4,pw,2,0,"mat-tab",17),e.YNc(5,mw,2,0,"mat-tab",18),e.YNc(6,hw,2,0,"mat-tab",19),e.YNc(7,vw,2,0,"mat-tab",20),e.YNc(8,xw,2,0,"mat-tab",21),e.YNc(9,Tw,2,0,"mat-tab",22),e.YNc(10,ww,2,0,"mat-tab",23),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedIndex",t.activeTabId),e.xp6(3),e.Q6J("ngIf",!(null!=t.projectTemplate&&t.projectTemplate.shownTabs)||(null==t.projectTemplate||null==t.projectTemplate.shownTabs?null:t.projectTemplate.shownTabs.includes("Board"))),e.xp6(1),e.Q6J("ngIf",!(null!=t.projectTemplate&&t.projectTemplate.shownTabs)||(null==t.projectTemplate||null==t.projectTemplate.shownTabs?null:t.projectTemplate.shownTabs.includes("Issues"))),e.xp6(1),e.Q6J("ngIf",!(null!=t.projectTemplate&&t.projectTemplate.shownTabs)||(null==t.projectTemplate||null==t.projectTemplate.shownTabs?null:t.projectTemplate.shownTabs.includes("Gantt"))),e.xp6(1),e.Q6J("ngIf",!(null!=t.projectTemplate&&t.projectTemplate.shownTabs)||(null==t.projectTemplate||null==t.projectTemplate.shownTabs?null:t.projectTemplate.shownTabs.includes("Report"))),e.xp6(1),e.Q6J("ngIf",!(null!=t.projectTemplate&&t.projectTemplate.shownTabs)||(null==t.projectTemplate||null==t.projectTemplate.shownTabs?null:t.projectTemplate.shownTabs.includes("Calendar"))),e.xp6(1),e.Q6J("ngIf",!(null!=t.projectTemplate&&t.projectTemplate.shownTabs)||(null==t.projectTemplate||null==t.projectTemplate.shownTabs?null:t.projectTemplate.shownTabs.includes("Document"))),e.xp6(1),e.Q6J("ngIf",!(null!=t.projectTemplate&&t.projectTemplate.shownTabs)||(null==t.projectTemplate||null==t.projectTemplate.shownTabs?null:t.projectTemplate.shownTabs.includes("Documentation")))}}function Aw(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-choose-template",59),e.NdJ("showChooseTemplate",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.hideChooseTemplate(r))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("projectId",t.projectId)}}function Dw(o,i){if(1&o&&(e.TgZ(0,"div",11),e.YNc(1,Iw,11,8,"ng-container",12),e.YNc(2,Aw,1,1,"ng-template",null,13,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.isChooseTemplateActive)("ngIfElse",t)}}const Sw=[{path:"",component:uc},{path:"create",component:Kc},{path:"view/:id",component:(()=>{const i=class{constructor(n,r,s,l,a,c,d,u,_,m){this._authService=n,this._itemService=r,this._projectService=s,this.router=l,this._activatedRoute=a,this._snackbarService=c,this._nodeService=d,this._modalService=u,this.sanitizer=_,this.elRef=m,this.loading=!1,this.activeTabId=0,this.activeTabList=["Project","Board","Issues","Gantt","Report","Calendar","Documention","Document"],this.isChooseTemplateActive=!1,this.captureBoomGPTComposition=ie.rG,this.filteredScreenshotCaptures=[],this.selectAllCaptures=[]}ngOnInit(){var n=this;this.loading=!0,this._activatedRoute.params.subscribe(function(){var r=(0,y.Z)(function*(s){n.loading=!0;const l=+s.id;n.projectId=l,n.fetchProjectDetails(l);const a=yield(0,T.$Er)(n.projectId,"the_boom_folder_s_contain");n.filteredScreenshotCaptures=a.filter(c=>c?.data?.[ie.rG]?.title!=n.project?.data?.[ie.co]?.category_name&&c.data?.[ie.rG]?.data_type==td.Z.Screenshot),n.getAssignedUsers()});return function(s){return r.apply(this,arguments)}}())}viewIssue(n){const r=this._modalService.open(At,{backdrop:"static",size:"xl"});r.componentInstance.projectId=this.projectId,r.componentInstance.issueId=n?.id,r.componentInstance.selectedIssue=n,r.result.then(()=>{}).catch(()=>{})}fetchProjectDetails(n){var r=this;return(0,y.Z)(function*(){try{r.loading=!0,r._projectService.getProjectDetails(n).subscribe({next:s=>{r.project=s.data.projectDetail,r.projectTemplate=s.data.template,r.p={name:r.project.data.boomgpt.boom_folder.category_name||r.project.data.boomgpt.title,id:r.project.data.boomgpt.boom_folder.category_id},r.integratedGitDetails=s?.data?.gitApplication,r._activatedRoute.queryParams.subscribe(l=>{l.tab&&(r.activeTabId=r.projectTemplate?.shownTabs?.length>0?r.projectTemplate?.shownTabs?.indexOf(l.tab)>=0?r.projectTemplate?.shownTabs?.indexOf(l.tab):0:r.activeTabList.indexOf(l.tab)>=0?r.activeTabList.indexOf(l.tab):0)}),r.user=r._authService.loadFromLocalStorage(),!r.projectTemplate&&r.project.id&&0==s?.data?.hasBoards&&r.project?.data?.[ie.rG]&&r.project?.data?.[ie.rG]?.created_by==r.user.userConcept&&(r.isChooseTemplateActive=!0,setTimeout(()=>{r._snackbarService.openSnackBar(`Select a template for this project - ${r.project?.data?.[ie.rG]?.title}`,"info")},500))},error:s=>{console.error(s),console.error("Failed to fetch project details. Response is null or undefined.")},complete:()=>r.loading=!1})}catch(s){console.error("Error fetching project details:",s)}})()}handleSelectAllCapturesClick(){this.selectAllCaptures=this.selectAllCaptures.length!=this.filteredScreenshotCaptures.length?this.filteredScreenshotCaptures:[]}selectCapture(n){this.selectAllCaptures.includes(n)?this.selectAllCaptures=this.selectAllCaptures.filter(r=>r.id!=n.id):this.selectAllCaptures.push(n)}handleImportCapture(n){var r=this;return(0,y.Z)(function*(){r.loading=!0;const s={title:n.data.boomgpt.note??n.data.boomgpt.title,attachments:n.data.boomgpt.images?.map(l=>l.path)||[]};r._projectService.createIssue(r.project.id,s).subscribe({next:()=>{r.filteredScreenshotCaptures=r.filteredScreenshotCaptures.filter(l=>l.id!=n.id),r.selectAllCaptures=r.selectAllCaptures.filter(l=>l.id!=n.id),r.handleDeleteCapture(n),r._snackbarService.openSnackBar("Capture Imported as Issue","success")},error:()=>{r.loading=!1},complete:()=>r.loading=!1})})()}handleDeleteCapture(n){this._itemService.deleteComponentLink(this.project.id,n.id,"the_boom_folder_s_contain").subscribe({next:()=>{this.filteredScreenshotCaptures=this.filteredScreenshotCaptures.filter(r=>r.id!=n.id),this.selectAllCaptures=this.selectAllCaptures.filter(r=>r.id!=n.id)}})}handleImportSelectedCapture(){var n=this;this.loading=!0;const r={};for(let s=0;s<this.selectAllCaptures.length;s++){const l=this.selectAllCaptures[s],a={title:l.data.boomgpt.note??l.data.boomgpt.title,attachments:l.data.boomgpt.images?.map(c=>c.path)||[]};r[s]=this._projectService.createIssue(this.project.id,a)}var s;(0,Xc.D)(r).subscribe({next:(s=(0,y.Z)(function*(){yield n.handleDeleteSelectedCapture(),n._snackbarService.openSnackBar("Captures Imported as Issue","success")}),function(){return s.apply(this,arguments)}),error:()=>{this.loading=!1},complete:()=>this.loading=!1})}handleDeleteSelectedCapture(){var n=this;return(0,y.Z)(function*(){const r=n.selectAllCaptures.map(l=>l.id);n._itemService.bulkRemoveSemanticConnection({composition1:n.project.id,compositions:r,linker:ed.xq,both:!0}).subscribe({next:()=>{n._itemService.bulkDelete(r).subscribe(),n.filteredScreenshotCaptures=n.filteredScreenshotCaptures.filter(l=>!n.selectAllCaptures.includes(l)),n.selectAllCaptures=[]}})})()}handleTabChange(){let n;n=this.projectTemplate?.shownTabs?.length>0?{tab:this.projectTemplate?.shownTabs[this.activeTabId],docid:null}:{tab:this.activeTabList[this.activeTabId],docid:null},this.router.navigate([],{relativeTo:this._activatedRoute,queryParams:n,queryParamsHandling:"merge"})}hideChooseTemplate(n){this.isChooseTemplateActive=n}assignUser(n){const r=this._modalService.open(co,{size:"lg"});r.componentInstance.project=n,r.result.then(()=>{this.getAssignedUsers()}).catch(()=>{})}getAssignedUsers(){var n=this;return(0,y.Z)(function*(){n._projectService.getProjectUsers(n.projectId).then(r=>{n.projectUsers=r})})()}enableGit(){const n=this._modalService.open(nd,{size:"md"});n.componentInstance.projectId=this.projectId,n.result.then(r=>{this.integratedGitDetails=r}).catch(()=>{})}};let o=i;return i.\u0275fac=function(r){return new(r||i)(e.Y36(st.e),e.Y36(lt.e),e.Y36(L.Y),e.Y36(H.F0),e.Y36(H.gz),e.Y36(Q.o),e.Y36(rt.s),e.Y36(k.FF),e.Y36(yn.H7),e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-project-detail"]],decls:11,vars:3,consts:[[1,"container","pb-4"],[1,"page-title"],[1,"my-3","mb-0"],["routerLink","/projects"],[1,"material-symbols-outlined"],["class","text-break p-0",4,"ngIf"],[1,"d-flex","justify-content-end","w-100","mb-2"],["class","btn btn-primary py-2 px-2",3,"click",4,"ngIf"],["class","page-card py-4",4,"ngIf"],[1,"text-break","p-0"],[1,"btn","btn-primary","py-2","px-2",3,"click"],[1,"page-card","py-4"],[4,"ngIf","ngIfElse"],["chooseTemplate",""],[3,"selectedIndex","selectedIndexChange","selectedTabChange"],["label","Project"],["matTabContent",""],["label","Board",4,"ngIf"],["label","Issues",4,"ngIf"],["label","Gantt",4,"ngIf"],["label","Report",4,"ngIf"],["label","Calendar",4,"ngIf"],["label","Document",4,"ngIf"],["label","Documentation",4,"ngIf"],[1,"p-4","project-details-wrapper"],[1,"text-break"],[1,"badge","bg-warning"],[1,"table","table-borderless"],[4,"ngIf"],["class","card p-4 mt-4",4,"ngIf"],[1,"text-muted","text-break"],[1,"text-muted"],[1,"btn","btn-primary","py-2","px-4",3,"click"],[1,"card","p-4","mt-4"],[1,"d-flex","justify-content-between","align-items-center","gap-2","my-4"],[1,"fw-bold"],["class","d-flex flex-row gap-2 align-items-center",4,"ngIf"],[1,"table"],[1,"bg-dark","table-dark"],["type","checkbox","name","select_all","id","select_all",1,"form-check","form-check-solid",3,"checked","click"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-row","gap-2","align-items-center"],[1,"btn","btn-success","btn-sm","px-2","py-1",3,"click"],[1,"btn","btn-danger","btn-sm","px-2","py-1",3,"click"],["type","checkbox",1,"form-check","form-check-solid",3,"name","id","checked","click"],[1,"text-capitalize"],[1,"d-flex","flex-row","gap-2"],["label","Board"],[3,"template","projectData","projectUsers"],["label","Issues"],[3,"projectData","projectUsers"],["label","Gantt"],[3,"projectData"],["label","Report"],[3,"projectData","projectTemplate"],["label","Calendar"],["label","Document"],["label","Documentation"],[3,"projectId"],[3,"projectId","showChooseTemplate"]],template:function(r,s){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2)(3,"a",3)(4,"span",4),e._uU(5," arrow_back "),e.qZA()(),e._uU(6," Project Details "),e.YNc(7,nw,2,1,"small",5),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,iw,2,0,"button",7),e.qZA(),e.YNc(10,Dw,4,2,"div",8),e.qZA()),2&r&&(e.xp6(7),e.Q6J("ngIf",null==s.project||null==s.project.data||null==s.project.data.boomgpt?null:s.project.data.boomgpt.title),e.xp6(2),e.Q6J("ngIf",!s.loading&&(null==s.user?null:s.user.userConcept)==(null==s.project||null==s.project.data||null==s.project.data.boomgpt?null:s.project.data.boomgpt.created_by)),e.xp6(1),e.Q6J("ngIf",!s.loading))},dependencies:[I.sg,I.O5,Dt.Vc,Dt.uX,Dt.SP,H.rH,In,Gm,ng,jg,po,_0,LT,tw],styles:[".page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;top:4px}div.project-details-wrapper[_ngcontent-%COMP%]{padding:20px 0!important}"]}),o})()}];let kw=(()=>{const i=class{};let o=i;return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[H.Bz.forChild(Sw),H.Bz]}),o})();var Mw=D(2271),Zw=D(5412);let Ew=(()=>{const i=class{};let o=i;return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Zw.Is,I.ez,g.u5,g.UX,k.IJ,Dt.Nh,Y._t,ua,$.Wt,$.Wt.forRoot(),kw,d0,oe.FP.forRoot({locals:{bold:"Bold",italic:"Italic",code:"Code",blockquote:"Blockquote",underline:"Underline",strike:"Strike",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"}}),z0,k.XC,X0.forRoot(),Mw.m,HT]}),o})()},8998:(Wl,Tt,D)=>{D.d(Tt,{R:()=>e});var I=D(4650);let e=(()=>{const ce=class{constructor(){}static notOnlySpaces(){return qe=>{const de=qe.value;return null==de?null:""===de.trim()?{onlySpaces:!0}:null}}static noSpaces(){return qe=>{const de=qe.value;return null==de?null:/\s/.test(de)?{noSpaces:!0}:null}}};let nt=ce;return ce.\u0275fac=function(de){return new(de||ce)},ce.\u0275prov=I.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),nt})()}}]);