"use strict";(self.webpackChunkngx_boomconsole=self.webpackChunkngx_boomconsole||[]).push([[995],{995:(k,Z,d)=>{d.r(Z),d.d(Z,{BugReportingModule:()=>Ge});var u=d(6895),b=d(7518),x=d(5861),_=d(9446),l=d(4006),y=d(6844),h=d(4266),e=d(4650),g=d(8495),f=d(8180);function T(o,r){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function A(o,r){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function M(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",21)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span",22),e.NdJ("click",function(){const n=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.removeLabel(n))}),e._uU(4,"close"),e.qZA()()}if(2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t)}}const U=function(){return{standalone:!0}};let S=(()=>{const r=class{constructor(s,i,n){this._activeModal=s,this._nodeService=i,this._snackbarService=n,this.loader=!1,this.prioritiesList=h.N,this.raiseProjectIssueForm=new l.cw({title:new l.NI(""),description:new l.NI(""),priority:new l.NI(this.prioritiesList[2]),projectId:new l.NI("",y.kI.required())}),this.addLabel="",this.labels=[]}ngOnInit(){this.labels=this.userIssue?.labels||[],this.raiseProjectIssueForm.controls.title.setValue(this.userIssue.title),this.raiseProjectIssueForm.controls.description.setValue(this.userIssue.description),this.raiseProjectIssueForm.controls.title.setValue(this.userIssue.title)}raiseIssueAsProjectIssue(){const s=this.raiseProjectIssueForm.value.projectId;if(""!=s&&null!=s){this.loader=!0;const i={userIssueId:this.userIssue.id,projectId:parseInt(s),title:this.raiseProjectIssueForm.value.title??"",description:this.raiseProjectIssueForm.value.description??"",priority:this.raiseProjectIssueForm.value.priority??"",labels:this.labels};this._nodeService.acceptUserIssue(i).subscribe({next:n=>{this._activeModal.close({status:n.status}),this._snackbarService.openSnackBar("Raised as an Issue","success"),this.loader=!1},error:n=>{this.loader=!1,this._snackbarService.openSnackBar(n?.error?.message||"Failed to Accept Issue","error")}})}else this._snackbarService.openSnackBar("Project is not Selected","warning")}removeLabel(s){this.labels=this.labels.filter(i=>i!=s)}handleAddLabelChange(s){const i=s.target.value?.trim()?.toLowerCase();if(""!=i){this.labels=[...this.labels,i];let n=this.userIssue?.labels||[];n=[n,i],this.userIssue.labels=n,this.addLabel="",this._nodeService.addLabelsToUserIssue(this.userIssue.id,{label:i}).subscribe({error:a=>{this.userIssue.labels?.pop(),console.error(a)}})}}};let o=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(_.Kz),e.Y36(g.s),e.Y36(f.o))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-raise-as-project-issue"]],inputs:{userIssue:"userIssue",joinedProjects:"joinedProjects"},decls:38,vars:9,consts:[[3,"formGroup","keydown.enter","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","projectId",1,"form-label"],["name","projectId","id","projectId","required","","formControlName","projectId",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","title",1,"form-label"],["id","title","type","text","placeholder","Summary...","formControlName","title",1,"form-control"],["id","title","type","text","formControlName","description","placeholder","Description or Steps to reproduce...",1,"form-control"],[1,"row"],[1,"col"],["name","priority","id","priority","formControlName","priority",1,"form-select"],[1,"mb-2","d-flex","flex-row","flex-wrap","gap-1"],["class","badge bg-secondary d-flex flex-row gap-2 align-items-center",4,"ngFor","ngForOf"],["type","text","placeholder","Add a label",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"],[1,"badge","bg-secondary","d-flex","flex-row","gap-2","align-items-center"],[1,"material-symbols-outlined","cursor-pointer",2,"font-size","16px",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"form",0),e.NdJ("keydown.enter",function(c){return c.preventDefault()})("ngSubmit",function(){return n.raiseIssueAsProjectIssue()}),e.TgZ(1,"div",1)(2,"h4",2),e._uU(3,"Raise Issue for Project"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n._activeModal.dismiss()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"Project"),e.qZA(),e.TgZ(9,"select",7)(10,"option",8),e._uU(11,"Select a project to assign"),e.qZA(),e.YNc(12,T,2,2,"option",9),e.qZA()(),e.TgZ(13,"div",5)(14,"label",10),e._uU(15,"Summary"),e.qZA(),e._UZ(16,"input",11),e.qZA(),e.TgZ(17,"div",5)(18,"label",10),e._uU(19,"Description"),e.qZA(),e._UZ(20,"textarea",12),e.qZA(),e.TgZ(21,"div",13)(22,"div",14)(23,"div",5)(24,"label",10),e._uU(25,"Priority"),e.qZA(),e.TgZ(26,"select",15),e.YNc(27,A,2,2,"option",9),e.qZA()()()(),e.TgZ(28,"div",13)(29,"div",14)(30,"div",5)(31,"label",10),e._uU(32,"Labels"),e.qZA(),e.TgZ(33,"div",16),e.YNc(34,M,5,1,"span",17),e.qZA(),e.TgZ(35,"input",18),e.NdJ("ngModelChange",function(c){return n.addLabel=c})("keyup.enter",function(c){return n.handleAddLabelChange(c)}),e.qZA()()()(),e.TgZ(36,"button",19),e._uU(37),e.qZA()()()),2&i&&(e.Q6J("formGroup",n.raiseProjectIssueForm),e.xp6(12),e.Q6J("ngForOf",n.joinedProjects),e.xp6(15),e.Q6J("ngForOf",n.prioritiesList),e.xp6(7),e.Q6J("ngForOf",n.labels),e.xp6(1),e.Q6J("ngModel",n.addLabel)("ngModelOptions",e.DdM(8,U)),e.xp6(1),e.Q6J("disabled",n.loader),e.xp6(1),e.hij(" ",n.loader?"Submitting":"Submit"," "))},dependencies:[u.sg,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.On,l.sg,l.u]}),o})();const v={waiting_verification:"Waiting Verification",verified:"Verified",accepted:"Accepted",merged:"Merged",working:"Working",closed:"Closed",resolved:"Resolved",fixed:"Fixed",reopened:"Reopened"};function O(o,r){1&o&&(e.ynx(0),e.TgZ(1,"div",7),e._UZ(2,"div",8),e.qZA(),e.BQk())}function F(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",21),e._uU(1),e.TgZ(2,"span",22),e.NdJ("click",function(){const n=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.removeLabel(n))}),e._uU(3,"\xd7"),e.qZA()()}if(2&o){const t=r.$implicit;e.xp6(1),e.hij(" ",t," ")}}function J(o,r){if(1&o&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.title," ")}}function N(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",9)(1,"label",10),e._uU(2,"Search Issues"),e.qZA(),e.TgZ(3,"input",11),e.NdJ("input",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.filterIssueList(i))}),e.qZA()(),e.TgZ(4,"div",9)(5,"label",12),e._uU(6,"Search Labels"),e.qZA(),e.TgZ(7,"div",13),e.YNc(8,F,4,1,"span",14),e.qZA(),e.TgZ(9,"input",15),e.NdJ("keyup.enter",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.addLabel(i))}),e.qZA()(),e.TgZ(10,"div",9)(11,"label",16),e._uU(12,"IssueName"),e.qZA(),e.TgZ(13,"select",17)(14,"option",18),e._uU(15,"Select a issue to merge with"),e.qZA(),e.YNc(16,J,2,2,"option",19),e.qZA()(),e.TgZ(17,"button",20),e._uU(18),e.qZA()}if(2&o){const t=e.oxw();e.xp6(8),e.Q6J("ngForOf",t.labelList),e.xp6(8),e.Q6J("ngForOf",t.filteredIssues),e.xp6(1),e.Q6J("disabled",t.loader),e.xp6(1),e.hij(" ",t.loader?"Submitting":"Submit"," ")}}let q=(()=>{const r=class{constructor(s,i,n){this._activeModal=s,this._nodeService=i,this._snackbarService=n,this.searchingIssues=!1,this.loader=!1,this.loading=!1,this.filteredIssues=[],this.labelList=[],this.title="",this.mergeProjectIssueForm=new l.cw({referredUserIssueId:new l.NI(""),searchIssues:new l.NI(""),searchLabels:new l.NI("")})}ngOnInit(){this.userIssuesList=this.userIssues.filter(s=>s.id!=this.userIssue.id&&s.status==v.accepted),this.loading=!0,this.getIssueList(1,50)}getIssueList(s,i){this._nodeService.listUserIssueRaisedInfo(s,i).subscribe({next:n=>{this.filteredIssues=n?.data?.issues?.filter(a=>a.status!=v.merged&&a.status!=v.waiting_verification&&a.id!=this.userIssue.id),this.filteredIssues=[...new Set(this.filteredIssues.filter(a=>a.id))],50==n?.data?.issues?.length&&this.filteredIssues.length<8&&this.getIssueList(s+1,i+50)},error:()=>{this.loading=!1},complete:()=>this.loading=!1})}filterIssueList(s){this.title=s.target.value,this.filterIssueListHelper(1,50,"","",this.title,this.labelList)}filterIssueListHelper(s,i,n,a,c="",m){this._nodeService.filterBug(s,i,n,a,c,m).subscribe({next:p=>{const I=p?.data?.issues;this.filteredIssues=I?I.filter(C=>C.status!==v.merged&&C.status!==v.waiting_verification&&C.id!==this.userIssue.id):[]},error:p=>{console.error("API Error:",p),this.loading=!1,this._snackbarService.openSnackBar("Failed to filter issues. Please try again.","error")},complete:()=>{this.loading=!1}})}addLabel(s){const i=s.target,n=i.value.trim();n&&!this.labelList.includes(n)&&this.labelList.push(n),i.value="",this.filterIssueListHelper(1,50,"","",this.title,this.labelList)}removeLabel(s){this.labelList.splice(s,1),this.filterIssueListHelper(1,50,"","",this.title,this.labelList)}mergeUserIssue(s){const i=this.mergeProjectIssueForm.value.referredUserIssueId;""!=i&&null!=i?(this.loader=!0,this._nodeService.mergeUserIssue({userIssueId:this.userIssue.id,referredUserIssueId:parseInt(i)}).subscribe({next:n=>{this._activeModal.close({status:n.status}),this._snackbarService.openSnackBar("Merged as an Issue","success"),this.loader=!1},error:n=>{this.loader=!1,this._snackbarService.openSnackBar(n?.error?.message||"Failed to merge issue","error")}})):this._snackbarService.openSnackBar("Issue is not Selected","warning")}};let o=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(_.Kz),e.Y36(g.s),e.Y36(f.o))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-merge-user-issue"]],inputs:{userIssue:"userIssue",joinedProjects:"joinedProjects",userIssues:"userIssues"},decls:9,vars:3,consts:[[3,"formGroup","ngSubmit","keydown.enter"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf","ngIfElse"],["loaded",""],[1,"loading"],[1,"loader"],[1,"form-group"],["for","searchIssues",1,"form-label"],["type","text","id","searchIssues","formControlName","searchIssues","placeholder","Search issues...",1,"form-control",3,"input"],["for","searchLabels",1,"form-label"],[1,"label-container"],["class","label badge bg-secondary me-2 mb-1",4,"ngFor","ngForOf"],["type","text","id","searchLabels","formControlName","searchLabels","placeholder","Add Label to Search",1,"form-control",3,"keyup.enter"],["for","projectId",1,"form-label"],["name","projectId","id","projectId","required","","formControlName","referredUserIssueId",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"label","badge","bg-secondary","me-2","mb-1"],[1,"ms-1","close-button",3,"click"],[3,"value"]],template:function(i,n){if(1&i&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(c){return n.mergeUserIssue(c)})("keydown.enter",function(c){return c.preventDefault()}),e.TgZ(1,"div",1)(2,"h4",2),e._uU(3,"Merge Issue with Existing"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n._activeModal.dismiss()}),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,O,3,0,"ng-container",5),e.YNc(7,N,19,4,"ng-template",null,6,e.W1O),e.qZA()()),2&i){const a=e.MAs(8);e.Q6J("formGroup",n.mergeProjectIssueForm),e.xp6(6),e.Q6J("ngIf",n.loading)("ngIfElse",a)}},dependencies:[u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.sg,l.u],styles:[".form-control[_ngcontent-%COMP%]{padding:6px;box-shadow:none}.label-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.label[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:.25rem}.close-button[_ngcontent-%COMP%]{cursor:pointer;margin-left:4px}"]}),o})();var P=d(4954),L=d(384),w=d(6613);function R(o,r){if(1&o&&(e.TgZ(0,"div",15)(1,"h5",16),e._uU(2,"Description"),e.qZA(),e._UZ(3,"p",17),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("innerHTML",t.userIssue.description,e.oJD)}}function j(o,r){if(1&o&&(e.TgZ(0,"div",15)(1,"h5",16),e._uU(2,"Issue Raised From"),e.qZA(),e.TgZ(3,"a",18),e._uU(4),e.qZA()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("href",t.userIssue.url,e.LSH),e.xp6(1),e.Oqu(t.userIssue.url)}}function Q(o,r){if(1&o&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(t)}}function Y(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",22)(1,"input",23),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addLabel=i)})("keyup.enter",function(i){e.CHM(t);const n=e.oxw(2);return e.KtG(n.handleAddLabelChange(i))}),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.addLabel)}}function B(o,r){if(1&o&&(e.TgZ(0,"div",15)(1,"h5",16),e._uU(2,"Attached Labels"),e.qZA(),e.TgZ(3,"div",19),e.YNc(4,Q,2,1,"span",20),e.qZA(),e.YNc(5,Y,2,1,"div",14),e.qZA()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.userIssue.labels),e.xp6(1),e.Q6J("ngIf",t.hasEditAccess)}}function D(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"img",26),e.NdJ("click",function(){const n=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.openImageInDialog(a.userIssue.attachments,n))}),e.qZA()}if(2&o){const t=r.$implicit,s=e.oxw(2);e.Q6J("src",t,e.LSH)("alt",s.userIssue.title)}}function V(o,r){if(1&o&&(e.TgZ(0,"div",15)(1,"h5",16),e._uU(2,"Attachments"),e.qZA(),e.TgZ(3,"div",24),e.YNc(4,D,1,2,"img",25),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",null==t.userIssue?null:t.userIssue.attachments)}}function E(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"img",28),e.NdJ("click",function(){const n=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.openImageInDialog(a.attachments,n))}),e.qZA()}2&o&&e.Q6J("src",r.$implicit.url,e.LSH)}function H(o,r){if(1&o&&(e.TgZ(0,"div",15)(1,"h5",16),e._uU(2,"Attachments"),e.qZA(),e.TgZ(3,"div",24),e.YNc(4,E,1,1,"img",27),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.attachments)}}function K(o,r){if(1&o&&e._UZ(0,"img",32),2&o){const t=e.oxw(2);e.s9C("title",t.userIssue.raisedBy.firstName+" "+t.userIssue.raisedBy.lastName),e.Q6J("src",t.userIssue.raisedBy.profileImg,e.LSH)}}function G(o,r){if(1&o&&e._UZ(0,"img",33),2&o){const t=e.oxw(2);e.s9C("title",t.userIssue.raisedBy.firstName+" "+t.userIssue.raisedBy.lastName)}}function z(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"h5",16),e._uU(2,"Raised By"),e.qZA(),e.TgZ(3,"p")(4,"a",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.navigateToProfile(i.userIssue.raisedBy.id))}),e.YNc(5,K,1,2,"img",30),e.YNc(6,G,1,1,"ng-template",null,31,e.W1O),e.qZA()(),e.TgZ(8,"p"),e._uU(9),e.qZA()()}if(2&o){const t=e.MAs(7),s=e.oxw();e.xp6(5),e.Q6J("ngIf",s.userIssue.raisedBy.profileImg)("ngIfElse",t),e.xp6(4),e.hij(" ",s.userIssue.raisedBy.firstName+" "+s.userIssue.raisedBy.lastName," ")}}function $(o,r){if(1&o&&e._UZ(0,"img",32),2&o){const t=e.oxw(2);e.s9C("title",t.userIssue.validatedBy.firstName+" "+t.userIssue.validatedBy.lastName),e.Q6J("src",t.userIssue.validatedBy.profileImg,e.LSH)}}function W(o,r){if(1&o&&e._UZ(0,"img",33),2&o){const t=e.oxw(2);e.s9C("title",t.userIssue.validatedBy.firstName+" "+t.userIssue.validatedBy.lastName)}}function X(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"h5",16),e._uU(2,"Validated By"),e.qZA(),e.TgZ(3,"p")(4,"a",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.navigateToProfile(i.userIssue.validatedBy.id))}),e.YNc(5,$,1,2,"img",30),e.YNc(6,W,1,1,"ng-template",null,31,e.W1O),e.qZA()(),e.TgZ(8,"p"),e._uU(9),e.qZA()()}if(2&o){const t=e.MAs(7),s=e.oxw();e.xp6(5),e.Q6J("ngIf",s.userIssue.validatedBy.profileImg)("ngIfElse",t),e.xp6(4),e.hij(" ",s.userIssue.validatedBy.firstName+" "+s.userIssue.validatedBy.lastName," ")}}const ee=function(o){return{"fw-bold":o}};function te(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"a",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,n=e.oxw(2);return e.KtG(n.navigateToProfile(null==i||null==i.comment_by?null:i.comment_by.id))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(2,ee,"comment"==(null==t?null:t.status)||"reopened"==(null==t||null==t.status?null:t.status.toLowerCase()))),e.xp6(1),e.hij(" ",null!=t&&null!=t.comment_by&&t.comment_by.firstName?(null==t||null==t.comment_by?null:t.comment_by.firstName)+" "+(null==t||null==t.comment_by?null:t.comment_by.lastName):null==t||null==t.comment_by?null:t.comment_by.email," ")}}function se(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"a",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,n=e.oxw(2);return e.KtG(n.showUserIssue(null==i||null==i.refer?null:i.refer.id))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij("#",null==t||null==t.refer?null:t.refer.id,"")}}function ie(o,r){if(1&o&&(e.TgZ(0,"span",45),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.status)}}function ne(o,r){if(1&o&&(e.TgZ(0,"p",46),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.description," ")}}const oe=function(){return["","comment"]};function re(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"li")(2,"p",37),e.YNc(3,te,2,4,"a",38),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.YNc(6,se,2,1,"a",39),e.YNc(7,ie,2,1,"span",40),e.qZA(),e.TgZ(8,"div",22),e.YNc(9,ne,2,1,"p",41),e.TgZ(10,"span",42),e._uU(11),e.ALo(12,"date"),e.ALo(13,"UTCToLocalTime"),e.qZA()()(),e.BQk()),2&o){const t=r.$implicit,s=e.oxw(2);e.xp6(3),e.Q6J("ngIf",null==t?null:t.comment_by),e.xp6(2),e.Oqu(null==t?null:t.title),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.status)==s.userIssueStatus.merged&&(null==t?null:t.refer)),e.xp6(1),e.Q6J("ngIf",!e.DdM(11,oe).includes(null==t?null:t.status)),e.xp6(2),e.Q6J("ngIf",null==t?null:t.description),e.xp6(2),e.hij(" ",e.xi3(12,6,e.lcZ(13,9,(null==t?null:t.createdAt)||""),"mediumDate")," ")}}function ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.handleCommentInIssue())}),e._uU(1," Comment "),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("disabled",t.loading)}}function le(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.handleRequestVerification())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("disabled",t.loading),e.xp6(1),e.hij(" ",t.hasEditAccess?"Raise Again":"Request Verification"," ")}}function ce(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.markIssueAsFixed())}),e._uU(1," Mark As Fixed "),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("disabled",t.loading)}}function ue(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"p",47),e._uU(2),e.qZA(),e.TgZ(3,"div",22)(4,"textarea",48),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw(2);return e.KtG(n.commentText=i)}),e.qZA(),e.TgZ(5,"div",5),e.YNc(6,ae,2,1,"button",49),e.YNc(7,le,2,2,"button",49),e.YNc(8,ce,2,1,"button",50),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.hij(" ","closed"==(null==t.activities[t.activities.length-1]?null:t.activities[t.activities.length-1].status)?t.hasEditAccess?"Raise Again":"Request Verification":"Comment On Issue"," "),e.xp6(2),e.Q6J("ngModel",t.commentText),e.xp6(2),e.Q6J("ngIf","closed"!=(null==t.activities[t.activities.length-1]||null==t.activities[t.activities.length-1].status?null:t.activities[t.activities.length-1].status.toLowerCase())),e.xp6(1),e.Q6J("ngIf","Closed"==(null==t.userIssue?null:t.userIssue.status)||"Resolved"==(null==t.userIssue?null:t.userIssue.status)||t.hasEditAccess),e.xp6(1),e.Q6J("ngIf",t.userIssue.status==t.userIssueStatus.resolved&&(t.isUserIssueOwner()||t.hasEditAccess))}}function de(o,r){if(1&o&&(e.TgZ(0,"div",22)(1,"h5",34),e._uU(2,"Activity"),e.qZA(),e.TgZ(3,"ul",35),e.YNc(4,re,14,12,"ng-container",36),e.YNc(5,ue,9,5,"li",12),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.activities),e.xp6(1),e.Q6J("ngIf",!t.hasUserIssueClosedMultipleTimes())}}const pe=function(o){return[o]};let _e=(()=>{const r=class{constructor(s,i,n,a,c,m,p){this._authService=s,this._nodeService=i,this._activeModal=n,this._modalService=a,this._snackbarService=c,this.router=m,this.activatedRoute=p,this.hasEditAccess=!1,this.userIssueStatus=v,this.loading=!1,this.activities=[],this.attachments=[],this.commentText="",this.addLabel=""}ngOnInit(){const s=this._authService.loadFromLocalStorage();this.currentUserConcept=parseInt(s?.userConcept),this._nodeService.getUserIssueActivities(this.userIssue.id).subscribe({next:i=>{this.activities=i.data||[]}}),this._nodeService.getUserIssueAttachments(this.userIssue.id).subscribe({next:i=>{this.attachments=i.data||[]}})}openImageInDialog(s,i){const n=this._modalService.open(P.$,{size:"xl"});n.componentInstance.imageUrl=s,n.componentInstance.i=i}navigateToProfile(s){this._activeModal.dismiss(),this.router.navigate(["bm",s])}handleCommentInIssue(){this.verifyCommentValidation()&&(this.loading=!0,this._nodeService.addUserIssueActivity(this.userIssue.id,{comment:this.commentText.trim()}).subscribe({next:s=>{this.activities.push(s.data),this.commentText="",this.loading=!1},error:s=>{console.error(s),this.loading=!1}}))}getAttachmentsOfIssue(){this._nodeService.getUserIssueAttachments(this.userIssue.id).subscribe({next:s=>{this.attachments.push(s.data)},error:s=>{console.error(s)}})}handleRequestVerification(){this.verifyCommentValidation()&&(this.loading=!0,this._nodeService.reopenUserIssue(this.userIssue.id,{comment:this.commentText.trim()}).subscribe({next:s=>{this.activities=[this.activities,...s.data],this.commentText="",this.loading=!1},error:s=>{console.error(s),this.loading=!1}}))}hasUserIssueClosedMultipleTimes(){return this.activities.filter(s=>"Closed"==s.status)?.length>5}verifyCommentValidation(){return!(""==this.commentText.trim()||this.commentText.trim().length<3&&(this._snackbarService.openSnackBar("Text is too short","error"),1))}showUserIssue(s){this._activeModal.dismiss(),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{id:s},queryParamsHandling:"merge"})}handleAddLabelChange(s){const i=s.target.value?.trim()?.toLowerCase();if(""!=i){let n=this.userIssue?.labels||[];n=[n,i],this.userIssue.labels=n,this.addLabel="",this._nodeService.addLabelsToUserIssue(this.userIssue.id,{label:i}).subscribe({error:a=>{this.userIssue.labels?.pop(),console.error(a)}})}}markIssueAsFixed(){this.loading=!0,this._nodeService.markIssueAsFixed({userIssueId:this.userIssue.id,comment:this.commentText.trim()||void 0}).subscribe({next:s=>{this.loading=!1,this.userIssue.status="Fixed",s?.data&&this.activities.push(s.data)},error:s=>{this.loading=!1,console.error(s)}})}isUserIssueOwner(){return this.currentUserConcept==this.userIssue?.raisedBy?.id}getBadgeClass(s){return{"waiting verification":"badge-waiting",accepted:"badge-accepted",merged:"badge-merged",working:"badge-working",resolved:"badge-resolved",fixed:"badge-fixed",closed:"badge-closed",reopened:"badge-reopened"}[s.toLowerCase().trim()]||"text-bg-secondary"}};let o=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(L.e),e.Y36(g.s),e.Y36(_.Kz),e.Y36(_.FF),e.Y36(f.o),e.Y36(b.F0),e.Y36(b.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-issue-detail"]],inputs:{userIssue:"userIssue",hasEditAccess:"hasEditAccess"},decls:24,vars:15,consts:[[1,"modal-header"],[1,"issueType","me-2",3,"title","ngClass"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"d-flex","flex-row","gap-2"],[1,"d-flex"],[1,"badge","my-2",3,"ngClass"],["class","mt-2",4,"ngIf"],[1,"table","mt-4"],[1,"border-0"],[1,"ps-0"],[4,"ngIf"],[1,"pe-0"],["class","",4,"ngIf"],[1,"mt-2"],[1,"fw-bold"],[1,"description","text-break",3,"innerHTML"],["target","_blank",1,"raised-url",3,"href"],[1,"d-flex","flex-row","gap-2","flex-wrap"],["class","badge bg-secondary",4,"ngFor","ngForOf"],[1,"badge","bg-secondary"],[1,""],["type","text","placeholder","Add a label",1,"form-control","py-1","px-2","w-25","mt-2",3,"ngModel","ngModelChange","keyup.enter"],[1,"d-flex","gap-2"],["class","issue-attachment cursor-pointer",3,"src","alt","click",4,"ngFor","ngForOf"],[1,"issue-attachment","cursor-pointer",3,"src","alt","click"],["class","issue-attachment cursor-pointer",3,"src","click",4,"ngFor","ngForOf"],[1,"issue-attachment","cursor-pointer",3,"src","click"],[3,"click"],["class","profile_image",3,"title","src",4,"ngIf","ngIfElse"],["defaultImg",""],[1,"profile_image",3,"title","src"],["src","https://boomconcole.com/freeschema/6aa4c5b4-7492-4364-a1ad-5843db46b41e_small.webp",1,"profile_image",3,"title"],[1,"fw-semibold"],[1,"list-unstyled","sessions"],[4,"ngFor","ngForOf"],[1,"mb-0","ga-1"],["class","text-dark",3,"ngClass","click",4,"ngIf"],["class","link-primary ms-2",3,"click",4,"ngIf"],["class","badge bg-primary ms-2",4,"ngIf"],["class","mb-0",4,"ngIf"],[1,"time","text-secondary"],[1,"text-dark",3,"ngClass","click"],[1,"link-primary","ms-2",3,"click"],[1,"badge","bg-primary","ms-2"],[1,"mb-0"],[1,"mb-0","fw-bold"],["rows","2","placeholder","Add a comment",1,"form-control",3,"ngModel","ngModelChange"],["class","btn btn-primary px-4 py-2 mt-2",3,"disabled","click",4,"ngIf"],["class","btn btn-success px-4 py-2 mt-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn-primary","px-4","py-2","mt-2",3,"disabled","click"],[1,"btn","btn-success","px-4","py-2","mt-2",3,"disabled","click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.TgZ(2,"h4",2),e._uU(3,"Issue Details"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n._activeModal.dismiss()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"h3"),e._uU(8),e.qZA()(),e.TgZ(9,"div",6)(10,"span",7),e._uU(11),e.qZA()(),e.YNc(12,R,4,1,"div",8),e.YNc(13,j,5,2,"div",8),e.YNc(14,B,6,2,"div",8),e.YNc(15,V,5,1,"div",8),e.YNc(16,H,5,1,"div",8),e.TgZ(17,"table",9)(18,"tr",10)(19,"td",11),e.YNc(20,z,10,3,"div",12),e.qZA(),e.TgZ(21,"td",13),e.YNc(22,X,10,3,"div",12),e.qZA()()(),e.YNc(23,de,6,2,"div",14),e.qZA()),2&i&&(e.xp6(1),e.Q6J("title","feature"==n.userIssue.type?"Feature":"Bug")("ngClass",e.VKq(13,pe,"feature"==n.userIssue.type?"issueType_feature":"issueType_bug")),e.xp6(7),e.Oqu(n.userIssue.title),e.xp6(2),e.Q6J("ngClass",n.getBadgeClass(n.userIssue.status)),e.xp6(1),e.Oqu(n.userIssue.status),e.xp6(1),e.Q6J("ngIf",n.userIssue.description),e.xp6(1),e.Q6J("ngIf",null==n.userIssue?null:n.userIssue.url),e.xp6(1),e.Q6J("ngIf",n.hasEditAccess||null!=(null==n.userIssue||null==n.userIssue.labels?null:n.userIssue.labels.length)&&(null==n.userIssue||null==n.userIssue.labels?null:n.userIssue.labels.length)),e.xp6(1),e.Q6J("ngIf",null==n.userIssue||null==n.userIssue.attachments?null:n.userIssue.attachments.length),e.xp6(1),e.Q6J("ngIf",null==n.attachments?null:n.attachments.length),e.xp6(4),e.Q6J("ngIf",n.userIssue.raisedBy),e.xp6(2),e.Q6J("ngIf",n.userIssue.validatedBy),e.xp6(1),e.Q6J("ngIf",n.activities.length>0))},dependencies:[u.mk,u.sg,u.O5,l.Fj,l.JJ,l.On,u.uU,w.u],styles:['.issue-attachment[_ngcontent-%COMP%]{height:100px;width:100px;object-fit:contain;border:1px solid lightgray}.raised-url[_ngcontent-%COMP%]{word-wrap:break-word}.description[_ngcontent-%COMP%]{white-space:pre-wrap}.sessions[_ngcontent-%COMP%]{margin-top:1rem;border-radius:12px;position:relative}.sessions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:1.5rem;border-left:1px solid rgb(255,148,114);position:relative;padding-left:20px;margin-left:10px}.sessions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:0px;padding-bottom:0}.sessions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";width:15px;height:15px;background:white;border:1px solid rgb(255,148,114);box-shadow:3px 3px #ff947299;border-radius:50%;position:absolute;left:-10px;top:0}.sessions[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:.75rem}.sessions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#4f4f4f;font-family:sans-serif;line-height:1.5}']}),o})(),ge=(()=>{const r=class{constructor(s,i,n){this._activeModal=s,this._nodeService=i,this._snackbarService=n,this.loader=!1,this.closeUserIssueForm=new l.cw({remarks:new l.NI("")})}closeUserIssue(){this.loader=!0,this._nodeService.closeUserIssue({userIssueId:this.userIssue.id,remarks:this.closeUserIssueForm.value.remarks||""}).subscribe({next:s=>{this._activeModal.close({status:s.status,remarks:this.closeUserIssueForm.value.remarks}),this._snackbarService.openSnackBar("Closed an Issue","success"),this.loader=!1},error:s=>{console.log(s),this.loader=!1,this._snackbarService.openSnackBar(s?.error?.message||"Failed to close issue","error")}})}};let o=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(_.Kz),e.Y36(g.s),e.Y36(f.o))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-close-raised-issue"]],inputs:{userIssue:"userIssue"},decls:12,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","projectId",1,"form-label"],["name","remarks","id","remarks","rows","5","placeholder","Remarks...","formControlName","remarks",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,n){1&i&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.closeUserIssue()}),e.TgZ(1,"div",1)(2,"h4",2),e._uU(3,"Close Issue with Remarks"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n._activeModal.dismiss()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"IssueName"),e.qZA(),e._UZ(9,"textarea",7),e.qZA(),e.TgZ(10,"button",8),e._uU(11),e.qZA()()()),2&i&&(e.Q6J("formGroup",n.closeUserIssueForm),e.xp6(10),e.Q6J("disabled",n.loader),e.xp6(1),e.Oqu(n.loader?"Submitting":"Submit"))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),o})();function me(o,r){1&o&&(e.TgZ(0,"div",25),e._uU(1," Please enter a valid Issue with more than 4 characters. "),e.qZA())}function he(o,r){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,me,2,0,"div",24),e.qZA()),2&o){const t=e.oxw();let s;e.xp6(1),e.Q6J("ngIf",null==(s=t.issueForm.get("name"))?null:s.errors)}}function fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",29),e._UZ(1,"img",30),e.TgZ(2,"span",31),e.NdJ("click",function(){const n=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.removeFile(n))}),e._uU(3,"\u274c"),e.qZA()()}if(2&o){const t=r.$implicit;e.xp6(1),e.Q6J("src",t.url,e.LSH)}}function be(o,r){if(1&o&&(e.TgZ(0,"div",26)(1,"p"),e._uU(2,"Selected Files:"),e.qZA(),e.TgZ(3,"div",27),e.YNc(4,fe,4,1,"div",28),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.selectedFiles)}}function Ie(o,r){if(1&o&&(e.TgZ(0,"div",32),e._UZ(1,"img",33),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.testVariable,e.LSH)}}function xe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.handleClipboard())}),e._uU(1," Paste Image "),e.qZA()}}function ve(o,r){1&o&&e._UZ(0,"span",35)}function Ce(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Submit"),e.qZA())}function Ze(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addClipboardImage())}),e._uU(2,"+"),e.qZA()()}}let Te=(()=>{const r=class{constructor(s,i,n,a,c){this._activeModal=s,this.fb=i,this._nodeService=n,this.router=a,this._snackbarService=c,this.loader=!1,this.testVariable="",this.clipboardImageCaptured=!1,this.clipboardImageBlob=null,this.isSubmitting=!1,this.selectedFiles=[],this.issueForm=this.fb.group({name:"",type:["bug"],description:"",attachments:[[]],clipboard:[null]})}ngOnInit(){this.handleClipboard();const s=localStorage.getItem("issueForm");s&&this.issueForm.setValue(JSON.parse(s));const i=localStorage.getItem("selectedFiles");i&&(this.selectedFiles=JSON.parse(i)),this.issueForm.valueChanges.subscribe(n=>{localStorage.setItem("issueForm",JSON.stringify(n))}),this.selectedFiles=this.selectedFiles||[]}submitForm(){var s=this;return(0,x.Z)(function*(){if(s.issueForm.get("description")?.value.length<4)s._snackbarService.openSnackBar("Description must have at least 4 characters","error");else if(s.issueForm.valid&&!s.isSubmitting){s.isSubmitting=!0;const i=new FormData;for(let c=0;c<s.selectedFiles.length&&c<4;c++)i.append("attachments",s.selectedFiles[c].file);const n=[];n.push(fetch(s.testVariable));const a=yield Promise.all(n);for(let c=0;c<a.length;c++)if(!a[c].ok)throw s.isSubmitting=!1,new Error("Failed to fetch image");if(s.selectedFiles.length>4)return void(s.isSubmitting=!1);s.clipboardImageBlob&&i.append("attachments",s.clipboardImageBlob,"clipboard.png"),i.append("title",s.issueForm.value.name),i.append("description",s.issueForm.value.description),i.append("url",s.router.url),i.append("type",s.issueForm.value.type),s._nodeService.raiseIssue(i).subscribe({next:c=>{s.selectedFiles=[],s._activeModal.close({issue:c?.data}),s._snackbarService.openSnackBar("Issue Raised successfully","success")},error:c=>{s.isSubmitting=!1,s.loader=!1,s._snackbarService.openSnackBar(`Issue ${c?.error?.data?.errors?.[0]?.msg}`,"error")},complete:()=>{s.loader=!1,s.isSubmitting=!1}}),localStorage.removeItem("issueForm"),localStorage.removeItem("selectedFiles")}})()}onFileSelected(s){const i=s.target,n=i?.files;if(n&&n.length>0){const c=[];let m=!1;for(let p=0;p<n.length;p++){const I=n[p],C=I.type;if("image/jpeg"===C||"image/png"===C){if(this.selectedFiles.length+c.length>=4){this._snackbarService.openSnackBar("You can select a maximum of four files.","error");break}const ze=URL.createObjectURL(I);c.push({name:I.name,url:ze,file:I})}else m=!0}c.length>0&&(this.selectedFiles.push(...c),this.issueForm.get("selectedFiles")?.setValue([...this.selectedFiles.map(p=>p.file)]),localStorage.setItem("selectedFiles",JSON.stringify(this.selectedFiles))),m&&(i.value="",this._snackbarService.openSnackBar("Only JPEG and PNG files are allowed.","error"))}const a=this.selectedFiles.some(c=>"clipboardImage.png"===c.name);if(this.clipboardImageBlob&&!a){const c=URL.createObjectURL(this.clipboardImageBlob);this.selectedFiles.push({name:"clipboardImage.png",url:c}),this.issueForm.get("attachments")?.setValue([...this.issueForm.value.attachments,this.clipboardImageBlob]),this.testVariable="",this.clipboardImageCaptured=!1,localStorage.setItem("selectedFiles",JSON.stringify(this.selectedFiles))}}removeFile(s){"clipboardImage.png"===this.selectedFiles[s].name&&(this.clipboardImageBlob=null,this.clipboardImageCaptured=!1,this.testVariable=""),this.selectedFiles.splice(s,1),localStorage.setItem("selectedFiles",JSON.stringify(this.selectedFiles))}handleClipboard(){var s=this;return(0,x.Z)(function*(){if(navigator.clipboard)try{const i=yield navigator.clipboard.read();if(i.length>0){for(const n of i)if("function"==typeof n?.getType&&n.types.includes("image/png")){s.clipboardImageBlob=yield n.getType("image/png");const a=URL.createObjectURL(s.clipboardImageBlob);s.testVariable=a,s.clipboardImageCaptured=!0}}else s.clipboardImageCaptured=!1}catch{}})()}removeImage(){this.testVariable=""}addClipboardImage(){if(this.clipboardImageBlob){const s=URL.createObjectURL(this.clipboardImageBlob);this.selectedFiles.push({name:"clipboardImage.png",url:s}),this.issueForm.get("attachments")?.setValue([...this.issueForm.value.attachments,this.clipboardImageBlob]),this.testVariable="",this.clipboardImageCaptured=!1,localStorage.setItem("selectedFiles",JSON.stringify(this.selectedFiles))}}};let o=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(_.Kz),e.Y36(l.qu),e.Y36(g.s),e.Y36(b.F0),e.Y36(f.o))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-user-issue"]],decls:40,vars:9,consts:[["id","popupForm",1,"popup"],[1,"d-flex","align-items-center","justify-content-between"],["aria-label","Close","autofocus","",1,"btn-close",3,"click"],[1,"popup-content",3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","placeholder","Enter Title","formControlName","name","id","name","name","name","required","","minlength","5","autofocus",""],[4,"ngIf"],[1,"radio-type"],[1,"form-check"],["type","radio","formControlName","type","id","bug","name","type","value","bug",1,"form-check-input"],["for","bug",1,"form-check-label"],["type","radio","formControlName","type","id","feature","name","type","value","feature",1,"form-check-input"],["for","feature",1,"form-check-label"],["for","description"],["formControlName","description","placeholder","Enter Description","id","description","name","description","rows","4"],["for","attachment"],["type","file","id","attachment ",3,"change"],["class","selected-files-container",4,"ngIf"],["id","clipboardSection ",2,"display","none"],["class","image-container","style","position: relative",4,"ngIf"],["style","display: none","type","button","id","destinationImagePasteBtn",3,"click",4,"ngIf"],["type","submit","id","submitButton",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"error-message"],[1,"selected-files-container"],[1,"selected-files"],["class","file-item",4,"ngFor","ngForOf"],[1,"file-item"],["alt","",1,"file-image",3,"src"],[1,"remove-file",3,"click"],[1,"image-container",2,"position","relative"],["id","destinationImage",1,"uploaded-image",3,"src"],["type","button","id","destinationImagePasteBtn",2,"display","none",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"plus-icon",3,"click"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Raise Issue"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return n._activeModal.dismiss()}),e.qZA()(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.TgZ(6,"div",4)(7,"label",5),e._uU(8,"Issue:"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,he,2,1,"div",7),e.qZA(),e.TgZ(11,"div",8)(12,"label"),e._uU(13,"Type:"),e.qZA(),e.TgZ(14,"div",9),e._UZ(15,"input",10),e.TgZ(16,"label",11),e._uU(17,"Bug"),e.qZA(),e._UZ(18,"input",12),e.TgZ(19,"label",13),e._uU(20,"Feature"),e.qZA()()(),e.TgZ(21,"div",4)(22,"label",14),e._uU(23,"Description:"),e.qZA(),e._UZ(24,"textarea",15),e.qZA(),e.TgZ(25,"div",4)(26,"label",16),e._uU(27,"Choose Files :"),e.qZA(),e.TgZ(28,"input",17),e.NdJ("change",function(c){return n.onFileSelected(c)}),e.qZA()(),e.YNc(29,be,5,1,"div",18),e.TgZ(30,"div",19),e._uU(31,"Clipboard Section:"),e.qZA(),e.YNc(32,Ie,2,1,"div",20),e.TgZ(33,"div"),e.YNc(34,xe,2,0,"button",21),e.qZA(),e.TgZ(35,"div",4)(36,"button",22),e.YNc(37,ve,1,0,"span",23),e.YNc(38,Ce,2,0,"span",7),e.qZA()(),e.YNc(39,Ze,3,0,"div",7),e.qZA()()),2&i){let a;e.xp6(5),e.Q6J("formGroup",n.issueForm),e.xp6(5),e.Q6J("ngIf",(null==(a=n.issueForm.get("name"))?null:a.invalid)&&(null==(a=n.issueForm.get("name"))?null:a.touched)),e.xp6(19),e.Q6J("ngIf",n.selectedFiles.length>0),e.xp6(3),e.Q6J("ngIf",n.testVariable),e.xp6(2),e.Q6J("ngIf",n.clipboardImageCaptured),e.xp6(2),e.Q6J("disabled",n.isSubmitting||!n.issueForm.valid),e.xp6(1),e.Q6J("ngIf",n.isSubmitting),e.xp6(1),e.Q6J("ngIf",!n.isSubmitting),e.xp6(1),e.Q6J("ngIf",n.clipboardImageCaptured)}},dependencies:[u.sg,u.O5,l._Y,l.Fj,l._,l.JJ,l.JL,l.Q7,l.wO,l.sg,l.u],styles:[".popup[_ngcontent-%COMP%]{position:fixed;width:550px;height:710px;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px;border:1px solid #ccc;box-shadow:0 2px 4px #0000001a;z-index:1000}.popup-content[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.popup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px}.popup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.popup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;box-sizing:border-box}.popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px;margin-bottom:10px;box-sizing:border-box}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:8px 16px;border-radius:4px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}#closeButton[_ngcontent-%COMP%]{width:100px}#submitButton[_ngcontent-%COMP%]{width:100px;margin-left:10px}.popup[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;box-sizing:border-box;height:80px}.btn-close[_ngcontent-%COMP%]{top:10px;right:10px;width:30px;height:30px;background-color:transparent;border:none;cursor:pointer;left:190px;outline:none;display:inline-block}.error-message[_ngcontent-%COMP%]{color:red}.selected-files-container[_ngcontent-%COMP%]{margin-top:-37px}.selected-files[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;margin-top:10px}.file-item[_ngcontent-%COMP%]{margin-right:10px}.file-image[_ngcontent-%COMP%]{border:1px solid #450de0;margin-bottom:5px;width:50px;height:50px;object-fit:cover;border-radius:4px}.file-name[_ngcontent-%COMP%]{display:block;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100px}.remove-file[_ngcontent-%COMP%]{position:relative;top:-62px;right:-37px;background-color:#fff;border-radius:50%;width:20px;height:20px;display:flex;justify-content:center;align-items:center;font-size:14px;color:#333;cursor:pointer;border:1px solid #ccc}#destinationImage[_ngcontent-%COMP%]{display:none;max-width:50px;height:50px;display:block;margin:10px 0;border:1px solid #450de0}#destinationImagePasteBtn[_ngcontent-%COMP%]{padding:5px 10px;background-color:#007bff;color:#fff;border:none;cursor:pointer}.plus-icon[_ngcontent-%COMP%]{position:absolute;top:432px;right:407px;width:20px;height:200px;border-radius:50%;display:flex;justify-content:center;align-items:center;font-weight:700;size:10px;color:#333;cursor:pointer;border-color:#333}.radio-type[_ngcontent-%COMP%]{width:45px;margin-bottom:12px}.form-group[_ngcontent-%COMP%]{margin-bottom:19px}"]}),o})();var we=d(7579),ke=d(8372),ye=d(3900),Ae=d(354);function Me(o,r){1&o&&(e.ynx(0),e._uU(1," Issues Raised by Users "),e.BQk())}function Ue(o,r){1&o&&e._uU(0," Issues Raised by Me ")}function Se(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(i){return i.stopPropagation()})("keyup",function(i){return i.stopPropagation()}),e.TgZ(1,"div",19)(2,"label")(3,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.selectAllChecked=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.selectAllChanged())}),e.qZA(),e._uU(4," Select All "),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"label")(7,"input",21),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.waitingVerificationChecked=i)})("change",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSelectedOptions("waiting verification",i))}),e.qZA(),e._uU(8," Waiting Verification "),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"label")(11,"input",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptedChecked=i)})("change",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSelectedOptions("accepted",i))}),e.qZA(),e._uU(12," Accepted "),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"label")(15,"input",23),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.mergedChecked=i)})("change",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSelectedOptions("merged",i))}),e.qZA(),e._uU(16," Merged "),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"label")(19,"input",24),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.workingChecked=i)})("change",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSelectedOptions("working",i))}),e.qZA(),e._uU(20," Working "),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"label")(23,"input",25),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.closedChecked=i)})("change",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSelectedOptions("closed",i))}),e.qZA(),e._uU(24," Closed "),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"label")(27,"input",26),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.resolvedChecked=i)})("change",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSelectedOptions("resolved",i))}),e.qZA(),e._uU(28," Resolved "),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"label")(31,"input",27),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.fixedChecked=i)})("change",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSelectedOptions("fixed",i))}),e.qZA(),e._uU(32," Fixed "),e.qZA(),e._UZ(33,"br"),e.TgZ(34,"label")(35,"input",28),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.reopenedChecked=i)})("change",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSelectedOptions("reopened",i))}),e.qZA(),e._uU(36," Reopened "),e.qZA(),e._UZ(37,"br"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectAllChecked),e.xp6(4),e.Q6J("ngModel",t.waitingVerificationChecked),e.xp6(4),e.Q6J("ngModel",t.acceptedChecked),e.xp6(4),e.Q6J("ngModel",t.mergedChecked),e.xp6(4),e.Q6J("ngModel",t.workingChecked),e.xp6(4),e.Q6J("ngModel",t.closedChecked),e.xp6(4),e.Q6J("ngModel",t.resolvedChecked),e.xp6(4),e.Q6J("ngModel",t.fixedChecked),e.xp6(4),e.Q6J("ngModel",t.reopenedChecked)}}function Oe(o,r){1&o&&(e.TgZ(0,"div",33),e._UZ(1,"div",34),e.qZA())}function Fe(o,r){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",39),e._uU(3,"No Issue Found!"),e.qZA()(),e.BQk())}function Je(o,r){if(1&o&&(e.TgZ(0,"span",48),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(t)}}function Ne(o,r){if(1&o&&(e.TgZ(0,"div",46),e.YNc(1,Je,2,1,"span",47),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.labels)}}function qe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,n=e.oxw(3);return e.KtG(n.markIssueAsResolved(i))}),e._uU(1," Mark as Resolved "),e.qZA()}}function Pe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,n=e.oxw(3);return e.KtG(n.raiseIssueAsProjectIssue(i))}),e._uU(1," Raise Issue "),e.qZA()}}function Le(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,n=e.oxw(3);return e.KtG(n.mergeUserIssueToExistingUserIssue(i))}),e._uU(1," Merge Issue "),e.qZA()}}function Re(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,n=e.oxw(3);return e.KtG(n.closeUserRaisedIssue(i))}),e._uU(1," Close Issue "),e.qZA()}}function je(o,r){if(1&o&&(e.TgZ(0,"div",49)(1,"button",50)(2,"span",44),e._uU(3," more_vert "),e.qZA()(),e.TgZ(4,"div",51),e.YNc(5,qe,2,0,"button",52),e.YNc(6,Pe,2,0,"button",52),e.YNc(7,Le,2,0,"button",52),e.YNc(8,Re,2,0,"button",52),e.qZA()()),2&o){const t=e.oxw().$implicit,s=e.oxw(3);e.xp6(5),e.Q6J("ngIf",(null==t?null:t.status)!==s.userIssueStatus.resolved),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.status)!==s.userIssueStatus.accepted),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.status)!==s.userIssueStatus.merged),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.status)!==s.userIssueStatus.closed)}}function Qe(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"div",40)(4,"p",2),e._uU(5),e.qZA()()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"span",41),e._uU(10),e.qZA()(),e.TgZ(11,"td"),e.YNc(12,Ne,2,1,"div",42),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"UTCToLocalTime"),e.qZA(),e.TgZ(16,"td")(17,"button",43),e.NdJ("click",function(){const n=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.viewUserIssueDetail(n))}),e.TgZ(18,"span",44),e._uU(19," visibility "),e.qZA()(),e.YNc(20,je,9,4,"div",45),e.qZA()(),e.BQk()}if(2&o){const t=r.$implicit,s=e.oxw(3);e.xp6(5),e.hij(" ",(null==t.raisedBy?null:t.raisedBy.firstName)+" "+(null==t.raisedBy?null:t.raisedBy.lastName)," "),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Q6J("ngClass",s.getBadgeClass(t.status)),e.xp6(1),e.Oqu(t.status),e.xp6(2),e.Q6J("ngIf",null==t?null:t.labels),e.xp6(2),e.Oqu(e.lcZ(15,7,t.createdAt||"")),e.xp6(6),e.Q6J("ngIf",s.hasEditAccess)}}function Ye(o,r){if(1&o&&(e.TgZ(0,"div",35)(1,"table",36)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Raised By"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Issue Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Status"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"labels"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Created On"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Actions"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,Fe,4,0,"ng-container",37),e.YNc(18,Qe,21,9,"ng-container",38),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(17),e.Q6J("ngIf",0===(null==t.selectedStatusUserIssues?null:t.selectedStatusUserIssues.length)),e.xp6(1),e.Q6J("ngForOf",t.selectedStatusUserIssues)}}function Be(o,r){if(1&o&&(e.TgZ(0,"div",29)(1,"div",30),e.YNc(2,Oe,2,0,"div",31),e.YNc(3,Ye,19,2,"ng-template",null,32,e.W1O),e.qZA()()),2&o){const t=e.MAs(4),s=e.oxw();e.xp6(2),e.Q6J("ngIf",s.loader)("ngIfElse",t)}}function De(o,r){1&o&&(e.TgZ(0,"span",54),e._uU(1," No Status Selected !!! "),e.qZA())}function Ve(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",55)(1,"div",56)(2,"div",57)(3,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.previousPage())}),e._uU(4," Previous "),e.qZA()(),e.TgZ(5,"div",59)(6,"span",60),e._uU(7),e.qZA()(),e.TgZ(8,"div",61)(9,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.nextPage())}),e._uU(10,"Next"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(7),e.hij("Page ",t.page,"")}}const Ee=[{path:"",component:(()=>{const r=class{constructor(s,i,n,a,c,m){this._nodeService=s,this._projectService=i,this._modalService=n,this.router=a,this._activeRoute=c,this._snackbarService=m,this.activeTabId=0,this.activeTab="Waiting Verification",this.loader=!1,this.page=1,this.limit=10,this.hasMoreData=!0,this.userIssues=[],this.joinedProjects=[],this.order="desc",this.hasEditAccess=!1,this.userIssueStatus={waiting_verification:"Waiting Verification",verified:"Verified",accepted:"Accepted",merged:"Merged",working:"Working",closed:"Closed",resolved:"Resolved",fixed:"Fixed",reopened:"Reopened"},this.selectedStatusUserIssues=[],this.dropdownOpen=!1,this.selectAllChecked=!0,this.waitingVerificationChecked=!0,this.acceptedChecked=!0,this.mergedChecked=!0,this.workingChecked=!0,this.closedChecked=!0,this.fixedChecked=!0,this.resolvedChecked=!0,this.reopenedChecked=!0,this.selectedOptions=["waiting verification","accepted","merged","working","closed","resolved","fixed","reopened"],this.filterSubject=new we.x,this.filterBug(this.selectedOptions),this.filterSubject.pipe((0,ke.b)(300),(0,ye.w)(p=>{this.loader=!0;const I=this.buildQueryParams(p);return this._nodeService.filterBug(this.page,this.limit,I,this.order)})).subscribe({next:p=>{this.hasEditAccess=p?.data?.hasEditAccess||!1,this.selectedStatusUserIssues=p.data.issues,this.hasMoreData=p.data.issues&&p.data.issues.length>0,this.loader=!1},error:p=>{console.error("Error:",p),this.loader=!1},complete:()=>{this.loader=!1}})}ngOnInit(){var s=this;this.loader=!0;const i=localStorage.getItem("profile");i&&(this.userConcept=JSON.parse(i).userConcept),this._activeRoute.queryParams.subscribe(function(){var n=(0,x.Z)(function*(a){const c=a.id;c&&s._nodeService.getUserIssueRaised(parseInt(c)).subscribe({next:m=>{s.viewUserIssueDetail(m.data)},error:m=>console.error(m)}),s.router.navigate([],{queryParams:{id:null},queryParamsHandling:"merge"})});return function(a){return n.apply(this,arguments)}}()),this._projectService.projectList(1,100).subscribe({next:n=>{this.joinedProjects=n.data}}),this.filterSubject.next(this.selectedOptions)}raiseIssueAsProjectIssue(s){const i=this._modalService.open(S,{size:"md"});i.componentInstance.userIssue=s,i.componentInstance.joinedProjects=this.joinedProjects,i.result.then(n=>{n?.status&&(this.selectedStatusUserIssues=this.selectedStatusUserIssues.map(a=>a.id==s.id?{...a,status:"Accepted"}:a))}).catch(()=>{})}mergeUserIssueToExistingUserIssue(s){const i=this._modalService.open(q,{size:"md"});i.componentInstance.userIssue=s,i.componentInstance.joinedProjects=this.joinedProjects,i.componentInstance.userIssues=this.userIssues,i.result.then(n=>{n?.status&&(this.selectedStatusUserIssues=this.selectedStatusUserIssues.map(a=>a.id==s.id?{...a,status:"Merged"}:a))}).catch(()=>{})}closeUserRaisedIssue(s){const i=this._modalService.open(ge,{size:"md"});i.componentInstance.userIssue=s,i.componentInstance.userIssues=this.userIssues,i.result.then(n=>{n?.status&&(this.selectedStatusUserIssues=this.selectedStatusUserIssues.map(a=>a.id==s.id?{...a,status:"Closed",remarks:n?.remarks}:a))}).catch(()=>{})}markIssueAsResolved(s){this.loader=!0,this._nodeService.markIssueAsResolved({userIssueId:s.id}).subscribe({next:i=>{this._snackbarService.openSnackBar(i.message||"Marked issue as Resolved","success"),this.selectedStatusUserIssues=this.selectedStatusUserIssues.map(n=>n.id==s.id?{...n,status:"Resolved"}:n),this.loader=!1},error:i=>{this.loader=!1,this._snackbarService.openSnackBar(i?.error?.message||"Failed to mark as resolved","error")}})}viewUserIssueDetail(s){const i=this._modalService.open(_e,{size:"lg"});i.componentInstance.userIssue=s,i.componentInstance.hasEditAccess=this.hasEditAccess}openRaiseIssueDialog(){this._modalService.open(Te,{size:"md"}).result.then(i=>{i?.issue&&this.selectedOptions.includes(i?.issue?.status.toLowerCase())&&(this.selectedStatusUserIssues=[i.issue,...this.selectedStatusUserIssues])}).catch(()=>{})}selectAllChanged(){this.waitingVerificationChecked=this.selectAllChecked,this.acceptedChecked=this.selectAllChecked,this.mergedChecked=this.selectAllChecked,this.workingChecked=this.selectAllChecked,this.closedChecked=this.selectAllChecked,this.resolvedChecked=this.selectAllChecked,this.fixedChecked=this.selectAllChecked,this.reopenedChecked=this.selectAllChecked,this.selectedOptions=this.selectAllChecked?["waiting verification","accepted","merged","working","closed","resolved","fixed","reopened"]:[],this.filterSubject.next(this.selectedOptions)}updateSelectedOptions(s,i){if(i.target.checked)this.selectedOptions.push(s);else{const n=this.selectedOptions.indexOf(s);n>-1&&this.selectedOptions.splice(n,1)}this.selectAllChecked=this.waitingVerificationChecked&&this.acceptedChecked&&this.mergedChecked&&this.workingChecked&&this.closedChecked&&this.resolvedChecked&&this.reopenedChecked&&this.fixedChecked,this.filterSubject.next(this.selectedOptions)}toggleDropdown(s){this.dropdownOpen=!this.dropdownOpen,s.stopPropagation()}closeDropdown(s){s.target.closest(".form-group")||(this.dropdownOpen=!1)}buildQueryParams(s){return s.map(i=>`status=${encodeURIComponent(i)}`).join("&")}nextPage(){this.hasMoreData&&(this.page+=1,this.filterBug(this.selectedOptions),this.filterSubject.next(this.selectedOptions))}previousPage(){this.page>1&&(this.page-=1,this.filterBug(this.selectedOptions),this.filterSubject.next(this.selectedOptions))}filterBug(s){var i=this;return(0,x.Z)(function*(){i.loader=!0,i.filterSubject.next(s)})()}getBadgeClass(s){return{"waiting verification":"badge-waiting",accepted:"badge-accepted",merged:"badge-merged",working:"badge-working",resolved:"badge-resolved",fixed:"badge-fixed",closed:"badge-closed",reopened:"badge-reopened"}[s.toLowerCase().trim()]||"text-bg-secondary"}};let o=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(g.s),e.Y36(Ae.Y),e.Y36(_.FF),e.Y36(b.F0),e.Y36(b.gz),e.Y36(f.o))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-raised-issue"]],viewQuery:function(i,n){if(1&i&&e.Gf(_.jt,5),2&i){let a;e.iGM(a=e.CRH())&&(n.dropdown=a.first)}},hostBindings:function(i,n){1&i&&e.NdJ("click",function(c){return n.closeDropdown(c)},!1,e.evT)},decls:26,vars:7,consts:[[1,"container","my-2"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mb-0"],[4,"ngIf","ngIfElse"],["raisedByMe",""],[1,"btn","btn-primary","px-4","my-2",2,"margin-right","300px",3,"click"],["tabindex","",1,"form-group","min-w-200px","me-2",3,"click","keyup"],["for","filter",1,"form-label","m-0","fw-semibold"],[1,"form-select","text-start"],["class","dropdown-menu show","tabindex","",3,"click","keyup",4,"ngIf"],[1,"form-group","min-w-200px"],["for","sort",1,"form-label","m-0","fw-semibold"],[1,"form-select",3,"ngModel","ngModelChange","change"],["value","desc","selected",""],["value","asc"],["class","card",4,"ngIf","ngIfElse"],["notselected",""],["class","pagination mt-0",4,"ngIf"],["tabindex","",1,"dropdown-menu","show",3,"click","keyup"],[1,"dropdown-item"],["type","checkbox","name","selectAll",3,"ngModel","ngModelChange","change"],["type","checkbox","name","waitingVerification",3,"ngModel","ngModelChange","change"],["type","checkbox","name","accepted",3,"ngModel","ngModelChange","change"],["type","checkbox","name","merged",3,"ngModel","ngModelChange","change"],["type","checkbox","name","working",3,"ngModel","ngModelChange","change"],["type","checkbox","name","closed",3,"ngModel","ngModelChange","change"],["type","checkbox","name","resolved",3,"ngModel","ngModelChange","change"],["type","checkbox","name","fixed",3,"ngModel","ngModelChange","change"],["type","checkbox","name","reopened",3,"ngModel","ngModelChange","change"],[1,"card"],[1,"card-body"],["class","loading py-5 my-5",4,"ngIf","ngIfElse"],["loaded",""],[1,"loading","py-5","my-5"],[1,"loader"],[1,"pb-5","mb-2"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","5",1,"text-center"],[1,"d-flex","flex-row","align-items-center","gap-1"],[1,"badge",3,"ngClass"],["class","d-flex flex-wrap gap-1",4,"ngIf"],[1,"btn","btn-icon","p-1","btn-light","me-2",3,"click"],[1,"material-symbols-outlined"],["ngbDropdown","","placement","left-top","class","d-inline-block",4,"ngIf"],[1,"d-flex","flex-wrap","gap-1"],["class","badge bg-secondary",4,"ngFor","ngForOf"],[1,"badge","bg-secondary"],["ngbDropdown","","placement","left-top",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-light","btn-icon","p-1"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","ngbDropdownToggle","",3,"click",4,"ngIf"],["ngbDropdownItem","","ngbDropdownToggle","",3,"click"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-50","ms-5","mt-5","fs-5"],[1,"pagination","mt-0"],[1,"row"],[1,"col-md-4","col-6","text-left"],[1,"btn","btn-primary",3,"click"],[1,"col-md-4","col-6","text-center"],[1,"text-nowrap"],[1,"col-md-4","col-6","text-right"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e.YNc(3,Me,2,0,"ng-container",3),e.YNc(4,Ue,1,0,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.openRaiseIssueDialog()}),e._uU(7," Raise Issue "),e.qZA(),e.TgZ(8,"div",6),e.NdJ("click",function(c){return n.toggleDropdown(c)})("keyup",function(c){return n.toggleDropdown(c)}),e.TgZ(9,"label",7),e._uU(10,"Filter"),e.qZA(),e.TgZ(11,"button",8),e._uU(12,"Filter By Status"),e.qZA(),e.YNc(13,Se,38,9,"div",9),e.qZA(),e.TgZ(14,"div",10)(15,"label",11),e._uU(16,"Sort By Date"),e.qZA(),e.TgZ(17,"select",12),e.NdJ("ngModelChange",function(c){return n.order=c})("change",function(){return n.filterBug(n.selectedOptions)}),e.TgZ(18,"option",13),e._uU(19,"Descending"),e.qZA(),e.TgZ(20,"option",14),e._uU(21,"Ascending"),e.qZA()()()(),e.YNc(22,Be,5,2,"div",15),e.YNc(23,De,2,0,"ng-template",null,16,e.W1O),e.YNc(25,Ve,11,1,"div",17),e.qZA()),2&i){const a=e.MAs(5),c=e.MAs(24);e.xp6(3),e.Q6J("ngIf",n.hasEditAccess)("ngIfElse",a),e.xp6(10),e.Q6J("ngIf",n.dropdownOpen),e.xp6(4),e.Q6J("ngModel",n.order),e.xp6(5),e.Q6J("ngIf",null==n.selectedOptions?null:n.selectedOptions.length)("ngIfElse",c),e.xp6(3),e.Q6J("ngIf",null==n.selectedOptions?null:n.selectedOptions.length)}},dependencies:[u.mk,u.sg,u.O5,_.jt,_.iD,_.Vi,_.TH,l.YN,l.Kr,l.Wl,l.EJ,l.JJ,l.On,w.u],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.btn-icon[_ngcontent-%COMP%]{width:30px;height:30px}.avatar-sm[_ngcontent-%COMP%]{width:30px;height:30px;object-fit:cover;border-radius:50%}.min-w-200px[_ngcontent-%COMP%]{min-width:200px}.form-group[_ngcontent-%COMP%]{position:relative}.dropdown-menu[_ngcontent-%COMP%]{display:none;position:absolute;right:0;top:80%;background-color:#fff;min-width:176px;border:1px solid #ccc;box-shadow:0 4px 8px #0000001a;z-index:9999999;padding:10px;border-radius:4px;margin-top:18px}.dropdown-menu.show[_ngcontent-%COMP%]{display:block}.dropdown-item[_ngcontent-%COMP%]{padding:5px 10px}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.dropdown-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px}.row[_ngcontent-%COMP%]{margin:20px 0;width:-webkit-fill-available}"]}),o})()}];let He=(()=>{const r=class{};let o=r;return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[b.Bz.forChild(Ee),b.Bz]}),o})();var Ke=d(3848);let Ge=(()=>{const r=class{};let o=r;return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.ez,Ke.Nh,_.IJ,l.u5,l.UX,He]}),o})()},4954:(k,Z,d)=>{d.d(Z,{$:()=>x});var u=d(4650),b=d(9446);let x=(()=>{const l=class{constructor(h){this._activeModal=h,this.slides=[],this.currentSlideUrl="",this.i=0}ngOnInit(){this.slides=this.imageUrl||[],this.slides.length>0&&(this.currentSlideUrl=this.slides[this.i]?.url||this.slides[this.i]?.path)}showSlide(h){this.slides&&this.slides.length>0&&h>=0&&h<this.slides.length&&(this.currentSlideUrl=this.slides[h].url||this.slides[h].path)}getPrev(){this.i>0&&(this.i=this.i-1),this.showSlide(this.i)}getNext(){this.i<this.slides.length-1&&(this.i=this.i+1),this.showSlide(this.i)}handleKeyboardEvent(h){"ArrowLeft"===h.key?this.getPrev():"ArrowRight"===h.key&&this.getNext()}};let _=l;return l.\u0275fac=function(e){return new(e||l)(u.Y36(b.Kz))},l.\u0275cmp=u.Xpm({type:l,selectors:[["app-full-image-preview"]],hostBindings:function(e,g){1&e&&u.NdJ("keydown",function(T){return g.handleKeyboardEvent(T)},!1,u.Jf7)},inputs:{imageUrl:"imageUrl",i:"i"},decls:15,vars:3,consts:[["type","button","aria-label","Close",1,"btn-close",3,"click"],["id","carouselExampleControls",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","slide",1,"d-block","w-100",3,"src"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"carousel-index"]],template:function(e,g){1&e&&(u.TgZ(0,"button",0),u.NdJ("click",function(){return g._activeModal.dismiss()}),u.qZA(),u.TgZ(1,"div",1)(2,"div",2)(3,"div",3),u._UZ(4,"img",4),u.qZA()(),u.TgZ(5,"a",5),u.NdJ("click",function(){return g.getPrev()}),u._UZ(6,"span",6),u.TgZ(7,"span",7),u._uU(8,"Previous"),u.qZA()(),u.TgZ(9,"a",8),u.NdJ("click",function(){return g.getNext()}),u._UZ(10,"span",9),u.TgZ(11,"span",7),u._uU(12,"Next"),u.qZA()(),u.TgZ(13,"div",10),u._uU(14),u.qZA()()),2&e&&(u.xp6(4),u.Q6J("src",g.currentSlideUrl,u.LSH),u.xp6(10),u.AsE("",g.i+1," / ",g.slides.length,""))},styles:[".btn-close[_ngcontent-%COMP%]{position:absolute;right:-10px;z-index:999;top:-10px;background-color:#fff;border-radius:50%;padding:8px;opacity:1;box-shadow:0 3px 3px #0000004d}#carouselExampleControls[_ngcontent-%COMP%]{position:relative;width:100%;max-width:800px;margin:auto}.carousel-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{position:absolute;top:50%;width:5%;height:50px;background-color:#00000080;color:#fff;border:none;border-radius:50%;transform:translateY(-50%);display:flex;align-items:center;justify-content:center}.carousel-control-prev[_ngcontent-%COMP%]{left:10px}.carousel-control-next[_ngcontent-%COMP%]{right:10px}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{background-size:100%,100%;background-repeat:no-repeat;background-position:center}.carousel-index[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%);background-color:#00000080;color:#fff;padding:5px 10px;border-radius:5px}"]}),_})()}}]);