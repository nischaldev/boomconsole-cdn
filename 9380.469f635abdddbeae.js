(self.webpackChunkngx_boomconsole=self.webpackChunkngx_boomconsole||[]).push([[9380],{6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,B;B=()=>(()=>{"use strict";var __webpack_modules__=[,(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=H,a.arraysToBytes=function q(ee){const $=ee.length;if(1===$&&ee[0]instanceof Uint8Array)return ee[0];let Y=0;for(let fe=0;fe<$;fe++)Y+=H(ee[fe]);let le=0;const ue=new Uint8Array(Y);for(let fe=0;fe<$;fe++){let ge=ee[fe];ge instanceof Uint8Array||(ge="string"==typeof ge?j(ge):new Uint8Array(ge));const Ce=ge.byteLength;ue.set(ge,le),le+=Ce}return ue},a.assert=function D(ee,$){ee||M($)},a.bytesToString=function U(ee){("object"!=typeof ee||null===ee||void 0===ee.length)&&M("Invalid argument for bytesToString");const $=ee.length,Y=8192;if($<Y)return String.fromCharCode.apply(null,ee);const le=[];for(let ue=0;ue<$;ue+=Y){const fe=Math.min(ue+Y,$),ge=ee.subarray(ue,fe);le.push(String.fromCharCode.apply(null,ge))}return le.join("")},a.createPromiseCapability=function we(){const ee=Object.create(null);let $=!1;return Object.defineProperty(ee,"settled",{get:()=>$}),ee.promise=new Promise(function(Y,le){ee.resolve=function(ue){$=!0,Y(ue)},ee.reject=function(ue){$=!0,le(ue)}}),ee},a.createValidAbsoluteUrl=function X(ee,$=null,Y=null){if(!ee)return null;try{if(Y&&"string"==typeof ee){if(Y.addDefaultProtocol&&ee.startsWith("www.")){const ue=ee.match(/\./g);ue&&ue.length>=2&&(ee=`http://${ee}`)}if(Y.tryConvertEncoding)try{ee=de(ee)}catch{}}const le=$?new URL(ee,$):new URL(ee);if(function V(ee){if(!ee)return!1;switch(ee.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(le))return le}catch{}return null},a.escapeString=function oe(ee){return ee.replace(/([()\\\n\r])/g,$=>"\n"===$?"\\n":"\r"===$?"\\r":`\\${$}`)},a.getModificationDate=function be(ee=new Date){return[ee.getUTCFullYear().toString(),(ee.getUTCMonth()+1).toString().padStart(2,"0"),ee.getUTCDate().toString().padStart(2,"0"),ee.getUTCHours().toString().padStart(2,"0"),ee.getUTCMinutes().toString().padStart(2,"0"),ee.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function E(){return c},a.info=function O(ee){c>=f.INFOS&&console.log(`Info: ${ee}`)},a.isArrayBuffer=function ve(ee){return"object"==typeof ee&&null!==ee&&void 0!==ee.byteLength},a.isArrayEqual=function Se(ee,$){if(ee.length!==$.length)return!1;for(let Y=0,le=ee.length;Y<le;Y++)if(ee[Y]!==$[Y])return!1;return!0},a.isAscii=function pe(ee){return/^[\x00-\x7F]*$/.test(ee)},a.objectFromMap=function re(ee){const $=Object.create(null);for(const[Y,le]of ee)$[Y]=le;return $},a.objectSize=function ie(ee){return Object.keys(ee).length},a.setVerbosityLevel=function T(ee){Number.isInteger(ee)&&(c=ee)},a.shadow=J,a.string32=function K(ee){return String.fromCharCode(ee>>24&255,ee>>16&255,ee>>8&255,255&ee)},a.stringToBytes=j,a.stringToPDFString=function he(ee){if(ee[0]>="\xef"){let Y;if("\xfe"===ee[0]&&"\xff"===ee[1]?Y="utf-16be":"\xff"===ee[0]&&"\xfe"===ee[1]?Y="utf-16le":"\xef"===ee[0]&&"\xbb"===ee[1]&&"\xbf"===ee[2]&&(Y="utf-8"),Y)try{const le=new TextDecoder(Y,{fatal:!0}),ue=j(ee);return le.decode(ue)}catch(le){I(`stringToPDFString: "${le}".`)}}const $=[];for(let Y=0,le=ee.length;Y<le;Y++){const ue=ce[ee.charCodeAt(Y)];$.push(ue?String.fromCharCode(ue):ee.charAt(Y))}return $.join("")},a.stringToUTF16BEString=function _e(ee){const $=["\xfe\xff"];for(let Y=0,le=ee.length;Y<le;Y++){const ue=ee.charCodeAt(Y);$.push(String.fromCharCode(ue>>8&255),String.fromCharCode(255&ue))}return $.join("")},a.stringToUTF8String=de,a.unreachable=M,a.utf8StringToString=function me(ee){return unescape(encodeURIComponent(ee))},a.warn=I,B(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const f={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=f,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let c=f.WARNINGS;function I(ee){c>=f.WARNINGS&&console.log(`Warning: ${ee}`)}function M(ee){throw new Error(ee)}function J(ee,$,Y){return Object.defineProperty(ee,$,{value:Y,enumerable:!0,configurable:!0,writable:!1}),Y}const C=function(){function $(Y,le){this.constructor===$&&M("Cannot initialize BaseException."),this.message=Y,this.name=le}return $.prototype=new Error,$.constructor=$,$}();function j(ee){"string"!=typeof ee&&M("Invalid argument for stringToBytes");const $=ee.length,Y=new Uint8Array($);for(let le=0;le<$;++le)Y[le]=255&ee.charCodeAt(le);return Y}function H(ee){return void 0!==ee.length?ee.length:void 0!==ee.byteLength?ee.byteLength:void M("Invalid argument for arrayByteLength")}a.BaseException=C,a.PasswordException=class e extends C{constructor($,Y){super($,"PasswordException"),this.code=Y}},a.UnknownErrorException=class t extends C{constructor($,Y){super($,"UnknownErrorException"),this.details=Y}},a.InvalidPDFException=class l extends C{constructor($){super($,"InvalidPDFException")}},a.MissingPDFException=class _ extends C{constructor($){super($,"MissingPDFException")}},a.UnexpectedResponseException=class d extends C{constructor($,Y){super($,"UnexpectedResponseException"),this.status=Y}},a.FormatError=class y extends C{constructor($){super($,"FormatError")}},a.AbortException=class L extends C{constructor($){super($,"AbortException")}},a.FeatureTest=class ae{static get isLittleEndian(){return J(this,"isLittleEndian",function Q(){const ee=new Uint8Array(4);return ee[0]=1,1===new Uint32Array(ee.buffer,0,1)[0]}())}static get isEvalSupported(){return J(this,"isEvalSupported",function Z(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return J(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const se=[...Array(256).keys()].map(ee=>ee.toString(16).padStart(2,"0"));class ne{static makeHexColor($,Y,le){return`#${se[$]}${se[Y]}${se[le]}`}static scaleMinMax($,Y){let le;$[0]?($[0]<0&&(le=Y[0],Y[0]=Y[1],Y[1]=le),Y[0]*=$[0],Y[1]*=$[0],$[3]<0&&(le=Y[2],Y[2]=Y[3],Y[3]=le),Y[2]*=$[3],Y[3]*=$[3]):(le=Y[0],Y[0]=Y[2],Y[2]=le,le=Y[1],Y[1]=Y[3],Y[3]=le,$[1]<0&&(le=Y[2],Y[2]=Y[3],Y[3]=le),Y[2]*=$[1],Y[3]*=$[1],$[2]<0&&(le=Y[0],Y[0]=Y[1],Y[1]=le),Y[0]*=$[2],Y[1]*=$[2]),Y[0]+=$[4],Y[1]+=$[4],Y[2]+=$[5],Y[3]+=$[5]}static transform($,Y){return[$[0]*Y[0]+$[2]*Y[1],$[1]*Y[0]+$[3]*Y[1],$[0]*Y[2]+$[2]*Y[3],$[1]*Y[2]+$[3]*Y[3],$[0]*Y[4]+$[2]*Y[5]+$[4],$[1]*Y[4]+$[3]*Y[5]+$[5]]}static applyTransform($,Y){return[$[0]*Y[0]+$[1]*Y[2]+Y[4],$[0]*Y[1]+$[1]*Y[3]+Y[5]]}static applyInverseTransform($,Y){const le=Y[0]*Y[3]-Y[1]*Y[2];return[($[0]*Y[3]-$[1]*Y[2]+Y[2]*Y[5]-Y[4]*Y[3])/le,(-$[0]*Y[1]+$[1]*Y[0]+Y[4]*Y[1]-Y[5]*Y[0])/le]}static getAxialAlignedBoundingBox($,Y){const le=ne.applyTransform($,Y),ue=ne.applyTransform($.slice(2,4),Y),fe=ne.applyTransform([$[0],$[3]],Y),ge=ne.applyTransform([$[2],$[1]],Y);return[Math.min(le[0],ue[0],fe[0],ge[0]),Math.min(le[1],ue[1],fe[1],ge[1]),Math.max(le[0],ue[0],fe[0],ge[0]),Math.max(le[1],ue[1],fe[1],ge[1])]}static inverseTransform($){const Y=$[0]*$[3]-$[1]*$[2];return[$[3]/Y,-$[1]/Y,-$[2]/Y,$[0]/Y,($[2]*$[5]-$[4]*$[3])/Y,($[4]*$[1]-$[5]*$[0])/Y]}static apply3dTransform($,Y){return[$[0]*Y[0]+$[1]*Y[1]+$[2]*Y[2],$[3]*Y[0]+$[4]*Y[1]+$[5]*Y[2],$[6]*Y[0]+$[7]*Y[1]+$[8]*Y[2]]}static singularValueDecompose2dScale($){const Y=[$[0],$[2],$[1],$[3]],le=$[0]*Y[0]+$[1]*Y[2],ge=$[2]*Y[1]+$[3]*Y[3],Ce=(le+ge)/2,xe=Math.sqrt((le+ge)**2-4*(le*ge-($[2]*Y[0]+$[3]*Y[2])*($[0]*Y[1]+$[1]*Y[3])))/2,ye=Ce-xe||1;return[Math.sqrt(Ce+xe||1),Math.sqrt(ye)]}static normalizeRect($){const Y=$.slice(0);return $[0]>$[2]&&(Y[0]=$[2],Y[2]=$[0]),$[1]>$[3]&&(Y[1]=$[3],Y[3]=$[1]),Y}static intersect($,Y){const le=Math.max(Math.min($[0],$[2]),Math.min(Y[0],Y[2])),ue=Math.min(Math.max($[0],$[2]),Math.max(Y[0],Y[2]));if(le>ue)return null;const fe=Math.max(Math.min($[1],$[3]),Math.min(Y[1],Y[3])),ge=Math.min(Math.max($[1],$[3]),Math.max(Y[1],Y[3]));return fe>ge?null:[le,fe,ue,ge]}static bezierBoundingBox($,Y,le,ue,fe,ge,Ce,xe){const Ee=[],ye=[[],[]];let Me,Te,Le,Ae,ke,Fe,De,Ie;for(let Ne=0;Ne<2;++Ne)if(0===Ne?(Te=6*$-12*le+6*fe,Me=-3*$+9*le-9*fe+3*Ce,Le=3*le-3*$):(Te=6*Y-12*ue+6*ge,Me=-3*Y+9*ue-9*ge+3*xe,Le=3*ue-3*Y),Math.abs(Me)<1e-12){if(Math.abs(Te)<1e-12)continue;Ae=-Le/Te,0<Ae&&Ae<1&&Ee.push(Ae)}else De=Te*Te-4*Le*Me,Ie=Math.sqrt(De),!(De<0)&&(ke=(-Te+Ie)/(2*Me),0<ke&&ke<1&&Ee.push(ke),Fe=(-Te-Ie)/(2*Me),0<Fe&&Fe<1&&Ee.push(Fe));let Pe,Re=Ee.length;const Oe=Re;for(;Re--;)Ae=Ee[Re],Pe=1-Ae,ye[0][Re]=Pe*Pe*Pe*$+3*Pe*Pe*Ae*le+3*Pe*Ae*Ae*fe+Ae*Ae*Ae*Ce,ye[1][Re]=Pe*Pe*Pe*Y+3*Pe*Pe*Ae*ue+3*Pe*Ae*Ae*ge+Ae*Ae*Ae*xe;return ye[0][Oe]=$,ye[1][Oe]=Y,ye[0][Oe+1]=Ce,ye[1][Oe+1]=xe,ye[0].length=ye[1].length=Oe+2,[Math.min(...ye[0]),Math.min(...ye[1]),Math.max(...ye[0]),Math.max(...ye[1])]}}a.Util=ne;const ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function de(ee){return decodeURIComponent(escape(ee))}},(te,a,B)=>{B(3)},(te,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const B=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=B},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:te,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:B}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=te,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=B}function setPDFNetworkStreamFactory(te){createPDFNetworkStream=te}function getDocument(te){const a=new PDFDocumentLoadingTask;let B;if("string"==typeof te||te instanceof URL)B={url:te};else if((0,_util.isArrayBuffer)(te))B={data:te};else if(te instanceof PDFDataRangeTransport)B={range:te};else{if("object"!=typeof te)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!te.url&&!te.data&&!te.range)throw new Error("Invalid parameter object: need either .data, .range or .url");B=te}const s=Object.create(null);let G=null,N=null;for(const z in B){const R=B[z];switch(z){case"url":if(typeof window<"u")try{s[z]=new URL(R,window.location).href;continue}catch(r){(0,_util.warn)(`Cannot create valid URL: "${r}".`)}else if("string"==typeof R||R instanceof URL){s[z]=R.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":G=R;continue;case"worker":N=R;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&R instanceof Buffer)s[z]=new Uint8Array(R);else{if(R instanceof Uint8Array)break;if("string"==typeof R)s[z]=(0,_util.stringToBytes)(R);else if("object"!=typeof R||null===R||isNaN(R.length)){if(!(0,_util.isArrayBuffer)(R))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[z]=new Uint8Array(R)}else s[z]=new Uint8Array(R)}continue}s[z]=R}if(s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory,s.ignoreErrors=!0!==s.stopAtErrors,s.fontExtraProperties=!0===s.fontExtraProperties,s.pdfBug=!0===s.pdfBug,s.enableXfa=!0===s.enableXfa,(!Number.isInteger(s.rangeChunkSize)||s.rangeChunkSize<1)&&(s.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),(!Number.isInteger(s.maxImageSize)||s.maxImageSize<-1)&&(s.maxImageSize=-1),"string"!=typeof s.cMapUrl&&(s.cMapUrl=null),"string"!=typeof s.standardFontDataUrl&&(s.standardFontDataUrl=null),"boolean"!=typeof s.useWorkerFetch&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof s.useSystemFonts&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace),("object"!=typeof s.ownerDocument||null===s.ownerDocument)&&(s.ownerDocument=globalThis.document),"boolean"!=typeof s.disableRange&&(s.disableRange=!1),"boolean"!=typeof s.disableStream&&(s.disableStream=!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!N){const z={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};N=z.port?_PDFWorker.fromPort(z):new _PDFWorker(z),a._worker=N}const W=a.docId;return N.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const z=_fetchDocument(N,s,G,W),R=new Promise(function(r){let S;G?S=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},G):s.data||(S=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),r(S)});return Promise.all([z,R]).then(function([r,S]){if(a.destroyed)throw new Error("Loading aborted");const p=new _message_handler.MessageHandler(W,r,N.port),A=new WorkerTransport(p,a,S,s);a._transport=A,p.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(te,a,B,s){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(te,a,B,s){if(te.destroyed)throw new Error("Worker was destroyed");B&&(a.length=B.length,a.initialData=B.initialData,a.progressiveDone=B.progressiveDone,a.contentDispositionFilename=B.contentDispositionFilename);const G=yield te.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(te.destroyed)throw new Error("Worker was destroyed");return G})).apply(this,arguments)}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,B,s=!1,G=null){this.length=a,this.initialData=B,this.progressiveDone=s,this.contentDispositionFilename=G,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,B){for(const s of this._rangeListeners)s(a,B)}onDataProgress(a,B){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(a,B)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const B of this._progressiveReadListeners)B(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,B){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,B){var G,s=this;this._pdfInfo=a,this._transport=B,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(G=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),s.stats||{streamTypes:{},fontTypes:{}}}),function(){return G.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,B,s,G,N=!1){this._pageIndex=a,this._pageInfo=B,this._ownerDocument=G,this._transport=s,this._stats=N?new _display_utils.StatTimer:null,this._pdfBug=N,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:B=this.rotate,offsetX:s=0,offsetY:G=0,dontFlip:N=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:B,offsetX:s,offsetY:G,dontFlip:N})}getAnnotations({intent:a="display"}={}){const B=this._transport.getRenderingIntent(a);let s=this._annotationPromises.get(B.cacheKey);return s||(s=this._transport.getAnnotations(this._pageIndex,B.renderingIntent),this._annotationPromises.set(B.cacheKey,s),s=s.then(G=>{for(const N of G)void 0!==N.titleObj&&Object.defineProperty(N,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),N.titleObj.str)}),void 0!==N.contentsObj&&Object.defineProperty(N,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),N.contentsObj.str)});return G})),s}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:B,intent:s="display",annotationMode:G=_util.AnnotationMode.ENABLE,transform:N=null,imageLayer:W=null,canvasFactory:z=null,background:R=null,optionalContentConfigPromise:r=null,annotationCanvasMap:S=null,pageColors:p=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&G===_util.AnnotationMode.ENABLE&&(G=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&G===_util.AnnotationMode.ENABLE&&(G=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const A=this._transport.getRenderingIntent(s,G);this.pendingCleanup=!1,r||(r=this._transport.getOptionalContentConfig());let P=this._intentStates.get(A.cacheKey);P||(P=Object.create(null),this._intentStates.set(A.cacheKey,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);const F=z||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),b=!!(A.renderingIntent&_util.RenderingIntentFlag.PRINT);P.displayReadyCapability||(P.displayReadyCapability=(0,_util.createPromiseCapability)(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(A));const o=m=>{P.renderTasks.delete(x),(this.cleanupAfterRender||b)&&(this.pendingCleanup=!0),this._tryCleanup(),m?(x.capability.reject(m),this._abortOperatorList({intentState:P,reason:m instanceof Error?m:new Error(m)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},x=new InternalRenderTask({callback:o,params:{canvasContext:a,viewport:B,transform:N,imageLayer:W,background:R},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:S,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:F,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:p});(P.renderTasks||=new Set).add(x);const u=x.task;return Promise.all([P.displayReadyCapability.promise,r]).then(([m,g])=>{this.pendingCleanup?o():(this._stats&&this._stats.time("Rendering"),x.initializeGraphics({transparency:m,optionalContentConfig:g}),x.operatorListChanged())}).catch(o),u}getOperatorList({intent:a="display",annotationMode:B=_util.AnnotationMode.ENABLE}={}){const G=this._transport.getRenderingIntent(a,B,!0);let W,N=this._intentStates.get(G.cacheKey);return N||(N=Object.create(null),this._intentStates.set(G.cacheKey,N)),N.opListReadCapability||(W=Object.create(null),W.operatorListChanged=function s(){N.operatorList.lastChunk&&(N.opListReadCapability.resolve(N.operatorList),N.renderTasks.delete(W))},N.opListReadCapability=(0,_util.createPromiseCapability)(),(N.renderTasks||=new Set).add(W),N.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(G)),N.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:B=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===B},{highWaterMark:100,size:G=>G.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>_xfa_text.XfaText.textContent(s));const B=this.streamTextContent(a);return new Promise(function(s,G){const W=B.getReader(),z={items:[],styles:Object.create(null)};!function N(){W.read().then(function({value:R,done:r}){r?s(z):(Object.assign(z.styles,R.styles),z.items.push(...R.items),N())},G)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const B of this._intentStates.values())if(this._abortOperatorList({intentState:B,reason:new Error("Page was destroyed."),force:!0}),!B.opListReadCapability)for(const s of B.renderTasks)a.push(s.completed),s.cancel();this.objs.clear();for(const B of this._bitmaps)B.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:B,operatorList:s}of this._intentStates.values())if(B.size>0||!s.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const B of this._bitmaps)B.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,B){const s=this._intentStates.get(B);s&&(this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(a))}_renderPageChunk(a,B){for(let s=0,G=a.length;s<G;s++)B.operatorList.fnArray.push(a.fnArray[s]),B.operatorList.argsArray.push(a.argsArray[s]);B.operatorList.lastChunk=a.lastChunk;for(const s of B.renderTasks)s.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:B}){const G=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:B,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),N=this._intentStates.get(B);N.streamReader=G;const W=()=>{G.read().then(({value:z,done:R})=>{R?N.streamReader=null:this._transport.destroyed||(this._renderPageChunk(z,N),W())},z=>{if(N.streamReader=null,!this._transport.destroyed){if(N.operatorList){N.operatorList.lastChunk=!0;for(const R of N.renderTasks)R.operatorListChanged();this._tryCleanup()}if(N.displayReadyCapability)N.displayReadyCapability.reject(z);else{if(!N.opListReadCapability)throw z;N.opListReadCapability.reject(z)}}})};W()}_abortOperatorList({intentState:a,reason:B,force:s=!1}){if(a.streamReader){if(!s){if(a.renderTasks.size>0)return;if(B instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:B,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(B.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[G,N]of this._intentStates)if(N===a){this._intentStates.delete(G);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,B){const s={data:structuredClone(a,B)};this._deferred.then(()=>{for(const G of this._listeners)G.call(this,s)})}addEventListener(a,B){this._listeners.push(B)}removeEventListener(a,B){const s=this._listeners.indexOf(B);this._listeners.splice(s,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const te=document?.currentScript?.src;te&&(PDFWorkerUtil.fallbackWorkerSrc=te.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(te,a){let B;try{if(B=new URL(te),!B.origin||"null"===B.origin)return!1}catch{return!1}const s=new URL(a,B);return B.origin===s.origin},PDFWorkerUtil.createCDNWrapper=function(te){return URL.createObjectURL(new Blob([`importScripts("${te}");`]))};class _PDFWorker{static#workerPorts=new WeakMap;constructor({name:te=null,port:a=null,verbosity:B=(0,_util.getVerbosityLevel)()}={}){if(a&&_PDFWorker.#workerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=te,this.destroyed=!1,this.verbosity=B,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _PDFWorker.#workerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(te){this._port=te,this._messageHandler=new _message_handler.MessageHandler("main","worker",te),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let te=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,te)||(te=PDFWorkerUtil.createCDNWrapper(new URL(te,window.location).href));const a=new Worker(te),B=new _message_handler.MessageHandler("main","worker",a),s=()=>{a.removeEventListener("error",G),B.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},G=()=>{this._webWorker||s()};a.addEventListener("error",G),B.on("test",W=>{a.removeEventListener("error",G),this.destroyed?s():W?(this._messageHandler=B,this._port=a,this._webWorker=a,this._readyCapability.resolve(),B.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),B.destroy(),a.terminate())}),B.on("ready",W=>{if(a.removeEventListener("error",G),this.destroyed)s();else try{N()}catch{this._setupFakeWorker()}});const N=()=>{const W=new Uint8Array;B.send("test",W,[W.buffer])};return void N()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(te=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const B="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(B+"_worker",B,a);te.setup(s,a);const G=new _message_handler.MessageHandler(B,B+"_worker",a);this._messageHandler=G,this._readyCapability.resolve(),G.send("configure",{verbosity:this.verbosity})}).catch(te=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${te.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(te){if(!te?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(te.port)?this.#workerPorts.get(te.port):new _PDFWorker(te)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function te(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#n=new Map;#s=null;constructor(a,B,s,G){this.messageHandler=a,this.loadingTask=B,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:B.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:G.ownerDocument,styleElement:G.styleElement}),this._params=G,G.useWorkerFetch||(this.CMapReaderFactory=new G.CMapReaderFactory({baseUrl:G.cMapUrl,isCompressed:G.cMapPacked}),this.StandardFontDataFactory=new G.StandardFontDataFactory({baseUrl:G.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(a,B=_util.AnnotationMode.ENABLE,s=!1){let G=_util.RenderingIntentFlag.DISPLAY,N="";switch(a){case"any":G=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":G=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(B){case _util.AnnotationMode.DISABLE:G+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:G+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:G+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,N=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${B}`)}return s&&(G+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:G,cacheKey:`${G}_${N}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const s of this.#t.values())a.push(s._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const B=this.messageHandler.sendWithPromise("Terminate",null);return a.push(B),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#s=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:B}=this;a.on("GetReader",(s,G)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=N=>{this._lastProgress={loaded:N.loaded,total:N.total}},G.onPull=()=>{this._fullReader.read().then(function({value:N,done:W}){W?G.close():((0,_util.assert)((0,_util.isArrayBuffer)(N),"GetReader - expected an ArrayBuffer."),G.enqueue(new Uint8Array(N),1,[N]))}).catch(N=>{G.error(N)})},G.onCancel=N=>{this._fullReader.cancel(N),G.ready.catch(W=>{if(!this.destroyed)throw W})}}),a.on("ReaderHeadersReady",s=>{const G=(0,_util.createPromiseCapability)(),N=this._fullReader;return N.headersReady.then(()=>{(!N.isStreamingSupported||!N.isRangeSupported)&&(this._lastProgress&&B.onProgress?.(this._lastProgress),N.onProgress=W=>{B.onProgress?.({loaded:W.loaded,total:W.total})}),G.resolve({isStreamingSupported:N.isStreamingSupported,isRangeSupported:N.isRangeSupported,contentLength:N.contentLength})},G.reject),G.promise}),a.on("GetRangeReader",(s,G)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const N=this._networkStream.getRangeReader(s.begin,s.end);N?(G.onPull=()=>{N.read().then(function({value:W,done:z}){z?G.close():((0,_util.assert)((0,_util.isArrayBuffer)(W),"GetRangeReader - expected an ArrayBuffer."),G.enqueue(new Uint8Array(W),1,[W]))}).catch(W=>{G.error(W)})},G.onCancel=W=>{N.cancel(W),G.ready.catch(z=>{if(!this.destroyed)throw z})}):G.close()}),a.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,B._capability.resolve(new PDFDocumentProxy(s,this))}),a.on("DocException",function(s){let G;switch(s.name){case"PasswordException":G=new _util.PasswordException(s.message,s.code);break;case"InvalidPDFException":G=new _util.InvalidPDFException(s.message);break;case"MissingPDFException":G=new _util.MissingPDFException(s.message);break;case"UnexpectedResponseException":G=new _util.UnexpectedResponseException(s.message,s.status);break;case"UnknownErrorException":G=new _util.UnknownErrorException(s.message,s.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}B._capability.reject(G)}),a.on("PasswordRequest",s=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),B.onPassword){const G=N=>{N instanceof Error?this._passwordCapability.reject(N):this._passwordCapability.resolve({password:N})};try{B.onPassword(G,s.code)}catch(N){this._passwordCapability.reject(N)}}else this._passwordCapability.reject(new _util.PasswordException(s.message,s.code));return this._passwordCapability.promise}),a.on("DataLoaded",s=>{B.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),a.on("StartRenderPage",s=>{this.destroyed||this.#t.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),a.on("commonobj",([s,G,N])=>{if(!this.destroyed&&!this.commonObjs.has(s))switch(G){case"Font":const W=this._params;if("error"in N){const r=N.error;(0,_util.warn)(`Error during font loading: ${r}`),this.commonObjs.resolve(s,r);break}let z=null;W.pdfBug&&globalThis.FontInspector?.enabled&&(z={registerFont(r,S){globalThis.FontInspector.fontAdded(r,S)}});const R=new _font_loader.FontFaceObject(N,{isEvalSupported:W.isEvalSupported,disableFontFace:W.disableFontFace,ignoreErrors:W.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:z});this.fontLoader.bind(R).catch(r=>a.sendWithPromise("FontFallback",{id:s})).finally(()=>{!W.fontExtraProperties&&R.data&&(R.data=null),this.commonObjs.resolve(s,R)});break;case"FontPath":case"Image":this.commonObjs.resolve(s,N);break;default:throw new Error(`Got unknown common object type ${G}`)}}),a.on("obj",([s,G,N,W])=>{if(this.destroyed)return;const z=this.#t.get(G);if(!z.objs.has(s))switch(N){case"Image":z.objs.resolve(s,W);const R=8e6;if(W){let r;if(W.bitmap){const{bitmap:S,width:p,height:A}=W;r=p*A*4,z._bitmaps.add(S)}else r=W.data?.length||0;r>R&&(z.cleanupAfterRender=!0)}break;case"Pattern":z.objs.resolve(s,W);break;default:throw new Error(`Got unknown object type ${N}`)}}),a.on("DocProgress",s=>{this.destroyed||B.onProgress?.({loaded:s.loaded,total:s.total})}),a.on("DocStats",s=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(s.streamTypes),fontTypes:Object.freeze(s.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const B=a-1,s=this.#n.get(B);if(s)return s;const G=this.messageHandler.sendWithPromise("GetPage",{pageIndex:B}).then(N=>{if(this.destroyed)throw new Error("Transport destroyed");const W=new PDFPageProxy(B,N,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(B,W),W});return this.#n.set(B,G),G}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,B){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:B})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#s||=this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(){var a=this;return _asyncToGenerator(function*(B=!1){if(yield a.messageHandler.sendWithPromise("Cleanup",null),!a.destroyed){for(const s of a.#t.values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);a.commonObjs.clear(),B||a.fontLoader.clear(),a.#s=null,a._getFieldObjectsPromise=null,a._hasJSActionsPromise=null}}).apply(this,arguments)}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(a){return this.#e[a]||(this.#e[a]={capability:(0,_util.createPromiseCapability)(),data:null})}get(a,B=null){if(B){const G=this.#t(a);return G.capability.promise.then(()=>B(G.data)),null}const s=this.#e[a];if(!s?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return s.data}has(a){return this.#e[a]?.capability.settled||!1}resolve(a,B=null){const s=this.#t(a);s.data=B,s.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:a,params:B,objs:s,commonObjs:G,annotationCanvasMap:N,operatorList:W,pageIndex:z,canvasFactory:R,useRequestAnimationFrame:r=!1,pdfBug:S=!1,pageColors:p=null}){this.callback=a,this.params=B,this.objs=s,this.commonObjs=G,this.annotationCanvasMap=N,this.operatorListIdx=null,this.operatorList=W,this._pageIndex=z,this.canvasFactory=R,this._pdfBug=S,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===r&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=B.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:B}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:G,transform:N,imageLayer:W,background:z}=this.params;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,W,B,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:N,viewport:G,transparency:a,background:z}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&InternalRenderTask.#e.delete(a._canvas),a.callback())))})()}}const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function i(w){console.log("Deprecated API usage: "+w)},a.getFilenameFromUrl=function x(w){const k=w.indexOf("#"),c=w.indexOf("?"),T=Math.min(k>0?k:w.length,c>0?c:w.length);return w.substring(w.lastIndexOf("/",T)+1,T)},a.getPdfFilenameFromUrl=function u(w,k="document.pdf"){if("string"!=typeof w)return k;if(b(w))return(0,G.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),k;const T=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,E=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(w);let O=T.exec(E[1])||T.exec(E[2])||T.exec(E[3]);if(O&&(O=O[0],O.includes("%")))try{O=T.exec(decodeURIComponent(O))[0]}catch{}return O||k},a.getXfaPageViewport=function v(w,{scale:k=1,rotation:c=0}){const{width:T,height:E}=w.attributes.style,O=[0,0,parseInt(T),parseInt(E)];return new P({viewBox:O,scale:k,rotation:c})},a.isDataScheme=b,a.isPdfFile=function o(w){return"string"==typeof w&&/\.pdf$/i.test(w)},a.isValidFetchUrl=g,a.loadScript=function n(w,k=!1){return new Promise((c,T)=>{const E=document.createElement("script");E.src=w,E.onload=function(O){k&&E.remove(),c(O)},E.onerror=function(){T(new Error(`Cannot load script at: ${E.src}`))},(document.head||document.documentElement).appendChild(E)})};var s=B(6),G=B(1);function R(w){return r.apply(this,arguments)}function r(){return(r=_asyncToGenerator(function*(w,k=!1){if(g(w,document.baseURI)){const c=yield fetch(w);if(!c.ok)throw new Error(c.statusText);return k?new Uint8Array(yield c.arrayBuffer()):(0,G.stringToBytes)(yield c.text())}return new Promise((c,T)=>{const E=new XMLHttpRequest;E.open("GET",w,!0),k&&(E.responseType="arraybuffer"),E.onreadystatechange=()=>{if(E.readyState===XMLHttpRequest.DONE){if(200===E.status||0===E.status){let O;if(k&&E.response?O=new Uint8Array(E.response):!k&&E.responseText&&(O=(0,G.stringToBytes)(E.responseText)),O)return void c(O)}T(new Error(E.statusText))}},E.send(null)})})).apply(this,arguments)}a.PixelsPerInch=class W{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},a.DOMCanvasFactory=class z extends s.BaseCanvasFactory{constructor({ownerDocument:k=globalThis.document}={}){super(),this._document=k}_createCanvas(k,c){const T=this._document.createElement("canvas");return T.width=k,T.height=c,T}},a.DOMCMapReaderFactory=class S extends s.BaseCMapReaderFactory{_fetchData(k,c){return R(k,this.isCompressed).then(T=>({cMapData:T,compressionType:c}))}},a.DOMStandardFontDataFactory=class p extends s.BaseStandardFontDataFactory{_fetchData(k){return R(k,!0)}},a.DOMSVGFactory=class A extends s.BaseSVGFactory{_createSVG(k){return document.createElementNS("http://www.w3.org/2000/svg",k)}};class P{constructor({viewBox:k,scale:c,rotation:T,offsetX:E=0,offsetY:O=0,dontFlip:I=!1}){this.viewBox=k,this.scale=c,this.rotation=T,this.offsetX=E,this.offsetY=O;const M=(k[2]+k[0])/2,D=(k[3]+k[1])/2;let V,X,J,C,e,t,l,_;switch((T%=360)<0&&(T+=360),T){case 180:V=-1,X=0,J=0,C=1;break;case 90:V=0,X=1,J=1,C=0;break;case 270:V=0,X=-1,J=-1,C=0;break;case 0:V=1,X=0,J=0,C=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}I&&(J=-J,C=-C),0===V?(e=Math.abs(D-k[1])*c+E,t=Math.abs(M-k[0])*c+O,l=Math.abs(k[3]-k[1])*c,_=Math.abs(k[2]-k[0])*c):(e=Math.abs(M-k[0])*c+E,t=Math.abs(D-k[1])*c+O,l=Math.abs(k[2]-k[0])*c,_=Math.abs(k[3]-k[1])*c),this.transform=[V*c,X*c,J*c,C*c,e-V*c*M-J*c*D,t-X*c*M-C*c*D],this.width=l,this.height=_}clone({scale:k=this.scale,rotation:c=this.rotation,offsetX:T=this.offsetX,offsetY:E=this.offsetY,dontFlip:O=!1}={}){return new P({viewBox:this.viewBox.slice(),scale:k,rotation:c,offsetX:T,offsetY:E,dontFlip:O})}convertToViewportPoint(k,c){return G.Util.applyTransform([k,c],this.transform)}convertToViewportRectangle(k){const c=G.Util.applyTransform([k[0],k[1]],this.transform),T=G.Util.applyTransform([k[2],k[3]],this.transform);return[c[0],c[1],T[0],T[1]]}convertToPdfPoint(k,c){return G.Util.applyInverseTransform([k,c],this.transform)}}function b(w){const k=w.length;let c=0;for(;c<k&&""===w[c].trim();)c++;return"data:"===w.substring(c,c+5).toLowerCase()}function g(w,k){try{const{protocol:c}=k?new URL(w,k):new URL(w);return"http:"===c||"https:"===c}catch{return!1}}let f;a.PageViewport=P,a.RenderingCancelledException=class F extends G.BaseException{constructor(k,c){super(k,"RenderingCancelledException"),this.type=c}},a.StatTimer=class m{constructor(){this.started=Object.create(null),this.times=[]}time(k){k in this.started&&(0,G.warn)(`Timer is already running for ${k}`),this.started[k]=Date.now()}timeEnd(k){k in this.started||(0,G.warn)(`Timer has not been started for ${k}`),this.times.push({name:k,start:this.started[k],end:Date.now()}),delete this.started[k]}toString(){const k=[];let c=0;for(const T of this.times){const E=T.name;E.length>c&&(c=E.length)}for(const T of this.times){const E=T.end-T.start;k.push(`${T.name.padEnd(c)} ${E}ms\n`)}return k.join("")}},a.PDFDateString=class h{static toDateObject(k){if(!k||"string"!=typeof k)return null;f||(f=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const c=f.exec(k);if(!c)return null;const T=parseInt(c[1],10);let E=parseInt(c[2],10);E=E>=1&&E<=12?E-1:0;let O=parseInt(c[3],10);O=O>=1&&O<=31?O:1;let I=parseInt(c[4],10);I=I>=0&&I<=23?I:0;let M=parseInt(c[5],10);M=M>=0&&M<=59?M:0;let D=parseInt(c[6],10);D=D>=0&&D<=59?D:0;const V=c[7]||"Z";let X=parseInt(c[8],10);X=X>=0&&X<=23?X:0;let J=parseInt(c[9],10)||0;return J=J>=0&&J<=59?J:0,"-"===V?(I+=X,M+=J):"+"===V&&(I-=X,M-=J),new Date(Date.UTC(T,E,O,I,M,D))}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var s=B(1);class G{constructor(){this.constructor===G&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}create(r,S){if(r<=0||S<=0)throw new Error("Invalid canvas size");const p=this._createCanvas(r,S);return{canvas:p,context:p.getContext("2d")}}reset(r,S,p){if(!r.canvas)throw new Error("Canvas is not specified");if(S<=0||p<=0)throw new Error("Invalid canvas size");r.canvas.width=S,r.canvas.height=p}destroy(r){if(!r.canvas)throw new Error("Canvas is not specified");r.canvas.width=0,r.canvas.height=0,r.canvas=null,r.context=null}_createCanvas(r,S){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=G;class N{constructor({baseUrl:r=null,isCompressed:S=!1}){this.constructor===N&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=S}fetch(r){var S=this;return _asyncToGenerator(function*({name:p}){if(!S.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!p)throw new Error("CMap name must be specified.");const A=S.baseUrl+p+(S.isCompressed?".bcmap":"");return S._fetchData(A,S.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE).catch(F=>{throw new Error(`Unable to load ${S.isCompressed?"binary ":""}CMap at: ${A}`)})}).apply(this,arguments)}_fetchData(r,S){(0,s.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=N;class W{constructor({baseUrl:r=null}){this.constructor===W&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=r}fetch(r){var S=this;return _asyncToGenerator(function*({filename:p}){if(!S.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!p)throw new Error("Font filename must be specified.");const A=`${S.baseUrl}${p}`;return S._fetchData(A).catch(P=>{throw new Error(`Unable to load font data at: ${A}`)})}).apply(this,arguments)}_fetchData(r){(0,s.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=W;class z{constructor(){this.constructor===z&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}create(r,S){if(r<=0||S<=0)throw new Error("Invalid SVG dimensions");const p=this._createSVG("svg:svg");return p.setAttribute("version","1.1"),p.setAttribute("width",`${r}px`),p.setAttribute("height",`${S}px`),p.setAttribute("preserveAspectRatio","none"),p.setAttribute("viewBox",`0 0 ${r} ${S}`),p}createElement(r){if("string"!=typeof r)throw new Error("Invalid SVG element type");return this._createSVG(r)}_createSVG(r){(0,s.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=z},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var s=B(1);class G{constructor({docId:R,onUnsupportedFeature:r,ownerDocument:S=globalThis.document,styleElement:p=null}){this.constructor===G&&(0,s.unreachable)("Cannot initialize BaseFontLoader."),this.docId=R,this._onUnsupportedFeature=r,this._document=S,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(R){this.nativeFontFaces.push(R),this._document.fonts.add(R)}insertRule(R){let r=this.styleElement;r||(r=this.styleElement=this._document.createElement("style"),r.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(r));const S=r.sheet;S.insertRule(R,S.cssRules.length)}clear(){for(const R of this.nativeFontFaces)this._document.fonts.delete(R);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(R){var r=this;return _asyncToGenerator(function*(){if(R.attached||R.missingFile)return;if(R.attached=!0,r.isFontLoadingAPISupported){const p=R.createNativeFontFace();if(p){r.addNativeFontFace(p);try{yield p.loaded}catch(A){throw r._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,s.warn)(`Failed to load font '${p.family}': '${A}'.`),R.disableFontFace=!0,A}}return}const S=R.createFontFaceRule();if(S){if(r.insertRule(S),r.isSyncFontLoadingSupported)return;yield new Promise(p=>{const A=r._queueLoadingCallback(p);r._prepareFontLoadEvent([S],[R],A)})}})()}_queueLoadingCallback(R){(0,s.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,s.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,s.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,s.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(R,r,S){(0,s.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let N;a.FontLoader=N,a.FontLoader=N=class extends G{constructor(R){super(R),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let R=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(R=!0),(0,s.shadow)(this,"isSyncFontLoadingSupported",R)}_queueLoadingCallback(R){const S=this.loadingContext,p={id:"pdfjs-font-loading-"+S.nextRequestId++,done:!1,complete:function r(){for((0,s.assert)(!p.done,"completeRequest() cannot be called twice."),p.done=!0;S.requests.length>0&&S.requests[0].done;){const A=S.requests.shift();setTimeout(A.callback,0)}},callback:R};return S.requests.push(p),p}get _loadTestFont(){return(0,s.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(R,r,S){function p(T,E){return T.charCodeAt(E)<<24|T.charCodeAt(E+1)<<16|T.charCodeAt(E+2)<<8|255&T.charCodeAt(E+3)}function A(T,E,O,I){return T.substring(0,E)+I+T.substring(E+O)}let P,F;const b=this._document.createElement("canvas");b.width=1,b.height=1;const o=b.getContext("2d");let x=0;const m=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=A(g,976,m.length,m);const f=1482184792;let h=p(g,16);for(P=0,F=m.length-3;P<F;P+=4)h=h-f+p(m,P)|0;P<m.length&&(h=h-f+p(m+"XXX",P)|0),g=A(g,16,4,(0,s.string32)(h));const v=`url(data:font/opentype;base64,${btoa(g)});`;this.insertRule(`@font-face {font-family:"${m}";src:${v}}`);const k=[];for(const T of r)k.push(T.loadedName);k.push(m);const c=this._document.createElement("div");c.style.visibility="hidden",c.style.width=c.style.height="10px",c.style.position="absolute",c.style.top=c.style.left="0px";for(const T of k){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=T,c.appendChild(E)}this._document.body.appendChild(c),function u(T,E){if(x++,x>30)return(0,s.warn)("Load test font never loaded."),void E();o.font="30px "+T,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?E():setTimeout(u.bind(null,T,E))}(m,()=>{c.remove(),S.complete()})}},a.FontFaceObject=class W{constructor(R,{isEvalSupported:r=!0,disableFontFace:S=!1,ignoreErrors:p=!1,onUnsupportedFeature:A,fontRegistry:P=null}){this.compiledGlyphs=Object.create(null);for(const F in R)this[F]=R[F];this.isEvalSupported=!1!==r,this.disableFontFace=!0===S,this.ignoreErrors=!0===p,this._onUnsupportedFeature=A,this.fontRegistry=P}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let R;if(this.cssFontInfo){const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),R=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}else R=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),R}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const R=(0,s.bytesToString)(this.data),r=`url(data:${this.mimetype};base64,${btoa(R)});`;let S;if(this.cssFontInfo){let p=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(p+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),S=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${p}src:${r}}`}else S=`@font-face {font-family:"${this.loadedName}";src:${r}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,r),S}getPathGenerator(R,r){if(void 0!==this.compiledGlyphs[r])return this.compiledGlyphs[r];let S;try{S=R.get(this.loadedName+"_path_"+r)}catch(p){if(!this.ignoreErrors)throw p;return this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)(`getPathGenerator - ignoring character: "${p}".`),this.compiledGlyphs[r]=function(A,P){}}if(this.isEvalSupported&&s.FeatureTest.isEvalSupported){const p=[];for(const A of S){const P=void 0!==A.args?A.args.join(","):"";p.push("c.",A.cmd,"(",P,");\n")}return this.compiledGlyphs[r]=new Function("c","size",p.join(""))}return this.compiledGlyphs[r]=function(p,A){for(const P of S)"scale"===P.cmd&&(P.args=[A,-A]),p[P.cmd].apply(p,P.args)}}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var s=B(9),G=B(1);a.AnnotationStorage=class N{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(z,R){const r=this._storage.get(z);return void 0===r?R:Object.assign(R,r)}getRawValue(z){return this._storage.get(z)}setValue(z,R){const r=this._storage.get(z);let S=!1;if(void 0!==r)for(const[p,A]of Object.entries(R))r[p]!==A&&(S=!0,r[p]=A);else S=!0,this._storage.set(z,R);S&&this._setModified()}getAll(){return this._storage.size>0?(0,G.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const z=new s.MurmurHash3_64;for(const[R,r]of this._storage)z.update(`${R}:${JSON.stringify(r)}`);return z.hexdigest()}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var s=B(1);const G=3285377520,N=4294901760,W=65535;a.MurmurHash3_64=class z{constructor(r){this.h1=r?4294967295&r:G,this.h2=r?4294967295&r:G}update(r){let S,p;if("string"==typeof r){S=new Uint8Array(2*r.length),p=0;for(let f=0,h=r.length;f<h;f++){const v=r.charCodeAt(f);v<=255?S[p++]=v:(S[p++]=v>>>8,S[p++]=255&v)}}else{if(!(0,s.isArrayBuffer)(r))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");S=r.slice(),p=S.byteLength}const A=p>>2,P=p-4*A,F=new Uint32Array(S.buffer,0,A);let b=0,o=0,x=this.h1,u=this.h2;const m=3432918353,g=461845907,n=m&W,i=g&W;for(let f=0;f<A;f++)1&f?(b=F[f],b=b*m&N|b*n&W,b=b<<15|b>>>17,b=b*g&N|b*i&W,x^=b,x=x<<13|x>>>19,x=5*x+3864292196):(o=F[f],o=o*m&N|o*n&W,o=o<<15|o>>>17,o=o*g&N|o*i&W,u^=o,u=u<<13|u>>>19,u=5*u+3864292196);switch(b=0,P){case 3:b^=S[4*A+2]<<16;case 2:b^=S[4*A+1]<<8;case 1:b^=S[4*A],b=b*m&N|b*n&W,b=b<<15|b>>>17,b=b*g&N|b*i&W,1&A?x^=b:u^=b}this.h1=x,this.h2=u}hexdigest(){let r=this.h1,S=this.h2;r^=S>>>1,r=3981806797*r&N|36045*r&W,S=4283543511*S&N|(2950163797*(S<<16|r>>>16)&N)>>>16,r^=S>>>1,r=444984403*r&N|60499*r&W,S=3301882366*S&N|(3120437893*(S<<16|r>>>16)&N)>>>16,r^=S>>>1;const p=(r>>>0).toString(16),A=(S>>>0).toString(16);return p.padStart(8,"0")+A.padStart(8,"0")}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var s=B(1),G=B(11),N=B(12),W=B(3),z=B(5);const S=4096,b=16,o=1.000001;function u(C){if(C._transformStack&&(C._transformStack=[]),!C.mozCurrentTransform){C._originalSave=C.save,C._originalRestore=C.restore,C._originalRotate=C.rotate,C._originalScale=C.scale,C._originalTranslate=C.translate,C._originalTransform=C.transform,C._originalSetTransform=C.setTransform,C._originalResetTransform=C.resetTransform,C._transformMatrix=C._transformMatrix||[1,0,0,1,0,0],C._transformStack=[];try{const e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(C),"lineWidth");C._setLineWidth=e.set,C._getLineWidth=e.get,Object.defineProperty(C,"lineWidth",{set:function(l){this._setLineWidth(l*o)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(C,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(C,"mozCurrentTransformInverse",{get:function(){const[t,l,_,d,y,L]=this._transformMatrix,U=t*d-l*_,j=l*_-t*d;return[d/U,l/j,_/j,t/U,(d*y-_*L)/j,(l*y-t*L)/U]}}),C.save=function(){const t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},C.restore=function(){0===this._transformStack.length&&(0,s.warn)("Tried to restore a ctx when the stack was already empty.");const t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},C.translate=function(t,l){const _=this._transformMatrix;_[4]=_[0]*t+_[2]*l+_[4],_[5]=_[1]*t+_[3]*l+_[5],this._originalTranslate(t,l)},C.scale=function(t,l){const _=this._transformMatrix;_[0]*=t,_[1]*=t,_[2]*=l,_[3]*=l,this._originalScale(t,l)},C.transform=function(t,l,_,d,y,L){const U=this._transformMatrix;this._transformMatrix=[U[0]*t+U[2]*l,U[1]*t+U[3]*l,U[0]*_+U[2]*d,U[1]*_+U[3]*d,U[0]*y+U[2]*L+U[4],U[1]*y+U[3]*L+U[5]],C._originalTransform(t,l,_,d,y,L)},C.setTransform=function(t,l,_,d,y,L){this._transformMatrix=[t,l,_,d,y,L],C._originalSetTransform(t,l,_,d,y,L)},C.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],C._originalResetTransform()},C.rotate=function(t){const l=Math.cos(t),_=Math.sin(t),d=this._transformMatrix;this._transformMatrix=[d[0]*l+d[2]*_,d[1]*l+d[3]*_,d[0]*-_+d[2]*l,d[1]*-_+d[3]*l,d[4],d[5]],this._originalRotate(t)}}}class m{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,l,_){let d;return void 0!==this.cache[e]?(d=this.cache[e],this.canvasFactory.reset(d,t,l),d.context.setTransform(1,0,0,1,0,0)):(d=this.canvasFactory.create(t,l),this.cache[e]=d),_&&u(d.context),d}delete(e){delete this.cache[e]}clear(){for(const e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}}function g(C,e,t,l,_,d,y,L,U,j){const[H,q,K,ie,re,Q]=C.mozCurrentTransform;if(0===q&&0===K){const ne=Math.round(y*H+re),he=Math.round(L*ie+Q),pe=Math.abs(Math.round((y+U)*H+re)-ne)||1,de=Math.abs(Math.round((L+j)*ie+Q)-he)||1;return C.setTransform(Math.sign(H),0,0,Math.sign(ie),ne,he),C.drawImage(e,t,l,_,d,0,0,pe,de),C.setTransform(H,q,K,ie,re,Q),[pe,de]}if(0===H&&0===ie){const ne=Math.round(L*K+re),he=Math.round(y*q+Q),pe=Math.abs(Math.round((L+j)*K+re)-ne)||1,de=Math.abs(Math.round((y+U)*q+Q)-he)||1;return C.setTransform(0,Math.sign(q),Math.sign(K),0,ne,he),C.drawImage(e,t,l,_,d,0,0,de,pe),C.setTransform(H,q,K,ie,re,Q),[de,pe]}return C.drawImage(e,t,l,_,d,y,L,U,j),[Math.hypot(H,q)*U,Math.hypot(K,ie)*j]}class i{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,l){[t,l]=s.Util.applyTransform([t,l],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,l),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,l)}updateRectMinMax(e,t){const l=s.Util.applyTransform(t,e),_=s.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,l[0],_[0]),this.minY=Math.min(this.minY,l[1],_[1]),this.maxX=Math.max(this.maxX,l[0],_[0]),this.maxY=Math.max(this.maxY,l[1],_[1])}updateScalingPathMinMax(e,t){s.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,l,_,d,y,L,U,j,H){const q=s.Util.bezierBoundingBox(t,l,_,d,y,L,U,j);if(H)return H[0]=Math.min(H[0],q[0],q[2]),H[1]=Math.max(H[1],q[0],q[2]),H[2]=Math.min(H[2],q[1],q[3]),void(H[3]=Math.max(H[3],q[1],q[3]));this.updateRectMinMax(e,q)}getPathBoundingBox(e=G.PathType.FILL,t=null){const l=[this.minX,this.minY,this.maxX,this.maxY];if(e===G.PathType.STROKE){t||(0,s.unreachable)("Stroke bounding box must include transform.");const _=s.Util.singularValueDecompose2dScale(t),d=_[0]*this.lineWidth/2,y=_[1]*this.lineWidth/2;l[0]-=d,l[1]-=y,l[2]+=d,l[3]+=y}return l}updateClipFromPath(){const e=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=G.PathType.FILL,t=null){return s.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function f(C,e,t=null){if(typeof ImageData<"u"&&e instanceof ImageData)return void C.putImageData(e,0,0);const l=e.height,_=e.width,d=l%b,y=(l-d)/b,L=0===d?y:y+1,U=C.createImageData(_,b);let H,j=0;const q=e.data,K=U.data;let ie,re,Q,Z,ae,se,ne,ce;if(t)switch(t.length){case 1:ae=t[0],se=t[0],ne=t[0],ce=t[0];break;case 4:ae=t[0],se=t[1],ne=t[2],ce=t[3]}if(e.kind===s.ImageKind.GRAYSCALE_1BPP){const he=q.byteLength,oe=new Uint32Array(K.buffer,0,K.byteLength>>2),pe=oe.length,_e=_+7>>3;let de=4294967295,me=s.FeatureTest.isLittleEndian?4278190080:255;for(ce&&255===ce[0]&&0===ce[255]&&([de,me]=[me,de]),ie=0;ie<L;ie++){for(Q=ie<y?b:d,H=0,re=0;re<Q;re++){const ve=he-j;let Se=0;const be=ve>_e?_:8*ve-7,we=-8&be;let ee=0,$=0;for(;Se<we;Se+=8)$=q[j++],oe[H++]=128&$?de:me,oe[H++]=64&$?de:me,oe[H++]=32&$?de:me,oe[H++]=16&$?de:me,oe[H++]=8&$?de:me,oe[H++]=4&$?de:me,oe[H++]=2&$?de:me,oe[H++]=1&$?de:me;for(;Se<be;Se++)0===ee&&($=q[j++],ee=128),oe[H++]=$&ee?de:me,ee>>=1}for(;H<pe;)oe[H++]=0;C.putImageData(U,0,ie*b)}}else if(e.kind===s.ImageKind.RGBA_32BPP){const he=!!(ae||se||ne);for(re=0,Z=_*b*4,ie=0;ie<y;ie++){if(K.set(q.subarray(j,j+Z)),j+=Z,he)for(let oe=0;oe<Z;oe+=4)ae&&(K[oe+0]=ae[K[oe+0]]),se&&(K[oe+1]=se[K[oe+1]]),ne&&(K[oe+2]=ne[K[oe+2]]);C.putImageData(U,0,re),re+=b}if(ie<L){if(Z=_*d*4,K.set(q.subarray(j,j+Z)),he)for(let oe=0;oe<Z;oe+=4)ae&&(K[oe+0]=ae[K[oe+0]]),se&&(K[oe+1]=se[K[oe+1]]),ne&&(K[oe+2]=ne[K[oe+2]]);C.putImageData(U,0,re)}}else{if(e.kind!==s.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);{const he=!!(ae||se||ne);for(Q=b,Z=_*Q,ie=0;ie<L;ie++){for(ie>=y&&(Q=d,Z=_*Q),H=0,re=Z;re--;)K[H++]=q[j++],K[H++]=q[j++],K[H++]=q[j++],K[H++]=255;if(he)for(let oe=0;oe<H;oe+=4)ae&&(K[oe+0]=ae[K[oe+0]]),se&&(K[oe+1]=se[K[oe+1]]),ne&&(K[oe+2]=ne[K[oe+2]]);C.putImageData(U,0,ie*b)}}}}function h(C,e){if(e.bitmap)return void C.drawImage(e.bitmap,0,0);const t=e.height,l=e.width,_=t%b,d=(t-_)/b,y=0===_?d:d+1,L=C.createImageData(l,b);let U=0;const j=e.data,H=L.data;for(let q=0;q<y;q++){const K=q<d?b:_;({srcPos:U}=(0,N.applyMaskImageData)({src:j,srcPos:U,dest:H,width:l,height:K})),C.putImageData(L,0,q*b)}}function v(C,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let l=0,_=t.length;l<_;l++){const d=t[l];void 0!==C[d]&&(e[d]=C[d])}void 0!==C.setLineDash&&(e.setLineDash(C.getLineDash()),e.lineDashOffset=C.lineDashOffset)}function w(C,e){C.strokeStyle=C.fillStyle=e||"#000000",C.fillRule="nonzero",C.globalAlpha=1,C.lineWidth=1,C.lineCap="butt",C.lineJoin="miter",C.miterLimit=10,C.globalCompositeOperation="source-over",C.font="10px sans-serif",void 0!==C.setLineDash&&(C.setLineDash([]),C.lineDashOffset=0)}function k(C,e,t,l){const _=C.length;for(let d=3;d<_;d+=4){const y=C[d];if(0===y)C[d-3]=e,C[d-2]=t,C[d-1]=l;else if(y<255){const L=255-y;C[d-3]=C[d-3]*y+e*L>>8,C[d-2]=C[d-2]*y+t*L>>8,C[d-1]=C[d-1]*y+l*L>>8}}}function c(C,e,t){const l=C.length;for(let d=3;d<l;d+=4)e[d]=e[d]*(t?t[C[d]]:C[d])*.00392156862745098|0}function T(C,e,t){const l=C.length;for(let _=3;_<l;_+=4){const d=77*C[_-3]+152*C[_-2]+28*C[_-1];e[_]=t?e[_]*t[d>>8]>>8:e[_]*d>>16}}function I(C,e){const t=s.Util.singularValueDecompose2dScale(C);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const l=Math.fround((globalThis.devicePixelRatio||1)*z.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:t[0]<=l||t[1]<=l}const M=["butt","round","square"],D=["miter","round","bevel"],V={},X={};class J{constructor(e,t,l,_,d,y,L,U){this.ctx=e,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=l,this.canvasFactory=_,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=y,this.cachedCanvases=new m(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=L,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=U?.background||null,this.foregroundColor=U?.foreground||null,e&&u(e),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:l=!1,background:_=null}){const d=this.ctx.canvas.width,y=this.ctx.canvas.height,L=_||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const U=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const j=this.backgroundColor=this.ctx.fillStyle;let H=!0,q=L;if(this.ctx.fillStyle=L,q=this.ctx.fillStyle,H="string"==typeof q&&/^#[0-9A-Fa-f]{6}$/.test(q),"#000000"===U&&"#ffffff"===j||U===j||!H)this.foregroundColor=this.backgroundColor=null;else{const K=parseInt(q.slice(1),16),re=(K&&65280)>>8,Q=K&&255,Z=se=>(se/=255)<=.03928?se/12.92:((se+.055)/1.055)**2.4,ae=Math.round(.2126*Z((K&&16711680)>>16)+.7152*Z(re)+.0722*Z(Q));this.selectColor=(se,ne,ce)=>{const he=.2126*Z(se)+.7152*Z(ne)+.0722*Z(ce);return Math.round(he)===ae?j:U}}}if(this.ctx.fillStyle=this.backgroundColor||L,this.ctx.fillRect(0,0,d,y),this.ctx.restore(),l){const U=this.cachedCanvases.getCanvas("transparent",d,y,!0);this.compositeCtx=this.ctx,this.transparentCanvas=U.canvas,this.ctx=U.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),w(this.ctx,this.foregroundColor),e&&(this.ctx.transform.apply(this.ctx,e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform.apply(this.ctx,t.transform),this.viewportScale=t.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(e,t,l,_){const d=e.argsArray,y=e.fnArray;let L=t||0;const U=d.length;if(U===L)return L;const j=U-L>10&&"function"==typeof l,H=j?Date.now()+15:0;let q=0;const K=this.commonObjs,ie=this.objs;let re;for(;;){if(void 0!==_&&L===_.nextBreakPoint)return _.breakIt(L,l),L;if(re=y[L],re!==s.OPS.dependency)this[re].apply(this,d[L]);else for(const Q of d[L]){const Z=Q.startsWith("g_")?K:ie;if(!Z.has(Q))return Z.get(Q,l),L}if(L++,L===U)return L;if(j&&++q>10){if(Date.now()>H)return l(),L;q=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(e,t){const l=e.width,_=e.height;let H,q,d=Math.max(Math.hypot(t[0],t[1]),1),y=Math.max(Math.hypot(t[2],t[3]),1),L=l,U=_,j="prescale1";for(;d>2&&L>1||y>2&&U>1;){let K=L,ie=U;d>2&&L>1&&(K=Math.ceil(L/2),d/=L/K),y>2&&U>1&&(ie=Math.ceil(U/2),y/=U/ie),H=this.cachedCanvases.getCanvas(j,K,ie,!1),q=H.context,q.clearRect(0,0,K,ie),q.drawImage(e,0,0,L,U,0,0,K,ie),e=H.canvas,L=K,U=ie,j="prescale1"===j?"prescale2":"prescale1"}return{img:e,paintWidth:L,paintHeight:U}}_createMaskCanvas(e){const t=this.ctx,{width:l,height:_}=e,d=this.current.fillColor,y=this.current.patternFill,L=t.mozCurrentTransform;let U,j,H,q;if((e.bitmap||e.data)&&e.count>1){const pe=e.bitmap||e.data.buffer,_e=L.slice(0,4);j=JSON.stringify(y?_e:[_e,d]),U=this._cachedBitmapsMap.get(pe),U||(U=new Map,this._cachedBitmapsMap.set(pe,U));const de=U.get(j);if(de&&!y)return{canvas:de,offsetX:Math.round(Math.min(L[0],L[2])+L[4]),offsetY:Math.round(Math.min(L[1],L[3])+L[5])};H=de}H||(q=this.cachedCanvases.getCanvas("maskCanvas",l,_,!1),h(q.context,e));let K=s.Util.transform(L,[1/l,0,0,-1/_,0,0]);K=s.Util.transform(K,[1,0,0,1,0,-_]);const ie=s.Util.applyTransform([0,0],K),re=s.Util.applyTransform([l,_],K),Q=s.Util.normalizeRect([ie[0],ie[1],re[0],re[1]]),Z=Math.round(Q[2]-Q[0])||1,ae=Math.round(Q[3]-Q[1])||1,se=this.cachedCanvases.getCanvas("fillCanvas",Z,ae,!0),ne=se.context,ce=Math.min(ie[0],re[0]),he=Math.min(ie[1],re[1]);ne.translate(-ce,-he),ne.transform.apply(ne,K),H||(H=this._scaleImage(q.canvas,ne.mozCurrentTransformInverse),H=H.img,U&&y&&U.set(j,H)),ne.imageSmoothingEnabled=I(ne.mozCurrentTransform,e.interpolate),g(ne,H,0,0,H.width,H.height,0,0,l,_),ne.globalCompositeOperation="source-in";const oe=s.Util.transform(ne.mozCurrentTransformInverse,[1,0,0,1,-ce,-he]);return ne.fillStyle=y?d.getPattern(t,this,oe,G.PathType.FILL):d,ne.fillRect(0,0,l,_),U&&!y&&(this.cachedCanvases.delete("fillCanvas"),U.set(j,se.canvas)),{canvas:se.canvas,offsetX:Math.round(ce),offsetY:Math.round(he)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=M[e]}setLineJoin(e){this.ctx.lineJoin=D[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const l=this.ctx;void 0!==l.setLineDash&&(l.setLineDash(e),l.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let t=0,l=e.length;t<l;t++){const _=e[t],y=_[1];switch(_[0]){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y[0],y[1]);break;case"CA":this.current.strokeAlpha=_[1];break;case"ca":this.current.fillAlpha=_[1],this.ctx.globalAlpha=_[1];break;case"BM":this.ctx.globalCompositeOperation=y;break;case"SMask":this.current.activeSMask=y?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=y}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const _=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=_.context;const d=this.ctx;d.setTransform.apply(d,this.suspendedCtx.mozCurrentTransform),v(this.suspendedCtx,d),function x(C,e){if(C._removeMirroring)throw new Error("Context is already forwarding operations.");C.__originalSave=C.save,C.__originalRestore=C.restore,C.__originalRotate=C.rotate,C.__originalScale=C.scale,C.__originalTranslate=C.translate,C.__originalTransform=C.transform,C.__originalSetTransform=C.setTransform,C.__originalResetTransform=C.resetTransform,C.__originalClip=C.clip,C.__originalMoveTo=C.moveTo,C.__originalLineTo=C.lineTo,C.__originalBezierCurveTo=C.bezierCurveTo,C.__originalRect=C.rect,C.__originalClosePath=C.closePath,C.__originalBeginPath=C.beginPath,C._removeMirroring=()=>{C.save=C.__originalSave,C.restore=C.__originalRestore,C.rotate=C.__originalRotate,C.scale=C.__originalScale,C.translate=C.__originalTranslate,C.transform=C.__originalTransform,C.setTransform=C.__originalSetTransform,C.resetTransform=C.__originalResetTransform,C.clip=C.__originalClip,C.moveTo=C.__originalMoveTo,C.lineTo=C.__originalLineTo,C.bezierCurveTo=C.__originalBezierCurveTo,C.rect=C.__originalRect,C.closePath=C.__originalClosePath,C.beginPath=C.__originalBeginPath,delete C._removeMirroring},C.save=function(){e.save(),this.__originalSave()},C.restore=function(){e.restore(),this.__originalRestore()},C.translate=function(l,_){e.translate(l,_),this.__originalTranslate(l,_)},C.scale=function(l,_){e.scale(l,_),this.__originalScale(l,_)},C.transform=function(l,_,d,y,L,U){e.transform(l,_,d,y,L,U),this.__originalTransform(l,_,d,y,L,U)},C.setTransform=function(l,_,d,y,L,U){e.setTransform(l,_,d,y,L,U),this.__originalSetTransform(l,_,d,y,L,U)},C.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},C.rotate=function(l){e.rotate(l),this.__originalRotate(l)},C.clip=function(l){e.clip(l),this.__originalClip(l)},C.moveTo=function(t,l){e.moveTo(t,l),this.__originalMoveTo(t,l)},C.lineTo=function(t,l){e.lineTo(t,l),this.__originalLineTo(t,l)},C.bezierCurveTo=function(t,l,_,d,y,L){e.bezierCurveTo(t,l,_,d,y,L),this.__originalBezierCurveTo(t,l,_,d,y,L)},C.rect=function(t,l,_,d){e.rect(t,l,_,d),this.__originalRect(t,l,_,d)},C.closePath=function(){e.closePath(),this.__originalClosePath()},C.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){this.current.activeSMask&&(e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function O(C,e,t,l){const _=l[0],d=l[1],y=l[2]-_,L=l[3]-d;0===y||0===L||(function E(C,e,t,l,_,d,y,L,U,j,H){const q=!!d,K=q?d[0]:0,ie=q?d[1]:0,re=q?d[2]:0;let Q;Q="Luminosity"===_?T:c;const ae=Math.min(l,Math.ceil(1048576/t));for(let se=0;se<l;se+=ae){const ne=Math.min(ae,l-se),ce=C.getImageData(L-j,se+(U-H),t,ne),he=e.getImageData(L,se+U,t,ne);q&&k(ce.data,K,ie,re),Q(ce.data,he.data,y),e.putImageData(he,L,se+U)}}(e.context,t,y,L,e.subtype,e.backdrop,e.transferMap,_,d,e.offsetX,e.offsetY),C.save(),C.globalAlpha=1,C.globalCompositeOperation="source-over",C.setTransform(1,0,0,1,0,0),C.drawImage(t.canvas,0,0),C.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(e,t,l,_,d,y){this.ctx.transform(e,t,l,_,d,y),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(e,t,l){const _=this.ctx,d=this.current;let U,j,y=d.x,L=d.y;const H=_.mozCurrentTransform,q=0===H[0]&&0===H[3]||0===H[1]&&0===H[2],K=q?l.slice(0):null;for(let ie=0,re=0,Q=e.length;ie<Q;ie++)switch(0|e[ie]){case s.OPS.rectangle:y=t[re++],L=t[re++];const Z=t[re++],ae=t[re++],se=y+Z,ne=L+ae;_.moveTo(y,L),0===Z||0===ae?_.lineTo(se,ne):(_.lineTo(se,L),_.lineTo(se,ne),_.lineTo(y,ne)),q||d.updateRectMinMax(H,[y,L,se,ne]),_.closePath();break;case s.OPS.moveTo:y=t[re++],L=t[re++],_.moveTo(y,L),q||d.updatePathMinMax(H,y,L);break;case s.OPS.lineTo:y=t[re++],L=t[re++],_.lineTo(y,L),q||d.updatePathMinMax(H,y,L);break;case s.OPS.curveTo:U=y,j=L,y=t[re+4],L=t[re+5],_.bezierCurveTo(t[re],t[re+1],t[re+2],t[re+3],y,L),d.updateCurvePathMinMax(H,U,j,t[re],t[re+1],t[re+2],t[re+3],y,L,K),re+=6;break;case s.OPS.curveTo2:U=y,j=L,_.bezierCurveTo(y,L,t[re],t[re+1],t[re+2],t[re+3]),d.updateCurvePathMinMax(H,U,j,y,L,t[re],t[re+1],t[re+2],t[re+3],K),y=t[re+2],L=t[re+3],re+=4;break;case s.OPS.curveTo3:U=y,j=L,y=t[re+2],L=t[re+3],_.bezierCurveTo(t[re],t[re+1],y,L,y,L),d.updateCurvePathMinMax(H,U,j,t[re],t[re+1],y,L,y,L,K),re+=4;break;case s.OPS.closePath:_.closePath()}q&&d.updateScalingPathMinMax(H,K),d.setCurrentPoint(y,L)}closePath(){this.ctx.closePath()}stroke(e){e=!(typeof e<"u")||e;const t=this.ctx,l=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof l&&l?.getPattern?(t.save(),t.strokeStyle=l.getPattern(t,this,t.mozCurrentTransformInverse,G.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e){e=!(typeof e<"u")||e;const t=this.ctx,l=this.current.fillColor;let d=!1;this.current.patternFill&&(t.save(),t.fillStyle=l.getPattern(t,this,t.mozCurrentTransformInverse,G.PathType.FILL),d=!0);const y=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==y&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),d&&t.restore(),e&&this.consumePath(y)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=V}eoClip(){this.pendingClip=X}beginText(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(let l=0;l<e.length;l++){const _=e[l];t.setTransform.apply(t,_.transform),t.translate(_.x,_.y),_.addToPath(t,_.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const l=this.commonObjs.get(e),_=this.current;if(!l)throw new Error(`Can't find font for ${e}`);if(_.fontMatrix=l.fontMatrix||s.FONT_IDENTITY_MATRIX,(0===_.fontMatrix[0]||0===_.fontMatrix[3])&&(0,s.warn)("Invalid font matrix for font "+e),t<0?(t=-t,_.fontDirection=-1):_.fontDirection=1,this.current.font=l,this.current.fontSize=t,l.isType3Font)return;let y="normal";l.black?y="900":l.bold&&(y="bold");const L=l.italic?"italic":"normal",U=`"${l.loadedName||"sans-serif"}", ${l.fallbackName}`;let j=t;t<16?j=16:t>100&&(j=100),this.current.fontSizeScale=t/j,this.ctx.font=`${L} ${y} ${j}px ${U}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,l,_,d,y){this.current.textMatrix=[e,t,l,_,d,y],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,l,_){const d=this.ctx,y=this.current,L=y.font,U=y.textRenderingMode,j=y.fontSize/y.fontSizeScale,H=U&s.TextRenderingMode.FILL_STROKE_MASK,q=!!(U&s.TextRenderingMode.ADD_TO_PATH_FLAG),K=y.patternFill&&!L.missingFile;let ie;(L.disableFontFace||q||K)&&(ie=L.getPathGenerator(this.commonObjs,e)),L.disableFontFace||K?(d.save(),d.translate(t,l),d.beginPath(),ie(d,j),_&&d.setTransform.apply(d,_),(H===s.TextRenderingMode.FILL||H===s.TextRenderingMode.FILL_STROKE)&&d.fill(),(H===s.TextRenderingMode.STROKE||H===s.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((H===s.TextRenderingMode.FILL||H===s.TextRenderingMode.FILL_STROKE)&&d.fillText(e,t,l),(H===s.TextRenderingMode.STROKE||H===s.TextRenderingMode.FILL_STROKE)&&d.strokeText(e,t,l)),q&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:t,y:l,fontSize:j,addToPath:ie})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let l=!1;for(let _=3;_<t.length;_+=4)if(t[_]>0&&t[_]<255){l=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",l)}showText(e){const t=this.current,l=t.font;if(l.isType3Font)return this.showType3Text(e);const _=t.fontSize;if(0===_)return;const d=this.ctx,y=t.fontSizeScale,L=t.charSpacing,U=t.wordSpacing,j=t.fontDirection,H=t.textHScale*j,q=e.length,K=l.vertical,ie=K?1:-1,re=l.defaultVMetrics,Q=_*t.fontMatrix[0],Z=t.textRenderingMode===s.TextRenderingMode.FILL&&!l.disableFontFace&&!t.patternFill;let ae;if(d.save(),d.transform.apply(d,t.textMatrix),d.translate(t.x,t.y+t.textRise),d.scale(H,j>0?-1:1),t.patternFill){d.save();const oe=t.fillColor.getPattern(d,this,d.mozCurrentTransformInverse,G.PathType.FILL);ae=d.mozCurrentTransform,d.restore(),d.fillStyle=oe}let se=t.lineWidth;const ne=t.textMatrixScale;if(0===ne||0===se){const oe=t.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;(oe===s.TextRenderingMode.STROKE||oe===s.TextRenderingMode.FILL_STROKE)&&(se=this.getSinglePixelWidth())}else se/=ne;1!==y&&(d.scale(y,y),se/=y),d.lineWidth=se;let he,ce=0;for(he=0;he<q;++he){const oe=e[he];if("number"==typeof oe){ce+=ie*oe*_/1e3;continue}let pe=!1;const _e=(oe.isSpace?U:0)+L,de=oe.fontChar,me=oe.accent;let ve,Se,we,be=oe.width;if(K){const ee=oe.vmetric||re,$=-(oe.vmetric?ee[1]:.5*be)*Q;be=ee?-ee[0]:be,ve=$/y,Se=(ce+ee[2]*Q)/y}else ve=ce/y,Se=0;if(l.remeasure&&be>0){const ee=1e3*d.measureText(de).width/_*y;if(be<ee&&this.isFontSubpixelAAEnabled){const $=be/ee;pe=!0,d.save(),d.scale($,1),ve/=$}else be!==ee&&(ve+=(be-ee)/2e3*_/y)}this.contentVisible&&(oe.isInFont||l.missingFile)&&(Z&&!me?d.fillText(de,ve,Se):(this.paintChar(de,ve,Se,ae),me&&this.paintChar(me.fontChar,ve+_*me.offset.x/y,Se-_*me.offset.y/y,ae))),we=K?be*Q-_e*j:be*Q+_e*j,ce+=we,pe&&d.restore()}K?t.y-=ce:t.x+=ce*H,d.restore(),this.compose()}showType3Text(e){const t=this.ctx,l=this.current,_=l.font,d=l.fontSize,y=l.fontDirection,L=_.vertical?1:-1,U=l.charSpacing,j=l.wordSpacing,H=l.textHScale*y,q=l.fontMatrix||s.FONT_IDENTITY_MATRIX,K=e.length;let re,Q,Z,ae;if(l.textRenderingMode!==s.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,t.save(),t.transform.apply(t,l.textMatrix),t.translate(l.x,l.y),t.scale(H,y),re=0;re<K;++re){if(Q=e[re],"number"==typeof Q){ae=L*Q*d/1e3,this.ctx.translate(ae,0),l.x+=ae*H;continue}const se=(Q.isSpace?j:0)+U,ne=_.charProcOperatorList[Q.operatorListId];ne?(this.contentVisible&&(this.processingType3=Q,this.save(),t.scale(d,d),t.transform.apply(t,q),this.executeOperatorList(ne),this.restore()),Z=s.Util.applyTransform([Q.width,0],q)[0]*d+se,t.translate(Z,0),l.x+=Z*H):(0,s.warn)(`Type3 character "${Q.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,l,_,d,y){this.ctx.rect(l,_,d-l,y-_),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const l=e[1],_=this.baseTransform||this.ctx.mozCurrentTransform.slice();t=new G.TilingPattern(e,l,this.ctx,{createCanvasGraphics:y=>new J(y,this.commonObjs,this.objs,this.canvasFactory)},_)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,l){const _=this.selectColor?.(e,t,l)||s.Util.makeHexColor(e,t,l);this.ctx.strokeStyle=_,this.current.strokeColor=_}setFillRGBColor(e,t,l){const _=this.selectColor?.(e,t,l)||s.Util.makeHexColor(e,t,l);this.ctx.fillStyle=_,this.current.fillColor=_,this.current.patternFill=!1}_getPattern(e,t=null){let l;return this.cachedPatterns.has(e)?l=this.cachedPatterns.get(e):(l=(0,G.getShadingPattern)(this.objs.get(e)),this.cachedPatterns.set(e,l)),t&&(l.matrix=t),l}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const l=this._getPattern(e);t.fillStyle=l.getPattern(t,this,t.mozCurrentTransformInverse,G.PathType.SHADING);const _=t.mozCurrentTransformInverse;if(_){const d=t.canvas,y=d.width,L=d.height,U=s.Util.applyTransform([0,0],_),j=s.Util.applyTransform([0,L],_),H=s.Util.applyTransform([y,0],_),q=s.Util.applyTransform([y,L],_),K=Math.min(U[0],j[0],H[0],q[0]),ie=Math.min(U[1],j[1],H[1],q[1]),re=Math.max(U[0],j[0],H[0],q[0]),Q=Math.max(U[1],j[1],H[1],q[1]);this.ctx.fillRect(K,ie,re-K,Q-ie)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,s.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,s.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t)&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,t),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,s.info)("TODO: Support non-isolated groups."),e.knockout&&(0,s.warn)("Knockout groups not supported.");const l=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");let _=s.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform);_=s.Util.intersect(_,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];const y=Math.floor(_[0]),L=Math.floor(_[1]);let U=Math.max(Math.ceil(_[2])-y,1),j=Math.max(Math.ceil(_[3])-L,1),H=1,q=1;U>S&&(H=U/S,U=S),j>S&&(q=j/S,j=S),this.current.startNewPathAndClipBox([0,0,U,j]);let K="groupAt"+this.groupLevel;e.smask&&(K+="_smask_"+this.smaskCounter++%2);const ie=this.cachedCanvases.getCanvas(K,U,j,!0),re=ie.context;re.scale(1/H,1/q),re.translate(-y,-L),re.transform.apply(re,l),e.smask?this.smaskStack.push({canvas:ie.canvas,context:re,offsetX:y,offsetY:L,scaleX:H,scaleY:q,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(y,L),t.scale(H,q),t.save()),v(t,re),this.ctx=re,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,l=this.groupStack.pop();if(this.ctx=l,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,_);const d=s.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],_);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(e,t,l,_,d){if(this.save(),Array.isArray(t)&&4===t.length){const y=t[2]-t[0],L=t[3]-t[1];if(d&&this.annotationCanvasMap){(l=l.slice())[4]-=t[0],l[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=y,t[3]=L;const[U,j]=s.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:H}=this,q=Math.ceil(y*this.outputScaleX*H),K=Math.ceil(L*this.outputScaleY*H);this.annotationCanvas=this.canvasFactory.create(q,K);const{canvas:ie,context:re}=this.annotationCanvas,Q=`var(--zoom-factor) * ${z.PixelsPerInch.PDF_TO_CSS_UNITS}`;ie.style.width=`calc(${y}px * ${Q})`,ie.style.height=`calc(${L}px * ${Q})`,this.annotationCanvasMap.set(e,ie),this.annotationCanvas.savedCtx=this.ctx,this.ctx=re,this.ctx.setTransform(U,0,0,-j,0,L*j),u(this.ctx),w(this.ctx,this.foregroundColor)}else w(this.ctx,this.foregroundColor),this.ctx.rect(t[0],t[1],y,L),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,l),this.transform.apply(this,_)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const l=this.ctx,_=this.processingType3;if(_&&(void 0===_.compiled&&(_.compiled=function n(C){const{width:e,height:t}=C;if(e>1e3||t>1e3)return null;const _=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=e+1;let L,U,j,y=new Uint8Array(d*(t+1));const H=e+7&-8;let q=new Uint8Array(H*t),K=0;for(const ne of C.data){let ce=128;for(;ce>0;)q[K++]=ne&ce?0:255,ce>>=1}let ie=0;for(K=0,0!==q[K]&&(y[0]=1,++ie),U=1;U<e;U++)q[K]!==q[K+1]&&(y[U]=q[K]?2:1,++ie),K++;for(0!==q[K]&&(y[U]=2,++ie),L=1;L<t;L++){K=L*H,j=L*d,q[K-H]!==q[K]&&(y[j]=q[K]?1:8,++ie);let ne=(q[K]?4:0)+(q[K-H]?8:0);for(U=1;U<e;U++)ne=(ne>>2)+(q[K+1]?4:0)+(q[K-H+1]?8:0),_[ne]&&(y[j+U]=_[ne],++ie),K++;if(q[K-H]!==q[K]&&(y[j+U]=q[K]?2:4,++ie),ie>1e3)return null}for(K=H*(t-1),j=L*d,0!==q[K]&&(y[j]=8,++ie),U=1;U<e;U++)q[K]!==q[K+1]&&(y[j+U]=q[K]?4:8,++ie),K++;if(0!==q[K]&&(y[j+U]=4,++ie),ie>1e3)return null;const re=new Int32Array([0,d,-1,0,-d,0,0,0,1]);let Q,Z,ae;for(W.isNodeJS?Z=[]:Q=new Path2D,L=0;ie&&L<=t;L++){let ne=L*d;const ce=ne+e;for(;ne<ce&&!y[ne];)ne++;if(ne===ce)continue;Q?Q.moveTo(ne%d,L):ae=[ne%d,L];const he=ne;let oe=y[ne];do{const pe=re[oe];do{ne+=pe}while(!y[ne]);const _e=y[ne];5!==_e&&10!==_e?(oe=_e,y[ne]=0):(oe=_e&51*oe>>4,y[ne]&=oe>>2|oe<<2),Q?Q.lineTo(ne%d,ne/d|0):ae.push(ne%d,ne/d|0),y[ne]||--ie}while(he!==ne);Q||Z.push(ae),--L}return q=null,y=null,function(ne){if(ne.save(),ne.scale(1/e,-1/t),ne.translate(0,-t),Q)ne.fill(Q);else{ne.beginPath();for(const ce of Z){ne.moveTo(ce[0],ce[1]);for(let he=2,oe=ce.length;he<oe;he+=2)ne.lineTo(ce[he],ce[he+1])}ne.fill()}ne.beginPath(),ne.restore()}}(e)),_.compiled))return void _.compiled(l);const d=this._createMaskCanvas(e),y=d.canvas;l.save(),l.setTransform(1,0,0,1,0,0),l.drawImage(y,d.offsetX,d.offsetY),l.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,l=0,_=0,d,y){if(!this.contentVisible)return;e=this.getObject(e.data,e);const L=this.ctx;L.save();const U=L.mozCurrentTransform;L.transform(t,l,_,d,0,0);const j=this._createMaskCanvas(e);L.setTransform(1,0,0,1,0,0);for(let H=0,q=y.length;H<q;H+=2){const K=s.Util.transform(U,[t,l,_,d,y[H],y[H+1]]),[ie,re]=s.Util.applyTransform([0,0],K);L.drawImage(j.canvas,ie,re)}L.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,l=this.current.fillColor,_=this.current.patternFill;for(let d=0,y=e.length;d<y;d++){const L=e[d],U=L.width,j=L.height,H=this.cachedCanvases.getCanvas("maskCanvas",U,j,!1),q=H.context;q.save(),h(q,L),q.globalCompositeOperation="source-in",q.fillStyle=_?l.getPattern(q,this,t.mozCurrentTransformInverse,G.PathType.FILL):l,q.fillRect(0,0,U,j),q.restore(),t.save(),t.transform.apply(t,L.transform),t.scale(1,-1),g(t,H.canvas,0,0,U,j,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,s.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,l,_){if(!this.contentVisible)return;const d=this.getObject(e);if(!d)return void(0,s.warn)("Dependent image isn't ready yet");const y=d.width,L=d.height,U=[];for(let j=0,H=_.length;j<H;j+=2)U.push({transform:[t,0,0,l,_[j],_[j+1]],x:0,y:0,w:y,h:L});this.paintInlineImageXObjectGroup(d,U)}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,l=e.height,_=this.ctx;let d;if(this.save(),_.scale(1/t,-1/l),"function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)d=e;else{const j=this.cachedCanvases.getCanvas("inlineImage",t,l,!1);f(j.context,e,this.current.transferMaps),d=j.canvas}const y=this._scaleImage(d,_.mozCurrentTransformInverse);_.imageSmoothingEnabled=I(_.mozCurrentTransform,e.interpolate);const[L,U]=g(_,y.img,0,0,y.paintWidth,y.paintHeight,0,-l,t,l);if(this.imageLayer){const j=this.getCanvasPosition(0,-l);this.imageLayer.appendImage({imgData:e,left:j[0],top:j[1],width:L,height:U})}this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const l=this.ctx,_=e.width,d=e.height,y=this.cachedCanvases.getCanvas("inlineImage",_,d,!1);f(y.context,e,this.current.transferMaps);for(let U=0,j=t.length;U<j;U++){const H=t[U];if(l.save(),l.transform.apply(l,H.transform),l.scale(1,-1),g(l,y.canvas,H.x,H.y,H.w,H.h,0,-1,1,1),this.imageLayer){const q=this.getCanvasPosition(H.x,H.y);this.imageLayer.appendImage({imgData:e,left:q[0],top:q[1],width:_,height:d})}l.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){this.markedContentStack.push("OC"===e?{visible:this.optionalContentConfig.isVisible(t)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const l=this.ctx;this.pendingClip&&(t||(this.pendingClip===X?l.clip("evenodd"):l.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),l.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=this.ctx.mozCurrentTransform;if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),l=Math.hypot(e[0],e[2]),_=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(l,_)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:e}=this.current,t=this.ctx.mozCurrentTransform;let l,_;if(0===t[1]&&0===t[2]){const d=Math.abs(t[0]),y=Math.abs(t[3]);if(0===e)l=1/d,_=1/y;else{const L=d*e,U=y*e;l=L<1?1/L:1,_=U<1?1/U:1}}else{const d=Math.abs(t[0]*t[3]-t[2]*t[1]),y=Math.hypot(t[0],t[1]),L=Math.hypot(t[2],t[3]);if(0===e)l=L/d,_=y/d;else{const U=e*d;l=L>U?L/U:1,_=y>U?y/U:1}}this._cachedScaleForStroking=[l,_]}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:l}=this.current,[_,d]=this.getScaleForStroking();if(t.lineWidth=l||1,1===_&&1===d)return void t.stroke();let y,L,U;e&&(y=t.mozCurrentTransform.slice(),L=t.getLineDash().slice(),U=t.lineDashOffset),t.scale(_,d);const j=Math.max(_,d);t.setLineDash(t.getLineDash().map(H=>H/j)),t.lineDashOffset/=j,t.stroke(),e&&(t.setTransform(...y),t.setLineDash(L),t.lineDashOffset=U)}getCanvasPosition(e,t){const l=this.ctx.mozCurrentTransform;return[l[0]*e+l[2]*t+l[4],l[1]*e+l[3]*t+l[5]]}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}a.CanvasGraphics=J;for(const C in s.OPS)void 0!==J.prototype[C]&&(J.prototype[s.OPS[C]]=J.prototype[C])},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function P(o){switch(o[0]){case"RadialAxial":return new R(o);case"Mesh":return new p(o);case"Dummy":return new A}throw new Error(`Unknown IR type: ${o[0]}`)};var s=B(1),G=B(3);const N={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function W(o,x){if(!x||G.isNodeJS)return;const u=x[2]-x[0],m=x[3]-x[1],g=new Path2D;g.rect(x[0],x[1],u,m),o.clip(g)}a.PathType=N;class z{constructor(){this.constructor===z&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,s.unreachable)("Abstract method `getPattern` called.")}}class R extends z{constructor(x){super(),this._type=x[1],this._bbox=x[2],this._colorStops=x[3],this._p0=x[4],this._p1=x[5],this._r0=x[6],this._r1=x[7],this.matrix=null}_createGradient(x){let u;"axial"===this._type?u=x.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(u=x.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const m of this._colorStops)u.addColorStop(m[0],m[1]);return u}getPattern(x,u,m,g){let n;if(g===N.STROKE||g===N.FILL){const i=u.current.getClippedPathBoundingBox(g,x.mozCurrentTransform)||[0,0,0,0],f=Math.ceil(i[2]-i[0])||1,h=Math.ceil(i[3]-i[1])||1,v=u.cachedCanvases.getCanvas("pattern",f,h,!0),w=v.context;w.clearRect(0,0,w.canvas.width,w.canvas.height),w.beginPath(),w.rect(0,0,w.canvas.width,w.canvas.height),w.translate(-i[0],-i[1]),m=s.Util.transform(m,[1,0,0,1,i[0],i[1]]),w.transform.apply(w,u.baseTransform),this.matrix&&w.transform.apply(w,this.matrix),W(w,this._bbox),w.fillStyle=this._createGradient(w),w.fill(),n=x.createPattern(v.canvas,"no-repeat");const k=new DOMMatrix(m);try{n.setTransform(k)}catch(c){(0,s.warn)(`RadialAxialShadingPattern.getPattern: "${c?.message}".`)}}else W(x,this._bbox),n=this._createGradient(x);return n}}function r(o,x,u,m,g,n,i,f){const h=x.coords,v=x.colors,w=o.data,k=4*o.width;let c;h[u+1]>h[m+1]&&(c=u,u=m,m=c,c=n,n=i,i=c),h[m+1]>h[g+1]&&(c=m,m=g,g=c,c=i,i=f,f=c),h[u+1]>h[m+1]&&(c=u,u=m,m=c,c=n,n=i,i=c);const T=(h[u]+x.offsetX)*x.scaleX,E=(h[u+1]+x.offsetY)*x.scaleY,O=(h[m]+x.offsetX)*x.scaleX,I=(h[m+1]+x.offsetY)*x.scaleY,M=(h[g]+x.offsetX)*x.scaleX,D=(h[g+1]+x.offsetY)*x.scaleY;if(E>=D)return;const V=v[n],X=v[n+1],J=v[n+2],C=v[i],e=v[i+1],t=v[i+2],l=v[f],_=v[f+1],d=v[f+2],y=Math.round(E),L=Math.round(D);let U,j,H,q,K,ie,re,Q;for(let Z=y;Z<=L;Z++){if(Z<I){let he;he=Z<E?0:(E-Z)/(E-I),U=T-(T-O)*he,j=V-(V-C)*he,H=X-(X-e)*he,q=J-(J-t)*he}else{let he;he=Z>D?1:I===D?0:(I-Z)/(I-D),U=O-(O-M)*he,j=C-(C-l)*he,H=e-(e-_)*he,q=t-(t-d)*he}let ae;ae=Z<E?0:Z>D?1:(E-Z)/(E-D),K=T-(T-M)*ae,ie=V-(V-l)*ae,re=X-(X-_)*ae,Q=J-(J-d)*ae;const se=Math.round(Math.min(U,K)),ne=Math.round(Math.max(U,K));let ce=k*Z+4*se;for(let he=se;he<=ne;he++)ae=(U-he)/(U-K),ae<0?ae=0:ae>1&&(ae=1),w[ce++]=j-(j-ie)*ae|0,w[ce++]=H-(H-re)*ae|0,w[ce++]=q-(q-Q)*ae|0,w[ce++]=255}}function S(o,x,u){const m=x.coords,g=x.colors;let n,i;switch(x.type){case"lattice":const f=x.verticesPerRow,h=Math.floor(m.length/f)-1,v=f-1;for(n=0;n<h;n++){let w=n*f;for(let k=0;k<v;k++,w++)r(o,u,m[w],m[w+1],m[w+f],g[w],g[w+1],g[w+f]),r(o,u,m[w+f+1],m[w+1],m[w+f],g[w+f+1],g[w+1],g[w+f])}break;case"triangles":for(n=0,i=m.length;n<i;n+=3)r(o,u,m[n],m[n+1],m[n+2],g[n],g[n+1],g[n+2]);break;default:throw new Error("illegal figure")}}class p extends z{constructor(x){super(),this._coords=x[2],this._colors=x[3],this._figures=x[4],this._bounds=x[5],this._bbox=x[7],this._background=x[8],this.matrix=null}_createMeshCanvas(x,u,m){const f=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),v=Math.ceil(this._bounds[2])-f,w=Math.ceil(this._bounds[3])-h,k=Math.min(Math.ceil(Math.abs(v*x[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(w*x[1]*1.1)),3e3),T=v/k,E=w/c,O={coords:this._coords,colors:this._colors,offsetX:-f,offsetY:-h,scaleX:1/T,scaleY:1/E},D=m.getCanvas("mesh",k+4,c+4,!1),V=D.context,X=V.createImageData(k,c);if(u){const C=X.data;for(let e=0,t=C.length;e<t;e+=4)C[e]=u[0],C[e+1]=u[1],C[e+2]=u[2],C[e+3]=255}for(const C of this._figures)S(X,C,O);return V.putImageData(X,2,2),{canvas:D.canvas,offsetX:f-2*T,offsetY:h-2*E,scaleX:T,scaleY:E}}getPattern(x,u,m,g){let n;if(W(x,this._bbox),g===N.SHADING)n=s.Util.singularValueDecompose2dScale(x.mozCurrentTransform);else if(n=s.Util.singularValueDecompose2dScale(u.baseTransform),this.matrix){const f=s.Util.singularValueDecompose2dScale(this.matrix);n=[n[0]*f[0],n[1]*f[1]]}const i=this._createMeshCanvas(n,g===N.SHADING?null:this._background,u.cachedCanvases);return g!==N.SHADING&&(x.setTransform.apply(x,u.baseTransform),this.matrix&&x.transform.apply(x,this.matrix)),x.translate(i.offsetX,i.offsetY),x.scale(i.scaleX,i.scaleY),x.createPattern(i.canvas,"no-repeat")}}class A extends z{getPattern(){return"hotpink"}}class b{static get MAX_PATTERN_SIZE(){return(0,s.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(x,u,m,g,n){this.operatorList=x[2],this.matrix=x[3]||[1,0,0,1,0,0],this.bbox=x[4],this.xstep=x[5],this.ystep=x[6],this.paintType=x[7],this.tilingType=x[8],this.color=u,this.ctx=m,this.canvasGraphicsFactory=g,this.baseTransform=n}createPatternCanvas(x){const u=this.operatorList,m=this.bbox,g=this.xstep,n=this.ystep,i=this.paintType,h=this.color,v=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+this.tilingType);const w=m[0],k=m[1],c=m[2],T=m[3],E=s.Util.singularValueDecompose2dScale(this.matrix),O=s.Util.singularValueDecompose2dScale(this.baseTransform),I=[E[0]*O[0],E[1]*O[1]],M=this.getSizeAndScale(g,this.ctx.canvas.width,I[0]),D=this.getSizeAndScale(n,this.ctx.canvas.height,I[1]),V=x.cachedCanvases.getCanvas("pattern",M.size,D.size,!0),X=V.context,J=v.createCanvasGraphics(X);J.groupLevel=x.groupLevel,this.setFillAndStrokeStyleToContext(J,i,h);let C=w,e=k,t=c,l=T;return w<0&&(C=0,t+=Math.abs(w)),k<0&&(e=0,l+=Math.abs(k)),X.translate(-M.scale*C,-D.scale*e),J.transform(M.scale,0,0,D.scale,0,0),X.save(),this.clipBbox(J,C,e,t,l),J.baseTransform=J.ctx.mozCurrentTransform.slice(),J.executeOperatorList(u),J.endDrawing(),{canvas:V.canvas,scaleX:M.scale,scaleY:D.scale,offsetX:C,offsetY:e}}getSizeAndScale(x,u,m){x=Math.abs(x);const g=Math.max(b.MAX_PATTERN_SIZE,u);let n=Math.ceil(x*m);return n>=g?n=g:m=n/x,{scale:m,size:n}}clipBbox(x,u,m,g,n){x.ctx.rect(u,m,g-u,n-m),x.current.updateRectMinMax(x.ctx.mozCurrentTransform,[u,m,g,n]),x.clip(),x.endPath()}setFillAndStrokeStyleToContext(x,u,m){const g=x.ctx,n=x.current;switch(u){case 1:const i=this.ctx;g.fillStyle=i.fillStyle,g.strokeStyle=i.strokeStyle,n.fillColor=i.fillStyle,n.strokeColor=i.strokeStyle;break;case 2:const f=s.Util.makeHexColor(m[0],m[1],m[2]);g.fillStyle=f,g.strokeStyle=f,n.fillColor=f,n.strokeColor=f;break;default:throw new s.FormatError(`Unsupported paint type: ${u}`)}}getPattern(x,u,m,g){let n=m;g!==N.SHADING&&(n=s.Util.transform(n,u.baseTransform),this.matrix&&(n=s.Util.transform(n,this.matrix)));const i=this.createPatternCanvas(u);let f=new DOMMatrix(n);f=f.translate(i.offsetX,i.offsetY),f=f.scale(1/i.scaleX,1/i.scaleY);const h=x.createPattern(i.canvas,"repeat");try{h.setTransform(f)}catch(v){(0,s.warn)(`TilingPattern.getPattern: "${v?.message}".`)}return h}}a.TilingPattern=b},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=function G({src:N,srcPos:W=0,dest:z,destPos:R=0,width:r,height:S,inverseDecode:p=!1}){const A=s.FeatureTest.isLittleEndian?4278190080:255,[P,F]=p?[0,A]:[A,0],b=r>>3,o=7&r,x=N.length;z=new Uint32Array(z.buffer);for(let u=0;u<S;u++){for(const g=W+b;W<g;W++){const n=W<x?N[W]:255;z[R++]=128&n?F:P,z[R++]=64&n?F:P,z[R++]=32&n?F:P,z[R++]=16&n?F:P,z[R++]=8&n?F:P,z[R++]=4&n?F:P,z[R++]=2&n?F:P,z[R++]=1&n?F:P}if(0===o)continue;const m=W<x?N[W++]:255;for(let g=0;g<o;g++)z[R++]=m&1<<7-g?F:P}return{srcPos:W,destPos:R}};var s=B(1)},(te,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const B=Object.create(null);a.GlobalWorkerOptions=B,B.workerPort=void 0===B.workerPort?null:B.workerPort,B.workerSrc=void 0===B.workerSrc?"":B.workerSrc},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var s=B(1);function W(R){switch(R instanceof Error||"object"==typeof R&&null!==R||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),R.name){case"AbortException":return new s.AbortException(R.message);case"MissingPDFException":return new s.MissingPDFException(R.message);case"PasswordException":return new s.PasswordException(R.message,R.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(R.message,R.status);case"UnknownErrorException":return new s.UnknownErrorException(R.message,R.details);default:return new s.UnknownErrorException(R.message,R.toString())}}a.MessageHandler=class z{constructor(r,S,p){this.sourceName=r,this.targetName=S,this.comObj=p,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=A=>{const P=A.data;if(P.targetName!==this.sourceName)return;if(P.stream)return void this._processStreamMessage(P);if(P.callback){const b=P.callbackId,o=this.callbackCapabilities[b];if(!o)throw new Error(`Cannot resolve callback ${b}`);if(delete this.callbackCapabilities[b],1===P.callback)o.resolve(P.data);else{if(2!==P.callback)throw new Error("Unexpected callback case");o.reject(W(P.reason))}return}const F=this.actionHandler[P.action];if(!F)throw new Error(`Unknown action from worker: ${P.action}`);if(P.callbackId){const b=this.sourceName,o=P.sourceName;new Promise(function(x){x(F(P.data))}).then(function(x){p.postMessage({sourceName:b,targetName:o,callback:1,callbackId:P.callbackId,data:x})},function(x){p.postMessage({sourceName:b,targetName:o,callback:2,callbackId:P.callbackId,reason:W(x)})})}else P.streamId?this._createStreamSink(P):F(P.data)},p.addEventListener("message",this._onComObjOnMessage)}on(r,S){const p=this.actionHandler;if(p[r])throw new Error(`There is already an actionName called "${r}"`);p[r]=S}send(r,S,p){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,data:S},p)}sendWithPromise(r,S,p){const A=this.callbackId++,P=(0,s.createPromiseCapability)();this.callbackCapabilities[A]=P;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,callbackId:A,data:S},p)}catch(F){P.reject(F)}return P.promise}sendWithStream(r,S,p,A){const P=this.streamId++,F=this.sourceName,b=this.targetName,o=this.comObj;return new ReadableStream({start:x=>{const u=(0,s.createPromiseCapability)();return this.streamControllers[P]={controller:x,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:F,targetName:b,action:r,streamId:P,data:S,desiredSize:x.desiredSize},A),u.promise},pull:x=>{const u=(0,s.createPromiseCapability)();return this.streamControllers[P].pullCall=u,o.postMessage({sourceName:F,targetName:b,stream:6,streamId:P,desiredSize:x.desiredSize}),u.promise},cancel:x=>{(0,s.assert)(x instanceof Error,"cancel must have a valid reason");const u=(0,s.createPromiseCapability)();return this.streamControllers[P].cancelCall=u,this.streamControllers[P].isClosed=!0,o.postMessage({sourceName:F,targetName:b,stream:1,streamId:P,reason:W(x)}),u.promise}},p)}_createStreamSink(r){const S=r.streamId,p=this.sourceName,A=r.sourceName,P=this.comObj,F=this,b=this.actionHandler[r.action],o={enqueue(x,u=1,m){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=u,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,s.createPromiseCapability)(),this.ready=this.sinkCapability.promise),P.postMessage({sourceName:p,targetName:A,stream:4,streamId:S,chunk:x},m)},close(){this.isCancelled||(this.isCancelled=!0,P.postMessage({sourceName:p,targetName:A,stream:3,streamId:S}),delete F.streamSinks[S])},error(x){(0,s.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,P.postMessage({sourceName:p,targetName:A,stream:5,streamId:S,reason:W(x)}))},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:r.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[S]=o,new Promise(function(x){x(b(r.data,o))}).then(function(){P.postMessage({sourceName:p,targetName:A,stream:8,streamId:S,success:!0})},function(x){P.postMessage({sourceName:p,targetName:A,stream:8,streamId:S,reason:W(x)})})}_processStreamMessage(r){const S=r.streamId,p=this.sourceName,A=r.sourceName,P=this.comObj,F=this.streamControllers[S],b=this.streamSinks[S];switch(r.stream){case 8:r.success?F.startCall.resolve():F.startCall.reject(W(r.reason));break;case 7:r.success?F.pullCall.resolve():F.pullCall.reject(W(r.reason));break;case 6:if(!b){P.postMessage({sourceName:p,targetName:A,stream:7,streamId:S,success:!0});break}b.desiredSize<=0&&r.desiredSize>0&&b.sinkCapability.resolve(),b.desiredSize=r.desiredSize,new Promise(function(o){o(b.onPull&&b.onPull())}).then(function(){P.postMessage({sourceName:p,targetName:A,stream:7,streamId:S,success:!0})},function(o){P.postMessage({sourceName:p,targetName:A,stream:7,streamId:S,reason:W(o)})});break;case 4:if((0,s.assert)(F,"enqueue should have stream controller"),F.isClosed)break;F.controller.enqueue(r.chunk);break;case 3:if((0,s.assert)(F,"close should have stream controller"),F.isClosed)break;F.isClosed=!0,F.controller.close(),this._deleteStreamController(F,S);break;case 5:(0,s.assert)(F,"error should have stream controller"),F.controller.error(W(r.reason)),this._deleteStreamController(F,S);break;case 2:r.success?F.cancelCall.resolve():F.cancelCall.reject(W(r.reason)),this._deleteStreamController(F,S);break;case 1:if(!b)break;new Promise(function(o){o(b.onCancel&&b.onCancel(W(r.reason)))}).then(function(){P.postMessage({sourceName:p,targetName:A,stream:2,streamId:S,success:!0})},function(o){P.postMessage({sourceName:p,targetName:A,stream:2,streamId:S,reason:W(o)})}),b.sinkCapability.reject(W(r.reason)),b.isCancelled=!0,delete this.streamSinks[S];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(r,S){var p=this;return _asyncToGenerator(function*(){yield Promise.allSettled([r.startCall&&r.startCall.promise,r.pullCall&&r.pullCall.promise,r.cancelCall&&r.cancelCall.promise]),delete p.streamControllers[S]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var s=B(1);a.Metadata=class G{#e;#t;constructor({parsedData:W,rawData:z}){this.#e=W,this.#t=z}getRaw(){return this.#t}get(W){return this.#e.get(W)??null}getAll(){return(0,s.objectFromMap)(this.#e)}has(W){return this.#e.has(W)}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var s=B(1);class G{constructor(z,R){this.visible=!0,this.name=z,this.intent=R}}a.OptionalContentConfig=class N{constructor(z){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==z){this.name=z.name,this.creator=z.creator,this._order=z.order;for(const R of z.groups)this._groups.set(R.id,new G(R.name,R.intent));if("OFF"===z.baseState)for(const R of this._groups)R.visible=!1;for(const R of z.on)this._groups.get(R).visible=!0;for(const R of z.off)this._groups.get(R).visible=!1}}_evaluateVisibilityExpression(z){const R=z.length;if(R<2)return!0;const r=z[0];for(let S=1;S<R;S++){const p=z[S];let A;if(Array.isArray(p))A=this._evaluateVisibilityExpression(p);else{if(!this._groups.has(p))return(0,s.warn)(`Optional content group not found: ${p}`),!0;A=this._groups.get(p).visible}switch(r){case"And":if(!A)return!1;break;case"Or":if(A)return!0;break;case"Not":return!A;default:return!0}}return"And"===r}isVisible(z){if(0===this._groups.size)return!0;if(!z)return(0,s.warn)("Optional content group not defined."),!0;if("OCG"===z.type)return this._groups.has(z.id)?this._groups.get(z.id).visible:((0,s.warn)(`Optional content group not found: ${z.id}`),!0);if("OCMD"===z.type){if(z.expression)return this._evaluateVisibilityExpression(z.expression);if(!z.policy||"AnyOn"===z.policy){for(const R of z.ids){if(!this._groups.has(R))return(0,s.warn)(`Optional content group not found: ${R}`),!0;if(this._groups.get(R).visible)return!0}return!1}if("AllOn"===z.policy){for(const R of z.ids){if(!this._groups.has(R))return(0,s.warn)(`Optional content group not found: ${R}`),!0;if(!this._groups.get(R).visible)return!1}return!0}if("AnyOff"===z.policy){for(const R of z.ids){if(!this._groups.has(R))return(0,s.warn)(`Optional content group not found: ${R}`),!0;if(!this._groups.get(R).visible)return!0}return!1}if("AllOff"===z.policy){for(const R of z.ids){if(!this._groups.has(R))return(0,s.warn)(`Optional content group not found: ${R}`),!0;if(this._groups.get(R).visible)return!1}return!0}return(0,s.warn)(`Unknown optional content policy ${z.policy}.`),!0}return(0,s.warn)(`Unknown group type ${z.type}.`),!0}setVisibility(z,R=!0){this._groups.has(z)?this._groups.get(z).visible=!!R:(0,s.warn)(`Optional content group not found: ${z}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,s.objectFromMap)(this._groups):null}getGroup(z){return this._groups.get(z)||null}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var s=B(1),G=B(5);a.PDFDataTransportStream=class N{constructor(r,S){(0,s.assert)(S,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=r.progressiveDone||!1,this._contentDispositionFilename=r.contentDispositionFilename||null;const p=r.initialData;if(p?.length>0){const A=new Uint8Array(p).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=S,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._contentLength=r.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((A,P)=>{this._onReceiveData({begin:A,chunk:P})}),this._pdfDataRangeTransport.addProgressListener((A,P)=>{this._onProgress({loaded:A,total:P})}),this._pdfDataRangeTransport.addProgressiveReadListener(A=>{this._onReceiveData({chunk:A})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(r){const S=new Uint8Array(r.chunk).buffer;if(void 0===r.begin)this._fullRequestReader?this._fullRequestReader._enqueue(S):this._queuedChunks.push(S);else{const p=this._rangeReaders.some(function(A){return A._begin===r.begin&&(A._enqueue(S),!0)});(0,s.assert)(p,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(r){if(void 0===r.total){const S=this._rangeReaders[0];S?.onProgress&&S.onProgress({loaded:r.loaded})}else{const S=this._fullRequestReader;S?.onProgress&&S.onProgress({loaded:r.loaded,total:r.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(r){const S=this._rangeReaders.indexOf(r);S>=0&&this._rangeReaders.splice(S,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const r=this._queuedChunks;return this._queuedChunks=null,new W(this,r,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(r,S){if(S<=this._progressiveDataLength)return null;const p=new z(this,r,S);return this._pdfDataRangeTransport.requestDataRange(r,S),this._rangeReaders.push(p),p}cancelAllRequests(r){this._fullRequestReader&&this._fullRequestReader.cancel(r);for(const S of this._rangeReaders.slice(0))S.cancel(r);this._pdfDataRangeTransport.abort()}};class W{constructor(r,S,p=!1,A=null){this._stream=r,this._done=p||!1,this._filename=(0,G.isPdfFile)(A)?A:null,this._queuedChunks=S||[],this._loaded=0;for(const P of this._queuedChunks)this._loaded+=P.byteLength;this._requests=[],this._headersReady=Promise.resolve(),r._fullRequestReader=this,this.onProgress=null}_enqueue(r){this._done||(this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunks.push(r),this._loaded+=r.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var r=this;return _asyncToGenerator(function*(){if(r._queuedChunks.length>0)return{value:r._queuedChunks.shift(),done:!1};if(r._done)return{value:void 0,done:!0};const S=(0,s.createPromiseCapability)();return r._requests.push(S),S.promise})()}cancel(r){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class z{constructor(r,S,p){this._stream=r,this._begin=S,this._end=p,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(r){if(!this._done){if(0===this._requests.length)this._queuedChunk=r;else{this._requests.shift().resolve({value:r,done:!1});for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var r=this;return _asyncToGenerator(function*(){if(r._queuedChunk){const p=r._queuedChunk;return r._queuedChunk=null,{value:p,done:!1}}if(r._done)return{value:void 0,done:!0};const S=(0,s.createPromiseCapability)();return r._requests.push(S),S.promise})()}cancel(r){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(te,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class B{static textContent(G){const N=[],W={items:N,styles:Object.create(null)};return function z(R){if(!R)return;let r=null;const S=R.name;if("#text"===S)r=R.value;else{if(!B.shouldBuildText(S))return;R?.attributes?.textContent?r=R.attributes.textContent:R.value&&(r=R.value)}if(null!==r&&N.push({str:r}),R.children)for(const p of R.children)z(p)}(G),W}static shouldBuildText(G){return!("textarea"===G||"input"===G||"option"===G||"select"===G)}}a.XfaText=B},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var s=B(6);const G=function(R){return new Promise((r,S)=>{__webpack_require__(172).readFile(R,(A,P)=>{!A&&P?r(new Uint8Array(P)):S(new Error(A))})})};a.NodeCanvasFactory=class N extends s.BaseCanvasFactory{_createCanvas(r,S){return __webpack_require__(3414).createCanvas(r,S)}},a.NodeCMapReaderFactory=class W extends s.BaseCMapReaderFactory{_fetchData(r,S){return G(r).then(p=>({cMapData:p,compressionType:S}))}},a.NodeStandardFontDataFactory=class z extends s.BaseStandardFontDataFactory{_fetchData(r){return G(r)}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var s=B(1),G=B(5),N=B(8),W=B(21),z=B(22);const R=1e3,r=new WeakSet;function S(C){return{width:C[2]-C[0],height:C[3]-C[1]}}class p{static create(e){switch(e.data.annotationType){case s.AnnotationType.LINK:return new P(e);case s.AnnotationType.TEXT:return new F(e);case s.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new o(e);case"Btn":return e.data.radioButton?new u(e):e.data.checkBox?new x(e):new m(e);case"Ch":return new g(e)}return new b(e);case s.AnnotationType.POPUP:return new n(e);case s.AnnotationType.FREETEXT:return new f(e);case s.AnnotationType.LINE:return new h(e);case s.AnnotationType.SQUARE:return new v(e);case s.AnnotationType.CIRCLE:return new w(e);case s.AnnotationType.POLYLINE:return new k(e);case s.AnnotationType.CARET:return new T(e);case s.AnnotationType.INK:return new E(e);case s.AnnotationType.POLYGON:return new c(e);case s.AnnotationType.HIGHLIGHT:return new O(e);case s.AnnotationType.UNDERLINE:return new I(e);case s.AnnotationType.SQUIGGLY:return new M(e);case s.AnnotationType.STRIKEOUT:return new D(e);case s.AnnotationType.STAMP:return new V(e);case s.AnnotationType.FILEATTACHMENT:return new X(e);default:return new A(e)}}}class A{constructor(e,{isRenderable:t=!1,ignoreBorder:l=!1,createQuadrilaterals:_=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,t&&(this.container=this._createContainer(l)),_&&(this.quadrilaterals=this._createQuadrilaterals(l))}_createContainer(e=!1){const t=this.data,l=this.page,_=this.viewport,d=document.createElement("section");let{width:y,height:L}=S(t.rect);d.setAttribute("data-annotation-id",t.id);const U=s.Util.normalizeRect([t.rect[0],l.view[3]-t.rect[1]+l.view[1],t.rect[2],l.view[3]-t.rect[3]+l.view[1]]);if(t.hasOwnCanvas){const j=_.transform.slice(),[H,q]=s.Util.singularValueDecompose2dScale(j);y=Math.ceil(y*H),L=Math.ceil(L*q),U[0]*=H,U[1]*=q;for(let K=0;K<4;K++)j[K]=Math.sign(j[K]);d.style.transform=`matrix(${j.join(",")})`}else d.style.transform=`matrix(${_.transform.join(",")})`;if(d.style.transformOrigin=`${-U[0]}px ${-U[1]}px`,!e&&t.borderStyle.width>0){d.style.borderWidth=`${t.borderStyle.width}px`,t.borderStyle.style!==s.AnnotationBorderStyleType.UNDERLINE&&(y-=2*t.borderStyle.width,L-=2*t.borderStyle.width);const j=t.borderStyle.horizontalCornerRadius,H=t.borderStyle.verticalCornerRadius;switch((j>0||H>0)&&(d.style.borderRadius=`${j}px / ${H}px`),t.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:d.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:d.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:d.style.borderBottomStyle="solid"}t.borderColor||t.color?d.style.borderColor=s.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):d.style.borderWidth=0}return d.style.left=`${U[0]}px`,d.style.top=`${U[1]}px`,t.hasOwnCanvas?d.style.width=d.style.height="auto":(d.style.width=`${y}px`,d.style.height=`${L}px`),d}get _commonActions(){const e=(t,l,_)=>{const d=_.detail[t];_.target.style[l]=W.ColorConverters[`${d[0]}_HTML`](d.slice(1))};return(0,s.shadow)(this,"_commonActions",{display:t=>{const l=t.detail.display%2==1;t.target.style.visibility=l?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:l,print:0===t.detail.display||3===t.detail.display})},print:t=>{this.annotationStorage.setValue(this.data.id,{print:t.detail.print})},hidden:t=>{t.target.style.visibility=t.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t.detail.hidden})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:t=>{t.detail.required?t.target.setAttribute("required",""):t.target.removeAttribute("required")},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)}})}_dispatchEventFromSandbox(e,t){const l=this._commonActions;for(const _ of Object.keys(t.detail)){const d=e[_]||l[_];d&&d(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const l=this._commonActions;for(const[_,d]of Object.entries(t)){const y=l[_];y&&(y({detail:d,target:e}),delete t[_])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const t=[],l=this.data.rect;for(const _ of this.data.quadPoints)this.data.rect=[_[2].x,_[2].y,_[1].x,_[1].y],t.push(this._createContainer(e));return this.data.rect=l,t}_createPopup(e,t){let l=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,l=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=l.style.height,e.style.width=l.style.width,l.appendChild(e));const d=new i({container:l,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();d.style.left=l.style.width,l.appendChild(d)}_renderQuadrilaterals(e){for(const t of this.quadrilaterals)t.className=e;return this.quadrilaterals}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const l=[];if(this._fieldObjects){const _=this._fieldObjects[e];if(_)for(const{page:d,id:y,exportValues:L}of _){if(-1===d||y===t)continue;const U="string"==typeof L?L:null,j=document.getElementById(y);!j||r.has(j)?l.push({id:y,exportValue:U,domElement:j}):(0,s.warn)(`_getElementsByName - element not allowed: ${y}`)}return l}for(const _ of document.getElementsByName(e)){const{id:d,exportValue:y}=_;d!==t&&r.has(_)&&l.push({id:d,exportValue:y,domElement:_})}return l}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,s.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class P extends A{constructor(e,t=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:t}=this,l=document.createElement("a");if(e.url)t.addLinkAttributes(l,e.url,e.newWindow);else if(e.action)this._bindNamedAction(l,e.action);else if(e.dest)this._bindLink(l,e.dest);else{let _=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(_=!0,this._bindJSAction(l,e)),e.resetForm?this._bindResetFormAction(l,e.resetForm):_||this._bindLink(l,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((_,d)=>{const y=0===d?l:l.cloneNode();return _.appendChild(y),_}):(this.container.className="linkAnnotation",this.container.appendChild(l),this.container)}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),e.className="internalLink"}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const l=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _ of Object.keys(t.actions)){const d=l.get(_);d&&(e[d]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:_}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,t){const l=e.onclick;if(l||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,s.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(l||(e.onclick=()=>!1));e.onclick=()=>{l&&l();const{fields:_,refs:d,include:y}=t,L=[];if(0!==_.length||0!==d.length){const H=new Set(d);for(const q of _){const K=this._fieldObjects[q]||[];for(const{id:ie}of K)H.add(ie)}for(const q of Object.values(this._fieldObjects))for(const K of q)H.has(K.id)===y&&L.push(K)}else for(const H of Object.values(this._fieldObjects))L.push(...H);const U=this.annotationStorage,j=[];for(const H of L){const{id:q}=H;switch(j.push(q),H.type){case"text":case"combobox":case"listbox":U.setValue(q,{value:H.defaultValue||""});break;case"checkbox":case"radiobutton":U.setValue(q,{value:H.defaultValue===H.exportValues});break;default:continue}const K=document.getElementById(q);!K||!r.has(K)||K.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:j,name:"ResetForm"}}),!1}}}class F extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class b extends A{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:t,isMac:l}=A.platform;return t&&e.ctrlKey||l&&e.metaKey}_setEventListener(e,t,l,_){t.includes("mouse")?e.addEventListener(t,d=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:_(d),shift:d.shiftKey,modifier:this._getKeyModifier(d)}})}):e.addEventListener(t,d=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:_(d)}})})}_setEventListeners(e,t,l){for(const[_,d]of t)("Action"===d||this.data.actions?.[d])&&this._setEventListener(e,_,d,l)}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":s.Util.makeHexColor(t[0],t[1],t[2])}}class o extends b{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,l,_){const d=this.annotationStorage;for(const y of this._getElementsByName(e.name,e.id))y.domElement&&(y.domElement[t]=l),d.setValue(y.id,{[_]:l})}render(){const e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";let l=null;if(this.renderForms){const _=e.getValue(t,{value:this.data.fieldValue}),d=_.formattedValue||_.value||"",y={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(l=document.createElement("textarea"),l.textContent=d):(l=document.createElement("input"),l.type="text",l.setAttribute("value",d)),r.add(l),l.disabled=this.data.readOnly,l.name=this.data.fieldName,l.tabIndex=R,y.userValue=d,l.setAttribute("id",t),l.addEventListener("input",U=>{e.setValue(t,{value:U.target.value}),this.setPropertyOnSiblings(l,"value",U.target.value,"value")}),l.addEventListener("resetform",U=>{l.value=y.userValue=this.data.defaultFieldValue??"",y.formattedValue=null});let L=U=>{const{formattedValue:j}=y;null!=j&&(U.target.value=j),U.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){l.addEventListener("focus",j=>{y.userValue&&(j.target.value=y.userValue),y.valueOnFocus=j.target.value}),l.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(q){y.userValue=q.detail.value??"",e.setValue(t,{value:y.userValue.toString()}),q.target.value=y.userValue},formattedValue(q){const{formattedValue:K}=q.detail;y.formattedValue=K,null!=K&&q.target!==document.activeElement&&(q.target.value=K),e.setValue(t,{formattedValue:K})},selRange(q){q.target.setSelectionRange(...q.detail.selRange)}},j)}),l.addEventListener("keydown",j=>{let H=-1;if("Escape"===j.key?H=0:"Enter"===j.key?H=2:"Tab"===j.key&&(H=3),-1===H)return;const{value:q}=j.target;y.valueOnFocus!==q&&(y.userValue=q,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:q,willCommit:!0,commitKey:H,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}))});const U=L;L=null,l.addEventListener("blur",j=>{const{value:H}=j.target;y.userValue=H,this._mouseState.isDown&&y.valueOnFocus!==H&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:H,willCommit:!0,commitKey:1,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}),U(j)}),this.data.actions?.Keystroke&&l.addEventListener("beforeinput",j=>{const{data:H,target:q}=j,{value:K,selectionStart:ie,selectionEnd:re}=q;let Q=ie,Z=re;switch(j.inputType){case"deleteWordBackward":{const ae=K.substring(0,ie).match(/\w*[^\w]*$/);ae&&(Q-=ae[0].length);break}case"deleteWordForward":{const ae=K.substring(ie).match(/^[^\w]*\w*/);ae&&(Z+=ae[0].length);break}case"deleteContentBackward":ie===re&&(Q-=1);break;case"deleteContentForward":ie===re&&(Z+=1)}j.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:K,change:H||"",willCommit:!1,selStart:Q,selEnd:Z}})}),this._setEventListeners(l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.value)}if(L&&l.addEventListener("blur",L),null!==this.data.maxLen&&(l.maxLength=this.data.maxLen),this.data.comb){const j=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;l.classList.add("comb"),l.style.letterSpacing=`calc(${j}px - 1ch)`}}else l=document.createElement("div"),l.textContent=this.data.fieldValue,l.style.verticalAlign="middle",l.style.display="table-cell";return this._setTextStyle(l),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.appendChild(l),this.container}_setTextStyle(e){const{fontSize:l,fontColor:_}=this.data.defaultAppearanceData,d=e.style;l&&(d.fontSize=`${l}px`),d.color=s.Util.makeHexColor(_[0],_[1],_[2]),null!==this.data.textAlignment&&(d.textAlign=["left","center","right"][this.data.textAlignment])}}class x extends b{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,l=t.id;let _=e.getValue(l,{value:t.exportValue===t.fieldValue}).value;"string"==typeof _&&(_="Off"!==_,e.setValue(l,{value:_})),this.container.className="buttonWidgetAnnotation checkBox";const d=document.createElement("input");return r.add(d),d.disabled=t.readOnly,d.type="checkbox",d.name=t.fieldName,_&&d.setAttribute("checked",!0),d.setAttribute("id",l),d.setAttribute("exportValue",t.exportValue),d.tabIndex=R,d.addEventListener("change",y=>{const{name:L,checked:U}=y.target;for(const j of this._getElementsByName(L,l)){const H=U&&j.exportValue===t.exportValue;j.domElement&&(j.domElement.checked=H),e.setValue(j.id,{value:H})}e.setValue(l,{value:U})}),d.addEventListener("resetform",y=>{y.target.checked=(t.defaultFieldValue||"Off")===t.exportValue}),this.enableScripting&&this.hasJSActions&&(d.addEventListener("updatefromsandbox",y=>{this._dispatchEventFromSandbox({value(U){U.target.checked="Off"!==U.detail.value,e.setValue(l,{value:U.target.checked})}},y)}),this._setEventListeners(d,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.checked)),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}}class u extends b{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,t=this.data,l=t.id;let _=e.getValue(l,{value:t.fieldValue===t.buttonValue}).value;"string"==typeof _&&(_=_!==t.buttonValue,e.setValue(l,{value:_}));const d=document.createElement("input");if(r.add(d),d.disabled=t.readOnly,d.type="radio",d.name=t.fieldName,_&&d.setAttribute("checked",!0),d.setAttribute("id",l),d.tabIndex=R,d.addEventListener("change",y=>{const{name:L,checked:U}=y.target;for(const j of this._getElementsByName(L,l))e.setValue(j.id,{value:!1});e.setValue(l,{value:U})}),d.addEventListener("resetform",y=>{const L=t.defaultFieldValue;y.target.checked=null!=L&&L===t.buttonValue}),this.enableScripting&&this.hasJSActions){const y=t.buttonValue;d.addEventListener("updatefromsandbox",L=>{this._dispatchEventFromSandbox({value:j=>{const H=y===j.detail.value;for(const q of this._getElementsByName(j.target.name)){const K=H&&q.id===l;q.domElement&&(q.domElement.checked=K),e.setValue(q.id,{value:K})}}},L)}),this._setEventListeners(d,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],L=>L.target.checked)}return this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}}class m extends P{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class g extends b{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,t=this.data.id,l=e.getValue(t,{value:this.data.fieldValue});let{fontSize:_}=this.data.defaultAppearanceData;_||(_=9);const d=`calc(${_}px * var(--zoom-factor))`,y=document.createElement("select");r.add(y),y.disabled=this.data.readOnly,y.name=this.data.fieldName,y.setAttribute("id",t),y.tabIndex=R,y.style.fontSize=`${_}px`,this.data.combo||(y.size=this.data.options.length,this.data.multiSelect&&(y.multiple=!0)),y.addEventListener("resetform",j=>{const H=this.data.defaultFieldValue;for(const q of y.options)q.selected=q.value===H});for(const j of this.data.options){const H=document.createElement("option");H.textContent=j.displayValue,H.value=j.exportValue,this.data.combo&&(H.style.fontSize=d),l.value.includes(j.exportValue)&&H.setAttribute("selected",!0),y.appendChild(H)}const L=(j,H)=>{const q=H?"value":"textContent",K=j.target.options;return j.target.multiple?Array.prototype.filter.call(K,ie=>ie.selected).map(ie=>ie[q]):-1===K.selectedIndex?null:K[K.selectedIndex][q]},U=j=>Array.prototype.map.call(j.target.options,q=>({displayValue:q.textContent,exportValue:q.value}));return this.enableScripting&&this.hasJSActions?(y.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(q){const K=q.detail.value,ie=new Set(Array.isArray(K)?K:[K]);for(const re of y.options)re.selected=ie.has(re.value);e.setValue(t,{value:L(q,!0)})},multipleSelection(q){y.multiple=!0},remove(q){const K=y.options,ie=q.detail.remove;K[ie].selected=!1,y.remove(ie),K.length>0&&-1===Array.prototype.findIndex.call(K,Q=>Q.selected)&&(K[0].selected=!0),e.setValue(t,{value:L(q,!0),items:U(q)})},clear(q){for(;0!==y.length;)y.remove(0);e.setValue(t,{value:null,items:[]})},insert(q){const{index:K,displayValue:ie,exportValue:re}=q.detail.insert,Q=document.createElement("option");Q.textContent=ie,Q.value=re,y.insertBefore(Q,y.children[K]),e.setValue(t,{value:L(q,!0),items:U(q)})},items(q){const{items:K}=q.detail;for(;0!==y.length;)y.remove(0);for(const ie of K){const{displayValue:re,exportValue:Q}=ie,Z=document.createElement("option");Z.textContent=re,Z.value=Q,y.appendChild(Z)}y.options.length>0&&(y.options[0].selected=!0),e.setValue(t,{value:L(q,!0),items:U(q)})},indices(q){const K=new Set(q.detail.indices);for(const ie of q.target.options)ie.selected=K.has(ie.index);e.setValue(t,{value:L(q,!0)})},editable(q){q.target.disabled=!q.detail.editable}},j)}),y.addEventListener("input",j=>{const H=L(j,!0),q=L(j,!1);e.setValue(t,{value:H}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:q,changeEx:H,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(y,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],j=>j.target.checked)):y.addEventListener("input",function(j){e.setValue(t,{value:L(j,!0)})}),this._setBackgroundColor(y),this._setDefaultPropertiesFromJS(y),this.container.appendChild(y),this.container}}class n extends A{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const l=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===l.length)return this.container;const _=new i({container:this.container,trigger:Array.from(l),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),d=this.page,y=s.Util.normalizeRect([this.data.parentRect[0],d.view[3]-this.data.parentRect[1]+d.view[1],this.data.parentRect[2],d.view[3]-this.data.parentRect[3]+d.view[1]]),L=y[0]+this.data.parentRect[2]-this.data.parentRect[0],U=y[1];return this.container.style.transformOrigin=`${-L}px ${-U}px`,this.container.style.left=`${L}px`,this.container.style.top=`${U}px`,this.container.appendChild(_.render()),this.container}}class i{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.hidden=!0;const l=document.createElement("div");l.className="popup";const _=this.color;_&&(l.style.backgroundColor=s.Util.makeHexColor(0|.7*(255-_[0])+_[0],0|.7*(255-_[1])+_[1],0|.7*(255-_[2])+_[2]));const d=document.createElement("h1");d.dir=this.titleObj.dir,d.textContent=this.titleObj.str,l.appendChild(d);const y=G.PDFDateString.toDateObject(this.modificationDate);if(y){const L=document.createElement("span");L.className="popupDate",L.textContent="{{date}}, {{time}}",L.dataset.l10nId="annotation_date_string",L.dataset.l10nArgs=JSON.stringify({date:y.toLocaleDateString(),time:y.toLocaleTimeString()}),l.appendChild(L)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const L=this._formatContents(this.contentsObj);l.appendChild(L)}else z.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:l}),l.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const L of this.trigger)L.addEventListener("click",this._toggle.bind(this)),L.addEventListener("mouseover",this._show.bind(this,!1)),L.addEventListener("mouseout",this._hide.bind(this,!1));return l.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(l),t}_formatContents({str:e,dir:t}){const l=document.createElement("p");l.className="popupContent",l.dir=t;const _=e.split(/(?:\r\n?|\n)/);for(let d=0,y=_.length;d<y;++d)l.appendChild(document.createTextNode(_[d])),d<y-1&&l.appendChild(document.createElement("br"));return l}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class f extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class h extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:t,height:l}=S(e.rect),_=this.svgFactory.create(t,l),d=this.svgFactory.createElement("svg:line");return d.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),d.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),d.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),d.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),d.setAttribute("stroke-width",e.borderStyle.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),_.appendChild(d),this.container.append(_),this._createPopup(d,e),this.container}}class v extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:t,height:l}=S(e.rect),_=this.svgFactory.create(t,l),d=e.borderStyle.width,y=this.svgFactory.createElement("svg:rect");return y.setAttribute("x",d/2),y.setAttribute("y",d/2),y.setAttribute("width",t-d),y.setAttribute("height",l-d),y.setAttribute("stroke-width",d||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),_.appendChild(y),this.container.append(_),this._createPopup(y,e),this.container}}class w extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:t,height:l}=S(e.rect),_=this.svgFactory.create(t,l),d=e.borderStyle.width,y=this.svgFactory.createElement("svg:ellipse");return y.setAttribute("cx",t/2),y.setAttribute("cy",l/2),y.setAttribute("rx",t/2-d/2),y.setAttribute("ry",l/2-d/2),y.setAttribute("stroke-width",d||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),_.appendChild(y),this.container.append(_),this._createPopup(y,e),this.container}}class k extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:l}=S(e.rect),_=this.svgFactory.create(t,l);let d=[];for(const L of e.vertices)d.push(L.x-e.rect[0]+","+(e.rect[3]-L.y));d=d.join(" ");const y=this.svgFactory.createElement(this.svgElementName);return y.setAttribute("points",d),y.setAttribute("stroke-width",e.borderStyle.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),_.appendChild(y),this.container.append(_),this._createPopup(y,e),this.container}}class c extends k{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class T extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:l}=S(e.rect),_=this.svgFactory.create(t,l);for(const d of e.inkLists){let y=[];for(const U of d)y.push(`${U.x-e.rect[0]},${e.rect[3]-U.y}`);y=y.join(" ");const L=this.svgFactory.createElement(this.svgElementName);L.setAttribute("points",y),L.setAttribute("stroke-width",e.borderStyle.width||1),L.setAttribute("stroke","transparent"),L.setAttribute("fill","transparent"),this._createPopup(L,e),_.appendChild(L)}return this.container.append(_),this.container}}class O extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class I extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class M extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class D extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class V extends A{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class X extends A{constructor(e){super(e,{isRenderable:!0});const{filename:t,content:l}=this.data.file;this.filename=(0,G.getFilenameFromUrl)(t),this.content=l,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:t,content:l})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}a.AnnotationLayer=class J{static render(e){const t=[],l=[];for(const d of e.annotations){if(!d)continue;const{width:y,height:L}=S(d.rect);if(!(y<=0||L<=0)){if(d.annotationType===s.AnnotationType.POPUP){l.push(d);continue}t.push(d)}}l.length&&t.push(...l);const _=e.div;for(const d of t){const y=p.create({data:d,layer:_,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new G.DOMSVGFactory,annotationStorage:e.annotationStorage||new N.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(y.isRenderable){const L=y.render();if(d.hidden&&(L.style.visibility="hidden"),Array.isArray(L))for(const U of L)_.appendChild(U);else y instanceof n?_.prepend(L):_.appendChild(L)}}this.#e(_,e.annotationCanvasMap)}static update(e){const{page:t,viewport:l,annotations:_,annotationCanvasMap:d,div:y}=e,L=l.transform,U=`matrix(${L.join(",")})`;let j,H;for(const q of _){const K=y.querySelectorAll(`[data-annotation-id="${q.id}"]`);if(K)for(const ie of K)if(q.hasOwnCanvas){const re=s.Util.normalizeRect([q.rect[0],t.view[3]-q.rect[1]+t.view[1],q.rect[2],t.view[3]-q.rect[3]+t.view[1]]);if(!H){j=Math.abs(L[0]||L[1]);const ae=L.slice();for(let se=0;se<4;se++)ae[se]=Math.sign(ae[se]);H=`matrix(${ae.join(",")})`}const Q=re[0]*j,Z=re[1]*j;ie.style.left=`${Q}px`,ie.style.top=`${Z}px`,ie.style.transformOrigin=`${-Q}px ${-Z}px`,ie.style.transform=H}else ie.style.transform=U}this.#e(y,d),y.hidden=!1}static#e(e,t){if(t){for(const[l,_]of t){const d=e.querySelector(`[data-annotation-id="${l}"]`);if(!d)continue;const{firstChild:y}=d;"CANVAS"===y.nodeName?d.replaceChild(_,y):d.insertBefore(_,y)}t.clear()}}}},(te,a)=>{function B(G){return Math.floor(255*Math.max(0,Math.min(1,G))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class s{static CMYK_G([N,W,z,R]){return["G",1-Math.min(1,.3*N+.59*z+.11*W+R)]}static G_CMYK([N]){return["CMYK",0,0,0,1-N]}static G_RGB([N]){return["RGB",N,N,N]}static G_HTML([N]){const W=B(N);return`#${W}${W}${W}`}static RGB_G([N,W,z]){return["G",.3*N+.59*W+.11*z]}static RGB_HTML([N,W,z]){return`#${B(N)}${B(W)}${B(z)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([N,W,z,R]){return["RGB",1-Math.min(1,N+R),1-Math.min(1,z+R),1-Math.min(1,W+R)]}static CMYK_HTML(N){return this.RGB_HTML(this.CMYK_RGB(N))}static RGB_CMYK([N,W,z]){const R=1-N,r=1-W,S=1-z;return["CMYK",R,r,S,Math.min(R,r,S)]}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var s=B(18);a.XfaLayer=class G{static setupStorage(W,z,R,r,S){const p=r.getValue(z,{value:null});switch(R.name){case"textarea":if(null!==p.value&&(W.textContent=p.value),"print"===S)break;W.addEventListener("input",A=>{r.setValue(z,{value:A.target.value})});break;case"input":if("radio"===R.attributes.type||"checkbox"===R.attributes.type){if(p.value===R.attributes.xfaOn?W.setAttribute("checked",!0):p.value===R.attributes.xfaOff&&W.removeAttribute("checked"),"print"===S)break;W.addEventListener("change",A=>{r.setValue(z,{value:A.target.getAttribute(A.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==p.value&&W.setAttribute("value",p.value),"print"===S)break;W.addEventListener("input",A=>{r.setValue(z,{value:A.target.value})})}break;case"select":if(null!==p.value)for(const A of R.children)A.attributes.value===p.value&&(A.attributes.selected=!0);W.addEventListener("input",A=>{const P=A.target.options;r.setValue(z,{value:-1===P.selectedIndex?"":P[P.selectedIndex].value})})}}static setAttributes({html:W,element:z,storage:R=null,intent:r,linkService:S}){const{attributes:p}=z,A=W instanceof HTMLAnchorElement;"radio"===p.type&&(p.name=`${p.name}-${r}`);for(const[P,F]of Object.entries(p))if(null!=F&&"dataId"!==P)if("style"!==P)if("textContent"===P)W.textContent=F;else if("class"===P)F.length&&W.setAttribute(P,F.join(" "));else{if(A&&("href"===P||"newWindow"===P))continue;W.setAttribute(P,F)}else Object.assign(W.style,F);A&&S.addLinkAttributes(W,p.href,p.newWindow),R&&p.dataId&&this.setupStorage(W,p.dataId,z,R)}static render(W){const z=W.annotationStorage,R=W.linkService,r=W.xfaHtml,S=W.intent||"display",p=document.createElement(r.name);r.attributes&&this.setAttributes({html:p,element:r,intent:S,linkService:R});const A=[[r,-1,p]],P=W.div;if(P.appendChild(p),W.viewport){const b=`matrix(${W.viewport.transform.join(",")})`;P.style.transform=b}"richText"!==S&&P.setAttribute("class","xfaLayer xfaFont");const F=[];for(;A.length>0;){const[b,o,x]=A[A.length-1];if(o+1===b.children.length){A.pop();continue}const u=b.children[++A[A.length-1][1]];if(null===u)continue;const{name:m}=u;if("#text"===m){const n=document.createTextNode(u.value);F.push(n),x.appendChild(n);continue}let g;if(g=u?.attributes?.xmlns?document.createElementNS(u.attributes.xmlns,m):document.createElement(m),x.appendChild(g),u.attributes&&this.setAttributes({html:g,element:u,storage:z,intent:S,linkService:R}),u.children&&u.children.length>0)A.push([u,-1,g]);else if(u.value){const n=document.createTextNode(u.value);s.XfaText.shouldBuildText(m)&&F.push(n),g.appendChild(n)}}for(const b of P.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:F}}static update(W){const z=`matrix(${W.viewport.transform.join(",")})`;W.div.style.transform=z,W.div.hidden=!1}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function x(u){const m=new o({textContent:u.textContent,textContentStream:u.textContentStream,container:u.container,viewport:u.viewport,textDivs:u.textDivs,textContentItemsStr:u.textContentItemsStr,enhanceTextSelection:u.enhanceTextSelection});return m._render(u.timeout),m};var s=B(1);const G=1e5,N=30,W=.8,z=new Map,R=/^\s+$/g;function S(u,m,g,n){const i=document.createElement("span"),f=u._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==m.str,hasEOL:m.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==m.str,hasEOL:m.hasEOL};u._textDivs.push(i);const h=s.Util.transform(u._viewport.transform,m.transform);let v=Math.atan2(h[1],h[0]);const w=g[m.fontName];w.vertical&&(v+=Math.PI/2);const k=Math.hypot(h[2],h[3]),c=k*function r(u,m){const g=z.get(u);if(g)return g;m.save(),m.font=`${N}px ${u}`;const n=m.measureText("");let i=n.fontBoundingBoxAscent,f=Math.abs(n.fontBoundingBoxDescent);if(i){m.restore();const v=i/(i+f);return z.set(u,v),v}m.strokeStyle="red",m.clearRect(0,0,N,N),m.strokeText("g",0,0);let h=m.getImageData(0,0,N,N).data;f=0;for(let v=h.length-1-3;v>=0;v-=4)if(h[v]>0){f=Math.ceil(v/4/N);break}m.clearRect(0,0,N,N),m.strokeText("A",0,N),h=m.getImageData(0,0,N,N).data,i=0;for(let v=0,w=h.length;v<w;v+=4)if(h[v]>0){i=N-Math.floor(v/4/N);break}if(m.restore(),i){const v=i/(i+f);return z.set(u,v),v}return z.set(u,W),W}(w.fontFamily,n);let T,E;0===v?(T=h[4],E=h[5]-c):(T=h[4]+c*Math.sin(v),E=h[5]-c*Math.cos(v)),i.style.left=`${T}px`,i.style.top=`${E}px`,i.style.fontSize=`${k}px`,i.style.fontFamily=w.fontFamily,i.setAttribute("role","presentation"),i.textContent=m.str,i.dir=m.dir,u._fontInspectorEnabled&&(i.dataset.fontName=m.fontName),0!==v&&(f.angle=v*(180/Math.PI));let O=!1;if(m.str.length>1||u._enhanceTextSelection&&R.test(m.str))O=!0;else if(" "!==m.str&&m.transform[0]!==m.transform[3]){const I=Math.abs(m.transform[0]),M=Math.abs(m.transform[3]);I!==M&&Math.max(I,M)/Math.min(I,M)>1.5&&(O=!0)}if(O&&(f.canvasWidth=w.vertical?m.height*u._viewport.scale:m.width*u._viewport.scale),u._textDivProperties.set(i,f),u._textContentStream&&u._layoutText(i),u._enhanceTextSelection&&f.hasText){let I=1,M=0;0!==v&&(I=Math.cos(v),M=Math.sin(v));const D=(w.vertical?m.height:m.width)*u._viewport.scale,V=k;let X,J;0!==v?(X=[I,M,-M,I,T,E],J=s.Util.getAxialAlignedBoundingBox([0,0,D,V],X)):J=[T,E,T+D,E+V],u._bounds.push({left:J[0],top:J[1],right:J[2],bottom:J[3],div:i,size:[D,V],m:X})}}function p(u){if(u._canceled)return;const m=u._textDivs,g=u._capability,n=m.length;if(n>G)return u._renderingDone=!0,void g.resolve();if(!u._textContentStream)for(let i=0;i<n;i++)u._layoutText(m[i]);u._renderingDone=!0,g.resolve()}function A(u,m,g){let n=0;for(let i=0;i<g;i++){const f=u[m++];f>0&&(n=n?Math.min(f,n):f)}return n}function b(u,m){m.sort(function(i,f){return i.x1-f.x1||i.index-f.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of m){let f=0;for(;f<n.length&&n[f].end<=i.y1;)f++;let h=n.length-1;for(;h>=0&&n[h].start>=i.y2;)h--;let v,w,k,c,T=-1/0;for(k=f;k<=h;k++){let I;v=n[k],w=v.boundary,I=w.x2>i.x1?w.index>i.index?w.x1New:i.x1:void 0===w.x2New?(w.x2+i.x1)/2:w.x2New,I>T&&(T=I)}for(i.x1New=T,k=f;k<=h;k++)v=n[k],w=v.boundary,void 0===w.x2New?w.x2>i.x1?w.index>i.index&&(w.x2New=w.x2):w.x2New=T:w.x2New>T&&(w.x2New=Math.max(T,w.x2));const E=[];let O=null;for(k=f;k<=h;k++){v=n[k],w=v.boundary;const I=w.x2>i.x2?w:i;O===I?E[E.length-1].end=v.end:(E.push({start:v.start,end:v.end,boundary:I}),O=I)}for(n[f].start<i.y1&&(E[0].start=i.y1,E.unshift({start:n[f].start,end:i.y1,boundary:n[f].boundary})),i.y2<n[h].end&&(E[E.length-1].end=i.y2,E.push({start:i.y2,end:n[h].end,boundary:n[h].boundary})),k=f;k<=h;k++){if(v=n[k],w=v.boundary,void 0!==w.x2New)continue;let I=!1;for(c=f-1;!I&&c>=0&&n[c].start>=w.y1;c--)I=n[c].boundary===w;for(c=h+1;!I&&c<n.length&&n[c].end<=w.y2;c++)I=n[c].boundary===w;for(c=0;!I&&c<E.length;c++)I=E[c].boundary===w;I||(w.x2New=T)}Array.prototype.splice.apply(n,[f,h-f+1].concat(E))}for(const i of n){const f=i.boundary;void 0===f.x2New&&(f.x2New=Math.max(u,f.x2))}}class o{constructor({textContent:m,textContentStream:g,container:n,viewport:i,textDivs:f,textContentItemsStr:h,enhanceTextSelection:v}){this._textContent=m,this._textContentStream=g,this._container=n,this._document=n.ownerDocument,this._viewport=i,this._textDivs=f||[],this._textContentItemsStr=h||[],this._enhanceTextSelection=!!v,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,s.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new s.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(m,g){for(let n=0,i=m.length;n<i;n++)if(void 0!==m[n].str)this._textContentItemsStr.push(m[n].str),S(this,m[n],g,this._layoutTextCtx);else if("beginMarkedContentProps"===m[n].type||"beginMarkedContent"===m[n].type){const f=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==m[n].id&&this._container.setAttribute("id",`${m[n].id}`),f.appendChild(this._container)}else"endMarkedContent"===m[n].type&&(this._container=this._container.parentNode)}_layoutText(m){const g=this._textDivProperties.get(m);let n="";if(0!==g.canvasWidth&&g.hasText){const{fontSize:i,fontFamily:f}=m.style;(i!==this._layoutTextLastFontSize||f!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${f}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=f);const{width:h}=this._layoutTextCtx.measureText(m.textContent);if(h>0){const v=g.canvasWidth/h;this._enhanceTextSelection&&(g.scale=v),n=`scaleX(${v})`}}if(0!==g.angle&&(n=`rotate(${g.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(g.originalTransform=n),m.style.transform=n),g.hasText&&this._container.appendChild(m),g.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(m=0){const g=(0,s.createPromiseCapability)();let n=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=N,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const f=()=>{this._reader.read().then(({value:h,done:v})=>{v?g.resolve():(Object.assign(n,h.styles),this._processItems(h.items,n),f())},g.reject)};this._reader=this._textContentStream.getReader(),f()}}g.promise.then(()=>{n=null,m?this._renderTimer=setTimeout(()=>{p(this),this._renderTimer=null},m):p(this)},this._capability.reject)}expandTextDivs(m=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function P(u){const m=u._bounds,g=u._viewport,n=function F(u,m,g){const n=g.map(function(f,h){return{x1:f.left,y1:f.top,x2:f.right,y2:f.bottom,index:h,x1New:void 0,x2New:void 0}});b(u,n);const i=new Array(g.length);for(const f of n)i[f.index]={left:f.x1New,top:0,right:f.x2New,bottom:0};g.map(function(f,h){const v=i[h],w=n[h];w.x1=f.top,w.y1=u-v.right,w.x2=f.bottom,w.y2=u-v.left,w.index=h,w.x1New=void 0,w.x2New=void 0}),b(m,n);for(const f of n){const h=f.index;i[h].top=f.x1New,i[h].bottom=f.x2New}return i}(g.width,g.height,m);for(let i=0;i<n.length;i++){const f=m[i].div,h=u._textDivProperties.get(f);if(0===h.angle){h.paddingLeft=m[i].left-n[i].left,h.paddingTop=m[i].top-n[i].top,h.paddingRight=n[i].right-m[i].right,h.paddingBottom=n[i].bottom-m[i].bottom,u._textDivProperties.set(f,h);continue}const v=n[i],w=m[i],k=w.m,c=k[0],T=k[1],E=[[0,0],[0,w.size[1]],[w.size[0],0],w.size],O=new Float64Array(64);for(let M=0,D=E.length;M<D;M++){const V=s.Util.applyTransform(E[M],k);O[M+0]=c&&(v.left-V[0])/c,O[M+4]=T&&(v.top-V[1])/T,O[M+8]=c&&(v.right-V[0])/c,O[M+12]=T&&(v.bottom-V[1])/T,O[M+16]=T&&(v.left-V[0])/-T,O[M+20]=c&&(v.top-V[1])/c,O[M+24]=T&&(v.right-V[0])/-T,O[M+28]=c&&(v.bottom-V[1])/c,O[M+32]=c&&(v.left-V[0])/-c,O[M+36]=T&&(v.top-V[1])/-T,O[M+40]=c&&(v.right-V[0])/-c,O[M+44]=T&&(v.bottom-V[1])/-T,O[M+48]=T&&(v.left-V[0])/T,O[M+52]=c&&(v.top-V[1])/-c,O[M+56]=T&&(v.right-V[0])/T,O[M+60]=c&&(v.bottom-V[1])/-c}const I=1+Math.min(Math.abs(c),Math.abs(T));h.paddingLeft=A(O,32,16)/I,h.paddingTop=A(O,48,16)/I,h.paddingRight=A(O,0,16)/I,h.paddingBottom=A(O,16,16)/I,u._textDivProperties.set(f,h)}}(this),this._bounds=null);const g=[],n=[];for(let i=0,f=this._textDivs.length;i<f;i++){const h=this._textDivs[i],v=this._textDivProperties.get(h);v.hasText&&(m?(g.length=0,n.length=0,v.originalTransform&&g.push(v.originalTransform),v.paddingTop>0?(n.push(`${v.paddingTop}px`),g.push(`translateY(${-v.paddingTop}px)`)):n.push(0),n.push(v.paddingRight>0?v.paddingRight/v.scale+"px":0),n.push(v.paddingBottom>0?`${v.paddingBottom}px`:0),v.paddingLeft>0?(n.push(v.paddingLeft/v.scale+"px"),g.push(`translateX(${-v.paddingLeft/v.scale}px)`)):n.push(0),h.style.padding=n.join(" "),g.length&&(h.style.transform=g.join(" "))):(h.style.padding=null,h.style.transform=v.originalTransform))}}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var s=B(1),G=B(5),N=B(3);let W=class{constructor(){(0,s.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=W;{let b=function(n){let i=[];const f=[];for(const h of n)"save"!==h.fn?"restore"===h.fn?i=f.pop():i.push(h):(i.push({fnId:92,fn:"group",items:[]}),f.push(i),i=i[i.length-1].items);return i},o=function(n){if(Number.isInteger(n))return n.toString();const i=n.toFixed(10);let f=i.length-1;if("0"!==i[f])return i;do{f--}while("0"===i[f]);return i.substring(0,"."===i[f]?f:f+1)},x=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${o(n[0])} ${o(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const i=180*Math.acos(n[0])/Math.PI;return`rotate(${o(i)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${o(n[4])} ${o(n[5])})`;return`matrix(${o(n[0])} ${o(n[1])} ${o(n[2])} ${o(n[3])} ${o(n[4])} ${o(n[5])})`};const z={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},R="http://www.w3.org/XML/1998/namespace",r="http://www.w3.org/1999/xlink",S=["butt","round","square"],p=["miter","round","bevel"],A=function(n,i="",f=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!f)return URL.createObjectURL(new Blob([n],{type:i}));const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let v=`data:${i};base64,`;for(let w=0,k=n.length;w<k;w+=3){const c=255&n[w],T=255&n[w+1],E=255&n[w+2];v+=h[c>>2]+h[(3&c)<<4|T>>4]+h[w+1<k?(15&T)<<2|E>>6:64]+h[w+2<k?63&E:64]}return v},P=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),i=12,f=new Int32Array(256);for(let E=0;E<256;E++){let O=E;for(let I=0;I<8;I++)O=1&O?3988292384^O>>1&2147483647:O>>1&2147483647;f[E]=O}function v(E,O,I,M){let D=M;const V=O.length;I[D]=V>>24&255,I[D+1]=V>>16&255,I[D+2]=V>>8&255,I[D+3]=255&V,D+=4,I[D]=255&E.charCodeAt(0),I[D+1]=255&E.charCodeAt(1),I[D+2]=255&E.charCodeAt(2),I[D+3]=255&E.charCodeAt(3),D+=4,I.set(O,D),D+=O.length;const X=function h(E,O,I){let M=-1;for(let D=O;D<I;D++)M=M>>>8^f[255&(M^E[D])];return-1^M}(I,M+4,D);I[D]=X>>24&255,I[D+1]=X>>16&255,I[D+2]=X>>8&255,I[D+3]=255&X}function c(E){let O=E.length;const I=65535,M=Math.ceil(O/I),D=new Uint8Array(2+O+5*M+4);let V=0;D[V++]=120,D[V++]=156;let X=0;for(;O>I;)D[V++]=0,D[V++]=255,D[V++]=255,D[V++]=0,D[V++]=0,D.set(E.subarray(X,X+I),V),V+=I,X+=I,O-=I;D[V++]=1,D[V++]=255&O,D[V++]=O>>8&255,D[V++]=255&~O,D[V++]=(65535&~O)>>8&255,D.set(E.subarray(X),V),V+=E.length-X;const J=function w(E,O,I){let M=1,D=0;for(let V=O;V<I;++V)M=(M+(255&E[V]))%65521,D=(D+M)%65521;return D<<16|M}(E,0,E.length);return D[V++]=J>>24&255,D[V++]=J>>16&255,D[V++]=J>>8&255,D[V++]=255&J,D}return function(O,I,M){return function T(E,O,I,M){const D=E.width,V=E.height;let X,J,C;const e=E.data;switch(O){case s.ImageKind.GRAYSCALE_1BPP:J=0,X=1,C=D+7>>3;break;case s.ImageKind.RGB_24BPP:J=2,X=8,C=3*D;break;case s.ImageKind.RGBA_32BPP:J=6,X=8,C=4*D;break;default:throw new Error("invalid format")}const t=new Uint8Array((1+C)*V);let l=0,_=0;for(let H=0;H<V;++H)t[l++]=0,t.set(e.subarray(_,_+C),l),_+=C,l+=C;if(O===s.ImageKind.GRAYSCALE_1BPP&&M){l=0;for(let H=0;H<V;H++){l++;for(let q=0;q<C;q++)t[l++]^=255}}const d=new Uint8Array([D>>24&255,D>>16&255,D>>8&255,255&D,V>>24&255,V>>16&255,V>>8&255,255&V,X,J,0,0,0]),y=function k(E){if(!N.isNodeJS)return c(E);try{let O;O=parseInt(process.versions.node)>=8?E:Buffer.from(E);const I=__webpack_require__(2258).deflateSync(O,{level:9});return I instanceof Uint8Array?I:new Uint8Array(I)}catch(O){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+O)}return c(E)}(t),U=new Uint8Array(n.length+3*i+d.length+y.length);let j=0;return U.set(n,j),j+=n.length,v("IHDR",d,U,j),j+=i+d.length,v("IDATA",y,U,j),j+=i+y.length,v("IEND",new Uint8Array(0),U,j),A(U,"image/png",I)}(O,void 0===O.kind?s.ImageKind.GRAYSCALE_1BPP:O.kind,I,M)}}();class F{constructor(){this.fontSizeScale=1,this.fontWeight=z.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=z.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,f){this.x=i,this.y=f}}let u=0,m=0,g=0;a.SVGGraphics=W=class{constructor(n,i,f=!1){this.svgFactory=new G.DOMSVGFactory,this.current=new F,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!f,this._operatorIdMapping=[];for(const h in s.OPS)this._operatorIdMapping[s.OPS[h]]=h}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const i=n.fnArray,f=n.argsArray;for(let h=0,v=i.length;h<v;h++)if(i[h]===s.OPS.dependency)for(const w of f[h]){const k=w.startsWith("g_")?this.commonObjs:this.objs,c=new Promise(T=>{k.get(w,T)});this.current.dependencies.push(c)}return Promise.all(this.current.dependencies)}transform(n,i,f,h,v,w){this.transformMatrix=s.Util.transform(this.transformMatrix,[n,i,f,h,v,w]),this.tgrp=null}getSVG(n,i){this.viewport=i;const f=this._initialize(i);return this.loadDependencies(n).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),f))}convertOpList(n){const i=this._operatorIdMapping,f=n.argsArray,h=n.fnArray,v=[];for(let w=0,k=h.length;w<k;w++){const c=h[w];v.push({fnId:c,fn:i[c],args:f[w]})}return b(v)}executeOpTree(n){for(const i of n){const f=i.fn,v=i.args;switch(0|i.fnId){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(v);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(v[0],v[1]);break;case s.OPS.setFont:this.setFont(v);break;case s.OPS.showText:case s.OPS.showSpacedText:this.showText(v[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(v[0],v[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(v[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(v[0]);break;case s.OPS.setHScale:this.setHScale(v[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(v[0],v[1],v[2],v[3],v[4],v[5]);break;case s.OPS.setTextRise:this.setTextRise(v[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(v[0]);break;case s.OPS.setLineWidth:this.setLineWidth(v[0]);break;case s.OPS.setLineJoin:this.setLineJoin(v[0]);break;case s.OPS.setLineCap:this.setLineCap(v[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(v[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(v[0],v[1],v[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(v[0],v[1],v[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(v);break;case s.OPS.setFillColorN:this.setFillColorN(v);break;case s.OPS.shadingFill:this.shadingFill(v[0]);break;case s.OPS.setDash:this.setDash(v[0],v[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(v[0]);break;case s.OPS.setFlatness:this.setFlatness(v[0]);break;case s.OPS.setGState:this.setGState(v[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(v[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(v[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(v[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(v[0],v[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(v[0],v[1],v[2],v[3],v[4],v[5]);break;case s.OPS.constructPath:this.constructPath(v[0],v[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,s.warn)(`Unimplemented operator ${f}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,i,f,h,v,w){const k=this.current;k.textMatrix=k.lineMatrix=[n,i,f,h,v,w],k.textMatrixScale=Math.hypot(n,i),k.x=k.lineX=0,k.y=k.lineY=0,k.xcoords=[],k.ycoords=[],k.tspan=this.svgFactory.createElement("svg:tspan"),k.tspan.setAttributeNS(null,"font-family",k.fontFamily),k.tspan.setAttributeNS(null,"font-size",`${o(k.fontSize)}px`),k.tspan.setAttributeNS(null,"y",o(-k.y)),k.txtElement=this.svgFactory.createElement("svg:text"),k.txtElement.appendChild(k.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=s.IDENTITY_MATRIX,n.lineMatrix=s.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,i){const f=this.current;f.x=f.lineX+=n,f.y=f.lineY+=i,f.xcoords=[],f.ycoords=[],f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${o(f.fontSize)}px`),f.tspan.setAttributeNS(null,"y",o(-f.y))}showText(n){const i=this.current,f=i.font,h=i.fontSize;if(0===h)return;const v=i.fontSizeScale,w=i.charSpacing,k=i.wordSpacing,c=i.fontDirection,T=i.textHScale*c,E=f.vertical,O=E?1:-1,I=f.defaultVMetrics,M=h*i.fontMatrix[0];let D=0;for(const J of n){if(null===J){D+=c*k;continue}if("number"==typeof J){D+=O*J*h/1e3;continue}const C=(J.isSpace?k:0)+w,e=J.fontChar;let t,l,d,_=J.width;if(E){let y;const L=J.vmetric||I;y=J.vmetric?L[1]:.5*_,y=-y*M,_=L?-L[0]:_,t=y/v,l=(D+L[2]*M)/v}else t=D/v,l=0;(J.isInFont||f.missingFile)&&(i.xcoords.push(i.x+t),E&&i.ycoords.push(-i.y+l),i.tspan.textContent+=e),d=E?_*M-C*c:_*M+C*c,D+=d}i.tspan.setAttributeNS(null,"x",i.xcoords.map(o).join(" ")),i.tspan.setAttributeNS(null,"y",E?i.ycoords.map(o).join(" "):o(-i.y)),E?i.y-=D:i.x+=D*T,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${o(i.fontSize)}px`),i.fontStyle!==z.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==z.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const V=i.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;V===s.TextRenderingMode.FILL||V===s.TextRenderingMode.FILL_STROKE?(i.fillColor!==z.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(V===s.TextRenderingMode.STROKE||V===s.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let X=i.textMatrix;0!==i.textRise&&(X=X.slice(),X[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${x(X)} scale(${o(T)}, -1)`),i.txtElement.setAttributeNS(R,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(n,i){this.setLeading(-i),this.moveText(n,i)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=A(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${i}); }\n`}setFont(n){const i=this.current,f=this.commonObjs.get(n[0]);let h=n[1];i.font=f,this.embedFonts&&!f.missingFile&&!this.embeddedFonts[f.loadedName]&&(this.addFontStyle(f),this.embeddedFonts[f.loadedName]=f),i.fontMatrix=f.fontMatrix||s.FONT_IDENTITY_MATRIX;let v="normal";f.black?v="900":f.bold&&(v="bold");const w=f.italic?"italic":"normal";h<0?(h=-h,i.fontDirection=-1):i.fontDirection=1,i.fontSize=h,i.fontFamily=f.loadedName,i.fontWeight=v,i.fontStyle=w,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",o(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=S[n]}setLineJoin(n){this.current.lineJoin=p[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,i,f){this.current.strokeColor=s.Util.makeHexColor(n,i,f)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,i,f){this.current.fillColor=s.Util.makeHexColor(n,i,f),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const i=this.viewport.width,f=this.viewport.height,h=s.Util.inverseTransform(this.transformMatrix),v=s.Util.applyTransform([0,0],h),w=s.Util.applyTransform([0,f],h),k=s.Util.applyTransform([i,0],h),c=s.Util.applyTransform([i,f],h),T=Math.min(v[0],w[0],k[0],c[0]),E=Math.min(v[1],w[1],k[1],c[1]),O=Math.max(v[0],w[0],k[0],c[0]),I=Math.max(v[1],w[1],k[1],c[1]),M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x",T),M.setAttributeNS(null,"y",E),M.setAttributeNS(null,"width",O-T),M.setAttributeNS(null,"height",I-E),M.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&M.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(M)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const i=n[1],f=n[2],h=n[3]||s.IDENTITY_MATRIX,[v,w,k,c]=n[4],T=n[5],E=n[6],O=n[7],I="shading"+g++,[M,D,V,X]=s.Util.normalizeRect([...s.Util.applyTransform([v,w],h),...s.Util.applyTransform([k,c],h)]),[J,C]=s.Util.singularValueDecompose2dScale(h),e=T*J,t=E*C,l=this.svgFactory.createElement("svg:pattern");l.setAttributeNS(null,"id",I),l.setAttributeNS(null,"patternUnits","userSpaceOnUse"),l.setAttributeNS(null,"width",e),l.setAttributeNS(null,"height",t),l.setAttributeNS(null,"x",`${M}`),l.setAttributeNS(null,"y",`${D}`);const _=this.svg,d=this.transformMatrix,y=this.current.fillColor,L=this.current.strokeColor,U=this.svgFactory.create(V-M,X-D);if(this.svg=U,this.transformMatrix=h,2===O){const j=s.Util.makeHexColor(...i);this.current.fillColor=j,this.current.strokeColor=j}return this.executeOpTree(this.convertOpList(f)),this.svg=_,this.transformMatrix=d,this.current.fillColor=y,this.current.strokeColor=L,l.appendChild(U.childNodes[0]),this.defs.appendChild(l),`url(#${I})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const i="shading"+g++,f=n[3];let h;switch(n[1]){case"axial":const v=n[4],w=n[5];h=this.svgFactory.createElement("svg:linearGradient"),h.setAttributeNS(null,"id",i),h.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),h.setAttributeNS(null,"x1",v[0]),h.setAttributeNS(null,"y1",v[1]),h.setAttributeNS(null,"x2",w[0]),h.setAttributeNS(null,"y2",w[1]);break;case"radial":const k=n[4],c=n[5],T=n[6],E=n[7];h=this.svgFactory.createElement("svg:radialGradient"),h.setAttributeNS(null,"id",i),h.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),h.setAttributeNS(null,"cx",c[0]),h.setAttributeNS(null,"cy",c[1]),h.setAttributeNS(null,"r",E),h.setAttributeNS(null,"fx",k[0]),h.setAttributeNS(null,"fy",k[1]),h.setAttributeNS(null,"fr",T);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const v of f){const w=this.svgFactory.createElement("svg:stop");w.setAttributeNS(null,"offset",v[0]),w.setAttributeNS(null,"stop-color",v[1]),h.appendChild(w)}return this.defs.appendChild(h),`url(#${i})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,i){this.current.dashArray=n,this.current.dashPhase=i}constructPath(n,i){const f=this.current;let h=f.x,v=f.y,w=[],k=0;for(const c of n)switch(0|c){case s.OPS.rectangle:h=i[k++],v=i[k++];const O=h+i[k++],I=v+i[k++];w.push("M",o(h),o(v),"L",o(O),o(v),"L",o(O),o(I),"L",o(h),o(I),"Z");break;case s.OPS.moveTo:h=i[k++],v=i[k++],w.push("M",o(h),o(v));break;case s.OPS.lineTo:h=i[k++],v=i[k++],w.push("L",o(h),o(v));break;case s.OPS.curveTo:h=i[k+4],v=i[k+5],w.push("C",o(i[k]),o(i[k+1]),o(i[k+2]),o(i[k+3]),o(h),o(v)),k+=6;break;case s.OPS.curveTo2:w.push("C",o(h),o(v),o(i[k]),o(i[k+1]),o(i[k+2]),o(i[k+3])),h=i[k+2],v=i[k+3],k+=4;break;case s.OPS.curveTo3:h=i[k+2],v=i[k+3],w.push("C",o(i[k]),o(i[k+1]),o(h),o(v),o(h),o(v)),k+=4;break;case s.OPS.closePath:w.push("Z")}w=w.join(" "),f.path&&n.length>0&&n[0]!==s.OPS.rectangle&&n[0]!==s.OPS.moveTo?w=f.path.getAttributeNS(null,"d")+w:(f.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(f.path)),f.path.setAttributeNS(null,"d",w),f.path.setAttributeNS(null,"fill","none"),f.element=f.path,f.setCurrentPoint(h,v)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const i="clippath"+u++,f=this.svgFactory.createElement("svg:clipPath");f.setAttributeNS(null,"id",i),f.setAttributeNS(null,"transform",x(this.transformMatrix));const h=n.element.cloneNode(!0);if(h.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,f.appendChild(h),this.defs.appendChild(f),n.activeClipUrl){n.clipGroup=null;for(const v of this.extraStack)v.clipGroup=null;f.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const i=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",i)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[i,f]of n)switch(i){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f);break;case"CA":this.setStrokeAlpha(f);break;case"ca":this.setFillAlpha(f);break;default:(0,s.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,i=1){const f=this.current;let h=f.dashArray;1!==i&&h.length>0&&(h=h.map(function(v){return i*v})),n.setAttributeNS(null,"stroke",f.strokeColor),n.setAttributeNS(null,"stroke-opacity",f.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",o(f.miterLimit)),n.setAttributeNS(null,"stroke-linecap",f.lineCap),n.setAttributeNS(null,"stroke-linejoin",f.lineJoin),n.setAttributeNS(null,"stroke-width",o(i*f.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",h.map(o).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",o(i*f.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const i=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);i?this.paintInlineImageXObject(i):(0,s.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,i){const f=n.width,h=n.height,v=P(n,this.forceDataSchema,!!i),w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width",o(f)),w.setAttributeNS(null,"height",o(h)),this.current.element=w,this.clip("nonzero");const k=this.svgFactory.createElement("svg:image");k.setAttributeNS(r,"xlink:href",v),k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y",o(-h)),k.setAttributeNS(null,"width",o(f)+"px"),k.setAttributeNS(null,"height",o(h)+"px"),k.setAttributeNS(null,"transform",`scale(${o(1/f)} ${o(-1/h)})`),i?i.appendChild(k):this._ensureTransformGroup().appendChild(k)}paintImageMaskXObject(n){const i=this.current,f=n.width,h=n.height,v=i.fillColor;i.maskId="mask"+m++;const w=this.svgFactory.createElement("svg:mask");w.setAttributeNS(null,"id",i.maskId);const k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",o(f)),k.setAttributeNS(null,"height",o(h)),k.setAttributeNS(null,"fill",v),k.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(w),this._ensureTransformGroup().appendChild(k),this.paintInlineImageXObject(n,w)}paintFormXObjectBegin(n,i){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),i){const f=i[2]-i[0],h=i[3]-i[1],v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",i[0]),v.setAttributeNS(null,"y",i[1]),v.setAttributeNS(null,"width",o(f)),v.setAttributeNS(null,"height",o(h)),this.current.element=v,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const i=this.svgFactory.create(n.width,n.height),f=this.svgFactory.createElement("svg:defs");i.appendChild(f),this.defs=f;const h=this.svgFactory.createElement("svg:g");return h.setAttributeNS(null,"transform",x(n.transform)),i.appendChild(h),this.svg=h,i}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",x(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var s=B(1),G=B(26);const N=__webpack_require__(172),W=__webpack_require__(2001),z=__webpack_require__(3779),R=__webpack_require__(6558),r=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class p{constructor(g){this.source=g,this.url=function S(m){const g=R.parse(m);return"file:"===g.protocol||g.host?g:/^[a-z]:[/\\]/i.test(m)?R.parse(`file:///${m}`):(g.host||(g.protocol="file:"),g)}(g.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new x(this):new b(this),this._fullRequestReader}getRangeReader(g,n){if(n<=this._progressiveDataLength)return null;const i=this.isFsUrl?new u(this,g,n):new o(this,g,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const n of this._rangeRequestReaders.slice(0))n.cancel(g)}};class A{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=g.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._headersCapability=(0,s.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const n=g._readableStream.read();return null===n?(g._readCapability=(0,s.createPromiseCapability)(),g.read()):(g._loaded+=n.length,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class P{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!g.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const n=g._readableStream.read();return null===n?(g._readCapability=(0,s.createPromiseCapability)(),g.read()):(g._loaded+=n.length,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function F(m,g){return{protocol:m.protocol,auth:m.auth,host:m.hostname,port:m.port,path:m.path,method:"GET",headers:g}}class b extends A{constructor(g){super(g);const n=i=>{if(404===i.statusCode){const w=new s.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=w,void this._headersCapability.reject(w)}this._headersCapability.resolve(),this._setReadableStream(i);const f=w=>this._readableStream.headers[w.toLowerCase()],{allowRangeRequests:h,suggestedLength:v}=(0,G.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=v||this._contentLength,this._filename=(0,G.extractFilenameFromHeader)(f)};this._request=null,this._request="http:"===this._url.protocol?W.request(F(this._url,g.httpHeaders),n):z.request(F(this._url,g.httpHeaders),n),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class o extends P{constructor(g,n,i){super(g),this._httpHeaders={};for(const h in g.httpHeaders){const v=g.httpHeaders[h];typeof v>"u"||(this._httpHeaders[h]=v)}this._httpHeaders.Range=`bytes=${n}-${i-1}`;const f=h=>{if(404!==h.statusCode)this._setReadableStream(h);else{const v=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=v}};this._request=null,this._request="http:"===this._url.protocol?W.request(F(this._url,this._httpHeaders),f):z.request(F(this._url,this._httpHeaders),f),this._request.on("error",h=>{this._storedError=h}),this._request.end()}}class x extends A{constructor(g){super(g);let n=decodeURIComponent(this._url.path);r.test(this._url.href)&&(n=n.replace(/^\//,"")),N.lstat(n,(i,f)=>{if(i)return"ENOENT"===i.code&&(i=new s.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=f.size,this._setReadableStream(N.createReadStream(n)),this._headersCapability.resolve()})}}class u extends P{constructor(g,n,i){super(g);let f=decodeURIComponent(this._url.path);r.test(this._url.href)&&(f=f.replace(/^\//,"")),this._setReadableStream(N.createReadStream(f,{start:n,end:i-1}))}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function R(S,p){return 404===S||0===S&&p.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+p+'".'):new s.UnexpectedResponseException(`Unexpected server response (${S}) while retrieving PDF "${p}".`,S)},a.extractFilenameFromHeader=function z(S){const p=S("Content-Disposition");if(p){let A=(0,G.getFilenameFromContentDispositionHeader)(p);if(A.includes("%"))try{A=decodeURIComponent(A)}catch{}if((0,N.isPdfFile)(A))return A}return null},a.validateRangeRequestCapabilities=function W({getResponseHeader:S,isHttp:p,rangeChunkSize:A,disableRange:P}){const F={allowRangeRequests:!1,suggestedLength:void 0},b=parseInt(S("Content-Length"),10);return!Number.isInteger(b)||(F.suggestedLength=b,b<=2*A)||P||!p||"bytes"!==S("Accept-Ranges")||"identity"!==(S("Content-Encoding")||"identity")||(F.allowRangeRequests=!0),F},a.validateResponseStatus=function r(S){return 200===S||206===S};var s=B(1),G=B(27),N=B(5)},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function G(N){let W=!0,z=R("filename\\*","i").exec(N);if(z){z=z[1];let b=A(z);return b=unescape(b),b=P(b),b=F(b),S(b)}if(z=function p(b){const o=[];let x;const u=R("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(x=u.exec(b));){let[,g,n,i]=x;if(g=parseInt(g,10),g in o){if(0===g)break}else o[g]=[n,i]}const m=[];for(let g=0;g<o.length&&g in o;++g){let[n,i]=o[g];i=A(i),n&&(i=unescape(i),0===g&&(i=P(i))),m.push(i)}return m.join("")}(N),z)return S(F(z));if(z=R("filename","i").exec(N),z){z=z[1];let b=A(z);return b=F(b),S(b)}function R(b,o){return new RegExp("(?:^|;)\\s*"+b+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',o)}function r(b,o){if(b){if(!/^[\x00-\xFF]+$/.test(o))return o;try{const x=new TextDecoder(b,{fatal:!0}),u=(0,s.stringToBytes)(o);o=x.decode(u),W=!1}catch{}}return o}function S(b){return W&&/[\x80-\xff]/.test(b)&&(b=r("utf-8",b),W&&(b=r("iso-8859-1",b))),b}function A(b){if(b.startsWith('"')){const o=b.slice(1).split('\\"');for(let x=0;x<o.length;++x){const u=o[x].indexOf('"');-1!==u&&(o[x]=o[x].slice(0,u),o.length=x+1),o[x]=o[x].replace(/\\(.)/g,"$1")}b=o.join('"')}return b}function P(b){const o=b.indexOf("'");return-1===o?b:r(b.slice(0,o),b.slice(o+1).replace(/^[^']*'/,""))}function F(b){return!b.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(o,x,u,m){if("q"===u||"Q"===u)return r(x,m=(m=m.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(g,n){return String.fromCharCode(parseInt(n,16))}));try{m=atob(m)}catch{}return r(x,m)})}return""};var s=B(1)},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var s=B(1),G=B(26);class R{constructor(P,F={}){this.url=P,this.isHttp=/^https?:/i.test(P),this.httpHeaders=this.isHttp&&F.httpHeaders||Object.create(null),this.withCredentials=F.withCredentials||!1,this.getXhr=F.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(P,F,b){const o={begin:P,end:F};for(const x in b)o[x]=b[x];return this.request(o)}requestFull(P){return this.request(P)}request(P){const F=this.getXhr(),b=this.currXhrId++,o=this.pendingRequests[b]={xhr:F};F.open("GET",this.url),F.withCredentials=this.withCredentials;for(const x in this.httpHeaders){const u=this.httpHeaders[x];typeof u>"u"||F.setRequestHeader(x,u)}return this.isHttp&&"begin"in P&&"end"in P?(F.setRequestHeader("Range",`bytes=${P.begin}-${P.end-1}`),o.expectedStatus=206):o.expectedStatus=200,F.responseType="arraybuffer",P.onError&&(F.onerror=function(x){P.onError(F.status)}),F.onreadystatechange=this.onStateChange.bind(this,b),F.onprogress=this.onProgress.bind(this,b),o.onHeadersReceived=P.onHeadersReceived,o.onDone=P.onDone,o.onError=P.onError,o.onProgress=P.onProgress,F.send(null),b}onProgress(P,F){const b=this.pendingRequests[P];b&&b.onProgress?.(F)}onStateChange(P,F){const b=this.pendingRequests[P];if(!b)return;const o=b.xhr;if(o.readyState>=2&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived),4!==o.readyState||!(P in this.pendingRequests))return;if(delete this.pendingRequests[P],0===o.status&&this.isHttp)return void b.onError?.(o.status);const x=o.status||200;if((200!==x||206!==b.expectedStatus)&&x!==b.expectedStatus)return void b.onError?.(o.status);const m=function z(A){const P=A.response;return"string"!=typeof P?P:(0,s.stringToBytes)(P).buffer}(o);if(206===x){const g=o.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);b.onDone({begin:parseInt(n[1],10),chunk:m})}else m?b.onDone({begin:0,chunk:m}):b.onError?.(o.status)}getRequestXhr(P){return this.pendingRequests[P].xhr}isPendingRequest(P){return P in this.pendingRequests}abortRequest(P){const F=this.pendingRequests[P].xhr;delete this.pendingRequests[P],F.abort()}}a.PDFNetworkStream=class r{constructor(P){this._source=P,this._manager=new R(P.url,{httpHeaders:P.httpHeaders,withCredentials:P.withCredentials}),this._rangeChunkSize=P.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(P){const F=this._rangeRequestReaders.indexOf(P);F>=0&&this._rangeRequestReaders.splice(F,1)}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new S(this._manager,this._source),this._fullRequestReader}getRangeReader(P,F){const b=new p(this._manager,P,F);return b.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(b),b}cancelAllRequests(P){this._fullRequestReader?.cancel(P);for(const F of this._rangeRequestReaders.slice(0))F.cancel(P)}};class S{constructor(P,F){this._manager=P;const b={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=F.url,this._fullRequestId=P.requestFull(b),this._headersReceivedCapability=(0,s.createPromiseCapability)(),this._disableRange=F.disableRange||!1,this._contentLength=F.length,this._rangeChunkSize=F.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const P=this._fullRequestId,F=this._manager.getRequestXhr(P),b=u=>F.getResponseHeader(u),{allowRangeRequests:o,suggestedLength:x}=(0,G.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=x||this._contentLength,this._filename=(0,G.extractFilenameFromHeader)(b),this._isRangeSupported&&this._manager.abortRequest(P),this._headersReceivedCapability.resolve()}_onDone(P){if(P&&(this._requests.length>0?this._requests.shift().resolve({value:P.chunk,done:!1}):this._cachedChunks.push(P.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(P){this._storedError=(0,G.createResponseStatusError)(P,this._url),this._headersReceivedCapability.reject(this._storedError);for(const F of this._requests)F.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(P){this.onProgress?.({loaded:P.loaded,total:P.lengthComputable?P.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(P._cachedChunks.length>0)return{value:P._cachedChunks.shift(),done:!1};if(P._done)return{value:void 0,done:!0};const F=(0,s.createPromiseCapability)();return P._requests.push(F),F.promise})()}cancel(P){this._done=!0,this._headersReceivedCapability.reject(P);for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class p{constructor(P,F,b){this._manager=P;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=P.url,this._requestId=P.requestRange(F,b,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(P){const F=P.chunk;this._requests.length>0?this._requests.shift().resolve({value:F,done:!1}):this._queuedChunk=F,this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(P){this._storedError=(0,G.createResponseStatusError)(P,this._url);for(const F of this._requests)F.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(P){this.isStreamingSupported||this.onProgress?.({loaded:P.loaded})}get isStreamingSupported(){return!1}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(null!==P._queuedChunk){const b=P._queuedChunk;return P._queuedChunk=null,{value:b,done:!1}}if(P._done)return{value:void 0,done:!0};const F=(0,s.createPromiseCapability)();return P._requests.push(F),F.promise})()}cancel(P){this._done=!0;for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(te,a,B)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var s=B(1),G=B(26);function N(S,p,A){return{method:"GET",headers:S,signal:A?.signal,mode:"cors",credentials:p?"include":"same-origin",redirect:"follow"}}function W(S){const p=new Headers;for(const A in S){const P=S[A];typeof P>"u"||p.append(A,P)}return p}a.PDFFetchStream=class z{constructor(p){this.source=p,this.isHttp=/^https?:/i.test(p.url),this.httpHeaders=this.isHttp&&p.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new R(this),this._fullRequestReader}getRangeReader(p,A){if(A<=this._progressiveDataLength)return null;const P=new r(this,p,A);return this._rangeRequestReaders.push(P),P}cancelAllRequests(p){this._fullRequestReader&&this._fullRequestReader.cancel(p);for(const A of this._rangeRequestReaders.slice(0))A.cancel(p)}};class R{constructor(p){this._stream=p,this._reader=null,this._loaded=0,this._filename=null;const A=p.source;this._withCredentials=A.withCredentials||!1,this._contentLength=A.length,this._headersCapability=(0,s.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._headers=W(this._stream.httpHeaders);const P=A.url;fetch(P,N(this._headers,this._withCredentials,this._abortController)).then(F=>{if(!(0,G.validateResponseStatus)(F.status))throw(0,G.createResponseStatusError)(F.status,P);this._reader=F.body.getReader(),this._headersCapability.resolve();const b=u=>F.headers.get(u),{allowRangeRequests:o,suggestedLength:x}=(0,G.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=x||this._contentLength,this._filename=(0,G.extractFilenameFromHeader)(b),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var p=this;return _asyncToGenerator(function*(){yield p._headersCapability.promise;const{value:A,done:P}=yield p._reader.read();return P?{value:A,done:P}:(p._loaded+=A.byteLength,p.onProgress&&p.onProgress({loaded:p._loaded,total:p._contentLength}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(p){this._reader&&this._reader.cancel(p),this._abortController&&this._abortController.abort()}}class r{constructor(p,A,P){this._stream=p,this._reader=null,this._loaded=0;const F=p.source;this._withCredentials=F.withCredentials||!1,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!F.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=W(this._stream.httpHeaders),this._headers.append("Range",`bytes=${A}-${P-1}`);const b=F.url;fetch(b,N(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!(0,G.validateResponseStatus)(o.status))throw(0,G.createResponseStatusError)(o.status,b);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var p=this;return _asyncToGenerator(function*(){yield p._readCapability.promise;const{value:A,done:P}=yield p._reader.read();return P?{value:A,done:P}:(p._loaded+=A.byteLength,p.onProgress&&p.onProgress({loaded:p._loaded}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(p){this._reader&&this._reader.cancel(p),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(te){var a=__webpack_module_cache__[te];if(void 0!==a)return a.exports;var B=__webpack_module_cache__[te]={exports:{}};return __webpack_modules__[te](B,B.exports,__w_pdfjs_require__),B.exports}var __webpack_exports__={};return(()=>{var te=__webpack_exports__;Object.defineProperty(te,"__esModule",{value:!0}),Object.defineProperty(te,"AnnotationLayer",{enumerable:!0,get:function(){return G.AnnotationLayer}}),Object.defineProperty(te,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(te,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(te,"GlobalWorkerOptions",{enumerable:!0,get:function(){return N.GlobalWorkerOptions}}),Object.defineProperty(te,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(te,"LoopbackPort",{enumerable:!0,get:function(){return B.LoopbackPort}}),Object.defineProperty(te,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(te,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(te,"PDFDataRangeTransport",{enumerable:!0,get:function(){return B.PDFDataRangeTransport}}),Object.defineProperty(te,"PDFDateString",{enumerable:!0,get:function(){return s.PDFDateString}}),Object.defineProperty(te,"PDFWorker",{enumerable:!0,get:function(){return B.PDFWorker}}),Object.defineProperty(te,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(te,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(te,"PixelsPerInch",{enumerable:!0,get:function(){return s.PixelsPerInch}}),Object.defineProperty(te,"RenderingCancelledException",{enumerable:!0,get:function(){return s.RenderingCancelledException}}),Object.defineProperty(te,"SVGGraphics",{enumerable:!0,get:function(){return R.SVGGraphics}}),Object.defineProperty(te,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(te,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(te,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(te,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(te,"XfaLayer",{enumerable:!0,get:function(){return r.XfaLayer}}),Object.defineProperty(te,"build",{enumerable:!0,get:function(){return B.build}}),Object.defineProperty(te,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(te,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(te,"getDocument",{enumerable:!0,get:function(){return B.getDocument}}),Object.defineProperty(te,"getFilenameFromUrl",{enumerable:!0,get:function(){return s.getFilenameFromUrl}}),Object.defineProperty(te,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return s.getPdfFilenameFromUrl}}),Object.defineProperty(te,"getXfaPageViewport",{enumerable:!0,get:function(){return s.getXfaPageViewport}}),Object.defineProperty(te,"isPdfFile",{enumerable:!0,get:function(){return s.isPdfFile}}),Object.defineProperty(te,"loadScript",{enumerable:!0,get:function(){return s.loadScript}}),Object.defineProperty(te,"renderTextLayer",{enumerable:!0,get:function(){return z.renderTextLayer}}),Object.defineProperty(te,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(te,"version",{enumerable:!0,get:function(){return B.version}});var a=__w_pdfjs_require__(1),B=__w_pdfjs_require__(4),s=__w_pdfjs_require__(5),G=__w_pdfjs_require__(20),N=__w_pdfjs_require__(13),W=__w_pdfjs_require__(3),z=__w_pdfjs_require__(23),R=__w_pdfjs_require__(24),r=__w_pdfjs_require__(22);if(W.isNodeJS){const{PDFNodeStream:A}=__w_pdfjs_require__(25);(0,B.setPDFNetworkStreamFactory)(P=>new A(P))}else{const{PDFNetworkStream:A}=__w_pdfjs_require__(28),{PDFFetchStream:P}=__w_pdfjs_require__(29);(0,B.setPDFNetworkStreamFactory)(F=>(0,s.isValidFetchUrl)(F.url)?new P(F):new A(F))}})(),__webpack_exports__})(),module.exports=B()},2813:function(te,a,B){var W,s=B(7156).default;W=()=>(()=>{"use strict";var G=[,(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultXfaLayerFactory=r.DefaultTextLayerFactory=r.DefaultStructTreeLayerFactory=r.DefaultAnnotationLayerFactory=void 0;var p=S(2),A=S(4),P=S(5),F=S(7),b=S(8),o=S(9);r.DefaultAnnotationLayerFactory=class x{createAnnotationLayerBuilder(i,f,h=null,v="",w=!0,k=A.NullL10n,c=!1,T=null,E=null,O=null,I=null){return new p.AnnotationLayerBuilder({pageDiv:i,pdfPage:f,imageResourcesPath:v,renderForms:w,linkService:new P.SimpleLinkService,l10n:k,annotationStorage:h,enableScripting:c,hasJSActionsPromise:T,fieldObjectsPromise:O,mouseState:E,annotationCanvasMap:I})}},r.DefaultStructTreeLayerFactory=class u{createStructTreeLayerBuilder(i){return new F.StructTreeLayerBuilder({pdfPage:i})}},r.DefaultTextLayerFactory=class m{createTextLayerBuilder(i,f,h,v=!1,w,k){return new b.TextLayerBuilder({textLayerDiv:i,pageIndex:f,viewport:h,enhanceTextSelection:v,eventBus:w,highlighter:k})}},r.DefaultXfaLayerFactory=class g{createXfaLayerBuilder(i,f,h=null,v=null){return new o.XfaLayerBuilder({pageDiv:i,pdfPage:f,annotationStorage:h,linkService:new P.SimpleLinkService,xfaHtml:v})}}},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AnnotationLayerBuilder=void 0;var p=S(3),A=S(4);r.AnnotationLayerBuilder=class P{constructor({pageDiv:b,pdfPage:o,linkService:x,downloadManager:u,annotationStorage:m=null,imageResourcesPath:g="",renderForms:n=!0,l10n:i=A.NullL10n,enableScripting:f=!1,hasJSActionsPromise:h=null,fieldObjectsPromise:v=null,mouseState:w=null,annotationCanvasMap:k=null}){this.pageDiv=b,this.pdfPage=o,this.linkService=x,this.downloadManager=u,this.imageResourcesPath=g,this.renderForms=n,this.l10n=i,this.annotationStorage=m,this.enableScripting=f,this._hasJSActionsPromise=h,this._fieldObjectsPromise=v,this._mouseState=w,this._annotationCanvasMap=k,this.div=null,this._cancelled=!1}render(b){var o=this;return s(function*(x,u="display"){const[m,g=!1,n=null]=yield Promise.all([o.pdfPage.getAnnotations({intent:u}),o._hasJSActionsPromise,o._fieldObjectsPromise]);if(o._cancelled||0===m.length)return;const i={viewport:x.clone({dontFlip:!0}),div:o.div,annotations:m,page:o.pdfPage,imageResourcesPath:o.imageResourcesPath,renderForms:o.renderForms,linkService:o.linkService,downloadManager:o.downloadManager,annotationStorage:o.annotationStorage,enableScripting:o.enableScripting,hasJSActions:g,fieldObjects:n,mouseState:o._mouseState,annotationCanvasMap:o._annotationCanvasMap};o.div?p.AnnotationLayer.update(i):(o.div=document.createElement("div"),o.div.className="annotationLayer",o.pageDiv.appendChild(o.div),i.div=o.div,p.AnnotationLayer.render(i),o.l10n.translate(o.div))}).apply(this,arguments)}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},R=>{let r;r=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:B(6036),R.exports=r},(R,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NullL10n=void 0,r.fixupLangCode=function P(o){return A[o?.toLowerCase()]||o},r.getL10nFallback=p;const S={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function p(o,x){switch(o){case"find_match_count":o=`find_match_count[${1===x.total?"one":"other"}]`;break;case"find_match_count_limit":o=`find_match_count_limit[${1===x.limit?"one":"other"}]`}return S[o]||""}const A={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"},b={getLanguage:()=>s(function*(){return"en-us"})(),getDirection:()=>s(function*(){return"ltr"})(),get(o){return s(function*(x,u=null,m=p(x,u)){return function F(o,x){return x?o.replace(/\{\{\s*(\w+)\s*\}\}/g,(u,m)=>m in x?x[m]:"{{"+m+"}}"):o}(m,u)}).apply(this,arguments)},translate:o=>s(function*(){})()};r.NullL10n=b},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SimpleLinkService=r.PDFLinkService=r.LinkTarget=void 0;var p=S(6);const A="noopener noreferrer nofollow",P={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function F(x,{url:u,target:m,rel:g,enabled:n=!0}={}){if(!u||"string"!=typeof u)throw new Error('A valid "url" parameter must provided.');const i=(0,p.removeNullCharacters)(u);n?x.href=x.title=i:(x.href="",x.title=`Disabled: ${i}`,x.onclick=()=>!1);let f="";switch(m){case P.NONE:break;case P.SELF:f="_self";break;case P.BLANK:f="_blank";break;case P.PARENT:f="_parent";break;case P.TOP:f="_top"}x.target=f,x.rel="string"==typeof g?g:A}r.LinkTarget=P;class b{#e=new Map;constructor({eventBus:u,externalLinkTarget:m=null,externalLinkRel:g=null,ignoreDestinationZoom:n=!1}={}){this.eventBus=u,this.externalLinkTarget=m,this.externalLinkRel=g,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=n,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(u,m=null){this.baseUrl=m,this.pdfDocument=u,this.#e.clear()}setViewer(u){this.pdfViewer=u}setHistory(u){this.pdfHistory=u}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(u){this.pdfViewer.currentPageNumber=u}get rotation(){return this.pdfViewer.pagesRotation}set rotation(u){this.pdfViewer.pagesRotation=u}#t(u,m=null,g){const n=g[0];let i;if("object"==typeof n&&null!==n){if(i=this._cachedPageNumber(n),!i)return void this.pdfDocument.getPageIndex(n).then(f=>{this.cachePageRef(f+1,n),this.#t(u,m,g)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${n}" is not a valid page reference, for dest="${u}".`)})}else{if(!Number.isInteger(n))return void console.error(`PDFLinkService.#goToDestinationHelper: "${n}" is not a valid destination reference, for dest="${u}".`);i=n+1}!i||i<1||i>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${i}" is not a valid page number, for dest="${u}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:m,explicitDest:g,pageNumber:i})),this.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:g,ignoreDestinationZoom:this._ignoreDestinationZoom}))}goToDestination(u){var m=this;return s(function*(){if(!m.pdfDocument)return;let g,n;"string"==typeof u?(g=u,n=yield m.pdfDocument.getDestination(u)):(g=null,n=yield u),Array.isArray(n)?m.#t(u,g,n):console.error(`PDFLinkService.goToDestination: "${n}" is not a valid destination array, for dest="${u}".`)})()}goToPage(u){if(!this.pdfDocument)return;const m="string"==typeof u&&this.pdfViewer.pageLabelToPageNumber(u)||0|u;Number.isInteger(m)&&m>0&&m<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(m)),this.pdfViewer.scrollPageIntoView({pageNumber:m})):console.error(`PDFLinkService.goToPage: "${u}" is not a valid page.`)}addLinkAttributes(u,m,g=!1){F(u,{url:m,target:g?P.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(u){if("string"==typeof u){if(u.length>0)return this.getAnchorUrl("#"+escape(u))}else if(Array.isArray(u)){const m=JSON.stringify(u);if(m.length>0)return this.getAnchorUrl("#"+escape(m))}return this.getAnchorUrl("")}getAnchorUrl(u){return(this.baseUrl||"")+u}setHash(u){if(!this.pdfDocument)return;let m,g;if(u.includes("=")){const n=(0,p.parseQueryString)(u);if(n.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:n.get("search").replace(/"/g,""),phraseSearch:"true"===n.get("phrase")}),n.has("page")&&(m=0|n.get("page")||1),n.has("zoom")){const i=n.get("zoom").split(","),f=i[0],h=parseFloat(f);f.includes("Fit")?"Fit"===f||"FitB"===f?g=[null,{name:f}]:"FitH"===f||"FitBH"===f||"FitV"===f||"FitBV"===f?g=[null,{name:f},i.length>1?0|i[1]:null]:"FitR"===f?5!==i.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):g=[null,{name:f},0|i[1],0|i[2],0|i[3],0|i[4]]:console.error(`PDFLinkService.setHash: "${f}" is not a valid zoom value.`):g=[null,{name:"XYZ"},i.length>1?0|i[1]:null,i.length>2?0|i[2]:null,h?h/100:f]}g?this.pdfViewer.scrollPageIntoView({pageNumber:m||this.page,destArray:g,allowNegativeOffset:!0}):m&&(this.page=m),n.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:n.get("pagemode")}),n.has("nameddest")&&this.goToDestination(n.get("nameddest"))}else{g=unescape(u);try{g=JSON.parse(g),Array.isArray(g)||(g=g.toString())}catch{}if("string"==typeof g||b.#n(g))return void this.goToDestination(g);console.error(`PDFLinkService.setHash: "${unescape(u)}" is not a valid destination.`)}}executeNamedAction(u){switch(u){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:u})}cachePageRef(u,m){m&&this.#e.set(0===m.gen?`${m.num}R`:`${m.num}R${m.gen}`,u)}_cachedPageNumber(u){return u&&this.#e.get(0===u.gen?`${u.num}R`:`${u.num}R${u.gen}`)||null}isPageVisible(u){return this.pdfViewer.isPageVisible(u)}isPageCached(u){return this.pdfViewer.isPageCached(u)}static#n(u){if(!Array.isArray(u))return!1;const m=u.length;if(m<2)return!1;const g=u[0];if(!("object"==typeof g&&Number.isInteger(g.num)&&Number.isInteger(g.gen)||Number.isInteger(g)&&g>=0))return!1;const n=u[1];if("object"!=typeof n||"string"!=typeof n.name)return!1;let i=!0;switch(n.name){case"XYZ":if(5!==m)return!1;break;case"Fit":case"FitB":return 2===m;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==m)return!1;break;case"FitR":if(6!==m)return!1;i=!1;break;default:return!1}for(let f=2;f<m;f++){const h=u[f];if(!("number"==typeof h||i&&null===h))return!1}return!0}}r.PDFLinkService=b,r.SimpleLinkService=class o{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(u){}get rotation(){return 0}set rotation(u){}goToDestination(u){return s(function*(){})()}goToPage(u){}addLinkAttributes(u,m,g=!1){F(u,{url:m,enabled:this.externalLinkEnabled})}getDestinationHash(u){return"#"}getAnchorUrl(u){return"#"}setHash(u){}executeNamedAction(u){}cachePageRef(u,m){}isPageVisible(u){return!0}isPageCached(u){return!0}}},(R,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.animationStarted=r.VERTICAL_PADDING=r.UNKNOWN_SCALE=r.TextLayerMode=r.SpreadMode=r.SidebarView=r.ScrollMode=r.SCROLLBAR_PADDING=r.RenderingStates=r.RendererType=r.ProgressBar=r.PresentationModeState=r.OutputScale=r.MIN_SCALE=r.MAX_SCALE=r.MAX_AUTO_SCALE=r.DEFAULT_SCALE_VALUE=r.DEFAULT_SCALE_DELTA=r.DEFAULT_SCALE=r.AutoPrintRegExp=void 0,r.apiPageLayoutToViewerModes=function ie(Q){let Z=h.VERTICAL,ae=v.NONE;switch(Q){case"SinglePage":Z=h.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Z=h.PAGE;case"TwoColumnLeft":ae=v.ODD;break;case"TwoPageRight":Z=h.PAGE;case"TwoColumnRight":ae=v.EVEN}return{scrollMode:Z,spreadMode:ae}},r.apiPageModeToSidebarView=function re(Q){switch(Q){case"UseNone":return n.NONE;case"UseThumbs":return n.THUMBS;case"UseOutlines":return n.OUTLINE;case"UseAttachments":return n.ATTACHMENTS;case"UseOC":return n.LAYERS}return n.NONE},r.approximateFraction=function V(Q){if(Math.floor(Q)===Q)return[Q,1];const Z=1/Q;if(Z>8)return[1,8];if(Math.floor(Z)===Z)return[1,Z];const se=Q>1?Z:Q;let pe,ne=0,ce=1,he=1,oe=1;for(;;){const _e=ne+he,de=ce+oe;if(de>8)break;se<=_e/de?(he=_e,oe=de):(ne=_e,ce=de)}return pe=se-ne/ce<he/oe-se?se===Q?[ne,ce]:[ce,ne]:se===Q?[he,oe]:[oe,he],pe},r.backtrackBeforeAllVisibleElements=C,r.binarySearchFirstItem=D,r.getActiveOrFocusedElement=function K(){let Q=document,Z=Q.activeElement||Q.querySelector(":focus");for(;Z?.shadowRoot;)Q=Z.shadowRoot,Z=Q.activeElement||Q.querySelector(":focus");return Z},r.getPageSizeInches=function J({view:Q,userUnit:Z,rotate:ae}){const[se,ne,ce,he]=Q,oe=ae%180!=0,pe=(ce-se)/72*Z,_e=(he-ne)/72*Z;return{width:oe?_e:pe,height:oe?pe:_e}},r.getVisibleElements=function e({scrollEl:Q,views:Z,sortByVisibility:ae=!1,horizontal:se=!1,rtl:ne=!1}){const ce=Q.scrollTop,he=ce+Q.clientHeight,oe=Q.scrollLeft,pe=oe+Q.clientWidth,me=[],ve=new Set,Se=Z.length;let be=D(Z,se?function de(Y){const le=Y.div,ue=le.offsetLeft+le.clientLeft;return ne?ue<pe:ue+le.clientWidth>oe}:function _e(Y){const le=Y.div;return le.offsetTop+le.clientTop+le.clientHeight>ce});be>0&&be<Se&&!se&&(be=C(be,Z,ce));let we=se?pe:-1;for(let Y=be;Y<Se;Y++){const le=Z[Y],ue=le.div,fe=ue.offsetLeft+ue.clientLeft,ge=ue.offsetTop+ue.clientTop,Ce=ue.clientWidth,xe=ue.clientHeight,Ee=fe+Ce,ye=ge+xe;if(-1===we)ye>=he&&(we=ye);else if((se?fe:ge)>we)break;if(ye<=ce||ge>=he||Ee<=oe||fe>=pe)continue;const Me=Math.max(0,ce-ge)+Math.max(0,ye-he),Ae=(Ce-(Math.max(0,oe-fe)+Math.max(0,Ee-pe)))/Ce;me.push({id:le.id,x:fe,y:ge,view:le,percent:(xe-Me)/xe*Ae*100|0,widthPercent:100*Ae|0}),ve.add(le.id)}const ee=me[0],$=me[me.length-1];return ae&&me.sort(function(Y,le){const ue=Y.percent-le.percent;return Math.abs(ue)>.001?-ue:Y.id-le.id}),{first:ee,last:$,views:me,ids:ve}},r.isPortraitOrientation=function U(Q){return Q.width<=Q.height},r.isValidRotation=function d(Q){return Number.isInteger(Q)&&Q%90==0},r.isValidScrollMode=function y(Q){return Number.isInteger(Q)&&Object.values(h).includes(Q)&&Q!==h.UNKNOWN},r.isValidSpreadMode=function L(Q){return Number.isInteger(Q)&&Object.values(v).includes(Q)&&Q!==v.UNKNOWN},r.noContextMenuHandler=function t(Q){Q.preventDefault()},r.normalizeWheelEventDelta=function _(Q){let Z=l(Q);return 0===Q.deltaMode?Z/=900:1===Q.deltaMode&&(Z/=30),Z},r.normalizeWheelEventDirection=l,r.parseQueryString=function E(Q){const Z=new Map;for(const[ae,se]of new URLSearchParams(Q))Z.set(ae.toLowerCase(),se);return Z},r.removeNullCharacters=function M(Q,Z=!1){return"string"!=typeof Q?(console.error("The argument must be a string."),Q):(Z&&(Q=Q.replace(I," ")),Q.replace(O,""))},r.roundToDivide=function X(Q,Z){const ae=Q%Z;return 0===ae?Q:Math.round(Q-ae+Z)},r.scrollIntoView=function c(Q,Z,ae=!1){let se=Q.offsetParent;if(!se)return void console.error("offsetParent is not set -- cannot scroll");let ne=Q.offsetTop+Q.clientTop,ce=Q.offsetLeft+Q.clientLeft;for(;se.clientHeight===se.scrollHeight&&se.clientWidth===se.scrollWidth||ae&&(se.classList.contains("markedContent")||"hidden"===getComputedStyle(se).overflow);)if(ne+=se.offsetTop,ce+=se.offsetLeft,se=se.offsetParent,!se)return;Z&&(void 0!==Z.top&&(ne+=Z.top),void 0!==Z.left&&(ce+=Z.left,se.scrollLeft=ce)),se.scrollTop=ne},r.watchScroll=function T(Q,Z){const ae=function(ce){ne||(ne=window.requestAnimationFrame(function(){ne=null;const oe=Q.scrollLeft,pe=se.lastX;oe!==pe&&(se.right=oe>pe),se.lastX=oe;const _e=Q.scrollTop,de=se.lastY;_e!==de&&(se.down=_e>de),se.lastY=_e,Z(se)}))},se={right:!0,down:!0,lastX:Q.scrollLeft,lastY:Q.scrollTop,_eventHandler:ae};let ne=null;return Q.addEventListener("scroll",ae,!0),se},r.DEFAULT_SCALE_VALUE="auto",r.DEFAULT_SCALE=1,r.DEFAULT_SCALE_DELTA=1.1,r.MIN_SCALE=.1,r.MAX_SCALE=10,r.UNKNOWN_SCALE=0,r.MAX_AUTO_SCALE=1.25,r.SCROLLBAR_PADDING=40,r.VERTICAL_PADDING=5,r.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},r.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const n={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};r.SidebarView=n,r.RendererType={CANVAS:"canvas",SVG:"svg"},r.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const h={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};r.ScrollMode=h;const v={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};r.SpreadMode=v,r.AutoPrintRegExp=/\bprint\s*\(/,r.OutputScale=class k{constructor(){const Z=window.devicePixelRatio||1;this.sx=Z,this.sy=Z}get scaled(){return 1!==this.sx||1!==this.sy}};const O=/\x00/g,I=/[\x01-\x1F]/g;function D(Q,Z,ae=0){let se=ae,ne=Q.length-1;if(ne<0||!Z(Q[ne]))return Q.length;if(Z(Q[se]))return se;for(;se<ne;){const ce=se+ne>>1;Z(Q[ce])?ne=ce:se=ce+1}return se}function C(Q,Z,ae){if(Q<2)return Q;let se=Z[Q].div,ne=se.offsetTop+se.clientTop;ne>=ae&&(se=Z[Q-1].div,ne=se.offsetTop+se.clientTop);for(let ce=Q-2;ce>=0&&(se=Z[ce].div,!(se.offsetTop+se.clientTop+se.clientHeight<=ne));--ce)Q=ce;return Q}function l(Q){let Z=Math.hypot(Q.deltaX,Q.deltaY);const ae=Math.atan2(Q.deltaY,Q.deltaX);return-.25*Math.PI<ae&&ae<.75*Math.PI&&(Z=-Z),Z}const j=new Promise(function(Q){window.requestAnimationFrame(Q)});r.animationStarted=j,r.ProgressBar=class q{constructor(Z){if(arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(Z+" .progress"),this.bar=this.div.parentNode,this.percent=0}#e(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}get percent(){return this._percent}set percent(Z){this._indeterminate=isNaN(Z),this._percent=function H(Q,Z,ae){return Math.min(Math.max(Q,Z),ae)}(Z,0,100),this.#e()}setWidth(Z){if(!Z)return;const se=Z.parentNode.offsetWidth-Z.offsetWidth;se>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${se}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(R,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.StructTreeLayerBuilder=void 0;const S={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},p=/^H(\d+)$/;r.StructTreeLayerBuilder=class A{constructor({pdfPage:F}){this.pdfPage=F}render(F){return this._walk(F)}_setAttributes(F,b){void 0!==F.alt&&b.setAttribute("aria-label",F.alt),void 0!==F.id&&b.setAttribute("aria-owns",F.id),void 0!==F.lang&&b.setAttribute("lang",F.lang)}_walk(F){if(!F)return null;const b=document.createElement("span");if("role"in F){const{role:o}=F,x=o.match(p);x?(b.setAttribute("role","heading"),b.setAttribute("aria-level",x[1])):S[o]&&b.setAttribute("role",S[o])}if(this._setAttributes(F,b),F.children)if(1===F.children.length&&"id"in F.children[0])this._setAttributes(F.children[0],b);else for(const o of F.children)b.appendChild(this._walk(o));return b}}},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TextLayerBuilder=void 0;var p=S(3);r.TextLayerBuilder=class P{constructor({textLayerDiv:b,eventBus:o,pageIndex:x,viewport:u,highlighter:m=null,enhanceTextSelection:g=!1}){this.textLayerDiv=b,this.eventBus=o,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=x+1,this.viewport=u,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=m,this.enhanceTextSelection=g,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const b=document.createElement("div");b.className="endOfContent",this.textLayerDiv.appendChild(b)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(b=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const o=document.createDocumentFragment();this.textLayerRenderTask=(0,p.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:o,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:b,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(o),this._finishRendering(),this.highlighter?.enable()},function(x){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(b){this.cancel(),this.textContentStream=b}setTextContent(b){this.cancel(),this.textContent=b}_bindMouse(){const b=this.textLayerDiv;let o=null;b.addEventListener("mousedown",x=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(o&&(clearTimeout(o),o=null));const u=b.querySelector(".endOfContent");if(!u)return;let m=x.target!==b;if(m=m&&"none"!==window.getComputedStyle(u).getPropertyValue("-moz-user-select"),m){const g=b.getBoundingClientRect(),n=Math.max(0,(x.pageY-g.top)/g.height);u.style.top=(100*n).toFixed(2)+"%"}u.classList.add("active")}),b.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(o=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),o=null},300));const x=b.querySelector(".endOfContent");x&&(x.style.top="",x.classList.remove("active"))})}}},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.XfaLayerBuilder=void 0;var p=S(3);r.XfaLayerBuilder=class A{constructor({pageDiv:F,pdfPage:b,annotationStorage:o=null,linkService:x,xfaHtml:u=null}){this.pageDiv=F,this.pdfPage=b,this.annotationStorage=o,this.linkService=x,this.xfaHtml=u,this.div=null,this._cancelled=!1}render(F,b="display"){if("print"===b){const o={viewport:F.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:b},x=document.createElement("div");this.pageDiv.appendChild(x),o.div=x;const u=p.XfaLayer.render(o);return Promise.resolve(u)}return this.pdfPage.getXfa().then(o=>{if(this._cancelled||!o)return{textDivs:[]};const x={viewport:F.clone({dontFlip:!0}),div:this.div,xfaHtml:o,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:b};return this.div?p.XfaLayer.update(x):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),x.div=this.div,p.XfaLayer.render(x))}).catch(o=>{console.error(o)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFViewer=r.PDFSinglePageViewer=void 0;var p=S(6),A=S(11);r.PDFViewer=class P extends A.BaseViewer{},r.PDFSinglePageViewer=class F extends A.BaseViewer{_resetView(){super._resetView(),this._scrollMode=p.ScrollMode.PAGE,this._spreadMode=p.SpreadMode.NONE}set scrollMode(o){}_updateScrollMode(){}set spreadMode(o){}_updateSpreadMode(){}}},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PagesCountLimit=r.PDFPageViewBuffer=r.BaseViewer=void 0;var p=S(3),A=S(6),P=S(2),F=S(4),b=S(12),o=S(14),x=S(5),u=S(7),m=S(15),g=S(8),n=S(9);const f="enablePermissions",h={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};r.PagesCountLimit=h;class v{#e=new Set;#t=0;constructor(c){this.#t=c}push(c){const T=this.#e;T.has(c)&&T.delete(c),T.add(c),T.size>this.#t&&this.#n()}resize(c,T=null){this.#t=c;const E=this.#e;if(T){const O=E.size;let I=1;for(const M of E)if(T.has(M.id)&&(E.delete(M),E.add(M)),++I>O)break}for(;E.size>this.#t;)this.#n()}has(c){return this.#e.has(c)}[Symbol.iterator](){return this.#e.keys()}#n(){const c=this.#e.keys().next().value;c?.destroy(),this.#e.delete(c)}}r.PDFPageViewBuffer=v;class w{#e=null;#t=p.AnnotationMode.ENABLE_FORMS;#n=null;#s=!1;#h=0;#l=null;#i=null;constructor(c){if(this.constructor===w)throw new Error("Cannot initialize BaseViewer.");const T="2.14.305";if(p.version!==T)throw new Error(`The API version "${p.version}" does not match the Viewer version "${T}".`);if(this.container=c.container,this.viewer=c.viewer||c.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=c.eventBus,this.linkService=c.linkService||new x.SimpleLinkService,this.downloadManager=c.downloadManager||null,this.findController=c.findController||null,this._scriptingManager=c.scriptingManager||null,this.removePageBorders=c.removePageBorders||!1,this.textLayerMode=c.textLayerMode??A.TextLayerMode.ENABLE,this.#t=c.annotationMode??p.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=c.imageResourcesPath||"",this.enablePrintAutoRotate=c.enablePrintAutoRotate||!1,this.renderer=c.renderer||A.RendererType.CANVAS,this.useOnlyCssZoom=c.useOnlyCssZoom||!1,this.maxCanvasPixels=c.maxCanvasPixels,this.l10n=c.l10n||F.NullL10n,this.#s=c.enablePermissions||!1,this.pageColors=c.pageColors||null,c.pageColors&&(!CSS.supports("color",c.pageColors.background)||!CSS.supports("color",c.pageColors.foreground))&&((c.pageColors.background||c.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!c.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new o.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=c.renderingQueue,this._doc=document.documentElement,this.scroll=(0,A.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=A.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(c){return this._pages[c]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(c){return c?.pdfPage})}get renderForms(){return this.#t===p.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(c){if(!Number.isInteger(c))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(c,!0)||console.error(`currentPageNumber: "${c}" is not a valid page.`))}_setCurrentPageNumber(c,T=!1){if(this._currentPageNumber===c)return T&&this.#u(),!0;if(!(0<c&&c<=this.pagesCount))return!1;const E=this._currentPageNumber;return this._currentPageNumber=c,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:c,pageLabel:this._pageLabels?.[c-1]??null,previous:E}),T&&this.#u(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(c){if(!this.pdfDocument)return;let T=0|c;if(this._pageLabels){const E=this._pageLabels.indexOf(c);E>=0&&(T=E+1)}this._setCurrentPageNumber(T,!0)||console.error(`currentPageLabel: "${c}" is not a valid page.`)}get currentScale(){return this._currentScale!==A.UNKNOWN_SCALE?this._currentScale:A.DEFAULT_SCALE}set currentScale(c){if(isNaN(c))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(c,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(c){this.pdfDocument&&this._setScale(c,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(c){if(!(0,A.isValidRotation)(c))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((c%=360)<0&&(c+=360),this._pagesRotation===c))return;this._pagesRotation=c;const T=this._currentPageNumber,E={rotation:c};for(const O of this._pages)O.update(E);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:c,pageNumber:T}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#g(c){c&&(c.includes(p.PermissionFlag.COPY)||this.viewer.classList.add(f),!c.includes(p.PermissionFlag.MODIFY_ANNOTATIONS)&&!c.includes(p.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#t===p.AnnotationMode.ENABLE_FORMS&&(this.#n=this.#t,this.#t=p.AnnotationMode.ENABLE))}#_(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const c=new Promise(T=>{this.#i=()=>{"hidden"===document.visibilityState&&(T(),document.removeEventListener("visibilitychange",this.#i),this.#i=null)},document.addEventListener("visibilitychange",this.#i)});return Promise.race([this._onePageRenderedCapability.promise,c])}setDocument(c){var T=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=c,!c)return;const E=c.isPureXfa,O=c.numPages,I=c.getPage(1),M=c.getOptionalContentConfig(),D=this.#s?c.getPermissions():Promise.resolve();if(O>h.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const V=this._scrollMode=A.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:V})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:O})},()=>{}),this._onBeforeDraw=V=>{const X=this._pages[V.pageNumber-1];X&&this.#e.push(X)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=V=>{V.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:V.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([I,D]).then(([V,X])=>{if(c!==this.pdfDocument)return;this._firstPageCapability.resolve(V),this._optionalContentConfigPromise=M,this.#g(X);const J=this._scrollMode===A.ScrollMode.PAGE?null:this.viewer,C=this.currentScale,e=V.getViewport({scale:C*p.PixelsPerInch.PDF_TO_CSS_UNITS}),t=this.textLayerMode===A.TextLayerMode.DISABLE||E?null:this,l=this.#t!==p.AnnotationMode.DISABLE?this:null,_=E?this:null;for(let y=1;y<=O;++y){const L=new b.PDFPageView({container:J,eventBus:this.eventBus,id:y,scale:C,defaultViewport:e.clone(),optionalContentConfigPromise:M,renderingQueue:this.renderingQueue,textLayerFactory:t,textLayerMode:this.textLayerMode,annotationLayerFactory:l,annotationMode:this.#t,xfaLayerFactory:_,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(L)}const d=this._pages[0];d&&(d.setPdfPage(V),this.linkService.cachePageRef(1,V.ref)),this._scrollMode===A.ScrollMode.PAGE?this.#r():this._spreadMode!==A.SpreadMode.NONE&&this._updateSpreadMode(),this.#_().then(s(function*(){if(T.findController&&T.findController.setDocument(c),T._scriptingManager&&T._scriptingManager.setDocument(c),c.loadingParams.disableAutoFetch||O>h.FORCE_LAZY_PAGE_INIT)return void T._pagesCapability.resolve();let y=O-1;if(y<=0)T._pagesCapability.resolve();else for(let L=2;L<=O;++L){const U=c.getPage(L).then(j=>{const H=T._pages[L-1];H.pdfPage||H.setPdfPage(j),T.linkService.cachePageRef(L,j.ref),0==--y&&T._pagesCapability.resolve()},j=>{console.error(`Unable to get page ${L} to initialize viewer`,j),0==--y&&T._pagesCapability.resolve()});L%h.PAUSE_EAGER_PAGE_INIT==0&&(yield U)}})),this.eventBus.dispatch("pagesinit",{source:this}),c.getMetadata().then(({info:y})=>{c===this.pdfDocument&&y.Language&&(this.viewer.lang=y.Language)}),this.defaultRenderingQueue&&this.update()}).catch(V=>{console.error("Unable to initialize viewer",V),this._pagesCapability.reject(V)})}setPageLabels(c){if(this.pdfDocument){c?Array.isArray(c)&&this.pdfDocument.numPages===c.length?this._pageLabels=c:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let T=0,E=this._pages.length;T<E;T++)this._pages[T].setPageLabel(this._pageLabels?.[T]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=A.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new v(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,p.createPromiseCapability)(),this._onePageRenderedCapability=(0,p.createPromiseCapability)(),this._pagesCapability=(0,p.createPromiseCapability)(),this._scrollMode=A.ScrollMode.VERTICAL,this._previousScrollMode=A.ScrollMode.UNKNOWN,this._spreadMode=A.SpreadMode.NONE,this.#l={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(f),null!==this.#n&&(this.#t=this.#n,this.#n=null)}#r(){if(this._scrollMode!==A.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const c=this._currentPageNumber,T=this.#l,E=this.viewer;if(E.textContent="",T.pages.length=0,this._spreadMode!==A.SpreadMode.NONE||this.isInPresentationMode){const O=new Set,I=this._spreadMode-1;-1===I?O.add(c-1):c%2!==I?(O.add(c-1),O.add(c)):(O.add(c-2),O.add(c-1));const M=document.createElement("div");if(M.className="spread",this.isInPresentationMode){const D=document.createElement("div");D.className="dummyPage",M.appendChild(D)}for(const D of O){const V=this._pages[D];V&&(M.appendChild(V.div),T.pages.push(V))}E.appendChild(M)}else{const O=this._pages[c-1];E.appendChild(O.div),T.pages.push(O)}T.scrollDown=c>=T.previousPageNumber,T.previousPageNumber=c}_scrollUpdate(){0!==this.pagesCount&&this.update()}#a(c,T=null){const{div:E,id:O}=c;if(this._scrollMode===A.ScrollMode.PAGE&&(this._setCurrentPageNumber(O),this.#r(),this.update()),!T&&!this.isInPresentationMode){const I=E.offsetLeft+E.clientLeft,M=I+E.clientWidth,{scrollLeft:D,clientWidth:V}=this.container;(this._scrollMode===A.ScrollMode.HORIZONTAL||I<D||M>D+V)&&(T={left:0,top:0})}(0,A.scrollIntoView)(E,T)}#o(c){return c===this._currentScale||Math.abs(c-this._currentScale)<1e-15}_setScaleUpdatePages(c,T,E=!1,O=!1){if(this._currentScaleValue=T.toString(),this.#o(c))return void(O&&this.eventBus.dispatch("scalechanging",{source:this,scale:c,presetValue:T}));this._doc.style.setProperty("--zoom-factor",c);const I={scale:c};for(const M of this._pages)M.update(I);if(this._currentScale=c,!E){let D,M=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(M=this._location.pageNumber,D=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:M,destArray:D,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:c,presetValue:O?T:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL?2:1}_setScale(c,T=!1){let E=parseFloat(c);if(E>0)this._setScaleUpdatePages(E,c,T,!1);else{const O=this._pages[this._currentPageNumber-1];if(!O)return;let I=A.SCROLLBAR_PADDING,M=A.VERTICAL_PADDING;this.isInPresentationMode?I=M=4:this.removePageBorders?I=M=0:this._scrollMode===A.ScrollMode.HORIZONTAL&&([I,M]=[M,I]);const D=(this.container.clientWidth-I)/O.width*O.scale/this._pageWidthScaleFactor,V=(this.container.clientHeight-M)/O.height*O.scale;switch(c){case"page-actual":E=1;break;case"page-width":E=D;break;case"page-height":E=V;break;case"page-fit":E=Math.min(D,V);break;case"auto":const X=(0,A.isPortraitOrientation)(O)?D:Math.min(V,D);E=Math.min(A.MAX_AUTO_SCALE,X);break;default:return void console.error(`_setScale: "${c}" is an unknown zoom value.`)}this._setScaleUpdatePages(E,c,T,!0)}}#u(){const c=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this.#a(c)}pageLabelToPageNumber(c){if(!this._pageLabels)return null;const T=this._pageLabels.indexOf(c);return T<0?null:T+1}scrollPageIntoView({pageNumber:c,destArray:T=null,allowNegativeOffset:E=!1,ignoreDestinationZoom:O=!1}){if(!this.pdfDocument)return;const I=Number.isInteger(c)&&this._pages[c-1];if(!I)return void console.error(`scrollPageIntoView: "${c}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!T)return void this._setCurrentPageNumber(c,!0);let J,C,M=0,D=0,V=0,X=0;const e=I.rotation%180!=0,t=(e?I.height:I.width)/I.scale/p.PixelsPerInch.PDF_TO_CSS_UNITS,l=(e?I.width:I.height)/I.scale/p.PixelsPerInch.PDF_TO_CSS_UNITS;let _=0;switch(T[1].name){case"XYZ":M=T[2],D=T[3],_=T[4],M=null!==M?M:0,D=null!==D?D:l;break;case"Fit":case"FitB":_="page-fit";break;case"FitH":case"FitBH":D=T[2],_="page-width",null===D&&this._location?(M=this._location.left,D=this._location.top):("number"!=typeof D||D<0)&&(D=l);break;case"FitV":case"FitBV":M=T[2],V=t,X=l,_="page-height";break;case"FitR":M=T[2],D=T[3],V=T[4]-M,X=T[5]-D,J=(this.container.clientWidth-(this.removePageBorders?0:A.SCROLLBAR_PADDING))/V/p.PixelsPerInch.PDF_TO_CSS_UNITS,C=(this.container.clientHeight-(this.removePageBorders?0:A.VERTICAL_PADDING))/X/p.PixelsPerInch.PDF_TO_CSS_UNITS,_=Math.min(Math.abs(J),Math.abs(C));break;default:return void console.error(`scrollPageIntoView: "${T[1].name}" is not a valid destination type.`)}if(O||(_&&_!==this._currentScale?this.currentScaleValue=_:this._currentScale===A.UNKNOWN_SCALE&&(this.currentScaleValue=A.DEFAULT_SCALE_VALUE)),"page-fit"===_&&!T[4])return void this.#a(I);const d=[I.viewport.convertToViewportPoint(M,D),I.viewport.convertToViewportPoint(M+V,D+X)];let y=Math.min(d[0][0],d[1][0]),L=Math.min(d[0][1],d[1][1]);E||(y=Math.max(y,0),L=Math.max(L,0)),this.#a(I,{left:y,top:L})}_updateLocation(c){const T=this._currentScale,E=this._currentScaleValue,O=parseFloat(E)===T?Math.round(1e4*T)/100:E,I=c.id,D=this.container,V=this._pages[I-1].getPagePoint(D.scrollLeft-c.x,D.scrollTop-c.y),X=Math.round(V[0]),J=Math.round(V[1]);let C=`#page=${I}`;this.isInPresentationMode||(C+=`&zoom=${O},${X},${J}`),this._location={pageNumber:I,scale:O,top:J,left:X,rotation:this._pagesRotation,pdfOpenParams:C}}update(){const c=this._getVisiblePages(),T=c.views,E=T.length;if(0===E)return;const O=Math.max(10,2*E+1);this.#e.resize(O,c.ids),this.renderingQueue.renderHighestPriority(c);const I=this._spreadMode===A.SpreadMode.NONE&&(this._scrollMode===A.ScrollMode.PAGE||this._scrollMode===A.ScrollMode.VERTICAL),M=this._currentPageNumber;let D=!1;for(const V of T){if(V.percent<100)break;if(V.id===M&&I){D=!0;break}}this._setCurrentPageNumber(D?M:T[0].id),this._updateLocation(c.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(c){return this.container.contains(c)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===A.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===A.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const c=this._scrollMode===A.ScrollMode.PAGE?this.#l.pages:this._pages,T=this._scrollMode===A.ScrollMode.HORIZONTAL;return(0,A.getVisibleElements)({scrollEl:this.container,views:c,sortByVisibility:!0,horizontal:T,rtl:T&&this._isContainerRtl})}isPageVisible(c){return!!this.pdfDocument&&(Number.isInteger(c)&&c>0&&c<=this.pagesCount?this._getVisiblePages().ids.has(c):(console.error(`isPageVisible: "${c}" is not a valid page.`),!1))}isPageCached(c){return!!this.pdfDocument&&(Number.isInteger(c)&&c>0&&c<=this.pagesCount?this.#e.has(this._pages[c-1]):(console.error(`isPageCached: "${c}" is not a valid page.`),!1))}cleanup(){for(const c of this._pages)c.renderingState!==A.RenderingStates.FINISHED&&c.reset()}_cancelRendering(){for(const c of this._pages)c.cancelRendering()}#d(c){var T=this;return s(function*(){if(c.pdfPage)return c.pdfPage;try{const E=yield T.pdfDocument.getPage(c.id);return c.pdfPage||c.setPdfPage(E),T.linkService._cachedPageNumber?.(E.ref)||T.linkService.cachePageRef(c.id,E.ref),E}catch(E){return console.error("Unable to get page for page view",E),null}})()}#f(c){if(1===c.first?.id)return!0;if(c.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case A.ScrollMode.PAGE:return this.#l.scrollDown;case A.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}#c(c){for(const T of c)this._pages[T-1]?.toggleLoadingIconSpinner(!0);for(const T of this.#e)c.has(T.id)||T.toggleLoadingIconSpinner(!1)}forceRendering(c){const T=c||this._getVisiblePages(),E=this.#f(T),I=this.renderingQueue.getHighestPriority(T,this._pages,E,this._spreadMode!==A.SpreadMode.NONE&&this._scrollMode!==A.ScrollMode.HORIZONTAL);return this.#c(T.ids),!!I&&(this.#d(I).then(()=>{this.renderingQueue.renderView(I)}),!0)}createTextLayerBuilder(c,T,E,O=!1,I,M){return new g.TextLayerBuilder({textLayerDiv:c,eventBus:I,pageIndex:T,viewport:E,enhanceTextSelection:!this.isInPresentationMode&&O,highlighter:M})}createTextHighlighter(c,T){return new m.TextHighlighter({eventBus:T,pageIndex:c,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(c,T,E=null,O="",I=!0,M=F.NullL10n,D=null,V=null,X=null,J=null,C=null){return new P.AnnotationLayerBuilder({pageDiv:c,pdfPage:T,annotationStorage:E||this.pdfDocument?.annotationStorage,imageResourcesPath:O,renderForms:I,linkService:this.linkService,downloadManager:this.downloadManager,l10n:M,enableScripting:D??this.enableScripting,hasJSActionsPromise:V||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:J||this.pdfDocument?.getFieldObjects(),mouseState:X||this._scriptingManager?.mouseState,annotationCanvasMap:C})}createXfaLayerBuilder(c,T,E=null){return new n.XfaLayerBuilder({pageDiv:c,pdfPage:T,annotationStorage:E||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(c){return new u.StructTreeLayerBuilder({pdfPage:c})}get hasEqualPageSizes(){const c=this._pages[0];for(let T=1,E=this._pages.length;T<E;++T){const O=this._pages[T];if(O.width!==c.width||O.height!==c.height)return!1}return!0}getPagesOverview(){return this._pages.map(c=>{const T=c.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,A.isPortraitOrientation)(T)?{width:T.width,height:T.height,rotation:T.rotation}:{width:T.height,height:T.width,rotation:(T.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(c){if(!(c instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${c}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=c;const T={optionalContentConfigPromise:c};for(const E of this._pages)E.update(T);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:c})}get scrollMode(){return this._scrollMode}set scrollMode(c){if(this._scrollMode!==c){if(!(0,A.isValidScrollMode)(c))throw new Error(`Invalid scroll mode: ${c}`);this.pagesCount>h.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=c,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:c}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(c=null){const T=this._scrollMode,E=this.viewer;E.classList.toggle("scrollHorizontal",T===A.ScrollMode.HORIZONTAL),E.classList.toggle("scrollWrapped",T===A.ScrollMode.WRAPPED),this.pdfDocument&&c&&(T===A.ScrollMode.PAGE?this.#r():this._previousScrollMode===A.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(c,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(c){if(this._spreadMode!==c){if(!(0,A.isValidSpreadMode)(c))throw new Error(`Invalid spread mode: ${c}`);this._spreadMode=c,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:c}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(c=null){if(!this.pdfDocument)return;const T=this.viewer,E=this._pages;if(this._scrollMode===A.ScrollMode.PAGE)this.#r();else if(T.textContent="",this._spreadMode===A.SpreadMode.NONE)for(const O of this._pages)T.appendChild(O.div);else{const O=this._spreadMode-1;let I=null;for(let M=0,D=E.length;M<D;++M)null===I?(I=document.createElement("div"),I.className="spread",T.appendChild(I)):M%2===O&&(I=I.cloneNode(!1),T.appendChild(I)),I.appendChild(E[M].div)}c&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(c,!0),this.update())}_getPageAdvance(c,T=!1){switch(this._scrollMode){case A.ScrollMode.WRAPPED:{const{views:E}=this._getVisiblePages(),O=new Map;for(const{id:I,y:M,percent:D,widthPercent:V}of E){if(0===D||V<100)continue;let X=O.get(M);X||O.set(M,X||=[]),X.push(I)}for(const I of O.values()){const M=I.indexOf(c);if(-1===M)continue;const D=I.length;if(1===D)break;if(T)for(let V=M-1,X=0;V>=X;V--){const C=I[V+1]-1;if(I[V]<C)return c-C}else for(let V=M+1,X=D;V<X;V++){const C=I[V-1]+1;if(I[V]>C)return C-c}if(T){const V=I[0];if(V<c)return c-V+1}else{const V=I[D-1];if(V>c)return V-c+1}break}break}case A.ScrollMode.HORIZONTAL:break;case A.ScrollMode.PAGE:case A.ScrollMode.VERTICAL:{if(this._spreadMode===A.SpreadMode.NONE)break;const E=this._spreadMode-1;if(T&&c%2!==E)break;if(!T&&c%2===E)break;const{views:O}=this._getVisiblePages(),I=T?c-1:c+1;for(const{id:M,percent:D,widthPercent:V}of O)if(M===I){if(D>0&&100===V)return 2;break}break}}return 1}nextPage(){const c=this._currentPageNumber,T=this.pagesCount;if(c>=T)return!1;const E=this._getPageAdvance(c,!1)||1;return this.currentPageNumber=Math.min(c+E,T),!0}previousPage(){const c=this._currentPageNumber;if(c<=1)return!1;const T=this._getPageAdvance(c,!0)||1;return this.currentPageNumber=Math.max(c-T,1),!0}increaseScale(c=1){let T=this._currentScale;do{T=(T*A.DEFAULT_SCALE_DELTA).toFixed(2),T=Math.ceil(10*T)/10,T=Math.min(A.MAX_SCALE,T)}while(--c>0&&T<A.MAX_SCALE);this.currentScaleValue=T}decreaseScale(c=1){let T=this._currentScale;do{T=(T/A.DEFAULT_SCALE_DELTA).toFixed(2),T=Math.floor(10*T)/10,T=Math.max(A.MIN_SCALE,T)}while(--c>0&&T>A.MIN_SCALE);this.currentScaleValue=T}updateContainerHeightCss(){const c=this.container.clientHeight;c!==this.#h&&(this.#h=c,this._doc.style.setProperty("--viewer-container-height",`${c}px`))}}r.BaseViewer=w},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFPageView=void 0;var p=S(3),A=S(6),P=S(13),F=S(4);const b=P.compatibilityParams.maxCanvasPixels||16777216;r.PDFPageView=class o{#e=p.AnnotationMode.ENABLE_FORMS;constructor(u){const m=u.container,g=u.defaultViewport;this.id=u.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=u.scale||A.DEFAULT_SCALE,this.viewport=g,this.pdfPageRotate=g.rotation,this._optionalContentConfigPromise=u.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=u.textLayerMode??A.TextLayerMode.ENABLE,this.#e=u.annotationMode??p.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=u.imageResourcesPath||"",this.useOnlyCssZoom=u.useOnlyCssZoom||!1,this.maxCanvasPixels=u.maxCanvasPixels||b,this.pageColors=u.pageColors||null,this.eventBus=u.eventBus,this.renderingQueue=u.renderingQueue,this.textLayerFactory=u.textLayerFactory,this.annotationLayerFactory=u.annotationLayerFactory,this.xfaLayerFactory=u.xfaLayerFactory,this.textHighlighter=u.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=u.structTreeLayerFactory,this.renderer=u.renderer||A.RendererType.CANVAS,this.l10n=u.l10n||F.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=A.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const n=document.createElement("div");n.className="page",n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px",n.setAttribute("data-page-number",this.id),n.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(i=>{n.setAttribute("aria-label",i)}),this.div=n,m?.appendChild(n)}setPdfPage(u){this.pdfPage=u,this.pdfPageRotate=u.rotate,this.viewport=u.getViewport({scale:this.scale*p.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var u=this;return s(function*(){let m=null;try{yield u.annotationLayer.render(u.viewport,"display")}catch(g){m=g}finally{u.eventBus.dispatch("annotationlayerrendered",{source:u,pageNumber:u.id,error:m})}})()}_renderXfaLayer(){var u=this;return s(function*(){let m=null;try{const g=yield u.xfaLayer.render(u.viewport,"display");u.textHighlighter&&u._buildXfaTextContentItems(g.textDivs)}catch(g){m=g}finally{u.eventBus.dispatch("xfalayerrendered",{source:u,pageNumber:u.id,error:m})}})()}_buildXfaTextContentItems(u){var m=this;return s(function*(){const g=yield m.pdfPage.getTextContent(),n=[];for(const i of g.items)n.push(i.str);m.textHighlighter.setTextMapping(u,n),m.textHighlighter.enable()})()}_resetZoomLayer(u=!1){if(!this.zoomLayer)return;const m=this.zoomLayer.firstChild;this.paintedViewportMap.delete(m),m.width=0,m.height=0,u&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:u=!1,keepAnnotationLayer:m=!1,keepXfaLayer:g=!1}={}){this.cancelRendering({keepAnnotationLayer:m,keepXfaLayer:g}),this.renderingState=A.RenderingStates.INITIAL;const n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";const i=n.childNodes,f=u&&this.zoomLayer||null,h=m&&this.annotationLayer?.div||null,v=g&&this.xfaLayer?.div||null;for(let w=i.length-1;w>=0;w--){const k=i[w];switch(k){case f:case h:case v:continue}k.remove()}n.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),v&&this.xfaLayer.hide(),f||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(w=>{this.loadingIconDiv?.setAttribute("aria-label",w)}),n.appendChild(this.loadingIconDiv)}update({scale:u=0,rotation:m=null,optionalContentConfigPromise:g=null}){if(this.scale=u||this.scale,"number"==typeof m&&(this.rotation=m),g instanceof Promise&&(this._optionalContentConfigPromise=g),this.viewport=this.viewport.clone({scale:this.scale*p.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:f}=document.documentElement;f.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let i=!1;if(this.canvas&&this.maxCanvasPixels>0){const f=this.outputScale;(Math.floor(this.viewport.width)*f.sx|0)*(Math.floor(this.viewport.height)*f.sy|0)>this.maxCanvasPixels&&(i=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&i)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:u=!1,keepXfaLayer:m=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!u||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!m||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:u,redrawAnnotationLayer:m=!1,redrawXfaLayer:g=!1}){const n=this.viewport.width,i=this.viewport.height,f=this.div;u.style.width=u.parentNode.style.width=f.style.width=Math.floor(n)+"px",u.style.height=u.parentNode.style.height=f.style.height=Math.floor(i)+"px";const h=this.viewport.rotation-this.paintedViewportMap.get(u).rotation,v=Math.abs(h);let w=1,k=1;if((90===v||270===v)&&(w=i/n,k=n/i),u.style.transform=`rotate(${h}deg) scale(${w}, ${k})`,this.textLayer){const c=this.textLayer.viewport,E=Math.abs(this.viewport.rotation-c.rotation);let O=n/c.width;(90===E||270===E)&&(O=n/c.height);const I=this.textLayer.textLayerDiv;let M,D;switch(E){case 0:M=D=0;break;case 90:M=0,D="-"+I.style.height;break;case 180:M="-"+I.style.width,D="-"+I.style.height;break;case 270:M="-"+I.style.width,D=0;break;default:console.error("Bad rotation value.")}I.style.transform=`rotate(${E}deg) scale(${O}) translate(${M}, ${D})`,I.style.transformOrigin="0% 0%"}m&&this.annotationLayer&&this._renderAnnotationLayer(),g&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(u,m){return this.viewport.convertToPdfPoint(u,m)}toggleLoadingIconSpinner(u=!1){this.loadingIconDiv?.classList.toggle("notVisible",!u)}draw(){var u=this;this.renderingState!==A.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:m,pdfPage:g}=this;if(!g)return this.renderingState=A.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=A.RenderingStates.RUNNING;const n=document.createElement("div");n.style.width=m.style.width,n.style.height=m.style.height,n.classList.add("canvasWrapper"),this.annotationLayer?.div?m.insertBefore(n,this.annotationLayer.div):m.appendChild(n);let i=null;if(this.textLayerMode!==A.TextLayerMode.DISABLE&&this.textLayerFactory){const k=document.createElement("div");k.className="textLayer",k.style.width=n.style.width,k.style.height=n.style.height,this.annotationLayer?.div?m.insertBefore(k,this.annotationLayer.div):m.appendChild(k),i=this.textLayerFactory.createTextLayerBuilder(k,this.id-1,this.viewport,this.textLayerMode===A.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=i,this.#e!==p.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(m,g,null,this.imageResourcesPath,this.#e===p.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&m.appendChild(this.xfaLayer.div);let f=null;this.renderingQueue&&(f=k=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=A.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=A.RenderingStates.RUNNING,k()});k()});const h=function(){var k=s(function*(c=null){if(v===u.paintTask&&(u.paintTask=null),c instanceof p.RenderingCancelledException)u._renderError=null;else if(u._renderError=c,u.renderingState=A.RenderingStates.FINISHED,u.loadingIconDiv&&(u.loadingIconDiv.remove(),delete u.loadingIconDiv),u._resetZoomLayer(!0),u.eventBus.dispatch("pagerendered",{source:u,pageNumber:u.id,cssTransform:!1,timestamp:performance.now(),error:u._renderError}),c)throw c});return function(){return k.apply(this,arguments)}}(),v=this.renderer===A.RendererType.SVG?this.paintOnSvg(n):this.paintOnCanvas(n);v.onRenderContinue=f,this.paintTask=v;const w=v.promise.then(()=>h(null).then(()=>{if(i){const k=g.streamTextContent({includeMarkedContent:!0});i.setTextContentStream(k),i.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(k){return h(k)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(m,g,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=k=>{k.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(c=>{if(!c||!this.canvas)return;const T=this.structTreeLayer.render(c);T.classList.add("structTree"),this.canvas.appendChild(T)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(g)),m.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),w}paintOnCanvas(u){const m=(0,p.createPromiseCapability)(),g={promise:m.promise,onRenderContinue(I){I()},cancel(){O.cancel()}},n=this.viewport,i=document.createElement("canvas");i.hidden=!0;let f=!0;const h=function(){f&&(i.hidden=!1,f=!1)};u.appendChild(i),this.canvas=i;const v=i.getContext("2d",{alpha:!1}),w=this.outputScale=new A.OutputScale;if(this.useOnlyCssZoom){const I=n.clone({scale:p.PixelsPerInch.PDF_TO_CSS_UNITS});w.sx*=I.width/n.width,w.sy*=I.height/n.height}if(this.maxCanvasPixels>0){const M=Math.sqrt(this.maxCanvasPixels/(n.width*n.height));w.sx>M||w.sy>M?(w.sx=M,w.sy=M,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const k=(0,A.approximateFraction)(w.sx),c=(0,A.approximateFraction)(w.sy);i.width=(0,A.roundToDivide)(n.width*w.sx,k[0]),i.height=(0,A.roundToDivide)(n.height*w.sy,c[0]),i.style.width=(0,A.roundToDivide)(n.width,k[1])+"px",i.style.height=(0,A.roundToDivide)(n.height,c[1])+"px",this.paintedViewportMap.set(i,n);const E={canvasContext:v,transform:w.scaled?[w.sx,0,0,w.sy,0,0]:null,viewport:this.viewport,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},O=this.pdfPage.render(E);return O.onContinue=function(I){h(),g.onRenderContinue?g.onRenderContinue(I):I()},O.promise.then(function(){h(),m.resolve()},function(I){h(),m.reject(I)}),g}paintOnSvg(u){let m=!1;const g=()=>{if(m)throw new p.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},n=this.pdfPage,i=this.viewport.clone({scale:p.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:n.getOperatorList({annotationMode:this.#e}).then(h=>(g(),new p.SVGGraphics(n.commonObjs,n.objs).getSVG(h,i).then(w=>{g(),this.svg=w,this.paintedViewportMap.set(w,i),w.style.width=u.style.width,w.style.height=u.style.height,this.renderingState=A.RenderingStates.FINISHED,u.appendChild(w)}))),onRenderContinue(h){h()},cancel(){m=!0}}}setPageLabel(u){this.pageLabel="string"==typeof u?u:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(R,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.compatibilityParams=r.OptionKind=r.AppOptions=void 0;const S=Object.create(null);r.compatibilityParams=S;{const b=navigator.userAgent||"",o=navigator.platform||"",x=navigator.maxTouchPoints||1,u=/Android/.test(b);(/\b(iPad|iPhone|iPod)(?=;)/.test(b)||"MacIntel"===o&&x>1||u)&&(S.maxCanvasPixels=5242880)}const p={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};r.OptionKind=p;const A={annotationMode:{value:2,kind:p.VIEWER+p.PREFERENCE},cursorToolOnLoad:{value:0,kind:p.VIEWER+p.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:p.VIEWER},defaultZoomValue:{value:"",kind:p.VIEWER+p.PREFERENCE},disableHistory:{value:!1,kind:p.VIEWER},disablePageLabels:{value:!1,kind:p.VIEWER+p.PREFERENCE},enablePermissions:{value:!1,kind:p.VIEWER+p.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:p.VIEWER+p.PREFERENCE},enableScripting:{value:!0,kind:p.VIEWER+p.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:p.VIEWER},externalLinkTarget:{value:0,kind:p.VIEWER+p.PREFERENCE},historyUpdateUrl:{value:!1,kind:p.VIEWER+p.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:p.VIEWER+p.PREFERENCE},imageResourcesPath:{value:"./images/",kind:p.VIEWER},maxCanvasPixels:{value:16777216,compatibility:S.maxCanvasPixels,kind:p.VIEWER},pageColorsBackground:{value:"Canvas",kind:p.VIEWER+p.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:p.VIEWER+p.PREFERENCE},pdfBugEnabled:{value:!1,kind:p.VIEWER+p.PREFERENCE},printResolution:{value:150,kind:p.VIEWER},renderer:{value:"canvas",kind:p.VIEWER},sidebarViewOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},scrollModeOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},spreadModeOnLoad:{value:-1,kind:p.VIEWER+p.PREFERENCE},textLayerMode:{value:1,kind:p.VIEWER+p.PREFERENCE},useOnlyCssZoom:{value:!1,kind:p.VIEWER+p.PREFERENCE},viewerCssTheme:{value:0,kind:p.VIEWER+p.PREFERENCE},viewOnLoad:{value:0,kind:p.VIEWER+p.PREFERENCE},cMapPacked:{value:!0,kind:p.API},cMapUrl:{value:"../web/cmaps/",kind:p.API},disableAutoFetch:{value:!1,kind:p.API+p.PREFERENCE},disableFontFace:{value:!1,kind:p.API+p.PREFERENCE},disableRange:{value:!1,kind:p.API+p.PREFERENCE},disableStream:{value:!1,kind:p.API+p.PREFERENCE},docBaseUrl:{value:"",kind:p.API},enableXfa:{value:!0,kind:p.API+p.PREFERENCE},fontExtraProperties:{value:!1,kind:p.API},isEvalSupported:{value:!0,kind:p.API},maxImageSize:{value:-1,kind:p.API},pdfBug:{value:!1,kind:p.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:p.API},verbosity:{value:1,kind:p.API},workerPort:{value:null,kind:p.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:p.WORKER}};A.disablePreferences={value:!1,kind:p.VIEWER},A.locale={value:navigator.language||"en-US",kind:p.VIEWER},A.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:p.VIEWER},A.renderer.kind+=p.PREFERENCE;const P=Object.create(null);r.AppOptions=class F{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(o){const x=P[o];if(void 0!==x)return x;const u=A[o];return void 0!==u?u.compatibility??u.value:void 0}static getAll(o=null){const x=Object.create(null);for(const u in A){const m=A[u];if(o){if(!(o&m.kind))continue;if(o===p.PREFERENCE){const n=m.value,i=typeof n;if("boolean"===i||"string"===i||"number"===i&&Number.isInteger(n)){x[u]=n;continue}throw new Error(`Invalid type for preference: ${u}`)}}const g=P[u];x[u]=void 0!==g?g:m.compatibility??m.value}return x}static set(o,x){P[o]=x}static setAll(o){for(const x in o)P[x]=o[x]}static remove(o){delete P[o]}static _hasUserOptions(){return Object.keys(P).length>0}}},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFRenderingQueue=void 0;var p=S(3),A=S(6);r.PDFRenderingQueue=class F{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(o){this.pdfViewer=o}setThumbnailViewer(o){this.pdfThumbnailViewer=o}isHighestPriority(o){return this.highestPriorityPage===o.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(o){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(o)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(o,x,u,m=!1){const g=o.views,n=g.length;if(0===n)return null;for(let w=0;w<n;w++){const k=g[w].view;if(!this.isViewFinished(k))return k}const i=o.first.id,f=o.last.id;if(f-i+1>n){const w=o.ids;for(let k=1,c=f-i;k<c;k++){const T=u?i+k:f-k;if(w.has(T))continue;const E=x[T-1];if(!this.isViewFinished(E))return E}}let h=u?f:i-2,v=x[h];return v&&!this.isViewFinished(v)||m&&(h+=u?1:-1,v=x[h],v&&!this.isViewFinished(v))?v:null}isViewFinished(o){return o.renderingState===A.RenderingStates.FINISHED}renderView(o){switch(o.renderingState){case A.RenderingStates.FINISHED:return!1;case A.RenderingStates.PAUSED:this.highestPriorityPage=o.renderingId,o.resume();break;case A.RenderingStates.RUNNING:this.highestPriorityPage=o.renderingId;break;case A.RenderingStates.INITIAL:this.highestPriorityPage=o.renderingId,o.draw().finally(()=>{this.renderHighestPriority()}).catch(x=>{x instanceof p.RenderingCancelledException||console.error(`renderView: "${x}"`)})}return!0}}},(R,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TextHighlighter=void 0,r.TextHighlighter=class S{constructor({findController:A,eventBus:P,pageIndex:F}){this.findController=A,this.matches=[],this.eventBus=P,this.pageIdx=F,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(A,P){this.textDivs=A,this.textContentItemsStr=P}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=A=>{(A.pageIndex===this.pageIdx||-1===A.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(A,P){if(!A)return[];const{textContentItemsStr:F}=this;let b=0,o=0;const x=F.length-1,u=[];for(let m=0,g=A.length;m<g;m++){let n=A[m];for(;b!==x&&n>=o+F[b].length;)o+=F[b].length,b++;b===F.length&&console.error("Could not find a matching mapping");const i={begin:{divIdx:b,offset:n-o}};for(n+=P[m];b!==x&&n>o+F[b].length;)o+=F[b].length,b++;i.end={divIdx:b,offset:n-o},u.push(i)}return u}_renderMatches(A){if(0===A.length)return;const{findController:P,pageIdx:F}=this,{textContentItemsStr:b,textDivs:o}=this,x=F===P.selected.pageIdx,u=P.selected.matchIdx;let g=null;function i(w,k){const c=w.divIdx;return o[c].textContent="",f(c,0,w.offset,k)}function f(w,k,c,T){let E=o[w];if(E.nodeType===Node.TEXT_NODE){const M=document.createElement("span");E.parentNode.insertBefore(M,E),M.appendChild(E),o[w]=M,E=M}const O=b[w].substring(k,c),I=document.createTextNode(O);if(T){const M=document.createElement("span");return M.className=`${T} appended`,M.appendChild(I),E.appendChild(M),T.includes("selected")?M.offsetLeft:0}return E.appendChild(I),0}let h=u,v=h+1;if(P.state.highlightAll)h=0,v=A.length;else if(!x)return;for(let w=h;w<v;w++){const k=A[w],c=k.begin,T=k.end,E=x&&w===u,O=E?" selected":"";let I=0;if(g&&c.divIdx===g.divIdx?f(g.divIdx,g.offset,c.offset):(null!==g&&f(g.divIdx,g.offset,undefined),i(c)),c.divIdx===T.divIdx)I=f(c.divIdx,c.offset,T.offset,"highlight"+O);else{I=f(c.divIdx,c.offset,undefined,"highlight begin"+O);for(let M=c.divIdx+1,D=T.divIdx;M<D;M++)o[M].className="highlight middle"+O;i(T,"highlight end"+O)}g=T,E&&P.scrollMatchIntoView({element:o[c.divIdx],selectedLeft:I,pageIndex:F,matchIndex:u})}g&&f(g.divIdx,g.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:A,matches:P,pageIdx:F}=this,{textContentItemsStr:b,textDivs:o}=this;let x=-1;for(let g=0,n=P.length;g<n;g++){const i=P[g];for(let h=Math.max(x,i.begin.divIdx),v=i.end.divIdx;h<=v;h++){const w=o[h];w.textContent=b[h],w.className=""}x=i.end.divIdx+1}A?.highlightMatches&&(this.matches=this._convertMatches(A.pageMatches[F]||null,A.pageMatchesLength[F]||null),this._renderMatches(this.matches))}}},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DownloadManager=void 0;var p=S(3);function A(F,b){const o=document.createElement("a");if(!o.click)throw new Error('DownloadManager: "a.click()" is not supported.');o.href=F,o.target="_parent","download"in o&&(o.download=b),(document.body||document.documentElement).appendChild(o),o.click(),o.remove()}r.DownloadManager=class P{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(b,o){(0,p.createValidAbsoluteUrl)(b,"http://example.com")?A(b+"#pdfjs.action=download",o):console.error(`downloadUrl - not a valid URL: ${b}`)}downloadData(b,o,x){A(URL.createObjectURL(new Blob([b],{type:x})),o)}openOrDownloadData(b,o,x){const u=(0,p.isPdfFile)(x),m=u?"application/pdf":"";if(u){let n,g=this._openBlobUrls.get(b);g||(g=URL.createObjectURL(new Blob([o],{type:m})),this._openBlobUrls.set(b,g)),n="?file="+encodeURIComponent(g+"#"+x);try{return window.open(n),!0}catch(i){console.error(`openOrDownloadData: ${i}`),URL.revokeObjectURL(g),this._openBlobUrls.delete(b)}}return this.downloadData(o,x,m),!1}download(b,o,x,u="download"){A(URL.createObjectURL(b),x)}}},(R,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.WaitOnType=r.EventBus=r.AutomationEventBus=void 0,r.waitOnEventOrTimeout=function p({target:F,name:b,delay:o=0}){return new Promise(function(x,u){if("object"!=typeof F||!b||"string"!=typeof b||!(Number.isInteger(o)&&o>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function m(f){F instanceof A?F._off(b,g):F.removeEventListener(b,g),i&&clearTimeout(i),x(f)}const g=m.bind(null,S.EVENT);F instanceof A?F._on(b,g):F.addEventListener(b,g);const n=m.bind(null,S.TIMEOUT),i=setTimeout(n,o)})};const S={EVENT:"event",TIMEOUT:"timeout"};r.WaitOnType=S;class A{constructor(){this._listeners=Object.create(null)}on(b,o,x=null){this._on(b,o,{external:!0,once:x?.once})}off(b,o,x=null){this._off(b,o,{external:!0,once:x?.once})}dispatch(b,o){const x=this._listeners[b];if(!x||0===x.length)return;let u;for(const{listener:m,external:g,once:n}of x.slice(0))n&&this._off(b,m),g?(u||=[]).push(m):m(o);if(u){for(const m of u)m(o);u=null}}_on(b,o,x=null){(this._listeners[b]||=[]).push({listener:o,external:!0===x?.external,once:!0===x?.once})}_off(b,o,x=null){const u=this._listeners[b];if(u)for(let m=0,g=u.length;m<g;m++)if(u[m].listener===o)return void u.splice(m,1)}}r.EventBus=A,r.AutomationEventBus=class P extends A{dispatch(b,o){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.GenericL10n=void 0,S(19);var p=S(4);const A=document.webL10n;r.GenericL10n=class P{constructor(b){this._lang=b,this._ready=new Promise((o,x)=>{A.setLanguage((0,p.fixupLangCode)(b),()=>{o(A)})})}getLanguage(){var b=this;return s(function*(){return(yield b._ready).getLanguage()})()}getDirection(){var b=this;return s(function*(){return(yield b._ready).getDirection()})()}get(b){var o=this;return s(function*(x,u=null,m=(0,p.getL10nFallback)(x,u)){return(yield o._ready).get(x,u,m)}).apply(this,arguments)}translate(b){var o=this;return s(function*(){return(yield o._ready).translate(b)})()}}},()=>{document.webL10n=function(R,r,S){var p={},A="",P="textContent",F="",b={},o="loading",x=!0;function i(M,D,V){D=D||function(C){},V=V||function(){};var X=new XMLHttpRequest;X.open("GET",M,x),X.overrideMimeType&&X.overrideMimeType("text/plain; charset=utf-8"),X.onreadystatechange=function(){4==X.readyState&&(200==X.status||0===X.status?D(X.responseText):V())},X.onerror=V,X.ontimeout=V;try{X.send(null)}catch{V()}}function h(M,D){M&&(M=M.toLowerCase()),D=D||function(){},function v(){p={},A="",F=""}(),F=M;var V=function u(){return r.querySelectorAll('link[type="application/l10n"]')}(),X=V.length;if(0!==X){var t,l=0;t=function(){++l>=X&&(D(),o="complete")};for(var d=0;d<X;d++)new _(V[d]).load(M,t)}else{var J=function m(){var M=r.querySelector('script[type="application/l10n"]');return M?JSON.parse(M.innerHTML):null}();if(J&&J.locales&&J.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(p=J.locales[M])){var C=J.default_locale.toLowerCase();for(var e in J.locales){if((e=e.toLowerCase())===M){p=J.locales[M];break}e===C&&(p=J.locales[C])}}D()}else console.log("no resource to load, early way out");o="complete"}function _(L){var U=L.href;this.load=function(j,H){!function f(M,D,V,X){var J=M.replace(/[^\/]*$/,"")||"./";function C(t){return t.lastIndexOf("\\")<0?t:t.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}i(M,function(t){A+=t,function e(t,l){var _={},d=/^\s*|\s*$/,y=/^\s*#|^\s*$/,L=/^\s*\[(.*)\]\s*$/,U=/^\s*@import\s+url\((.*)\)\s*$/i,j=/^([^=\s]*)\s*=\s*(.+)$/;function H(K,ie,re){var Q=K.replace(d,"").split(/[\r\n]+/),Z="*",ae=D.split("-",1)[0],se=!1,ne="";!function ce(){for(;;){if(!Q.length)return void re();var he=Q.shift();if(!y.test(he)){if(ie){if(ne=L.exec(he)){Z=ne[1].toLowerCase(),se="*"!==Z&&Z!==D&&Z!==ae;continue}if(se)continue;if(ne=U.exec(he))return void q(J+ne[1],ce)}var oe=he.match(j);oe&&3==oe.length&&(_[oe[1]]=C(oe[2]))}}}()}function q(K,ie){i(K,function(re){H(re,!1,ie)},function(){console.warn(K+" not found."),ie()})}H(t,!0,function(){l(_)})}(t,function(l){for(var _ in l){var d,y,L=_.lastIndexOf(".");L>0?(d=_.substring(0,L),y=_.substring(L+1)):(d=_,y=P),p[d]||(p[d]={}),p[d][y]=l[_]}V&&V()})},X)}(U,j,H,function(){console.warn(U+" not found."),console.warn('"'+j+'" resource not found'),F="",H()})}}}function k(M,D,V){var X=p[M];if(!X){if(console.warn("#"+M+" is undefined."),!V)return null;X=V}var J={};for(var C in X){var e=X[C];e=T(e=c(e,D,M,C),D,M),J[C]=e}return J}function c(M,D,V,X){var C=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(M);if(!C||!C.length)return M;var l,e=C[1],t=C[2];return D&&t in D?l=D[t]:t in p&&(l=p[t]),e in b&&(M=(0,b[e])(M,l,V,X)),M}function T(M,D,V){return M.replace(/\{\{\s*(.+?)\s*\}\}/g,function(J,C){return D&&C in D?D[C]:C in p?p[C]:(console.log("argument {{"+C+"}} for #"+V+" is undefined."),J)})}function E(M){var D=function n(M){if(!M)return{};var D=M.getAttribute("data-l10n-id"),V=M.getAttribute("data-l10n-args"),X={};if(V)try{X=JSON.parse(V)}catch{console.warn("could not parse arguments for #"+D)}return{id:D,args:X}}(M);if(D.id){var V=k(D.id,D.args);if(!V)return void console.warn("#"+D.id+" is undefined.");if(V[P]){if(0===function O(M){if(M.children)return M.children.length;if(typeof M.childElementCount<"u")return M.childElementCount;for(var D=0,V=0;V<M.childNodes.length;V++)D+=1===M.nodeType?1:0;return D}(M))M[P]=V[P];else{for(var X=M.childNodes,J=!1,C=0,e=X.length;C<e;C++)3===X[C].nodeType&&/\S/.test(X[C].nodeValue)&&(J?X[C].nodeValue="":(X[C].nodeValue=V[P],J=!0));if(!J){var t=r.createTextNode(V[P]);M.insertBefore(t,M.firstChild)}}delete V[P]}for(var l in V)M[l]=V[l]}}return b.plural=function(M,D,V,X){var J=parseFloat(D);if(isNaN(J)||X!=P)return M;b._pluralRules||(b._pluralRules=function w(M){function V(e,t){return-1!==t.indexOf(e)}function X(e,t,l){return t<=e&&e<=l}var J={0:function(e){return"other"},1:function(e){return X(e%100,3,10)?"few":0===e?"zero":X(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return X(e,0,1)?"one":"other"},5:function(e){return X(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return X(e,3,6)?"few":X(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&X(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return X(e%10,2,9)&&!X(e%100,11,19)?"few":e%10!=1||X(e%100,11,19)?"other":"one"},11:function(e){return X(e%10,2,4)&&!X(e%100,12,14)?"few":e%10==0||X(e%10,5,9)||X(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return X(e,2,4)?"few":1==e?"one":"other"},13:function(e){return X(e%10,2,4)&&!X(e%100,12,14)?"few":1!=e&&X(e%10,0,1)||X(e%10,5,9)||X(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return X(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||X(e%100,2,10)?"few":X(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":X(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return X(e,2,10)?"few":X(e,0,1)?"one":"other"},20:function(e){return!X(e%10,3,4)&&e%10!=9||X(e%100,10,19)||X(e%100,70,79)||X(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||V(e%100,[12,72,92])?e%10!=1||V(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return X(e,0,1)||X(e,11,99)?"one":"other"},23:function(e){return X(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return X(e,3,10)||X(e,13,19)?"few":V(e,[2,12])?"two":V(e,[1,11])?"one":"other"}},C={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[M.replace(/-.*$/,"")];return C in J?J[C]:(console.warn("plural form unknown for ["+M+"]"),function(){return"other"})}(F));var C="["+b._pluralRules(J)+"]";return 0===J&&V+"[zero]"in p?M=p[V+"[zero]"][X]:1==J&&V+"[one]"in p?M=p[V+"[one]"][X]:2==J&&V+"[two]"in p?M=p[V+"[two]"][X]:V+C in p?M=p[V+C][X]:V+"[other]"in p&&(M=p[V+"[other]"][X]),M},{get:function(M,D,V){var C,X=M.lastIndexOf("."),J=P;X>0&&(J=M.substring(X+1),M=M.substring(0,X)),V&&((C={})[J]=V);var e=k(M,D,C);return e&&J in e?e[J]:"{{"+M+"}}"},getData:function(){return p},getText:function(){return A},getLanguage:function(){return F},setLanguage:function(M,D){h(M,function(){D&&D()})},getDirection:function(){var D=F.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(D)>=0?"rtl":"ltr"},translate:function I(M){for(var D=function g(M){return M?M.querySelectorAll("*[data-l10n-id]"):[]}(M=M||r.documentElement),V=D.length,X=0;X<V;X++)E(D[X]);E(M)},getReadyState:function(){return o},ready:function(M){M&&("complete"==o||"interactive"==o?R.setTimeout(function(){M()}):r.addEventListener&&r.addEventListener("localized",function D(){r.removeEventListener("localized",D),M()}))}}}(window,document)},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFFindController=r.FindState=void 0;var p=S(6),A=S(3),P=S(21);const F={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};r.FindState=F;const u={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},m=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),g=[...m.values()].map(T=>String.fromCharCode(T)).join(""),n=/\p{M}+/gu,i=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,f=/([^\p{M}])\p{M}*$/u,h=/^\p{M}*([^\p{M}])/u;let v=null;function w(T){if(!v){const e=Object.keys(u).join("");v=new RegExp(`([${e}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const E=[];let O;for(;null!==(O=n.exec(T));)E.push([O[0].length,O.index]);let I=T.normalize("NFD");const M=[[0,0]];let D=0,V=0,X=0,J=0,C=!1;return I=I.replace(v,(e,t,l,_,d,y)=>{if(y-=X,t){const L=u[e],U=L.length;for(let j=1;j<U;j++)M.push([y-V+j,V-j]);return V-=U-1,L}if(l){const L=l.endsWith("\n"),U=L?l.length-2:l.length;C=!0;let j=U;y+J===E[D]?.[1]&&(j-=E[D][0],++D);for(let H=1;H<j+1;H++)M.push([y-1-V+H,V-H]);return V-=j,X+=j,L?(M.push([(y+=U-1)-V+1,1+V]),V+=1,X+=1,J+=1,l.slice(0,U)):l}return _?(M.push([y-V+1,1+V]),V+=1,X+=1,J+=1,_.charAt(0)):(M.push([y-V+1,V-1]),V-=1,X+=1,J+=1," ")}),M.push([I.length,V]),[I,M,C]}function k(T,E,O){if(!T)return[E,O];const I=E,M=E+O;let D=(0,p.binarySearchFirstItem)(T,X=>X[0]>=I);T[D][0]>I&&--D;let V=(0,p.binarySearchFirstItem)(T,X=>X[0]>=M,D);return T[V][0]>M&&--V,[I+T[D][1],O+T[V][1]-T[D][1]]}r.PDFFindController=class c{constructor({linkService:E,eventBus:O}){this._linkService=E,this._eventBus=O,this.#t(),O._on("find",this.#e.bind(this)),O._on("findbarclose",this.#b.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(E){this._pdfDocument&&this.#t(),E&&(this._pdfDocument=E,this._firstPageCapability.resolve())}#e(E){if(!E)return;const O=this._pdfDocument,{type:I}=E;(null===this._state||this.#s(E))&&(this._dirtyMatch=!0),this._state=E,"highlightallchange"!==I&&this.#p(F.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||O&&this._pdfDocument!==O)return;this.#_();const M=!this._highlightMatches,D=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),I?this._dirtyMatch?this.#o():"again"===I?(this.#o(),M&&this._state.highlightAll&&this.#a()):"highlightallchange"===I?(D?this.#o():this._highlightMatches=!0,this.#a()):this.#o():this._findTimeout=setTimeout(()=>{this.#o(),this._findTimeout=null},250)})}scrollMatchIntoView({element:E=null,selectedLeft:O=0,pageIndex:I=-1,matchIndex:M=-1}){this._scrollMatches&&E&&-1!==M&&M===this._selected.matchIdx&&-1!==I&&I===this._selected.pageIdx&&(this._scrollMatches=!1,(0,p.scrollIntoView)(E,{top:-50,left:O+-400},!0))}#t(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,A.createPromiseCapability)()}get#n(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=w(this._state.query)),this._normalizedQuery}#s(E){if(E.query!==this._state.query)return!0;switch(E.type){case"again":const O=this._selected.pageIdx+1,I=this._linkService;return O>=1&&O<=I.pagesCount&&O!==I.page&&!I.isPageVisible(O);case"highlightallchange":return!1}return!0}#h(E,O,I){let M=E.slice(0,O).match(f);if(M){const D=E.charCodeAt(O),V=M[1].charCodeAt(0);if((0,P.getCharacterType)(D)===(0,P.getCharacterType)(V))return!1}if(M=E.slice(O+I).match(h),M){const D=E.charCodeAt(O+I-1),V=M[1].charCodeAt(0);if((0,P.getCharacterType)(D)===(0,P.getCharacterType)(V))return!1}return!0}#l(E,O,I,M){const D=[],V=[],X=this._pageDiffs[I];let J;for(;null!==(J=E.exec(M));){if(O&&!this.#h(M,J.index,J[0].length))continue;const[C,e]=k(X,J.index,J[0].length);e&&(D.push(C),V.push(e))}this._pageMatches[I]=D,this._pageMatchesLength[I]=V}#i(E,O){const{matchDiacritics:I}=this._state;let M=!1;const D="[ ]*";return(E=E.replace(i,(V,X,J,C,e,t)=>X?`[ ]*\\${X}[ ]*`:J?`[ ]*${J}[ ]*`:C?"[ ]+":I?e||t:e?m.has(e.charCodeAt(0))?e:"":O?(M=!0,`${t}\\p{M}*`):t)).endsWith(D)&&(E=E.slice(0,E.length-D.length)),I&&O&&(M=!0,E=`${E}(?=[${g}]|[^\\p{M}]|$)`),[M,E]}#g(E){let O=this.#n;if(0===O.length)return;const{caseSensitive:I,entireWord:M,phraseSearch:D}=this._state,V=this._pageContents[E],X=this._hasDiacritics[E];let J=!1;if(D)[J,O]=this.#i(O,X);else{const t=O.match(/\S+/g);t&&(O=t.sort().reverse().map(l=>{const[_,d]=this.#i(l,X);return J||=_,`(${d})`}).join("|"))}O=new RegExp(O,`g${J?"u":""}${I?"":"i"}`),this.#l(O,M,E,V),this._state.highlightAll&&this.#r(E),this._resumePageIdx===E&&(this._resumePageIdx=null,this.#d());const e=this._pageMatches[E].length;e>0&&(this._matchesCountTotal+=e,this.#A())}#_(){if(this._extractTextPromises.length>0)return;let E=Promise.resolve();for(let O=0,I=this._linkService.pagesCount;O<I;O++){const M=(0,A.createPromiseCapability)();this._extractTextPromises[O]=M.promise,E=E.then(()=>this._pdfDocument.getPage(O+1).then(D=>D.getTextContent()).then(D=>{const V=[];for(const X of D.items)V.push(X.str),X.hasEOL&&V.push("\n");[this._pageContents[O],this._pageDiffs[O],this._hasDiacritics[O]]=w(V.join("")),M.resolve()},D=>{console.error(`Unable to get text content for page ${O+1}`,D),this._pageContents[O]="",this._pageDiffs[O]=null,this._hasDiacritics[O]=!1,M.resolve()}))}}#r(E){this._scrollMatches&&this._selected.pageIdx===E&&(this._linkService.page=E+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:E})}#a(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#o(){const E=this._state.findPrevious,O=this._linkService.page-1,I=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=O,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this.#a();for(let D=0;D<I;D++)this._pendingFindMatches.has(D)||(this._pendingFindMatches.add(D),this._extractTextPromises[D].then(()=>{this._pendingFindMatches.delete(D),this.#g(D)}))}if(""===this.#n)return void this.#p(F.FOUND);if(this._resumePageIdx)return;const M=this._offset;if(this._pagesToSearch=I,null!==M.matchIdx){if(!E&&M.matchIdx+1<this._pageMatches[M.pageIdx].length||E&&M.matchIdx>0)return M.matchIdx=E?M.matchIdx-1:M.matchIdx+1,void this.#c(!0);this.#f(E)}this.#d()}#u(E){const O=this._offset,I=E.length,M=this._state.findPrevious;return I?(O.matchIdx=M?I-1:0,this.#c(!0),!0):(this.#f(M),!!(O.wrapped&&(O.matchIdx=null,this._pagesToSearch<0))&&(this.#c(!1),!0))}#d(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let E=null;do{const O=this._offset.pageIdx;if(E=this._pageMatches[O],!E){this._resumePageIdx=O;break}}while(!this.#u(E))}#f(E){const O=this._offset,I=this._linkService.pagesCount;O.pageIdx=E?O.pageIdx-1:O.pageIdx+1,O.matchIdx=null,this._pagesToSearch--,(O.pageIdx>=I||O.pageIdx<0)&&(O.pageIdx=E?I-1:0,O.wrapped=!0)}#c(E=!1){let O=F.NOT_FOUND;const I=this._offset.wrapped;if(this._offset.wrapped=!1,E){const M=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,O=I?F.WRAPPED:F.FOUND,-1!==M&&M!==this._selected.pageIdx&&this.#r(M)}this.#p(O,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#r(this._selected.pageIdx))}#b(E){const O=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||O&&this._pdfDocument!==O||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#p(F.FOUND),this._highlightMatches=!1,this.#a())})}#m(){const{pageIdx:E,matchIdx:O}=this._selected;let I=0,M=this._matchesCountTotal;if(-1!==O){for(let D=0;D<E;D++)I+=this._pageMatches[D]?.length||0;I+=O+1}return(I<1||I>M)&&(I=M=0),{current:I,total:M}}#A(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#m()})}#p(E,O=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:E,previous:O,matchesCount:this.#m(),rawQuery:this._state?.query??null})}}},(R,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterType=void 0,r.getCharacterType=function n(i){return function p(i){return i<11904}(i)?function A(i){return 0==(65408&i)}(i)?function b(i){return 32===i||9===i||13===i||10===i}(i)?S.SPACE:function P(i){return i>=97&&i<=122||i>=65&&i<=90}(i)||function F(i){return i>=48&&i<=57}(i)||95===i?S.ALPHA_LETTER:S.PUNCT:function g(i){return 3584==(65408&i)}(i)?S.THAI_LETTER:160===i?S.SPACE:S.ALPHA_LETTER:function o(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}(i)?S.HAN_LETTER:function x(i){return i>=12448&&i<=12543}(i)?S.KATAKANA_LETTER:function u(i){return i>=12352&&i<=12447}(i)?S.HIRAGANA_LETTER:function m(i){return i>=65376&&i<=65439}(i)?S.HALFWIDTH_KATAKANA_LETTER:S.ALPHA_LETTER};const S={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};r.CharacterType=S},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFHistory=void 0,r.isDestArraysEqual=m,r.isDestHashesEqual=u;var p=S(6),A=S(17);function o(){return document.location.hash}function u(g,n){return"string"==typeof g&&"string"==typeof n&&(g===n||(0,p.parseQueryString)(g).get("nameddest")===n)}function m(g,n){function i(f,h){if(typeof f!=typeof h||Array.isArray(f)||Array.isArray(h))return!1;if(null!==f&&"object"==typeof f&&null!==h){if(Object.keys(f).length!==Object.keys(h).length)return!1;for(const v in f)if(!i(f[v],h[v]))return!1;return!0}return f===h||Number.isNaN(f)&&Number.isNaN(h)}if(!Array.isArray(g)||!Array.isArray(n)||g.length!==n.length)return!1;for(let f=0,h=g.length;f<h;f++)if(!i(g[f],n[f]))return!1;return!0}r.PDFHistory=class x{constructor({linkService:n,eventBus:i}){this.linkService=n,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",f=>{this._isPagesLoaded=!!f.pagesCount},{once:!0})})}initialize({fingerprint:n,resetHistory:i=!1,updateUrl:f=!1}){if(!n||"string"!=typeof n)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const h=""!==this._fingerprint&&this._fingerprint!==n;this._fingerprint=n,this._updateUrl=!0===f,this._initialized=!0,this._bindEvents();const v=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=o(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(v,!0)||i){const{hash:k,page:c,rotation:T}=this._parseCurrentHash(!0);return!k||h||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:k,page:c,rotation:T},!0)}const w=v.destination;this._updateInternalState(w,v.uid,!0),void 0!==w.rotation&&(this._initialRotation=w.rotation),w.dest?(this._initialBookmark=JSON.stringify(w.dest),this._destination.page=null):w.hash?this._initialBookmark=w.hash:w.page&&(this._initialBookmark=`page=${w.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:n=null,explicitDest:i,pageNumber:f}){if(!this._initialized)return;if(n&&"string"!=typeof n)return void console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);if(!Array.isArray(i))return void console.error(`PDFHistory.push: "${i}" is not a valid explicitDest parameter.`);if(!this._isValidPage(f)&&(null!==f||this._destination))return void console.error(`PDFHistory.push: "${f}" is not a valid pageNumber parameter.`);const h=n||JSON.stringify(i);if(!h)return;let v=!1;if(this._destination&&(u(this._destination.hash,h)||m(this._destination.dest,i))){if(this._destination.page)return;v=!0}this._popStateInProgress&&!v||(this._pushOrReplaceState({dest:i,hash:h,page:f,rotation:this.linkService.rotation},v),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(n){if(this._initialized){if(!this._isValidPage(n))return void console.error(`PDFHistory.pushPage: "${n}" is not a valid page number.`);this._destination?.page!==n&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${n}`,page:n,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(n,i=!1){const f=i||!this._destination,h={fingerprint:this._fingerprint,uid:f?this._uid:this._uid+1,destination:n};let v;if(this._updateInternalState(n,h.uid),this._updateUrl&&n?.hash){const w=document.location.href.split("#")[0];w.startsWith("file://")||(v=`${w}#${n.hash}`)}f?window.history.replaceState(h,"",v):window.history.pushState(h,"",v)}_tryPushCurrentPosition(n=!1){if(!this._position)return;let i=this._position;if(n&&(i=Object.assign(Object.create(null),this._position),i.temporary=!0),!this._destination)return void this._pushOrReplaceState(i);if(this._destination.temporary)return void this._pushOrReplaceState(i,!0);if(this._destination.hash===i.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let f=!1;if(this._destination.page>=i.first&&this._destination.page<=i.page){if(void 0!==this._destination.dest||!this._destination.first)return;f=!0}this._pushOrReplaceState(i,f)}_isValidPage(n){return Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount}_isValidState(n,i=!1){if(!n)return!1;if(n.fingerprint!==this._fingerprint){if(!i)return!1;{if("string"!=typeof n.fingerprint||n.fingerprint.length!==this._fingerprint.length)return!1;const[f]=performance.getEntriesByType("navigation");if("reload"!==f?.type)return!1}}return!(!Number.isInteger(n.uid)||n.uid<0||null===n.destination||"object"!=typeof n.destination)}_updateInternalState(n,i,f=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),f&&n?.temporary&&delete n.temporary,this._destination=n,this._uid=i,this._maxUid=Math.max(this._maxUid,i),this._numPositionUpdates=0}_parseCurrentHash(n=!1){const i=unescape(o()).substring(1),f=(0,p.parseQueryString)(i),h=f.get("nameddest")||"";let v=0|f.get("page");return(!this._isValidPage(v)||n&&h.length>0)&&(v=null),{hash:i,page:v,rotation:this.linkService.rotation}}_updateViewarea({location:n}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:n}){const i=o(),f=this._currentHash!==i;if(this._currentHash=i,!n){this._uid++;const{hash:v,page:w,rotation:k}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:v,page:w,rotation:k},!0)}if(!this._isValidState(n))return;this._popStateInProgress=!0,f&&(this._blockHashChange++,(0,A.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const h=n.destination;this._updateInternalState(h,n.uid,!0),(0,p.isValidRotation)(h.rotation)&&(this.linkService.rotation=h.rotation),h.dest?this.linkService.goToDestination(h.dest):h.hash?this.linkService.setHash(h.hash):h.page&&(this.linkService.page=h.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFScriptingManager=void 0;var p=S(6),A=S(3);r.PDFScriptingManager=class P{constructor({eventBus:b,sandboxBundleSrc:o=null,scriptingFactory:x=null,docPropertiesLookup:u=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=b,this._sandboxBundleSrc=o,this._scriptingFactory=x,this._docPropertiesLookup=u,this._scriptingFactory||window.addEventListener("updatefromsandbox",m=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:m.detail})})}setViewer(b){this._pdfViewer=b}setDocument(b){var o=this;return s(function*(){if(o._pdfDocument&&(yield o._destroyScripting()),o._pdfDocument=b,!b)return;const[x,u,m]=yield Promise.all([b.getFieldObjects(),b.getCalculationOrderIds(),b.getJSActions()]);if(x||m){if(b===o._pdfDocument){try{o._scripting=o._createScripting()}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield o._destroyScripting())}o._internalEvents.set("updatefromsandbox",g=>{g?.source===window&&o._updateFromSandbox(g.detail)}),o._internalEvents.set("dispatcheventinsandbox",g=>{o._scripting?.dispatchEventInSandbox(g.detail)}),o._internalEvents.set("pagechanging",({pageNumber:g,previous:n})=>{g!==n&&(o._dispatchPageClose(n),o._dispatchPageOpen(g))}),o._internalEvents.set("pagerendered",({pageNumber:g})=>{o._pageOpenPending.has(g)&&g===o._pdfViewer.currentPageNumber&&o._dispatchPageOpen(g)}),o._internalEvents.set("pagesdestroy",function(){var g=s(function*(n){yield o._dispatchPageClose(o._pdfViewer.currentPageNumber),yield o._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),o._closeCapability?.resolve()});return function(n){return g.apply(this,arguments)}}()),o._domEvents.set("mousedown",g=>{o._mouseState.isDown=!0}),o._domEvents.set("mouseup",g=>{o._mouseState.isDown=!1});for(const[g,n]of o._internalEvents)o._eventBus._on(g,n);for(const[g,n]of o._domEvents)window.addEventListener(g,n,!0);try{const g=yield o._getDocProperties();if(b!==o._pdfDocument)return;yield o._scripting.createSandbox({objects:x,calculationOrder:u,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...g,actions:m}}),o._eventBus.dispatch("sandboxcreated",{source:o})}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield o._destroyScripting())}yield o._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield o._dispatchPageOpen(o._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{b===o._pdfDocument&&(o._ready=!0)})}}else yield o._destroyScripting()})()}dispatchWillSave(b){var o=this;return s(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(b){var o=this;return s(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(b){var o=this;return s(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(b){var o=this;return s(function*(){return o._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,A.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,A.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,A.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,A.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(b){var o=this;return s(function*(){const x=o._pdfViewer.isInPresentationMode||o._pdfViewer.isChangingPresentationMode,{id:u,siblings:m,command:g,value:n}=b;if(!u){switch(g){case"clear":console.clear();break;case"error":console.error(n);break;case"layout":if(x)return;const f=(0,p.apiPageLayoutToViewerModes)(n);o._pdfViewer.spreadMode=f.spreadMode;break;case"page-num":o._pdfViewer.currentPageNumber=n+1;break;case"print":yield o._pdfViewer.pagesPromise,o._eventBus.dispatch("print",{source:o});break;case"println":console.log(n);break;case"zoom":if(x)return;o._pdfViewer.currentScaleValue=n;break;case"SaveAs":o._eventBus.dispatch("save",{source:o});break;case"FirstPage":o._pdfViewer.currentPageNumber=1;break;case"LastPage":o._pdfViewer.currentPageNumber=o._pdfViewer.pagesCount;break;case"NextPage":o._pdfViewer.nextPage();break;case"PrevPage":o._pdfViewer.previousPage();break;case"ZoomViewIn":if(x)return;o._pdfViewer.increaseScale();break;case"ZoomViewOut":if(x)return;o._pdfViewer.decreaseScale()}return}if(x&&b.focus)return;delete b.id,delete b.siblings;const i=m?[u,...m]:[u];for(const f of i){const h=document.getElementById(f);h?h.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:b})):o._pdfDocument?.annotationStorage.setValue(f,b)}})()}_dispatchPageOpen(b){var o=this;return s(function*(x,u=!1){const m=o._pdfDocument,g=o._visitedPages;if(u&&(o._closeCapability=(0,A.createPromiseCapability)()),!o._closeCapability)return;const n=o._pdfViewer.getPageView(x-1);if(n?.renderingState!==p.RenderingStates.FINISHED)return void o._pageOpenPending.add(x);o._pageOpenPending.delete(x);const i=s(function*(){const f=yield g.has(x)?null:n.pdfPage?.getJSActions();m===o._pdfDocument&&(yield o._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:x,actions:f}))})();g.set(x,i)}).apply(this,arguments)}_dispatchPageClose(b){var o=this;return s(function*(){const x=o._pdfDocument,u=o._visitedPages;if(!o._closeCapability||o._pageOpenPending.has(b))return;const m=u.get(b);m&&(u.set(b,null),yield m,x===o._pdfDocument&&(yield o._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:b})))})()}_getDocProperties(){var b=this;return s(function*(){if(b._docPropertiesLookup)return b._docPropertiesLookup(b._pdfDocument);const{docPropertiesLookup:o}=S(24);return o(b._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,A.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:b}=S(24);return new b(this._sandboxBundleSrc)}_destroyScripting(){var b=this;return s(function*(){if(!b._scripting)return b._pdfDocument=null,void b._destroyCapability?.resolve();b._closeCapability&&(yield Promise.race([b._closeCapability.promise,new Promise(o=>{setTimeout(o,1e3)})]).catch(o=>{}),b._closeCapability=null),b._pdfDocument=null;try{yield b._scripting.destroySandbox()}catch{}for(const[o,x]of b._internalEvents)b._eventBus._off(o,x);b._internalEvents.clear();for(const[o,x]of b._domEvents)window.removeEventListener(o,x,!0);b._domEvents.clear(),b._pageOpenPending.clear(),b._visitedPages.clear(),b._scripting=null,delete b._mouseState.isDown,b._ready=!1,b._destroyCapability?.resolve()})()}}},(R,r,S)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.GenericScripting=void 0,r.docPropertiesLookup=function A(b){return P.apply(this,arguments)};var p=S(3);function P(){return(P=s(function*(b){const x="".split("#")[0];let{info:u,metadata:m,contentDispositionFilename:g,contentLength:n}=yield b.getMetadata();if(!n){const{length:i}=yield b.getDownloadInfo();n=i}return{...u,baseURL:x,filesize:n,filename:g||(0,p.getPdfFilenameFromUrl)(""),metadata:m?.getRaw(),authors:m?.get("dc:creator"),numPages:b.numPages,URL:""}})).apply(this,arguments)}r.GenericScripting=class F{constructor(o){this._ready=(0,p.loadScript)(o,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(o){var x=this;return s(function*(){(yield x._ready).create(o)})()}dispatchEventInSandbox(o){var x=this;return s(function*(){const u=yield x._ready;setTimeout(()=>u.dispatchEvent(o),0)})()}destroySandbox(){var o=this;return s(function*(){(yield o._ready).nukeSandbox()})()}}}],N={};function W(R){var r=N[R];if(void 0!==r)return r.exports;var S=N[R]={exports:{}};return G[R](S,S.exports,W),S.exports}var z={};return(()=>{var R=z;Object.defineProperty(R,"__esModule",{value:!0}),Object.defineProperty(R,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return P.AnnotationLayerBuilder}}),Object.defineProperty(R,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return r.DefaultAnnotationLayerFactory}}),Object.defineProperty(R,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return r.DefaultStructTreeLayerFactory}}),Object.defineProperty(R,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return r.DefaultTextLayerFactory}}),Object.defineProperty(R,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return r.DefaultXfaLayerFactory}}),Object.defineProperty(R,"DownloadManager",{enumerable:!0,get:function(){return F.DownloadManager}}),Object.defineProperty(R,"EventBus",{enumerable:!0,get:function(){return b.EventBus}}),Object.defineProperty(R,"GenericL10n",{enumerable:!0,get:function(){return o.GenericL10n}}),Object.defineProperty(R,"LinkTarget",{enumerable:!0,get:function(){return S.LinkTarget}}),Object.defineProperty(R,"NullL10n",{enumerable:!0,get:function(){return x.NullL10n}}),Object.defineProperty(R,"PDFFindController",{enumerable:!0,get:function(){return u.PDFFindController}}),Object.defineProperty(R,"PDFHistory",{enumerable:!0,get:function(){return m.PDFHistory}}),Object.defineProperty(R,"PDFLinkService",{enumerable:!0,get:function(){return S.PDFLinkService}}),Object.defineProperty(R,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}}),Object.defineProperty(R,"PDFScriptingManager",{enumerable:!0,get:function(){return n.PDFScriptingManager}}),Object.defineProperty(R,"PDFSinglePageViewer",{enumerable:!0,get:function(){return A.PDFSinglePageViewer}}),Object.defineProperty(R,"PDFViewer",{enumerable:!0,get:function(){return A.PDFViewer}}),Object.defineProperty(R,"ProgressBar",{enumerable:!0,get:function(){return p.ProgressBar}}),Object.defineProperty(R,"SimpleLinkService",{enumerable:!0,get:function(){return S.SimpleLinkService}}),Object.defineProperty(R,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return i.StructTreeLayerBuilder}}),Object.defineProperty(R,"TextLayerBuilder",{enumerable:!0,get:function(){return f.TextLayerBuilder}}),Object.defineProperty(R,"XfaLayerBuilder",{enumerable:!0,get:function(){return h.XfaLayerBuilder}}),Object.defineProperty(R,"parseQueryString",{enumerable:!0,get:function(){return p.parseQueryString}});var r=W(1),S=W(5),p=W(6),A=W(10),P=W(2),F=W(16),b=W(17),o=W(18),x=W(4),u=W(20),m=W(22),g=W(12),n=W(23),i=W(7),f=W(8),h=W(9)})(),z})(),te.exports=W()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:te=>{function a(s,G,N,W,z,R,r){try{var S=s[R](r),p=S.value}catch(A){return void N(A)}S.done?G(p):Promise.resolve(p).then(W,z)}te.exports=function B(s){return function(){var G=this,N=arguments;return new Promise(function(W,z){var R=s.apply(G,N);function r(p){a(R,W,z,r,S,"next",p)}function S(p){a(R,W,z,r,S,"throw",p)}r(void 0)})}},te.exports.__esModule=!0,te.exports.default=te.exports},9380:(te,a,B)=>{"use strict";var s,G;B.d(a,{rQ:()=>g,xC:()=>n});var N=B(4650),W=B(4968),z=B(7579),R=B(457),r=B(2722),S=B(8372),p=B(9300),A=B(6036),P=B(2813);const F=["pdfViewerContainer"];function x(i,f,h){i[f]=h}function u(){return typeof window>"u"}u()||x(s||(s=B.t(A,2)),"verbosity",A.VerbosityLevel.INFOS);var m=(()=>{return(i=m||(m={}))[i.DISABLED=0]="DISABLED",i[i.ENABLED=1]="ENABLED",i[i.ENHANCED=2]="ENHANCED",m;var i})();let g=(()=>{class i{constructor(h,v){if(this.element=h,this.ngZone=v,this.isVisible=!1,this._cMapsUrl=typeof(s||(s=B.t(A,2)))<"u"?`https://unpkg.com/pdfjs-dist@${A.version}/cmaps/`:null,this._imageResourcesPath=typeof(s||(s=B.t(A,2)))<"u"?`https://unpkg.com/pdfjs-dist@${A.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=m.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new z.x,this.afterLoadComplete=new N.vpe,this.pageRendered=new N.vpe,this.pageInitialized=new N.vpe,this.textLayerRendered=new N.vpe,this.onError=new N.vpe,this.onProgress=new N.vpe,this.pageChange=new N.vpe(!0),u())return;let w;const k=A.version;w=window[`pdfWorkerSrc${k}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${k}/legacy/build/pdf.worker.min.js`),x(A.GlobalWorkerOptions,"workerSrc",w)}set cMapsUrl(h){this._cMapsUrl=h}set page(h){const v=h=parseInt(h,10)||1;this._pdf&&(h=this.getValidPageNumber(h)),this._page=h,v!==h&&this.pageChange.emit(h)}set renderText(h){this._renderText=h}set renderTextMode(h){this._renderTextMode=h}set originalSize(h){this._originalSize=h}set showAll(h){this._showAll=h}set stickToPage(h){this._stickToPage=h}set zoom(h){h<=0||(this._zoom=h)}get zoom(){return this._zoom}set zoomScale(h){this._zoomScale=h}get zoomScale(){return this._zoomScale}set rotation(h){"number"==typeof h&&h%90==0?this._rotation=h:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(h){this._externalLinkTarget=h}set autoresize(h){this._canAutoResize=Boolean(h)}set fitToPage(h){this._fitToPage=Boolean(h)}set showBorders(h){this._showBorders=Boolean(h)}static getLinkTarget(h){switch(h){case"blank":return P.LinkTarget.BLANK;case"none":return P.LinkTarget.NONE;case"self":return P.LinkTarget.SELF;case"parent":return P.LinkTarget.PARENT;case"top":return P.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const h=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=h?!1===this.isVisible&&null!=h&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(h){if(!u()&&this.isVisible)if("src"in h)this.loadPDF();else if(this._pdf){if("renderText"in h?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:m.DISABLED,this.resetPdfDocument()):"showAll"in h&&(this.setupViewer(),this.resetPdfDocument()),"page"in h){const{page:v}=h;if(v.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,R.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,r.R)(this.destroy$)).subscribe({next:h=>{const v=this._rotation+h.rotate,w=h.getViewport({scale:this._zoom,rotation:v}).width*i.CSS_UNITS;let k=this._zoom,c=!0;if(!this._originalSize||this._fitToPage&&w>this.pdfViewerContainer.nativeElement.clientWidth){const T=h.getViewport({scale:1,rotation:v});k=this.getScale(T.width,T.height),c=!this._stickToPage}this.pdfViewer._setScale(k,c)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const h=i.getLinkTarget(this._externalLinkTarget);return h?{externalLinkTarget:h}:{}}initEventBus(){this.eventBus=function b(i,f){const h=new i.EventBus;return function o(i,f){(0,W.R)(i,"documentload").pipe((0,r.R)(f)).subscribe(()=>{const h=document.createEvent("CustomEvent");h.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(h)}),(0,W.R)(i,"pagerendered").pipe((0,r.R)(f)).subscribe(({pageNumber:h,cssTransform:v,source:w})=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("pagerendered",!0,!0,{pageNumber:h,cssTransform:v}),w.div.dispatchEvent(k)}),(0,W.R)(i,"textlayerrendered").pipe((0,r.R)(f)).subscribe(({pageNumber:h,source:v})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:h}),v.textLayerDiv.dispatchEvent(w)}),(0,W.R)(i,"pagechanging").pipe((0,r.R)(f)).subscribe(({pageNumber:h,source:v})=>{const w=document.createEvent("UIEvents");w.initEvent("pagechanging",!0,!0),w.pageNumber=h,v.container.dispatchEvent(w)}),(0,W.R)(i,"pagesinit").pipe((0,r.R)(f)).subscribe(({source:h})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("pagesinit",!0,!0,null),h.container.dispatchEvent(v)}),(0,W.R)(i,"pagesloaded").pipe((0,r.R)(f)).subscribe(({pagesCount:h,source:v})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("pagesloaded",!0,!0,{pagesCount:h}),v.container.dispatchEvent(w)}),(0,W.R)(i,"scalechange").pipe((0,r.R)(f)).subscribe(({scale:h,presetValue:v,source:w})=>{const k=document.createEvent("UIEvents");k.initEvent("scalechange",!0,!0),k.scale=h,k.presetValue=v,w.container.dispatchEvent(k)}),(0,W.R)(i,"updateviewarea").pipe((0,r.R)(f)).subscribe(({location:h,source:v})=>{const w=document.createEvent("UIEvents");w.initEvent("updateviewarea",!0,!0),w.location=h,v.container.dispatchEvent(w)}),(0,W.R)(i,"find").pipe((0,r.R)(f)).subscribe(({source:h,type:v,query:w,phraseSearch:k,caseSensitive:c,highlightAll:T,findPrevious:E})=>{if(h===window)return;const O=document.createEvent("CustomEvent");O.initCustomEvent("find"+v,!0,!0,{query:w,phraseSearch:k,caseSensitive:c,highlightAll:T,findPrevious:E}),window.dispatchEvent(O)}),(0,W.R)(i,"attachmentsloaded").pipe((0,r.R)(f)).subscribe(({attachmentsCount:h,source:v})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:h}),v.container.dispatchEvent(w)}),(0,W.R)(i,"sidebarviewchanged").pipe((0,r.R)(f)).subscribe(({view:h,source:v})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("sidebarviewchanged",!0,!0,{view:h}),v.outerContainer.dispatchEvent(w)}),(0,W.R)(i,"pagemode").pipe((0,r.R)(f)).subscribe(({mode:h,source:v})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("pagemode",!0,!0,{mode:h}),v.pdfViewer.container.dispatchEvent(w)}),(0,W.R)(i,"namedaction").pipe((0,r.R)(f)).subscribe(({action:h,source:v})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("namedaction",!0,!0,{action:h}),v.pdfViewer.container.dispatchEvent(w)}),(0,W.R)(i,"presentationmodechanged").pipe((0,r.R)(f)).subscribe(({active:h,switchInProgress:v})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("presentationmodechanged",!0,!0,{active:h,switchInProgress:v}),window.dispatchEvent(w)}),(0,W.R)(i,"outlineloaded").pipe((0,r.R)(f)).subscribe(({outlineCount:h,source:v})=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("outlineloaded",!0,!0,{outlineCount:h}),v.container.dispatchEvent(w)})}(h,f),h}(G||(G=B.t(P,2)),this.destroy$),(0,W.R)(this.eventBus,"pagerendered").pipe((0,r.R)(this.destroy$)).subscribe(h=>{this.pageRendered.emit(h)}),(0,W.R)(this.eventBus,"pagesinit").pipe((0,r.R)(this.destroy$)).subscribe(h=>{this.pageInitialized.emit(h)}),(0,W.R)(this.eventBus,"pagechanging").pipe((0,r.R)(this.destroy$)).subscribe(({pageNumber:h})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=h,this.pageChange.emit(h)},100)}),(0,W.R)(this.eventBus,"textlayerrendered").pipe((0,r.R)(this.destroy$)).subscribe(h=>{this.textLayerRendered.emit(h)})}initPDFServices(){this.pdfLinkService=new P.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new P.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:m.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){x(s||(s=B.t(A,2)),"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new P.PDFViewer(this.getPDFOptions()):new P.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(h){return h<1?1:h>this._pdf.numPages?this._pdf.numPages:h}getDocumentParams(){const h=typeof this.src;if(!this._cMapsUrl)return this.src;const v={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===h?v.url=this.src:"object"===h&&(void 0!==this.src.byteLength?v.data=this.src:Object.assign(v,this.src)),v}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=A.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=v=>{this.onProgress.emit(v)};const h=this.src;(0,R.D)(this.loadingTask.promise).pipe((0,r.R)(this.destroy$)).subscribe({next:v=>{this._pdf=v,this.lastLoaded=h,this.afterLoadComplete.emit(v),this.resetPdfDocument(),this.update()},error:v=>{this.lastLoaded=null,this.onError.emit(v)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(h,v){const w=this._showBorders?2*i.BORDER_WIDTH:0,k=this.pdfViewerContainer.nativeElement.clientWidth-w,c=this.pdfViewerContainer.nativeElement.clientHeight-w;if(0===c||0===v||0===k||0===h)return 1;let T=1;switch(this._zoomScale){case"page-fit":T=Math.min(c/v,k/h);break;case"page-height":T=c/v;break;default:T=k/h}return this._zoom*T/i.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){u()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){u()||this.ngZone.runOutsideAngular(()=>{(0,W.R)(window,"resize").pipe((0,S.b)(100),(0,p.h)(()=>this._canAutoResize&&!!this._pdf),(0,r.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return i.CSS_UNITS=96/72,i.BORDER_WIDTH=9,i.\u0275fac=function(h){return new(h||i)(N.Y36(N.SBq),N.Y36(N.R0b))},i.\u0275cmp=N.Xpm({type:i,selectors:[["pdf-viewer"]],viewQuery:function(h,v){if(1&h&&N.Gf(F,5),2&h){let w;N.iGM(w=N.CRH())&&(v.pdfViewerContainer=w.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[N.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(h,v){1&h&&(N.TgZ(0,"div",0,1),N._UZ(2,"div",2),N.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),i})(),n=(()=>{class i{}return i.\u0275fac=function(h){return new(h||i)},i.\u0275mod=N.oAB({type:i}),i.\u0275inj=N.cJS({}),i})()}}]);