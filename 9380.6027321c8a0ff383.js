(self.webpackChunkngx_boomconsole=self.webpackChunkngx_boomconsole||[]).push([[9380],{6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,I;I=()=>(()=>{"use strict";var __webpack_modules__=[,(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=H,a.arraysToBytes=function q(ee){const $=ee.length;if(1===$&&ee[0]instanceof Uint8Array)return ee[0];let Y=0;for(let fe=0;fe<$;fe++)Y+=H(ee[fe]);let le=0;const ue=new Uint8Array(Y);for(let fe=0;fe<$;fe++){let ge=ee[fe];ge instanceof Uint8Array||(ge="string"==typeof ge?j(ge):new Uint8Array(ge));const Ce=ge.byteLength;ue.set(ge,le),le+=Ce}return ue},a.assert=function D(ee,$){ee||M($)},a.bytesToString=function U(ee){("object"!=typeof ee||null===ee||void 0===ee.length)&&M("Invalid argument for bytesToString");const $=ee.length,Y=8192;if($<Y)return String.fromCharCode.apply(null,ee);const le=[];for(let ue=0;ue<$;ue+=Y){const fe=Math.min(ue+Y,$),ge=ee.subarray(ue,fe);le.push(String.fromCharCode.apply(null,ge))}return le.join("")},a.createPromiseCapability=function we(){const ee=Object.create(null);let $=!1;return Object.defineProperty(ee,"settled",{get:()=>$}),ee.promise=new Promise(function(Y,le){ee.resolve=function(ue){$=!0,Y(ue)},ee.reject=function(ue){$=!0,le(ue)}}),ee},a.createValidAbsoluteUrl=function X(ee,$=null,Y=null){if(!ee)return null;try{if(Y&&"string"==typeof ee){if(Y.addDefaultProtocol&&ee.startsWith("www.")){const ue=ee.match(/\./g);ue&&ue.length>=2&&(ee=`http://${ee}`)}if(Y.tryConvertEncoding)try{ee=de(ee)}catch{}}const le=$?new URL(ee,$):new URL(ee);if(function V(ee){if(!ee)return!1;switch(ee.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(le))return le}catch{}return null},a.escapeString=function oe(ee){return ee.replace(/([()\\\n\r])/g,$=>"\n"===$?"\\n":"\r"===$?"\\r":`\\${$}`)},a.getModificationDate=function be(ee=new Date){return[ee.getUTCFullYear().toString(),(ee.getUTCMonth()+1).toString().padStart(2,"0"),ee.getUTCDate().toString().padStart(2,"0"),ee.getUTCHours().toString().padStart(2,"0"),ee.getUTCMinutes().toString().padStart(2,"0"),ee.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function E(){return l},a.info=function O(ee){l>=p.INFOS&&console.log(`Info: ${ee}`)},a.isArrayBuffer=function ve(ee){return"object"==typeof ee&&null!==ee&&void 0!==ee.byteLength},a.isArrayEqual=function Se(ee,$){if(ee.length!==$.length)return!1;for(let Y=0,le=ee.length;Y<le;Y++)if(ee[Y]!==$[Y])return!1;return!0},a.isAscii=function pe(ee){return/^[\x00-\x7F]*$/.test(ee)},a.objectFromMap=function se(ee){const $=Object.create(null);for(const[Y,le]of ee)$[Y]=le;return $},a.objectSize=function ie(ee){return Object.keys(ee).length},a.setVerbosityLevel=function T(ee){Number.isInteger(ee)&&(l=ee)},a.shadow=J,a.string32=function K(ee){return String.fromCharCode(ee>>24&255,ee>>16&255,ee>>8&255,255&ee)},a.stringToBytes=j,a.stringToPDFString=function he(ee){if(ee[0]>="\xef"){let Y;if("\xfe"===ee[0]&&"\xff"===ee[1]?Y="utf-16be":"\xff"===ee[0]&&"\xfe"===ee[1]?Y="utf-16le":"\xef"===ee[0]&&"\xbb"===ee[1]&&"\xbf"===ee[2]&&(Y="utf-8"),Y)try{const le=new TextDecoder(Y,{fatal:!0}),ue=j(ee);return le.decode(ue)}catch(le){N(`stringToPDFString: "${le}".`)}}const $=[];for(let Y=0,le=ee.length;Y<le;Y++){const ue=ce[ee.charCodeAt(Y)];$.push(ue?String.fromCharCode(ue):ee.charAt(Y))}return $.join("")},a.stringToUTF16BEString=function _e(ee){const $=["\xfe\xff"];for(let Y=0,le=ee.length;Y<le;Y++){const ue=ee.charCodeAt(Y);$.push(String.fromCharCode(ue>>8&255),String.fromCharCode(255&ue))}return $.join("")},a.stringToUTF8String=de,a.unreachable=M,a.utf8StringToString=function me(ee){return unescape(encodeURIComponent(ee))},a.warn=N,I(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const p={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=p,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let l=p.WARNINGS;function N(ee){l>=p.WARNINGS&&console.log(`Warning: ${ee}`)}function M(ee){throw new Error(ee)}function J(ee,$,Y){return Object.defineProperty(ee,$,{value:Y,enumerable:!0,configurable:!0,writable:!1}),Y}const w=function(){function $(Y,le){this.constructor===$&&M("Cannot initialize BaseException."),this.message=Y,this.name=le}return $.prototype=new Error,$.constructor=$,$}();function j(ee){"string"!=typeof ee&&M("Invalid argument for stringToBytes");const $=ee.length,Y=new Uint8Array($);for(let le=0;le<$;++le)Y[le]=255&ee.charCodeAt(le);return Y}function H(ee){return void 0!==ee.length?ee.length:void 0!==ee.byteLength?ee.byteLength:void M("Invalid argument for arrayByteLength")}a.BaseException=w,a.PasswordException=class e extends w{constructor($,Y){super($,"PasswordException"),this.code=Y}},a.UnknownErrorException=class t extends w{constructor($,Y){super($,"UnknownErrorException"),this.details=Y}},a.InvalidPDFException=class o extends w{constructor($){super($,"InvalidPDFException")}},a.MissingPDFException=class m extends w{constructor($){super($,"MissingPDFException")}},a.UnexpectedResponseException=class d extends w{constructor($,Y){super($,"UnexpectedResponseException"),this.status=Y}},a.FormatError=class A extends w{constructor($){super($,"FormatError")}},a.AbortException=class L extends w{constructor($){super($,"AbortException")}},a.FeatureTest=class ae{static get isLittleEndian(){return J(this,"isLittleEndian",function Q(){const ee=new Uint8Array(4);return ee[0]=1,1===new Uint32Array(ee.buffer,0,1)[0]}())}static get isEvalSupported(){return J(this,"isEvalSupported",function Z(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return J(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const re=[...Array(256).keys()].map(ee=>ee.toString(16).padStart(2,"0"));class ne{static makeHexColor($,Y,le){return`#${re[$]}${re[Y]}${re[le]}`}static scaleMinMax($,Y){let le;$[0]?($[0]<0&&(le=Y[0],Y[0]=Y[1],Y[1]=le),Y[0]*=$[0],Y[1]*=$[0],$[3]<0&&(le=Y[2],Y[2]=Y[3],Y[3]=le),Y[2]*=$[3],Y[3]*=$[3]):(le=Y[0],Y[0]=Y[2],Y[2]=le,le=Y[1],Y[1]=Y[3],Y[3]=le,$[1]<0&&(le=Y[2],Y[2]=Y[3],Y[3]=le),Y[2]*=$[1],Y[3]*=$[1],$[2]<0&&(le=Y[0],Y[0]=Y[1],Y[1]=le),Y[0]*=$[2],Y[1]*=$[2]),Y[0]+=$[4],Y[1]+=$[4],Y[2]+=$[5],Y[3]+=$[5]}static transform($,Y){return[$[0]*Y[0]+$[2]*Y[1],$[1]*Y[0]+$[3]*Y[1],$[0]*Y[2]+$[2]*Y[3],$[1]*Y[2]+$[3]*Y[3],$[0]*Y[4]+$[2]*Y[5]+$[4],$[1]*Y[4]+$[3]*Y[5]+$[5]]}static applyTransform($,Y){return[$[0]*Y[0]+$[1]*Y[2]+Y[4],$[0]*Y[1]+$[1]*Y[3]+Y[5]]}static applyInverseTransform($,Y){const le=Y[0]*Y[3]-Y[1]*Y[2];return[($[0]*Y[3]-$[1]*Y[2]+Y[2]*Y[5]-Y[4]*Y[3])/le,(-$[0]*Y[1]+$[1]*Y[0]+Y[4]*Y[1]-Y[5]*Y[0])/le]}static getAxialAlignedBoundingBox($,Y){const le=ne.applyTransform($,Y),ue=ne.applyTransform($.slice(2,4),Y),fe=ne.applyTransform([$[0],$[3]],Y),ge=ne.applyTransform([$[2],$[1]],Y);return[Math.min(le[0],ue[0],fe[0],ge[0]),Math.min(le[1],ue[1],fe[1],ge[1]),Math.max(le[0],ue[0],fe[0],ge[0]),Math.max(le[1],ue[1],fe[1],ge[1])]}static inverseTransform($){const Y=$[0]*$[3]-$[1]*$[2];return[$[3]/Y,-$[1]/Y,-$[2]/Y,$[0]/Y,($[2]*$[5]-$[4]*$[3])/Y,($[4]*$[1]-$[5]*$[0])/Y]}static apply3dTransform($,Y){return[$[0]*Y[0]+$[1]*Y[1]+$[2]*Y[2],$[3]*Y[0]+$[4]*Y[1]+$[5]*Y[2],$[6]*Y[0]+$[7]*Y[1]+$[8]*Y[2]]}static singularValueDecompose2dScale($){const Y=[$[0],$[2],$[1],$[3]],le=$[0]*Y[0]+$[1]*Y[2],ge=$[2]*Y[1]+$[3]*Y[3],Ce=(le+ge)/2,xe=Math.sqrt((le+ge)**2-4*(le*ge-($[2]*Y[0]+$[3]*Y[2])*($[0]*Y[1]+$[1]*Y[3])))/2,ye=Ce-xe||1;return[Math.sqrt(Ce+xe||1),Math.sqrt(ye)]}static normalizeRect($){const Y=$.slice(0);return $[0]>$[2]&&(Y[0]=$[2],Y[2]=$[0]),$[1]>$[3]&&(Y[1]=$[3],Y[3]=$[1]),Y}static intersect($,Y){const le=Math.max(Math.min($[0],$[2]),Math.min(Y[0],Y[2])),ue=Math.min(Math.max($[0],$[2]),Math.max(Y[0],Y[2]));if(le>ue)return null;const fe=Math.max(Math.min($[1],$[3]),Math.min(Y[1],Y[3])),ge=Math.min(Math.max($[1],$[3]),Math.max(Y[1],Y[3]));return fe>ge?null:[le,fe,ue,ge]}static bezierBoundingBox($,Y,le,ue,fe,ge,Ce,xe){const Ee=[],ye=[[],[]];let Me,Te,Le,Ae,ke,Fe,De,Ie;for(let Ne=0;Ne<2;++Ne)if(0===Ne?(Te=6*$-12*le+6*fe,Me=-3*$+9*le-9*fe+3*Ce,Le=3*le-3*$):(Te=6*Y-12*ue+6*ge,Me=-3*Y+9*ue-9*ge+3*xe,Le=3*ue-3*Y),Math.abs(Me)<1e-12){if(Math.abs(Te)<1e-12)continue;Ae=-Le/Te,0<Ae&&Ae<1&&Ee.push(Ae)}else De=Te*Te-4*Le*Me,Ie=Math.sqrt(De),!(De<0)&&(ke=(-Te+Ie)/(2*Me),0<ke&&ke<1&&Ee.push(ke),Fe=(-Te-Ie)/(2*Me),0<Fe&&Fe<1&&Ee.push(Fe));let Pe,Re=Ee.length;const Oe=Re;for(;Re--;)Ae=Ee[Re],Pe=1-Ae,ye[0][Re]=Pe*Pe*Pe*$+3*Pe*Pe*Ae*le+3*Pe*Ae*Ae*fe+Ae*Ae*Ae*Ce,ye[1][Re]=Pe*Pe*Pe*Y+3*Pe*Pe*Ae*ue+3*Pe*Ae*Ae*ge+Ae*Ae*Ae*xe;return ye[0][Oe]=$,ye[1][Oe]=Y,ye[0][Oe+1]=Ce,ye[1][Oe+1]=xe,ye[0].length=ye[1].length=Oe+2,[Math.min(...ye[0]),Math.min(...ye[1]),Math.max(...ye[0]),Math.max(...ye[1])]}}a.Util=ne;const ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function de(ee){return decodeURIComponent(escape(ee))}},(te,a,I)=>{I(3)},(te,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const I=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=I},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:te,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:I}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=te,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=I}function setPDFNetworkStreamFactory(te){createPDFNetworkStream=te}function getDocument(te){const a=new PDFDocumentLoadingTask;let I;if("string"==typeof te||te instanceof URL)I={url:te};else if((0,_util.isArrayBuffer)(te))I={data:te};else if(te instanceof PDFDataRangeTransport)I={range:te};else{if("object"!=typeof te)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!te.url&&!te.data&&!te.range)throw new Error("Invalid parameter object: need either .data, .range or .url");I=te}const r=Object.create(null);let G=null,B=null;for(const z in I){const R=I[z];switch(z){case"url":if(typeof window<"u")try{r[z]=new URL(R,window.location).href;continue}catch(s){(0,_util.warn)(`Cannot create valid URL: "${s}".`)}else if("string"==typeof R||R instanceof URL){r[z]=R.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":G=R;continue;case"worker":B=R;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&R instanceof Buffer)r[z]=new Uint8Array(R);else{if(R instanceof Uint8Array)break;if("string"==typeof R)r[z]=(0,_util.stringToBytes)(R);else if("object"!=typeof R||null===R||isNaN(R.length)){if(!(0,_util.isArrayBuffer)(R))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[z]=new Uint8Array(R)}else r[z]=new Uint8Array(R)}continue}r[z]=R}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!=typeof r.cMapUrl&&(r.cMapUrl=null),"string"!=typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),("object"!=typeof r.ownerDocument||null===r.ownerDocument)&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!B){const z={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};B=z.port?_PDFWorker.fromPort(z):new _PDFWorker(z),a._worker=B}const W=a.docId;return B.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const z=_fetchDocument(B,r,G,W),R=new Promise(function(s){let P;G?P=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},G):r.data||(P=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),s(P)});return Promise.all([z,R]).then(function([s,P]){if(a.destroyed)throw new Error("Loading aborted");const f=new _message_handler.MessageHandler(W,s,B.port),y=new WorkerTransport(f,a,P,r);a._transport=y,f.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(te,a,I,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(te,a,I,r){if(te.destroyed)throw new Error("Worker was destroyed");I&&(a.length=I.length,a.initialData=I.initialData,a.progressiveDone=I.progressiveDone,a.contentDispositionFilename=I.contentDispositionFilename);const G=yield te.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(te.destroyed)throw new Error("Worker was destroyed");return G})).apply(this,arguments)}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,I,r=!1,G=null){this.length=a,this.initialData=I,this.progressiveDone=r,this.contentDispositionFilename=G,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,I){for(const r of this._rangeListeners)r(a,I)}onDataProgress(a,I){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(a,I)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const I of this._progressiveReadListeners)I(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,I){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,I){var G,r=this;this._pdfInfo=a,this._transport=I,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(G=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),r.stats||{streamTypes:{},fontTypes:{}}}),function(){return G.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,I,r,G,B=!1){this._pageIndex=a,this._pageInfo=I,this._ownerDocument=G,this._transport=r,this._stats=B?new _display_utils.StatTimer:null,this._pdfBug=B,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:I=this.rotate,offsetX:r=0,offsetY:G=0,dontFlip:B=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:I,offsetX:r,offsetY:G,dontFlip:B})}getAnnotations({intent:a="display"}={}){const I=this._transport.getRenderingIntent(a);let r=this._annotationPromises.get(I.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,I.renderingIntent),this._annotationPromises.set(I.cacheKey,r),r=r.then(G=>{for(const B of G)void 0!==B.titleObj&&Object.defineProperty(B,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),B.titleObj.str)}),void 0!==B.contentsObj&&Object.defineProperty(B,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),B.contentsObj.str)});return G})),r}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:I,intent:r="display",annotationMode:G=_util.AnnotationMode.ENABLE,transform:B=null,imageLayer:W=null,canvasFactory:z=null,background:R=null,optionalContentConfigPromise:s=null,annotationCanvasMap:P=null,pageColors:f=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&G===_util.AnnotationMode.ENABLE&&(G=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&G===_util.AnnotationMode.ENABLE&&(G=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const y=this._transport.getRenderingIntent(r,G);this.pendingCleanup=!1,s||(s=this._transport.getOptionalContentConfig());let C=this._intentStates.get(y.cacheKey);C||(C=Object.create(null),this._intentStates.set(y.cacheKey,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const F=z||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),_=!!(y.renderingIntent&_util.RenderingIntentFlag.PRINT);C.displayReadyCapability||(C.displayReadyCapability=(0,_util.createPromiseCapability)(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(y));const c=b=>{C.renderTasks.delete(S),(this.cleanupAfterRender||_)&&(this.pendingCleanup=!0),this._tryCleanup(),b?(S.capability.reject(b),this._abortOperatorList({intentState:C,reason:b instanceof Error?b:new Error(b)})):S.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},S=new InternalRenderTask({callback:c,params:{canvasContext:a,viewport:I,transform:B,imageLayer:W,background:R},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:P,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:F,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:f});(C.renderTasks||=new Set).add(S);const u=S.task;return Promise.all([C.displayReadyCapability.promise,s]).then(([b,g])=>{this.pendingCleanup?c():(this._stats&&this._stats.time("Rendering"),S.initializeGraphics({transparency:b,optionalContentConfig:g}),S.operatorListChanged())}).catch(c),u}getOperatorList({intent:a="display",annotationMode:I=_util.AnnotationMode.ENABLE}={}){const G=this._transport.getRenderingIntent(a,I,!0);let W,B=this._intentStates.get(G.cacheKey);return B||(B=Object.create(null),this._intentStates.set(G.cacheKey,B)),B.opListReadCapability||(W=Object.create(null),W.operatorListChanged=function r(){B.operatorList.lastChunk&&(B.opListReadCapability.resolve(B.operatorList),B.renderTasks.delete(W))},B.opListReadCapability=(0,_util.createPromiseCapability)(),(B.renderTasks||=new Set).add(W),B.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(G)),B.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:I=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===I},{highWaterMark:100,size:G=>G.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));const I=this.streamTextContent(a);return new Promise(function(r,G){const W=I.getReader(),z={items:[],styles:Object.create(null)};!function B(){W.read().then(function({value:R,done:s}){s?r(z):(Object.assign(z.styles,R.styles),z.items.push(...R.items),B())},G)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const I of this._intentStates.values())if(this._abortOperatorList({intentState:I,reason:new Error("Page was destroyed."),force:!0}),!I.opListReadCapability)for(const r of I.renderTasks)a.push(r.completed),r.cancel();this.objs.clear();for(const I of this._bitmaps)I.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:I,operatorList:r}of this._intentStates.values())if(I.size>0||!r.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const I of this._bitmaps)I.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,I){const r=this._intentStates.get(I);r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(a))}_renderPageChunk(a,I){for(let r=0,G=a.length;r<G;r++)I.operatorList.fnArray.push(a.fnArray[r]),I.operatorList.argsArray.push(a.argsArray[r]);I.operatorList.lastChunk=a.lastChunk;for(const r of I.renderTasks)r.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:I}){const G=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:I,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),B=this._intentStates.get(I);B.streamReader=G;const W=()=>{G.read().then(({value:z,done:R})=>{R?B.streamReader=null:this._transport.destroyed||(this._renderPageChunk(z,B),W())},z=>{if(B.streamReader=null,!this._transport.destroyed){if(B.operatorList){B.operatorList.lastChunk=!0;for(const R of B.renderTasks)R.operatorListChanged();this._tryCleanup()}if(B.displayReadyCapability)B.displayReadyCapability.reject(z);else{if(!B.opListReadCapability)throw z;B.opListReadCapability.reject(z)}}})};W()}_abortOperatorList({intentState:a,reason:I,force:r=!1}){if(a.streamReader){if(!r){if(a.renderTasks.size>0)return;if(I instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:I,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(I.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[G,B]of this._intentStates)if(B===a){this._intentStates.delete(G);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,I){const r={data:structuredClone(a,I)};this._deferred.then(()=>{for(const G of this._listeners)G.call(this,r)})}addEventListener(a,I){this._listeners.push(I)}removeEventListener(a,I){const r=this._listeners.indexOf(I);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const te=document?.currentScript?.src;te&&(PDFWorkerUtil.fallbackWorkerSrc=te.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(te,a){let I;try{if(I=new URL(te),!I.origin||"null"===I.origin)return!1}catch{return!1}const r=new URL(a,I);return I.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(te){return URL.createObjectURL(new Blob([`importScripts("${te}");`]))};class _PDFWorker{static#workerPorts=new WeakMap;constructor({name:te=null,port:a=null,verbosity:I=(0,_util.getVerbosityLevel)()}={}){if(a&&_PDFWorker.#workerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=te,this.destroyed=!1,this.verbosity=I,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _PDFWorker.#workerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(te){this._port=te,this._messageHandler=new _message_handler.MessageHandler("main","worker",te),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let te=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,te)||(te=PDFWorkerUtil.createCDNWrapper(new URL(te,window.location).href));const a=new Worker(te),I=new _message_handler.MessageHandler("main","worker",a),r=()=>{a.removeEventListener("error",G),I.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},G=()=>{this._webWorker||r()};a.addEventListener("error",G),I.on("test",W=>{a.removeEventListener("error",G),this.destroyed?r():W?(this._messageHandler=I,this._port=a,this._webWorker=a,this._readyCapability.resolve(),I.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),I.destroy(),a.terminate())}),I.on("ready",W=>{if(a.removeEventListener("error",G),this.destroyed)r();else try{B()}catch{this._setupFakeWorker()}});const B=()=>{const W=new Uint8Array;I.send("test",W,[W.buffer])};return void B()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(te=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const I="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(I+"_worker",I,a);te.setup(r,a);const G=new _message_handler.MessageHandler(I,I+"_worker",a);this._messageHandler=G,this._readyCapability.resolve(),G.send("configure",{verbosity:this.verbosity})}).catch(te=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${te.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(te){if(!te?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(te.port)?this.#workerPorts.get(te.port):new _PDFWorker(te)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function te(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#n=new Map;#r=null;constructor(a,I,r,G){this.messageHandler=a,this.loadingTask=I,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:I.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:G.ownerDocument,styleElement:G.styleElement}),this._params=G,G.useWorkerFetch||(this.CMapReaderFactory=new G.CMapReaderFactory({baseUrl:G.cMapUrl,isCompressed:G.cMapPacked}),this.StandardFontDataFactory=new G.StandardFontDataFactory({baseUrl:G.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(a,I=_util.AnnotationMode.ENABLE,r=!1){let G=_util.RenderingIntentFlag.DISPLAY,B="";switch(a){case"any":G=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":G=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(I){case _util.AnnotationMode.DISABLE:G+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:G+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:G+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,B=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${I}`)}return r&&(G+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:G,cacheKey:`${G}_${B}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const r of this.#t.values())a.push(r._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const I=this.messageHandler.sendWithPromise("Terminate",null);return a.push(I),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#r=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:I}=this;a.on("GetReader",(r,G)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=B=>{this._lastProgress={loaded:B.loaded,total:B.total}},G.onPull=()=>{this._fullReader.read().then(function({value:B,done:W}){W?G.close():((0,_util.assert)((0,_util.isArrayBuffer)(B),"GetReader - expected an ArrayBuffer."),G.enqueue(new Uint8Array(B),1,[B]))}).catch(B=>{G.error(B)})},G.onCancel=B=>{this._fullReader.cancel(B),G.ready.catch(W=>{if(!this.destroyed)throw W})}}),a.on("ReaderHeadersReady",r=>{const G=(0,_util.createPromiseCapability)(),B=this._fullReader;return B.headersReady.then(()=>{(!B.isStreamingSupported||!B.isRangeSupported)&&(this._lastProgress&&I.onProgress?.(this._lastProgress),B.onProgress=W=>{I.onProgress?.({loaded:W.loaded,total:W.total})}),G.resolve({isStreamingSupported:B.isStreamingSupported,isRangeSupported:B.isRangeSupported,contentLength:B.contentLength})},G.reject),G.promise}),a.on("GetRangeReader",(r,G)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const B=this._networkStream.getRangeReader(r.begin,r.end);B?(G.onPull=()=>{B.read().then(function({value:W,done:z}){z?G.close():((0,_util.assert)((0,_util.isArrayBuffer)(W),"GetRangeReader - expected an ArrayBuffer."),G.enqueue(new Uint8Array(W),1,[W]))}).catch(W=>{G.error(W)})},G.onCancel=W=>{B.cancel(W),G.ready.catch(z=>{if(!this.destroyed)throw z})}):G.close()}),a.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,I._capability.resolve(new PDFDocumentProxy(r,this))}),a.on("DocException",function(r){let G;switch(r.name){case"PasswordException":G=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":G=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":G=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":G=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":G=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}I._capability.reject(G)}),a.on("PasswordRequest",r=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),I.onPassword){const G=B=>{B instanceof Error?this._passwordCapability.reject(B):this._passwordCapability.resolve({password:B})};try{I.onPassword(G,r.code)}catch(B){this._passwordCapability.reject(B)}}else this._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return this._passwordCapability.promise}),a.on("DataLoaded",r=>{I.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),a.on("StartRenderPage",r=>{this.destroyed||this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),a.on("commonobj",([r,G,B])=>{if(!this.destroyed&&!this.commonObjs.has(r))switch(G){case"Font":const W=this._params;if("error"in B){const s=B.error;(0,_util.warn)(`Error during font loading: ${s}`),this.commonObjs.resolve(r,s);break}let z=null;W.pdfBug&&globalThis.FontInspector?.enabled&&(z={registerFont(s,P){globalThis.FontInspector.fontAdded(s,P)}});const R=new _font_loader.FontFaceObject(B,{isEvalSupported:W.isEvalSupported,disableFontFace:W.disableFontFace,ignoreErrors:W.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:z});this.fontLoader.bind(R).catch(s=>a.sendWithPromise("FontFallback",{id:r})).finally(()=>{!W.fontExtraProperties&&R.data&&(R.data=null),this.commonObjs.resolve(r,R)});break;case"FontPath":case"Image":this.commonObjs.resolve(r,B);break;default:throw new Error(`Got unknown common object type ${G}`)}}),a.on("obj",([r,G,B,W])=>{if(this.destroyed)return;const z=this.#t.get(G);if(!z.objs.has(r))switch(B){case"Image":z.objs.resolve(r,W);const R=8e6;if(W){let s;if(W.bitmap){const{bitmap:P,width:f,height:y}=W;s=f*y*4,z._bitmaps.add(P)}else s=W.data?.length||0;s>R&&(z.cleanupAfterRender=!0)}break;case"Pattern":z.objs.resolve(r,W);break;default:throw new Error(`Got unknown object type ${B}`)}}),a.on("DocProgress",r=>{this.destroyed||I.onProgress?.({loaded:r.loaded,total:r.total})}),a.on("DocStats",r=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(r.streamTypes),fontTypes:Object.freeze(r.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const I=a-1,r=this.#n.get(I);if(r)return r;const G=this.messageHandler.sendWithPromise("GetPage",{pageIndex:I}).then(B=>{if(this.destroyed)throw new Error("Transport destroyed");const W=new PDFPageProxy(I,B,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(I,W),W});return this.#n.set(I,G),G}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,I){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:I})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#r||=this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var I=this;return _asyncToGenerator(function*(){if(yield I.messageHandler.sendWithPromise("Cleanup",null),!I.destroyed){for(const r of I.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);I.commonObjs.clear(),a||I.fontLoader.clear(),I.#r=null,I._getFieldObjectsPromise=null,I._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(a){return this.#e[a]||(this.#e[a]={capability:(0,_util.createPromiseCapability)(),data:null})}get(a,I=null){if(I){const G=this.#t(a);return G.capability.promise.then(()=>I(G.data)),null}const r=this.#e[a];if(!r?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return r.data}has(a){return this.#e[a]?.capability.settled||!1}resolve(a,I=null){const r=this.#t(a);r.data=I,r.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:a,params:I,objs:r,commonObjs:G,annotationCanvasMap:B,operatorList:W,pageIndex:z,canvasFactory:R,useRequestAnimationFrame:s=!1,pdfBug:P=!1,pageColors:f=null}){this.callback=a,this.params=I,this.objs=r,this.commonObjs=G,this.annotationCanvasMap=B,this.operatorListIdx=null,this.operatorList=W,this._pageIndex=z,this.canvasFactory=R,this._pdfBug=P,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===s&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=I.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:I}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:G,transform:B,imageLayer:W,background:z}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,W,I,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:B,viewport:G,transparency:a,background:z}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&InternalRenderTask.#e.delete(a._canvas),a.callback())))})()}}const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function i(x){console.log("Deprecated API usage: "+x)},a.getFilenameFromUrl=function S(x){const k=x.indexOf("#"),l=x.indexOf("?"),T=Math.min(k>0?k:x.length,l>0?l:x.length);return x.substring(x.lastIndexOf("/",T)+1,T)},a.getPdfFilenameFromUrl=function u(x,k="document.pdf"){if("string"!=typeof x)return k;if(_(x))return(0,G.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),k;const T=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,E=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(x);let O=T.exec(E[1])||T.exec(E[2])||T.exec(E[3]);if(O&&(O=O[0],O.includes("%")))try{O=T.exec(decodeURIComponent(O))[0]}catch{}return O||k},a.getXfaPageViewport=function v(x,{scale:k=1,rotation:l=0}){const{width:T,height:E}=x.attributes.style,O=[0,0,parseInt(T),parseInt(E)];return new C({viewBox:O,scale:k,rotation:l})},a.isDataScheme=_,a.isPdfFile=function c(x){return"string"==typeof x&&/\.pdf$/i.test(x)},a.isValidFetchUrl=g,a.loadScript=function n(x,k=!1){return new Promise((l,T)=>{const E=document.createElement("script");E.src=x,E.onload=function(O){k&&E.remove(),l(O)},E.onerror=function(){T(new Error(`Cannot load script at: ${E.src}`))},(document.head||document.documentElement).appendChild(E)})};var r=I(6),G=I(1);function R(x){return s.apply(this,arguments)}function s(){return(s=_asyncToGenerator(function*(x,k=!1){if(g(x,document.baseURI)){const l=yield fetch(x);if(!l.ok)throw new Error(l.statusText);return k?new Uint8Array(yield l.arrayBuffer()):(0,G.stringToBytes)(yield l.text())}return new Promise((l,T)=>{const E=new XMLHttpRequest;E.open("GET",x,!0),k&&(E.responseType="arraybuffer"),E.onreadystatechange=()=>{if(E.readyState===XMLHttpRequest.DONE){if(200===E.status||0===E.status){let O;if(k&&E.response?O=new Uint8Array(E.response):!k&&E.responseText&&(O=(0,G.stringToBytes)(E.responseText)),O)return void l(O)}T(new Error(E.statusText))}},E.send(null)})})).apply(this,arguments)}a.PixelsPerInch=class W{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},a.DOMCanvasFactory=class z extends r.BaseCanvasFactory{constructor({ownerDocument:k=globalThis.document}={}){super(),this._document=k}_createCanvas(k,l){const T=this._document.createElement("canvas");return T.width=k,T.height=l,T}},a.DOMCMapReaderFactory=class P extends r.BaseCMapReaderFactory{_fetchData(k,l){return R(k,this.isCompressed).then(T=>({cMapData:T,compressionType:l}))}},a.DOMStandardFontDataFactory=class f extends r.BaseStandardFontDataFactory{_fetchData(k){return R(k,!0)}},a.DOMSVGFactory=class y extends r.BaseSVGFactory{_createSVG(k){return document.createElementNS("http://www.w3.org/2000/svg",k)}};class C{constructor({viewBox:k,scale:l,rotation:T,offsetX:E=0,offsetY:O=0,dontFlip:N=!1}){this.viewBox=k,this.scale=l,this.rotation=T,this.offsetX=E,this.offsetY=O;const M=(k[2]+k[0])/2,D=(k[3]+k[1])/2;let V,X,J,w,e,t,o,m;switch((T%=360)<0&&(T+=360),T){case 180:V=-1,X=0,J=0,w=1;break;case 90:V=0,X=1,J=1,w=0;break;case 270:V=0,X=-1,J=-1,w=0;break;case 0:V=1,X=0,J=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}N&&(J=-J,w=-w),0===V?(e=Math.abs(D-k[1])*l+E,t=Math.abs(M-k[0])*l+O,o=Math.abs(k[3]-k[1])*l,m=Math.abs(k[2]-k[0])*l):(e=Math.abs(M-k[0])*l+E,t=Math.abs(D-k[1])*l+O,o=Math.abs(k[2]-k[0])*l,m=Math.abs(k[3]-k[1])*l),this.transform=[V*l,X*l,J*l,w*l,e-V*l*M-J*l*D,t-X*l*M-w*l*D],this.width=o,this.height=m}clone({scale:k=this.scale,rotation:l=this.rotation,offsetX:T=this.offsetX,offsetY:E=this.offsetY,dontFlip:O=!1}={}){return new C({viewBox:this.viewBox.slice(),scale:k,rotation:l,offsetX:T,offsetY:E,dontFlip:O})}convertToViewportPoint(k,l){return G.Util.applyTransform([k,l],this.transform)}convertToViewportRectangle(k){const l=G.Util.applyTransform([k[0],k[1]],this.transform),T=G.Util.applyTransform([k[2],k[3]],this.transform);return[l[0],l[1],T[0],T[1]]}convertToPdfPoint(k,l){return G.Util.applyInverseTransform([k,l],this.transform)}}function _(x){const k=x.length;let l=0;for(;l<k&&""===x[l].trim();)l++;return"data:"===x.substring(l,l+5).toLowerCase()}function g(x,k){try{const{protocol:l}=k?new URL(x,k):new URL(x);return"http:"===l||"https:"===l}catch{return!1}}let p;a.PageViewport=C,a.RenderingCancelledException=class F extends G.BaseException{constructor(k,l){super(k,"RenderingCancelledException"),this.type=l}},a.StatTimer=class b{constructor(){this.started=Object.create(null),this.times=[]}time(k){k in this.started&&(0,G.warn)(`Timer is already running for ${k}`),this.started[k]=Date.now()}timeEnd(k){k in this.started||(0,G.warn)(`Timer has not been started for ${k}`),this.times.push({name:k,start:this.started[k],end:Date.now()}),delete this.started[k]}toString(){const k=[];let l=0;for(const T of this.times){const E=T.name;E.length>l&&(l=E.length)}for(const T of this.times){const E=T.end-T.start;k.push(`${T.name.padEnd(l)} ${E}ms\n`)}return k.join("")}},a.PDFDateString=class h{static toDateObject(k){if(!k||"string"!=typeof k)return null;p||(p=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const l=p.exec(k);if(!l)return null;const T=parseInt(l[1],10);let E=parseInt(l[2],10);E=E>=1&&E<=12?E-1:0;let O=parseInt(l[3],10);O=O>=1&&O<=31?O:1;let N=parseInt(l[4],10);N=N>=0&&N<=23?N:0;let M=parseInt(l[5],10);M=M>=0&&M<=59?M:0;let D=parseInt(l[6],10);D=D>=0&&D<=59?D:0;const V=l[7]||"Z";let X=parseInt(l[8],10);X=X>=0&&X<=23?X:0;let J=parseInt(l[9],10)||0;return J=J>=0&&J<=59?J:0,"-"===V?(N+=X,M+=J):"+"===V&&(N-=X,M-=J),new Date(Date.UTC(T,E,O,N,M,D))}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var r=I(1);class G{constructor(){this.constructor===G&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(s,P){if(s<=0||P<=0)throw new Error("Invalid canvas size");const f=this._createCanvas(s,P);return{canvas:f,context:f.getContext("2d")}}reset(s,P,f){if(!s.canvas)throw new Error("Canvas is not specified");if(P<=0||f<=0)throw new Error("Invalid canvas size");s.canvas.width=P,s.canvas.height=f}destroy(s){if(!s.canvas)throw new Error("Canvas is not specified");s.canvas.width=0,s.canvas.height=0,s.canvas=null,s.context=null}_createCanvas(s,P){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=G;class B{constructor({baseUrl:s=null,isCompressed:P=!1}){this.constructor===B&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=s,this.isCompressed=P}fetch({name:s}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!s)throw new Error("CMap name must be specified.");const f=P.baseUrl+s+(P.isCompressed?".bcmap":"");return P._fetchData(f,P.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE).catch(C=>{throw new Error(`Unable to load ${P.isCompressed?"binary ":""}CMap at: ${f}`)})})()}_fetchData(s,P){(0,r.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=B;class W{constructor({baseUrl:s=null}){this.constructor===W&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=s}fetch({filename:s}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!s)throw new Error("Font filename must be specified.");const f=`${P.baseUrl}${s}`;return P._fetchData(f).catch(y=>{throw new Error(`Unable to load font data at: ${f}`)})})()}_fetchData(s){(0,r.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=W;class z{constructor(){this.constructor===z&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(s,P){if(s<=0||P<=0)throw new Error("Invalid SVG dimensions");const f=this._createSVG("svg:svg");return f.setAttribute("version","1.1"),f.setAttribute("width",`${s}px`),f.setAttribute("height",`${P}px`),f.setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox",`0 0 ${s} ${P}`),f}createElement(s){if("string"!=typeof s)throw new Error("Invalid SVG element type");return this._createSVG(s)}_createSVG(s){(0,r.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=z},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var r=I(1);class G{constructor({docId:R,onUnsupportedFeature:s,ownerDocument:P=globalThis.document,styleElement:f=null}){this.constructor===G&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=R,this._onUnsupportedFeature=s,this._document=P,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(R){this.nativeFontFaces.push(R),this._document.fonts.add(R)}insertRule(R){let s=this.styleElement;s||(s=this.styleElement=this._document.createElement("style"),s.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(s));const P=s.sheet;P.insertRule(R,P.cssRules.length)}clear(){for(const R of this.nativeFontFaces)this._document.fonts.delete(R);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(R){var s=this;return _asyncToGenerator(function*(){if(R.attached||R.missingFile)return;if(R.attached=!0,s.isFontLoadingAPISupported){const f=R.createNativeFontFace();if(f){s.addNativeFontFace(f);try{yield f.loaded}catch(y){throw s._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${f.family}': '${y}'.`),R.disableFontFace=!0,y}}return}const P=R.createFontFaceRule();if(P){if(s.insertRule(P),s.isSyncFontLoadingSupported)return;yield new Promise(f=>{const y=s._queueLoadingCallback(f);s._prepareFontLoadEvent([P],[R],y)})}})()}_queueLoadingCallback(R){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,r.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(R,s,P){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let B;a.FontLoader=B,a.FontLoader=B=class extends G{constructor(R){super(R),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let R=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(R=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",R)}_queueLoadingCallback(R){const P=this.loadingContext,f={id:"pdfjs-font-loading-"+P.nextRequestId++,done:!1,complete:function s(){for((0,r.assert)(!f.done,"completeRequest() cannot be called twice."),f.done=!0;P.requests.length>0&&P.requests[0].done;){const y=P.requests.shift();setTimeout(y.callback,0)}},callback:R};return P.requests.push(f),f}get _loadTestFont(){return(0,r.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(R,s,P){function f(T,E){return T.charCodeAt(E)<<24|T.charCodeAt(E+1)<<16|T.charCodeAt(E+2)<<8|255&T.charCodeAt(E+3)}function y(T,E,O,N){return T.substring(0,E)+N+T.substring(E+O)}let C,F;const _=this._document.createElement("canvas");_.width=1,_.height=1;const c=_.getContext("2d");let S=0;const b=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=y(g,976,b.length,b);const p=1482184792;let h=f(g,16);for(C=0,F=b.length-3;C<F;C+=4)h=h-p+f(b,C)|0;C<b.length&&(h=h-p+f(b+"XXX",C)|0),g=y(g,16,4,(0,r.string32)(h));const v=`url(data:font/opentype;base64,${btoa(g)});`;this.insertRule(`@font-face {font-family:"${b}";src:${v}}`);const k=[];for(const T of s)k.push(T.loadedName);k.push(b);const l=this._document.createElement("div");l.style.visibility="hidden",l.style.width=l.style.height="10px",l.style.position="absolute",l.style.top=l.style.left="0px";for(const T of k){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=T,l.appendChild(E)}this._document.body.appendChild(l),function u(T,E){if(S++,S>30)return(0,r.warn)("Load test font never loaded."),void E();c.font="30px "+T,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?E():setTimeout(u.bind(null,T,E))}(b,()=>{l.remove(),P.complete()})}},a.FontFaceObject=class W{constructor(R,{isEvalSupported:s=!0,disableFontFace:P=!1,ignoreErrors:f=!1,onUnsupportedFeature:y,fontRegistry:C=null}){this.compiledGlyphs=Object.create(null);for(const F in R)this[F]=R[F];this.isEvalSupported=!1!==s,this.disableFontFace=!0===P,this.ignoreErrors=!0===f,this._onUnsupportedFeature=y,this.fontRegistry=C}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let R;if(this.cssFontInfo){const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),R=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}else R=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),R}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const R=(0,r.bytesToString)(this.data),s=`url(data:${this.mimetype};base64,${btoa(R)});`;let P;if(this.cssFontInfo){let f=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(f+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),P=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${f}src:${s}}`}else P=`@font-face {font-family:"${this.loadedName}";src:${s}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,s),P}getPathGenerator(R,s){if(void 0!==this.compiledGlyphs[s])return this.compiledGlyphs[s];let P;try{P=R.get(this.loadedName+"_path_"+s)}catch(f){if(!this.ignoreErrors)throw f;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${f}".`),this.compiledGlyphs[s]=function(y,C){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const f=[];for(const y of P){const C=void 0!==y.args?y.args.join(","):"";f.push("c.",y.cmd,"(",C,");\n")}return this.compiledGlyphs[s]=new Function("c","size",f.join(""))}return this.compiledGlyphs[s]=function(f,y){for(const C of P)"scale"===C.cmd&&(C.args=[y,-y]),f[C.cmd].apply(f,C.args)}}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var r=I(9),G=I(1);a.AnnotationStorage=class B{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(z,R){const s=this._storage.get(z);return void 0===s?R:Object.assign(R,s)}getRawValue(z){return this._storage.get(z)}setValue(z,R){const s=this._storage.get(z);let P=!1;if(void 0!==s)for(const[f,y]of Object.entries(R))s[f]!==y&&(P=!0,s[f]=y);else P=!0,this._storage.set(z,R);P&&this._setModified()}getAll(){return this._storage.size>0?(0,G.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const z=new r.MurmurHash3_64;for(const[R,s]of this._storage)z.update(`${R}:${JSON.stringify(s)}`);return z.hexdigest()}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var r=I(1);const G=3285377520,B=4294901760,W=65535;a.MurmurHash3_64=class z{constructor(s){this.h1=s?4294967295&s:G,this.h2=s?4294967295&s:G}update(s){let P,f;if("string"==typeof s){P=new Uint8Array(2*s.length),f=0;for(let p=0,h=s.length;p<h;p++){const v=s.charCodeAt(p);v<=255?P[f++]=v:(P[f++]=v>>>8,P[f++]=255&v)}}else{if(!(0,r.isArrayBuffer)(s))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");P=s.slice(),f=P.byteLength}const y=f>>2,C=f-4*y,F=new Uint32Array(P.buffer,0,y);let _=0,c=0,S=this.h1,u=this.h2;const b=3432918353,g=461845907,n=b&W,i=g&W;for(let p=0;p<y;p++)1&p?(_=F[p],_=_*b&B|_*n&W,_=_<<15|_>>>17,_=_*g&B|_*i&W,S^=_,S=S<<13|S>>>19,S=5*S+3864292196):(c=F[p],c=c*b&B|c*n&W,c=c<<15|c>>>17,c=c*g&B|c*i&W,u^=c,u=u<<13|u>>>19,u=5*u+3864292196);switch(_=0,C){case 3:_^=P[4*y+2]<<16;case 2:_^=P[4*y+1]<<8;case 1:_^=P[4*y],_=_*b&B|_*n&W,_=_<<15|_>>>17,_=_*g&B|_*i&W,1&y?S^=_:u^=_}this.h1=S,this.h2=u}hexdigest(){let s=this.h1,P=this.h2;s^=P>>>1,s=3981806797*s&B|36045*s&W,P=4283543511*P&B|(2950163797*(P<<16|s>>>16)&B)>>>16,s^=P>>>1,s=444984403*s&B|60499*s&W,P=3301882366*P&B|(3120437893*(P<<16|s>>>16)&B)>>>16,s^=P>>>1;const f=(s>>>0).toString(16),y=(P>>>0).toString(16);return f.padStart(8,"0")+y.padStart(8,"0")}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var r=I(1),G=I(11),B=I(12),W=I(3),z=I(5);const P=4096,_=16,c=1.000001;function u(w){if(w._transformStack&&(w._transformStack=[]),!w.mozCurrentTransform){w._originalSave=w.save,w._originalRestore=w.restore,w._originalRotate=w.rotate,w._originalScale=w.scale,w._originalTranslate=w.translate,w._originalTransform=w.transform,w._originalSetTransform=w.setTransform,w._originalResetTransform=w.resetTransform,w._transformMatrix=w._transformMatrix||[1,0,0,1,0,0],w._transformStack=[];try{const e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(w),"lineWidth");w._setLineWidth=e.set,w._getLineWidth=e.get,Object.defineProperty(w,"lineWidth",{set:function(o){this._setLineWidth(o*c)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(w,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(w,"mozCurrentTransformInverse",{get:function(){const[t,o,m,d,A,L]=this._transformMatrix,U=t*d-o*m,j=o*m-t*d;return[d/U,o/j,m/j,t/U,(d*A-m*L)/j,(o*A-t*L)/U]}}),w.save=function(){const t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},w.restore=function(){0===this._transformStack.length&&(0,r.warn)("Tried to restore a ctx when the stack was already empty.");const t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},w.translate=function(t,o){const m=this._transformMatrix;m[4]=m[0]*t+m[2]*o+m[4],m[5]=m[1]*t+m[3]*o+m[5],this._originalTranslate(t,o)},w.scale=function(t,o){const m=this._transformMatrix;m[0]*=t,m[1]*=t,m[2]*=o,m[3]*=o,this._originalScale(t,o)},w.transform=function(t,o,m,d,A,L){const U=this._transformMatrix;this._transformMatrix=[U[0]*t+U[2]*o,U[1]*t+U[3]*o,U[0]*m+U[2]*d,U[1]*m+U[3]*d,U[0]*A+U[2]*L+U[4],U[1]*A+U[3]*L+U[5]],w._originalTransform(t,o,m,d,A,L)},w.setTransform=function(t,o,m,d,A,L){this._transformMatrix=[t,o,m,d,A,L],w._originalSetTransform(t,o,m,d,A,L)},w.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],w._originalResetTransform()},w.rotate=function(t){const o=Math.cos(t),m=Math.sin(t),d=this._transformMatrix;this._transformMatrix=[d[0]*o+d[2]*m,d[1]*o+d[3]*m,d[0]*-m+d[2]*o,d[1]*-m+d[3]*o,d[4],d[5]],this._originalRotate(t)}}}class b{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,o,m){let d;return void 0!==this.cache[e]?(d=this.cache[e],this.canvasFactory.reset(d,t,o),d.context.setTransform(1,0,0,1,0,0)):(d=this.canvasFactory.create(t,o),this.cache[e]=d),m&&u(d.context),d}delete(e){delete this.cache[e]}clear(){for(const e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}}function g(w,e,t,o,m,d,A,L,U,j){const[H,q,K,ie,se,Q]=w.mozCurrentTransform;if(0===q&&0===K){const ne=Math.round(A*H+se),he=Math.round(L*ie+Q),pe=Math.abs(Math.round((A+U)*H+se)-ne)||1,de=Math.abs(Math.round((L+j)*ie+Q)-he)||1;return w.setTransform(Math.sign(H),0,0,Math.sign(ie),ne,he),w.drawImage(e,t,o,m,d,0,0,pe,de),w.setTransform(H,q,K,ie,se,Q),[pe,de]}if(0===H&&0===ie){const ne=Math.round(L*K+se),he=Math.round(A*q+Q),pe=Math.abs(Math.round((L+j)*K+se)-ne)||1,de=Math.abs(Math.round((A+U)*q+Q)-he)||1;return w.setTransform(0,Math.sign(q),Math.sign(K),0,ne,he),w.drawImage(e,t,o,m,d,0,0,de,pe),w.setTransform(H,q,K,ie,se,Q),[de,pe]}return w.drawImage(e,t,o,m,d,A,L,U,j),[Math.hypot(H,q)*U,Math.hypot(K,ie)*j]}class i{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,o){[t,o]=r.Util.applyTransform([t,o],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,o),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,o)}updateRectMinMax(e,t){const o=r.Util.applyTransform(t,e),m=r.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,o[0],m[0]),this.minY=Math.min(this.minY,o[1],m[1]),this.maxX=Math.max(this.maxX,o[0],m[0]),this.maxY=Math.max(this.maxY,o[1],m[1])}updateScalingPathMinMax(e,t){r.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,o,m,d,A,L,U,j,H){const q=r.Util.bezierBoundingBox(t,o,m,d,A,L,U,j);if(H)return H[0]=Math.min(H[0],q[0],q[2]),H[1]=Math.max(H[1],q[0],q[2]),H[2]=Math.min(H[2],q[1],q[3]),void(H[3]=Math.max(H[3],q[1],q[3]));this.updateRectMinMax(e,q)}getPathBoundingBox(e=G.PathType.FILL,t=null){const o=[this.minX,this.minY,this.maxX,this.maxY];if(e===G.PathType.STROKE){t||(0,r.unreachable)("Stroke bounding box must include transform.");const m=r.Util.singularValueDecompose2dScale(t),d=m[0]*this.lineWidth/2,A=m[1]*this.lineWidth/2;o[0]-=d,o[1]-=A,o[2]+=d,o[3]+=A}return o}updateClipFromPath(){const e=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=G.PathType.FILL,t=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function p(w,e,t=null){if(typeof ImageData<"u"&&e instanceof ImageData)return void w.putImageData(e,0,0);const o=e.height,m=e.width,d=o%_,A=(o-d)/_,L=0===d?A:A+1,U=w.createImageData(m,_);let H,j=0;const q=e.data,K=U.data;let ie,se,Q,Z,ae,re,ne,ce;if(t)switch(t.length){case 1:ae=t[0],re=t[0],ne=t[0],ce=t[0];break;case 4:ae=t[0],re=t[1],ne=t[2],ce=t[3]}if(e.kind===r.ImageKind.GRAYSCALE_1BPP){const he=q.byteLength,oe=new Uint32Array(K.buffer,0,K.byteLength>>2),pe=oe.length,_e=m+7>>3;let de=4294967295,me=r.FeatureTest.isLittleEndian?4278190080:255;for(ce&&255===ce[0]&&0===ce[255]&&([de,me]=[me,de]),ie=0;ie<L;ie++){for(Q=ie<A?_:d,H=0,se=0;se<Q;se++){const ve=he-j;let Se=0;const be=ve>_e?m:8*ve-7,we=-8&be;let ee=0,$=0;for(;Se<we;Se+=8)$=q[j++],oe[H++]=128&$?de:me,oe[H++]=64&$?de:me,oe[H++]=32&$?de:me,oe[H++]=16&$?de:me,oe[H++]=8&$?de:me,oe[H++]=4&$?de:me,oe[H++]=2&$?de:me,oe[H++]=1&$?de:me;for(;Se<be;Se++)0===ee&&($=q[j++],ee=128),oe[H++]=$&ee?de:me,ee>>=1}for(;H<pe;)oe[H++]=0;w.putImageData(U,0,ie*_)}}else if(e.kind===r.ImageKind.RGBA_32BPP){const he=!!(ae||re||ne);for(se=0,Z=m*_*4,ie=0;ie<A;ie++){if(K.set(q.subarray(j,j+Z)),j+=Z,he)for(let oe=0;oe<Z;oe+=4)ae&&(K[oe+0]=ae[K[oe+0]]),re&&(K[oe+1]=re[K[oe+1]]),ne&&(K[oe+2]=ne[K[oe+2]]);w.putImageData(U,0,se),se+=_}if(ie<L){if(Z=m*d*4,K.set(q.subarray(j,j+Z)),he)for(let oe=0;oe<Z;oe+=4)ae&&(K[oe+0]=ae[K[oe+0]]),re&&(K[oe+1]=re[K[oe+1]]),ne&&(K[oe+2]=ne[K[oe+2]]);w.putImageData(U,0,se)}}else{if(e.kind!==r.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);{const he=!!(ae||re||ne);for(Q=_,Z=m*Q,ie=0;ie<L;ie++){for(ie>=A&&(Q=d,Z=m*Q),H=0,se=Z;se--;)K[H++]=q[j++],K[H++]=q[j++],K[H++]=q[j++],K[H++]=255;if(he)for(let oe=0;oe<H;oe+=4)ae&&(K[oe+0]=ae[K[oe+0]]),re&&(K[oe+1]=re[K[oe+1]]),ne&&(K[oe+2]=ne[K[oe+2]]);w.putImageData(U,0,ie*_)}}}}function h(w,e){if(e.bitmap)return void w.drawImage(e.bitmap,0,0);const t=e.height,o=e.width,m=t%_,d=(t-m)/_,A=0===m?d:d+1,L=w.createImageData(o,_);let U=0;const j=e.data,H=L.data;for(let q=0;q<A;q++){const K=q<d?_:m;({srcPos:U}=(0,B.applyMaskImageData)({src:j,srcPos:U,dest:H,width:o,height:K})),w.putImageData(L,0,q*_)}}function v(w,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let o=0,m=t.length;o<m;o++){const d=t[o];void 0!==w[d]&&(e[d]=w[d])}void 0!==w.setLineDash&&(e.setLineDash(w.getLineDash()),e.lineDashOffset=w.lineDashOffset)}function x(w,e){w.strokeStyle=w.fillStyle=e||"#000000",w.fillRule="nonzero",w.globalAlpha=1,w.lineWidth=1,w.lineCap="butt",w.lineJoin="miter",w.miterLimit=10,w.globalCompositeOperation="source-over",w.font="10px sans-serif",void 0!==w.setLineDash&&(w.setLineDash([]),w.lineDashOffset=0)}function k(w,e,t,o){const m=w.length;for(let d=3;d<m;d+=4){const A=w[d];if(0===A)w[d-3]=e,w[d-2]=t,w[d-1]=o;else if(A<255){const L=255-A;w[d-3]=w[d-3]*A+e*L>>8,w[d-2]=w[d-2]*A+t*L>>8,w[d-1]=w[d-1]*A+o*L>>8}}}function l(w,e,t){const o=w.length;for(let d=3;d<o;d+=4)e[d]=e[d]*(t?t[w[d]]:w[d])*.00392156862745098|0}function T(w,e,t){const o=w.length;for(let m=3;m<o;m+=4){const d=77*w[m-3]+152*w[m-2]+28*w[m-1];e[m]=t?e[m]*t[d>>8]>>8:e[m]*d>>16}}function N(w,e){const t=r.Util.singularValueDecompose2dScale(w);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const o=Math.fround((globalThis.devicePixelRatio||1)*z.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:t[0]<=o||t[1]<=o}const M=["butt","round","square"],D=["miter","round","bevel"],V={},X={};class J{constructor(e,t,o,m,d,A,L,U){this.ctx=e,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=o,this.canvasFactory=m,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=A,this.cachedCanvases=new b(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=L,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=U?.background||null,this.foregroundColor=U?.foreground||null,e&&u(e),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:o=!1,background:m=null}){const d=this.ctx.canvas.width,A=this.ctx.canvas.height,L=m||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const U=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const j=this.backgroundColor=this.ctx.fillStyle;let H=!0,q=L;if(this.ctx.fillStyle=L,q=this.ctx.fillStyle,H="string"==typeof q&&/^#[0-9A-Fa-f]{6}$/.test(q),"#000000"===U&&"#ffffff"===j||U===j||!H)this.foregroundColor=this.backgroundColor=null;else{const K=parseInt(q.slice(1),16),se=(K&&65280)>>8,Q=K&&255,Z=re=>(re/=255)<=.03928?re/12.92:((re+.055)/1.055)**2.4,ae=Math.round(.2126*Z((K&&16711680)>>16)+.7152*Z(se)+.0722*Z(Q));this.selectColor=(re,ne,ce)=>{const he=.2126*Z(re)+.7152*Z(ne)+.0722*Z(ce);return Math.round(he)===ae?j:U}}}if(this.ctx.fillStyle=this.backgroundColor||L,this.ctx.fillRect(0,0,d,A),this.ctx.restore(),o){const U=this.cachedCanvases.getCanvas("transparent",d,A,!0);this.compositeCtx=this.ctx,this.transparentCanvas=U.canvas,this.ctx=U.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),x(this.ctx,this.foregroundColor),e&&(this.ctx.transform.apply(this.ctx,e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform.apply(this.ctx,t.transform),this.viewportScale=t.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(e,t,o,m){const d=e.argsArray,A=e.fnArray;let L=t||0;const U=d.length;if(U===L)return L;const j=U-L>10&&"function"==typeof o,H=j?Date.now()+15:0;let q=0;const K=this.commonObjs,ie=this.objs;let se;for(;;){if(void 0!==m&&L===m.nextBreakPoint)return m.breakIt(L,o),L;if(se=A[L],se!==r.OPS.dependency)this[se].apply(this,d[L]);else for(const Q of d[L]){const Z=Q.startsWith("g_")?K:ie;if(!Z.has(Q))return Z.get(Q,o),L}if(L++,L===U)return L;if(j&&++q>10){if(Date.now()>H)return o(),L;q=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(e,t){const o=e.width,m=e.height;let H,q,d=Math.max(Math.hypot(t[0],t[1]),1),A=Math.max(Math.hypot(t[2],t[3]),1),L=o,U=m,j="prescale1";for(;d>2&&L>1||A>2&&U>1;){let K=L,ie=U;d>2&&L>1&&(K=Math.ceil(L/2),d/=L/K),A>2&&U>1&&(ie=Math.ceil(U/2),A/=U/ie),H=this.cachedCanvases.getCanvas(j,K,ie,!1),q=H.context,q.clearRect(0,0,K,ie),q.drawImage(e,0,0,L,U,0,0,K,ie),e=H.canvas,L=K,U=ie,j="prescale1"===j?"prescale2":"prescale1"}return{img:e,paintWidth:L,paintHeight:U}}_createMaskCanvas(e){const t=this.ctx,{width:o,height:m}=e,d=this.current.fillColor,A=this.current.patternFill,L=t.mozCurrentTransform;let U,j,H,q;if((e.bitmap||e.data)&&e.count>1){const pe=e.bitmap||e.data.buffer,_e=L.slice(0,4);j=JSON.stringify(A?_e:[_e,d]),U=this._cachedBitmapsMap.get(pe),U||(U=new Map,this._cachedBitmapsMap.set(pe,U));const de=U.get(j);if(de&&!A)return{canvas:de,offsetX:Math.round(Math.min(L[0],L[2])+L[4]),offsetY:Math.round(Math.min(L[1],L[3])+L[5])};H=de}H||(q=this.cachedCanvases.getCanvas("maskCanvas",o,m,!1),h(q.context,e));let K=r.Util.transform(L,[1/o,0,0,-1/m,0,0]);K=r.Util.transform(K,[1,0,0,1,0,-m]);const ie=r.Util.applyTransform([0,0],K),se=r.Util.applyTransform([o,m],K),Q=r.Util.normalizeRect([ie[0],ie[1],se[0],se[1]]),Z=Math.round(Q[2]-Q[0])||1,ae=Math.round(Q[3]-Q[1])||1,re=this.cachedCanvases.getCanvas("fillCanvas",Z,ae,!0),ne=re.context,ce=Math.min(ie[0],se[0]),he=Math.min(ie[1],se[1]);ne.translate(-ce,-he),ne.transform.apply(ne,K),H||(H=this._scaleImage(q.canvas,ne.mozCurrentTransformInverse),H=H.img,U&&A&&U.set(j,H)),ne.imageSmoothingEnabled=N(ne.mozCurrentTransform,e.interpolate),g(ne,H,0,0,H.width,H.height,0,0,o,m),ne.globalCompositeOperation="source-in";const oe=r.Util.transform(ne.mozCurrentTransformInverse,[1,0,0,1,-ce,-he]);return ne.fillStyle=A?d.getPattern(t,this,oe,G.PathType.FILL):d,ne.fillRect(0,0,o,m),U&&!A&&(this.cachedCanvases.delete("fillCanvas"),U.set(j,re.canvas)),{canvas:re.canvas,offsetX:Math.round(ce),offsetY:Math.round(he)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=M[e]}setLineJoin(e){this.ctx.lineJoin=D[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const o=this.ctx;void 0!==o.setLineDash&&(o.setLineDash(e),o.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let t=0,o=e.length;t<o;t++){const m=e[t],A=m[1];switch(m[0]){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A[0],A[1]);break;case"CA":this.current.strokeAlpha=m[1];break;case"ca":this.current.fillAlpha=m[1],this.ctx.globalAlpha=m[1];break;case"BM":this.ctx.globalCompositeOperation=A;break;case"SMask":this.current.activeSMask=A?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=A}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const m=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=m.context;const d=this.ctx;d.setTransform.apply(d,this.suspendedCtx.mozCurrentTransform),v(this.suspendedCtx,d),function S(w,e){if(w._removeMirroring)throw new Error("Context is already forwarding operations.");w.__originalSave=w.save,w.__originalRestore=w.restore,w.__originalRotate=w.rotate,w.__originalScale=w.scale,w.__originalTranslate=w.translate,w.__originalTransform=w.transform,w.__originalSetTransform=w.setTransform,w.__originalResetTransform=w.resetTransform,w.__originalClip=w.clip,w.__originalMoveTo=w.moveTo,w.__originalLineTo=w.lineTo,w.__originalBezierCurveTo=w.bezierCurveTo,w.__originalRect=w.rect,w.__originalClosePath=w.closePath,w.__originalBeginPath=w.beginPath,w._removeMirroring=()=>{w.save=w.__originalSave,w.restore=w.__originalRestore,w.rotate=w.__originalRotate,w.scale=w.__originalScale,w.translate=w.__originalTranslate,w.transform=w.__originalTransform,w.setTransform=w.__originalSetTransform,w.resetTransform=w.__originalResetTransform,w.clip=w.__originalClip,w.moveTo=w.__originalMoveTo,w.lineTo=w.__originalLineTo,w.bezierCurveTo=w.__originalBezierCurveTo,w.rect=w.__originalRect,w.closePath=w.__originalClosePath,w.beginPath=w.__originalBeginPath,delete w._removeMirroring},w.save=function(){e.save(),this.__originalSave()},w.restore=function(){e.restore(),this.__originalRestore()},w.translate=function(o,m){e.translate(o,m),this.__originalTranslate(o,m)},w.scale=function(o,m){e.scale(o,m),this.__originalScale(o,m)},w.transform=function(o,m,d,A,L,U){e.transform(o,m,d,A,L,U),this.__originalTransform(o,m,d,A,L,U)},w.setTransform=function(o,m,d,A,L,U){e.setTransform(o,m,d,A,L,U),this.__originalSetTransform(o,m,d,A,L,U)},w.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},w.rotate=function(o){e.rotate(o),this.__originalRotate(o)},w.clip=function(o){e.clip(o),this.__originalClip(o)},w.moveTo=function(t,o){e.moveTo(t,o),this.__originalMoveTo(t,o)},w.lineTo=function(t,o){e.lineTo(t,o),this.__originalLineTo(t,o)},w.bezierCurveTo=function(t,o,m,d,A,L){e.bezierCurveTo(t,o,m,d,A,L),this.__originalBezierCurveTo(t,o,m,d,A,L)},w.rect=function(t,o,m,d){e.rect(t,o,m,d),this.__originalRect(t,o,m,d)},w.closePath=function(){e.closePath(),this.__originalClosePath()},w.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),v(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){this.current.activeSMask&&(e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function O(w,e,t,o){const m=o[0],d=o[1],A=o[2]-m,L=o[3]-d;0===A||0===L||(function E(w,e,t,o,m,d,A,L,U,j,H){const q=!!d,K=q?d[0]:0,ie=q?d[1]:0,se=q?d[2]:0;let Q;Q="Luminosity"===m?T:l;const ae=Math.min(o,Math.ceil(1048576/t));for(let re=0;re<o;re+=ae){const ne=Math.min(ae,o-re),ce=w.getImageData(L-j,re+(U-H),t,ne),he=e.getImageData(L,re+U,t,ne);q&&k(ce.data,K,ie,se),Q(ce.data,he.data,A),e.putImageData(he,L,re+U)}}(e.context,t,A,L,e.subtype,e.backdrop,e.transferMap,m,d,e.offsetX,e.offsetY),w.save(),w.globalAlpha=1,w.globalCompositeOperation="source-over",w.setTransform(1,0,0,1,0,0),w.drawImage(t.canvas,0,0),w.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(v(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),v(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(e,t,o,m,d,A){this.ctx.transform(e,t,o,m,d,A),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(e,t,o){const m=this.ctx,d=this.current;let U,j,A=d.x,L=d.y;const H=m.mozCurrentTransform,q=0===H[0]&&0===H[3]||0===H[1]&&0===H[2],K=q?o.slice(0):null;for(let ie=0,se=0,Q=e.length;ie<Q;ie++)switch(0|e[ie]){case r.OPS.rectangle:A=t[se++],L=t[se++];const Z=t[se++],ae=t[se++],re=A+Z,ne=L+ae;m.moveTo(A,L),0===Z||0===ae?m.lineTo(re,ne):(m.lineTo(re,L),m.lineTo(re,ne),m.lineTo(A,ne)),q||d.updateRectMinMax(H,[A,L,re,ne]),m.closePath();break;case r.OPS.moveTo:A=t[se++],L=t[se++],m.moveTo(A,L),q||d.updatePathMinMax(H,A,L);break;case r.OPS.lineTo:A=t[se++],L=t[se++],m.lineTo(A,L),q||d.updatePathMinMax(H,A,L);break;case r.OPS.curveTo:U=A,j=L,A=t[se+4],L=t[se+5],m.bezierCurveTo(t[se],t[se+1],t[se+2],t[se+3],A,L),d.updateCurvePathMinMax(H,U,j,t[se],t[se+1],t[se+2],t[se+3],A,L,K),se+=6;break;case r.OPS.curveTo2:U=A,j=L,m.bezierCurveTo(A,L,t[se],t[se+1],t[se+2],t[se+3]),d.updateCurvePathMinMax(H,U,j,A,L,t[se],t[se+1],t[se+2],t[se+3],K),A=t[se+2],L=t[se+3],se+=4;break;case r.OPS.curveTo3:U=A,j=L,A=t[se+2],L=t[se+3],m.bezierCurveTo(t[se],t[se+1],A,L,A,L),d.updateCurvePathMinMax(H,U,j,t[se],t[se+1],A,L,A,L,K),se+=4;break;case r.OPS.closePath:m.closePath()}q&&d.updateScalingPathMinMax(H,K),d.setCurrentPoint(A,L)}closePath(){this.ctx.closePath()}stroke(e){e=!(typeof e<"u")||e;const t=this.ctx,o=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof o&&o?.getPattern?(t.save(),t.strokeStyle=o.getPattern(t,this,t.mozCurrentTransformInverse,G.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e){e=!(typeof e<"u")||e;const t=this.ctx,o=this.current.fillColor;let d=!1;this.current.patternFill&&(t.save(),t.fillStyle=o.getPattern(t,this,t.mozCurrentTransformInverse,G.PathType.FILL),d=!0);const A=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==A&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),d&&t.restore(),e&&this.consumePath(A)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=V}eoClip(){this.pendingClip=X}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(let o=0;o<e.length;o++){const m=e[o];t.setTransform.apply(t,m.transform),t.translate(m.x,m.y),m.addToPath(t,m.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const o=this.commonObjs.get(e),m=this.current;if(!o)throw new Error(`Can't find font for ${e}`);if(m.fontMatrix=o.fontMatrix||r.FONT_IDENTITY_MATRIX,(0===m.fontMatrix[0]||0===m.fontMatrix[3])&&(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,m.fontDirection=-1):m.fontDirection=1,this.current.font=o,this.current.fontSize=t,o.isType3Font)return;let A="normal";o.black?A="900":o.bold&&(A="bold");const L=o.italic?"italic":"normal",U=`"${o.loadedName||"sans-serif"}", ${o.fallbackName}`;let j=t;t<16?j=16:t>100&&(j=100),this.current.fontSizeScale=t/j,this.ctx.font=`${L} ${A} ${j}px ${U}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,o,m,d,A){this.current.textMatrix=[e,t,o,m,d,A],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,o,m){const d=this.ctx,A=this.current,L=A.font,U=A.textRenderingMode,j=A.fontSize/A.fontSizeScale,H=U&r.TextRenderingMode.FILL_STROKE_MASK,q=!!(U&r.TextRenderingMode.ADD_TO_PATH_FLAG),K=A.patternFill&&!L.missingFile;let ie;(L.disableFontFace||q||K)&&(ie=L.getPathGenerator(this.commonObjs,e)),L.disableFontFace||K?(d.save(),d.translate(t,o),d.beginPath(),ie(d,j),m&&d.setTransform.apply(d,m),(H===r.TextRenderingMode.FILL||H===r.TextRenderingMode.FILL_STROKE)&&d.fill(),(H===r.TextRenderingMode.STROKE||H===r.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((H===r.TextRenderingMode.FILL||H===r.TextRenderingMode.FILL_STROKE)&&d.fillText(e,t,o),(H===r.TextRenderingMode.STROKE||H===r.TextRenderingMode.FILL_STROKE)&&d.strokeText(e,t,o)),q&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:t,y:o,fontSize:j,addToPath:ie})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let o=!1;for(let m=3;m<t.length;m+=4)if(t[m]>0&&t[m]<255){o=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",o)}showText(e){const t=this.current,o=t.font;if(o.isType3Font)return this.showType3Text(e);const m=t.fontSize;if(0===m)return;const d=this.ctx,A=t.fontSizeScale,L=t.charSpacing,U=t.wordSpacing,j=t.fontDirection,H=t.textHScale*j,q=e.length,K=o.vertical,ie=K?1:-1,se=o.defaultVMetrics,Q=m*t.fontMatrix[0],Z=t.textRenderingMode===r.TextRenderingMode.FILL&&!o.disableFontFace&&!t.patternFill;let ae;if(d.save(),d.transform.apply(d,t.textMatrix),d.translate(t.x,t.y+t.textRise),d.scale(H,j>0?-1:1),t.patternFill){d.save();const oe=t.fillColor.getPattern(d,this,d.mozCurrentTransformInverse,G.PathType.FILL);ae=d.mozCurrentTransform,d.restore(),d.fillStyle=oe}let re=t.lineWidth;const ne=t.textMatrixScale;if(0===ne||0===re){const oe=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(oe===r.TextRenderingMode.STROKE||oe===r.TextRenderingMode.FILL_STROKE)&&(re=this.getSinglePixelWidth())}else re/=ne;1!==A&&(d.scale(A,A),re/=A),d.lineWidth=re;let he,ce=0;for(he=0;he<q;++he){const oe=e[he];if("number"==typeof oe){ce+=ie*oe*m/1e3;continue}let pe=!1;const _e=(oe.isSpace?U:0)+L,de=oe.fontChar,me=oe.accent;let ve,Se,we,be=oe.width;if(K){const ee=oe.vmetric||se,$=-(oe.vmetric?ee[1]:.5*be)*Q;be=ee?-ee[0]:be,ve=$/A,Se=(ce+ee[2]*Q)/A}else ve=ce/A,Se=0;if(o.remeasure&&be>0){const ee=1e3*d.measureText(de).width/m*A;if(be<ee&&this.isFontSubpixelAAEnabled){const $=be/ee;pe=!0,d.save(),d.scale($,1),ve/=$}else be!==ee&&(ve+=(be-ee)/2e3*m/A)}this.contentVisible&&(oe.isInFont||o.missingFile)&&(Z&&!me?d.fillText(de,ve,Se):(this.paintChar(de,ve,Se,ae),me&&this.paintChar(me.fontChar,ve+m*me.offset.x/A,Se-m*me.offset.y/A,ae))),we=K?be*Q-_e*j:be*Q+_e*j,ce+=we,pe&&d.restore()}K?t.y-=ce:t.x+=ce*H,d.restore(),this.compose()}showType3Text(e){const t=this.ctx,o=this.current,m=o.font,d=o.fontSize,A=o.fontDirection,L=m.vertical?1:-1,U=o.charSpacing,j=o.wordSpacing,H=o.textHScale*A,q=o.fontMatrix||r.FONT_IDENTITY_MATRIX,K=e.length;let se,Q,Z,ae;if(o.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,t.save(),t.transform.apply(t,o.textMatrix),t.translate(o.x,o.y),t.scale(H,A),se=0;se<K;++se){if(Q=e[se],"number"==typeof Q){ae=L*Q*d/1e3,this.ctx.translate(ae,0),o.x+=ae*H;continue}const re=(Q.isSpace?j:0)+U,ne=m.charProcOperatorList[Q.operatorListId];ne?(this.contentVisible&&(this.processingType3=Q,this.save(),t.scale(d,d),t.transform.apply(t,q),this.executeOperatorList(ne),this.restore()),Z=r.Util.applyTransform([Q.width,0],q)[0]*d+re,t.translate(Z,0),o.x+=Z*H):(0,r.warn)(`Type3 character "${Q.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,o,m,d,A){this.ctx.rect(o,m,d-o,A-m),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const o=e[1],m=this.baseTransform||this.ctx.mozCurrentTransform.slice();t=new G.TilingPattern(e,o,this.ctx,{createCanvasGraphics:A=>new J(A,this.commonObjs,this.objs,this.canvasFactory)},m)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,o){const m=this.selectColor?.(e,t,o)||r.Util.makeHexColor(e,t,o);this.ctx.strokeStyle=m,this.current.strokeColor=m}setFillRGBColor(e,t,o){const m=this.selectColor?.(e,t,o)||r.Util.makeHexColor(e,t,o);this.ctx.fillStyle=m,this.current.fillColor=m,this.current.patternFill=!1}_getPattern(e,t=null){let o;return this.cachedPatterns.has(e)?o=this.cachedPatterns.get(e):(o=(0,G.getShadingPattern)(this.objs.get(e)),this.cachedPatterns.set(e,o)),t&&(o.matrix=t),o}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const o=this._getPattern(e);t.fillStyle=o.getPattern(t,this,t.mozCurrentTransformInverse,G.PathType.SHADING);const m=t.mozCurrentTransformInverse;if(m){const d=t.canvas,A=d.width,L=d.height,U=r.Util.applyTransform([0,0],m),j=r.Util.applyTransform([0,L],m),H=r.Util.applyTransform([A,0],m),q=r.Util.applyTransform([A,L],m),K=Math.min(U[0],j[0],H[0],q[0]),ie=Math.min(U[1],j[1],H[1],q[1]),se=Math.max(U[0],j[0],H[0],q[0]),Q=Math.max(U[1],j[1],H[1],q[1]);this.ctx.fillRect(K,ie,se-K,Q-ie)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t)&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,t),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");const o=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");let m=r.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform);m=r.Util.intersect(m,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];const A=Math.floor(m[0]),L=Math.floor(m[1]);let U=Math.max(Math.ceil(m[2])-A,1),j=Math.max(Math.ceil(m[3])-L,1),H=1,q=1;U>P&&(H=U/P,U=P),j>P&&(q=j/P,j=P),this.current.startNewPathAndClipBox([0,0,U,j]);let K="groupAt"+this.groupLevel;e.smask&&(K+="_smask_"+this.smaskCounter++%2);const ie=this.cachedCanvases.getCanvas(K,U,j,!0),se=ie.context;se.scale(1/H,1/q),se.translate(-A,-L),se.transform.apply(se,o),e.smask?this.smaskStack.push({canvas:ie.canvas,context:se,offsetX:A,offsetY:L,scaleX:H,scaleY:q,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(A,L),t.scale(H,q),t.save()),v(t,se),this.ctx=se,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,o=this.groupStack.pop();if(this.ctx=o,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const m=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,m);const d=r.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],m);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(e,t,o,m,d){if(this.save(),Array.isArray(t)&&4===t.length){const A=t[2]-t[0],L=t[3]-t[1];if(d&&this.annotationCanvasMap){(o=o.slice())[4]-=t[0],o[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=A,t[3]=L;const[U,j]=r.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:H}=this,q=Math.ceil(A*this.outputScaleX*H),K=Math.ceil(L*this.outputScaleY*H);this.annotationCanvas=this.canvasFactory.create(q,K);const{canvas:ie,context:se}=this.annotationCanvas,Q=`var(--zoom-factor) * ${z.PixelsPerInch.PDF_TO_CSS_UNITS}`;ie.style.width=`calc(${A}px * ${Q})`,ie.style.height=`calc(${L}px * ${Q})`,this.annotationCanvasMap.set(e,ie),this.annotationCanvas.savedCtx=this.ctx,this.ctx=se,this.ctx.setTransform(U,0,0,-j,0,L*j),u(this.ctx),x(this.ctx,this.foregroundColor)}else x(this.ctx,this.foregroundColor),this.ctx.rect(t[0],t[1],A,L),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,o),this.transform.apply(this,m)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const o=this.ctx,m=this.processingType3;if(m&&(void 0===m.compiled&&(m.compiled=function n(w){const{width:e,height:t}=w;if(e>1e3||t>1e3)return null;const m=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=e+1;let L,U,j,A=new Uint8Array(d*(t+1));const H=e+7&-8;let q=new Uint8Array(H*t),K=0;for(const ne of w.data){let ce=128;for(;ce>0;)q[K++]=ne&ce?0:255,ce>>=1}let ie=0;for(K=0,0!==q[K]&&(A[0]=1,++ie),U=1;U<e;U++)q[K]!==q[K+1]&&(A[U]=q[K]?2:1,++ie),K++;for(0!==q[K]&&(A[U]=2,++ie),L=1;L<t;L++){K=L*H,j=L*d,q[K-H]!==q[K]&&(A[j]=q[K]?1:8,++ie);let ne=(q[K]?4:0)+(q[K-H]?8:0);for(U=1;U<e;U++)ne=(ne>>2)+(q[K+1]?4:0)+(q[K-H+1]?8:0),m[ne]&&(A[j+U]=m[ne],++ie),K++;if(q[K-H]!==q[K]&&(A[j+U]=q[K]?2:4,++ie),ie>1e3)return null}for(K=H*(t-1),j=L*d,0!==q[K]&&(A[j]=8,++ie),U=1;U<e;U++)q[K]!==q[K+1]&&(A[j+U]=q[K]?4:8,++ie),K++;if(0!==q[K]&&(A[j+U]=4,++ie),ie>1e3)return null;const se=new Int32Array([0,d,-1,0,-d,0,0,0,1]);let Q,Z,ae;for(W.isNodeJS?Z=[]:Q=new Path2D,L=0;ie&&L<=t;L++){let ne=L*d;const ce=ne+e;for(;ne<ce&&!A[ne];)ne++;if(ne===ce)continue;Q?Q.moveTo(ne%d,L):ae=[ne%d,L];const he=ne;let oe=A[ne];do{const pe=se[oe];do{ne+=pe}while(!A[ne]);const _e=A[ne];5!==_e&&10!==_e?(oe=_e,A[ne]=0):(oe=_e&51*oe>>4,A[ne]&=oe>>2|oe<<2),Q?Q.lineTo(ne%d,ne/d|0):ae.push(ne%d,ne/d|0),A[ne]||--ie}while(he!==ne);Q||Z.push(ae),--L}return q=null,A=null,function(ne){if(ne.save(),ne.scale(1/e,-1/t),ne.translate(0,-t),Q)ne.fill(Q);else{ne.beginPath();for(const ce of Z){ne.moveTo(ce[0],ce[1]);for(let he=2,oe=ce.length;he<oe;he+=2)ne.lineTo(ce[he],ce[he+1])}ne.fill()}ne.beginPath(),ne.restore()}}(e)),m.compiled))return void m.compiled(o);const d=this._createMaskCanvas(e),A=d.canvas;o.save(),o.setTransform(1,0,0,1,0,0),o.drawImage(A,d.offsetX,d.offsetY),o.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,o=0,m=0,d,A){if(!this.contentVisible)return;e=this.getObject(e.data,e);const L=this.ctx;L.save();const U=L.mozCurrentTransform;L.transform(t,o,m,d,0,0);const j=this._createMaskCanvas(e);L.setTransform(1,0,0,1,0,0);for(let H=0,q=A.length;H<q;H+=2){const K=r.Util.transform(U,[t,o,m,d,A[H],A[H+1]]),[ie,se]=r.Util.applyTransform([0,0],K);L.drawImage(j.canvas,ie,se)}L.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,o=this.current.fillColor,m=this.current.patternFill;for(let d=0,A=e.length;d<A;d++){const L=e[d],U=L.width,j=L.height,H=this.cachedCanvases.getCanvas("maskCanvas",U,j,!1),q=H.context;q.save(),h(q,L),q.globalCompositeOperation="source-in",q.fillStyle=m?o.getPattern(q,this,t.mozCurrentTransformInverse,G.PathType.FILL):o,q.fillRect(0,0,U,j),q.restore(),t.save(),t.transform.apply(t,L.transform),t.scale(1,-1),g(t,H.canvas,0,0,U,j,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,o,m){if(!this.contentVisible)return;const d=this.getObject(e);if(!d)return void(0,r.warn)("Dependent image isn't ready yet");const A=d.width,L=d.height,U=[];for(let j=0,H=m.length;j<H;j+=2)U.push({transform:[t,0,0,o,m[j],m[j+1]],x:0,y:0,w:A,h:L});this.paintInlineImageXObjectGroup(d,U)}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,o=e.height,m=this.ctx;let d;if(this.save(),m.scale(1/t,-1/o),"function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)d=e;else{const j=this.cachedCanvases.getCanvas("inlineImage",t,o,!1);p(j.context,e,this.current.transferMaps),d=j.canvas}const A=this._scaleImage(d,m.mozCurrentTransformInverse);m.imageSmoothingEnabled=N(m.mozCurrentTransform,e.interpolate);const[L,U]=g(m,A.img,0,0,A.paintWidth,A.paintHeight,0,-o,t,o);if(this.imageLayer){const j=this.getCanvasPosition(0,-o);this.imageLayer.appendImage({imgData:e,left:j[0],top:j[1],width:L,height:U})}this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const o=this.ctx,m=e.width,d=e.height,A=this.cachedCanvases.getCanvas("inlineImage",m,d,!1);p(A.context,e,this.current.transferMaps);for(let U=0,j=t.length;U<j;U++){const H=t[U];if(o.save(),o.transform.apply(o,H.transform),o.scale(1,-1),g(o,A.canvas,H.x,H.y,H.w,H.h,0,-1,1,1),this.imageLayer){const q=this.getCanvasPosition(H.x,H.y);this.imageLayer.appendImage({imgData:e,left:q[0],top:q[1],width:m,height:d})}o.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){this.markedContentStack.push("OC"===e?{visible:this.optionalContentConfig.isVisible(t)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const o=this.ctx;this.pendingClip&&(t||(this.pendingClip===X?o.clip("evenodd"):o.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),o.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=this.ctx.mozCurrentTransform;if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),o=Math.hypot(e[0],e[2]),m=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(o,m)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:e}=this.current,t=this.ctx.mozCurrentTransform;let o,m;if(0===t[1]&&0===t[2]){const d=Math.abs(t[0]),A=Math.abs(t[3]);if(0===e)o=1/d,m=1/A;else{const L=d*e,U=A*e;o=L<1?1/L:1,m=U<1?1/U:1}}else{const d=Math.abs(t[0]*t[3]-t[2]*t[1]),A=Math.hypot(t[0],t[1]),L=Math.hypot(t[2],t[3]);if(0===e)o=L/d,m=A/d;else{const U=e*d;o=L>U?L/U:1,m=A>U?A/U:1}}this._cachedScaleForStroking=[o,m]}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:o}=this.current,[m,d]=this.getScaleForStroking();if(t.lineWidth=o||1,1===m&&1===d)return void t.stroke();let A,L,U;e&&(A=t.mozCurrentTransform.slice(),L=t.getLineDash().slice(),U=t.lineDashOffset),t.scale(m,d);const j=Math.max(m,d);t.setLineDash(t.getLineDash().map(H=>H/j)),t.lineDashOffset/=j,t.stroke(),e&&(t.setTransform(...A),t.setLineDash(L),t.lineDashOffset=U)}getCanvasPosition(e,t){const o=this.ctx.mozCurrentTransform;return[o[0]*e+o[2]*t+o[4],o[1]*e+o[3]*t+o[5]]}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}a.CanvasGraphics=J;for(const w in r.OPS)void 0!==J.prototype[w]&&(J.prototype[r.OPS[w]]=J.prototype[w])},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function C(c){switch(c[0]){case"RadialAxial":return new R(c);case"Mesh":return new f(c);case"Dummy":return new y}throw new Error(`Unknown IR type: ${c[0]}`)};var r=I(1),G=I(3);const B={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function W(c,S){if(!S||G.isNodeJS)return;const u=S[2]-S[0],b=S[3]-S[1],g=new Path2D;g.rect(S[0],S[1],u,b),c.clip(g)}a.PathType=B;class z{constructor(){this.constructor===z&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class R extends z{constructor(S){super(),this._type=S[1],this._bbox=S[2],this._colorStops=S[3],this._p0=S[4],this._p1=S[5],this._r0=S[6],this._r1=S[7],this.matrix=null}_createGradient(S){let u;"axial"===this._type?u=S.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(u=S.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const b of this._colorStops)u.addColorStop(b[0],b[1]);return u}getPattern(S,u,b,g){let n;if(g===B.STROKE||g===B.FILL){const i=u.current.getClippedPathBoundingBox(g,S.mozCurrentTransform)||[0,0,0,0],p=Math.ceil(i[2]-i[0])||1,h=Math.ceil(i[3]-i[1])||1,v=u.cachedCanvases.getCanvas("pattern",p,h,!0),x=v.context;x.clearRect(0,0,x.canvas.width,x.canvas.height),x.beginPath(),x.rect(0,0,x.canvas.width,x.canvas.height),x.translate(-i[0],-i[1]),b=r.Util.transform(b,[1,0,0,1,i[0],i[1]]),x.transform.apply(x,u.baseTransform),this.matrix&&x.transform.apply(x,this.matrix),W(x,this._bbox),x.fillStyle=this._createGradient(x),x.fill(),n=S.createPattern(v.canvas,"no-repeat");const k=new DOMMatrix(b);try{n.setTransform(k)}catch(l){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${l?.message}".`)}}else W(S,this._bbox),n=this._createGradient(S);return n}}function s(c,S,u,b,g,n,i,p){const h=S.coords,v=S.colors,x=c.data,k=4*c.width;let l;h[u+1]>h[b+1]&&(l=u,u=b,b=l,l=n,n=i,i=l),h[b+1]>h[g+1]&&(l=b,b=g,g=l,l=i,i=p,p=l),h[u+1]>h[b+1]&&(l=u,u=b,b=l,l=n,n=i,i=l);const T=(h[u]+S.offsetX)*S.scaleX,E=(h[u+1]+S.offsetY)*S.scaleY,O=(h[b]+S.offsetX)*S.scaleX,N=(h[b+1]+S.offsetY)*S.scaleY,M=(h[g]+S.offsetX)*S.scaleX,D=(h[g+1]+S.offsetY)*S.scaleY;if(E>=D)return;const V=v[n],X=v[n+1],J=v[n+2],w=v[i],e=v[i+1],t=v[i+2],o=v[p],m=v[p+1],d=v[p+2],A=Math.round(E),L=Math.round(D);let U,j,H,q,K,ie,se,Q;for(let Z=A;Z<=L;Z++){if(Z<N){let he;he=Z<E?0:(E-Z)/(E-N),U=T-(T-O)*he,j=V-(V-w)*he,H=X-(X-e)*he,q=J-(J-t)*he}else{let he;he=Z>D?1:N===D?0:(N-Z)/(N-D),U=O-(O-M)*he,j=w-(w-o)*he,H=e-(e-m)*he,q=t-(t-d)*he}let ae;ae=Z<E?0:Z>D?1:(E-Z)/(E-D),K=T-(T-M)*ae,ie=V-(V-o)*ae,se=X-(X-m)*ae,Q=J-(J-d)*ae;const re=Math.round(Math.min(U,K)),ne=Math.round(Math.max(U,K));let ce=k*Z+4*re;for(let he=re;he<=ne;he++)ae=(U-he)/(U-K),ae<0?ae=0:ae>1&&(ae=1),x[ce++]=j-(j-ie)*ae|0,x[ce++]=H-(H-se)*ae|0,x[ce++]=q-(q-Q)*ae|0,x[ce++]=255}}function P(c,S,u){const b=S.coords,g=S.colors;let n,i;switch(S.type){case"lattice":const p=S.verticesPerRow,h=Math.floor(b.length/p)-1,v=p-1;for(n=0;n<h;n++){let x=n*p;for(let k=0;k<v;k++,x++)s(c,u,b[x],b[x+1],b[x+p],g[x],g[x+1],g[x+p]),s(c,u,b[x+p+1],b[x+1],b[x+p],g[x+p+1],g[x+1],g[x+p])}break;case"triangles":for(n=0,i=b.length;n<i;n+=3)s(c,u,b[n],b[n+1],b[n+2],g[n],g[n+1],g[n+2]);break;default:throw new Error("illegal figure")}}class f extends z{constructor(S){super(),this._coords=S[2],this._colors=S[3],this._figures=S[4],this._bounds=S[5],this._bbox=S[7],this._background=S[8],this.matrix=null}_createMeshCanvas(S,u,b){const p=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),v=Math.ceil(this._bounds[2])-p,x=Math.ceil(this._bounds[3])-h,k=Math.min(Math.ceil(Math.abs(v*S[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(x*S[1]*1.1)),3e3),T=v/k,E=x/l,O={coords:this._coords,colors:this._colors,offsetX:-p,offsetY:-h,scaleX:1/T,scaleY:1/E},D=b.getCanvas("mesh",k+4,l+4,!1),V=D.context,X=V.createImageData(k,l);if(u){const w=X.data;for(let e=0,t=w.length;e<t;e+=4)w[e]=u[0],w[e+1]=u[1],w[e+2]=u[2],w[e+3]=255}for(const w of this._figures)P(X,w,O);return V.putImageData(X,2,2),{canvas:D.canvas,offsetX:p-2*T,offsetY:h-2*E,scaleX:T,scaleY:E}}getPattern(S,u,b,g){let n;if(W(S,this._bbox),g===B.SHADING)n=r.Util.singularValueDecompose2dScale(S.mozCurrentTransform);else if(n=r.Util.singularValueDecompose2dScale(u.baseTransform),this.matrix){const p=r.Util.singularValueDecompose2dScale(this.matrix);n=[n[0]*p[0],n[1]*p[1]]}const i=this._createMeshCanvas(n,g===B.SHADING?null:this._background,u.cachedCanvases);return g!==B.SHADING&&(S.setTransform.apply(S,u.baseTransform),this.matrix&&S.transform.apply(S,this.matrix)),S.translate(i.offsetX,i.offsetY),S.scale(i.scaleX,i.scaleY),S.createPattern(i.canvas,"no-repeat")}}class y extends z{getPattern(){return"hotpink"}}class _{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(S,u,b,g,n){this.operatorList=S[2],this.matrix=S[3]||[1,0,0,1,0,0],this.bbox=S[4],this.xstep=S[5],this.ystep=S[6],this.paintType=S[7],this.tilingType=S[8],this.color=u,this.ctx=b,this.canvasGraphicsFactory=g,this.baseTransform=n}createPatternCanvas(S){const u=this.operatorList,b=this.bbox,g=this.xstep,n=this.ystep,i=this.paintType,h=this.color,v=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+this.tilingType);const x=b[0],k=b[1],l=b[2],T=b[3],E=r.Util.singularValueDecompose2dScale(this.matrix),O=r.Util.singularValueDecompose2dScale(this.baseTransform),N=[E[0]*O[0],E[1]*O[1]],M=this.getSizeAndScale(g,this.ctx.canvas.width,N[0]),D=this.getSizeAndScale(n,this.ctx.canvas.height,N[1]),V=S.cachedCanvases.getCanvas("pattern",M.size,D.size,!0),X=V.context,J=v.createCanvasGraphics(X);J.groupLevel=S.groupLevel,this.setFillAndStrokeStyleToContext(J,i,h);let w=x,e=k,t=l,o=T;return x<0&&(w=0,t+=Math.abs(x)),k<0&&(e=0,o+=Math.abs(k)),X.translate(-M.scale*w,-D.scale*e),J.transform(M.scale,0,0,D.scale,0,0),X.save(),this.clipBbox(J,w,e,t,o),J.baseTransform=J.ctx.mozCurrentTransform.slice(),J.executeOperatorList(u),J.endDrawing(),{canvas:V.canvas,scaleX:M.scale,scaleY:D.scale,offsetX:w,offsetY:e}}getSizeAndScale(S,u,b){S=Math.abs(S);const g=Math.max(_.MAX_PATTERN_SIZE,u);let n=Math.ceil(S*b);return n>=g?n=g:b=n/S,{scale:b,size:n}}clipBbox(S,u,b,g,n){S.ctx.rect(u,b,g-u,n-b),S.current.updateRectMinMax(S.ctx.mozCurrentTransform,[u,b,g,n]),S.clip(),S.endPath()}setFillAndStrokeStyleToContext(S,u,b){const g=S.ctx,n=S.current;switch(u){case 1:const i=this.ctx;g.fillStyle=i.fillStyle,g.strokeStyle=i.strokeStyle,n.fillColor=i.fillStyle,n.strokeColor=i.strokeStyle;break;case 2:const p=r.Util.makeHexColor(b[0],b[1],b[2]);g.fillStyle=p,g.strokeStyle=p,n.fillColor=p,n.strokeColor=p;break;default:throw new r.FormatError(`Unsupported paint type: ${u}`)}}getPattern(S,u,b,g){let n=b;g!==B.SHADING&&(n=r.Util.transform(n,u.baseTransform),this.matrix&&(n=r.Util.transform(n,this.matrix)));const i=this.createPatternCanvas(u);let p=new DOMMatrix(n);p=p.translate(i.offsetX,i.offsetY),p=p.scale(1/i.scaleX,1/i.scaleY);const h=S.createPattern(i.canvas,"repeat");try{h.setTransform(p)}catch(v){(0,r.warn)(`TilingPattern.getPattern: "${v?.message}".`)}return h}}a.TilingPattern=_},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=function G({src:B,srcPos:W=0,dest:z,destPos:R=0,width:s,height:P,inverseDecode:f=!1}){const y=r.FeatureTest.isLittleEndian?4278190080:255,[C,F]=f?[0,y]:[y,0],_=s>>3,c=7&s,S=B.length;z=new Uint32Array(z.buffer);for(let u=0;u<P;u++){for(const g=W+_;W<g;W++){const n=W<S?B[W]:255;z[R++]=128&n?F:C,z[R++]=64&n?F:C,z[R++]=32&n?F:C,z[R++]=16&n?F:C,z[R++]=8&n?F:C,z[R++]=4&n?F:C,z[R++]=2&n?F:C,z[R++]=1&n?F:C}if(0===c)continue;const b=W<S?B[W++]:255;for(let g=0;g<c;g++)z[R++]=b&1<<7-g?F:C}return{srcPos:W,destPos:R}};var r=I(1)},(te,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const I=Object.create(null);a.GlobalWorkerOptions=I,I.workerPort=void 0===I.workerPort?null:I.workerPort,I.workerSrc=void 0===I.workerSrc?"":I.workerSrc},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var r=I(1);function W(R){switch(R instanceof Error||"object"==typeof R&&null!==R||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),R.name){case"AbortException":return new r.AbortException(R.message);case"MissingPDFException":return new r.MissingPDFException(R.message);case"PasswordException":return new r.PasswordException(R.message,R.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(R.message,R.status);case"UnknownErrorException":return new r.UnknownErrorException(R.message,R.details);default:return new r.UnknownErrorException(R.message,R.toString())}}a.MessageHandler=class z{constructor(s,P,f){this.sourceName=s,this.targetName=P,this.comObj=f,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const C=y.data;if(C.targetName!==this.sourceName)return;if(C.stream)return void this._processStreamMessage(C);if(C.callback){const _=C.callbackId,c=this.callbackCapabilities[_];if(!c)throw new Error(`Cannot resolve callback ${_}`);if(delete this.callbackCapabilities[_],1===C.callback)c.resolve(C.data);else{if(2!==C.callback)throw new Error("Unexpected callback case");c.reject(W(C.reason))}return}const F=this.actionHandler[C.action];if(!F)throw new Error(`Unknown action from worker: ${C.action}`);if(C.callbackId){const _=this.sourceName,c=C.sourceName;new Promise(function(S){S(F(C.data))}).then(function(S){f.postMessage({sourceName:_,targetName:c,callback:1,callbackId:C.callbackId,data:S})},function(S){f.postMessage({sourceName:_,targetName:c,callback:2,callbackId:C.callbackId,reason:W(S)})})}else C.streamId?this._createStreamSink(C):F(C.data)},f.addEventListener("message",this._onComObjOnMessage)}on(s,P){const f=this.actionHandler;if(f[s])throw new Error(`There is already an actionName called "${s}"`);f[s]=P}send(s,P,f){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,data:P},f)}sendWithPromise(s,P,f){const y=this.callbackId++,C=(0,r.createPromiseCapability)();this.callbackCapabilities[y]=C;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,callbackId:y,data:P},f)}catch(F){C.reject(F)}return C.promise}sendWithStream(s,P,f,y){const C=this.streamId++,F=this.sourceName,_=this.targetName,c=this.comObj;return new ReadableStream({start:S=>{const u=(0,r.createPromiseCapability)();return this.streamControllers[C]={controller:S,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:F,targetName:_,action:s,streamId:C,data:P,desiredSize:S.desiredSize},y),u.promise},pull:S=>{const u=(0,r.createPromiseCapability)();return this.streamControllers[C].pullCall=u,c.postMessage({sourceName:F,targetName:_,stream:6,streamId:C,desiredSize:S.desiredSize}),u.promise},cancel:S=>{(0,r.assert)(S instanceof Error,"cancel must have a valid reason");const u=(0,r.createPromiseCapability)();return this.streamControllers[C].cancelCall=u,this.streamControllers[C].isClosed=!0,c.postMessage({sourceName:F,targetName:_,stream:1,streamId:C,reason:W(S)}),u.promise}},f)}_createStreamSink(s){const P=s.streamId,f=this.sourceName,y=s.sourceName,C=this.comObj,F=this,_=this.actionHandler[s.action],c={enqueue(S,u=1,b){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=u,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),C.postMessage({sourceName:f,targetName:y,stream:4,streamId:P,chunk:S},b)},close(){this.isCancelled||(this.isCancelled=!0,C.postMessage({sourceName:f,targetName:y,stream:3,streamId:P}),delete F.streamSinks[P])},error(S){(0,r.assert)(S instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,C.postMessage({sourceName:f,targetName:y,stream:5,streamId:P,reason:W(S)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:s.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[P]=c,new Promise(function(S){S(_(s.data,c))}).then(function(){C.postMessage({sourceName:f,targetName:y,stream:8,streamId:P,success:!0})},function(S){C.postMessage({sourceName:f,targetName:y,stream:8,streamId:P,reason:W(S)})})}_processStreamMessage(s){const P=s.streamId,f=this.sourceName,y=s.sourceName,C=this.comObj,F=this.streamControllers[P],_=this.streamSinks[P];switch(s.stream){case 8:s.success?F.startCall.resolve():F.startCall.reject(W(s.reason));break;case 7:s.success?F.pullCall.resolve():F.pullCall.reject(W(s.reason));break;case 6:if(!_){C.postMessage({sourceName:f,targetName:y,stream:7,streamId:P,success:!0});break}_.desiredSize<=0&&s.desiredSize>0&&_.sinkCapability.resolve(),_.desiredSize=s.desiredSize,new Promise(function(c){c(_.onPull&&_.onPull())}).then(function(){C.postMessage({sourceName:f,targetName:y,stream:7,streamId:P,success:!0})},function(c){C.postMessage({sourceName:f,targetName:y,stream:7,streamId:P,reason:W(c)})});break;case 4:if((0,r.assert)(F,"enqueue should have stream controller"),F.isClosed)break;F.controller.enqueue(s.chunk);break;case 3:if((0,r.assert)(F,"close should have stream controller"),F.isClosed)break;F.isClosed=!0,F.controller.close(),this._deleteStreamController(F,P);break;case 5:(0,r.assert)(F,"error should have stream controller"),F.controller.error(W(s.reason)),this._deleteStreamController(F,P);break;case 2:s.success?F.cancelCall.resolve():F.cancelCall.reject(W(s.reason)),this._deleteStreamController(F,P);break;case 1:if(!_)break;new Promise(function(c){c(_.onCancel&&_.onCancel(W(s.reason)))}).then(function(){C.postMessage({sourceName:f,targetName:y,stream:2,streamId:P,success:!0})},function(c){C.postMessage({sourceName:f,targetName:y,stream:2,streamId:P,reason:W(c)})}),_.sinkCapability.reject(W(s.reason)),_.isCancelled=!0,delete this.streamSinks[P];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(s,P){var f=this;return _asyncToGenerator(function*(){yield Promise.allSettled([s.startCall&&s.startCall.promise,s.pullCall&&s.pullCall.promise,s.cancelCall&&s.cancelCall.promise]),delete f.streamControllers[P]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var r=I(1);a.Metadata=class G{#e;#t;constructor({parsedData:W,rawData:z}){this.#e=W,this.#t=z}getRaw(){return this.#t}get(W){return this.#e.get(W)??null}getAll(){return(0,r.objectFromMap)(this.#e)}has(W){return this.#e.has(W)}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var r=I(1);class G{constructor(z,R){this.visible=!0,this.name=z,this.intent=R}}a.OptionalContentConfig=class B{constructor(z){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==z){this.name=z.name,this.creator=z.creator,this._order=z.order;for(const R of z.groups)this._groups.set(R.id,new G(R.name,R.intent));if("OFF"===z.baseState)for(const R of this._groups)R.visible=!1;for(const R of z.on)this._groups.get(R).visible=!0;for(const R of z.off)this._groups.get(R).visible=!1}}_evaluateVisibilityExpression(z){const R=z.length;if(R<2)return!0;const s=z[0];for(let P=1;P<R;P++){const f=z[P];let y;if(Array.isArray(f))y=this._evaluateVisibilityExpression(f);else{if(!this._groups.has(f))return(0,r.warn)(`Optional content group not found: ${f}`),!0;y=this._groups.get(f).visible}switch(s){case"And":if(!y)return!1;break;case"Or":if(y)return!0;break;case"Not":return!y;default:return!0}}return"And"===s}isVisible(z){if(0===this._groups.size)return!0;if(!z)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===z.type)return this._groups.has(z.id)?this._groups.get(z.id).visible:((0,r.warn)(`Optional content group not found: ${z.id}`),!0);if("OCMD"===z.type){if(z.expression)return this._evaluateVisibilityExpression(z.expression);if(!z.policy||"AnyOn"===z.policy){for(const R of z.ids){if(!this._groups.has(R))return(0,r.warn)(`Optional content group not found: ${R}`),!0;if(this._groups.get(R).visible)return!0}return!1}if("AllOn"===z.policy){for(const R of z.ids){if(!this._groups.has(R))return(0,r.warn)(`Optional content group not found: ${R}`),!0;if(!this._groups.get(R).visible)return!1}return!0}if("AnyOff"===z.policy){for(const R of z.ids){if(!this._groups.has(R))return(0,r.warn)(`Optional content group not found: ${R}`),!0;if(!this._groups.get(R).visible)return!0}return!1}if("AllOff"===z.policy){for(const R of z.ids){if(!this._groups.has(R))return(0,r.warn)(`Optional content group not found: ${R}`),!0;if(this._groups.get(R).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${z.policy}.`),!0}return(0,r.warn)(`Unknown group type ${z.type}.`),!0}setVisibility(z,R=!0){this._groups.has(z)?this._groups.get(z).visible=!!R:(0,r.warn)(`Optional content group not found: ${z}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}getGroup(z){return this._groups.get(z)||null}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var r=I(1),G=I(5);a.PDFDataTransportStream=class B{constructor(s,P){(0,r.assert)(P,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=s.progressiveDone||!1,this._contentDispositionFilename=s.contentDispositionFilename||null;const f=s.initialData;if(f?.length>0){const y=new Uint8Array(f).buffer;this._queuedChunks.push(y)}this._pdfDataRangeTransport=P,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._contentLength=s.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((y,C)=>{this._onReceiveData({begin:y,chunk:C})}),this._pdfDataRangeTransport.addProgressListener((y,C)=>{this._onProgress({loaded:y,total:C})}),this._pdfDataRangeTransport.addProgressiveReadListener(y=>{this._onReceiveData({chunk:y})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(s){const P=new Uint8Array(s.chunk).buffer;if(void 0===s.begin)this._fullRequestReader?this._fullRequestReader._enqueue(P):this._queuedChunks.push(P);else{const f=this._rangeReaders.some(function(y){return y._begin===s.begin&&(y._enqueue(P),!0)});(0,r.assert)(f,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(s){if(void 0===s.total){const P=this._rangeReaders[0];P?.onProgress&&P.onProgress({loaded:s.loaded})}else{const P=this._fullRequestReader;P?.onProgress&&P.onProgress({loaded:s.loaded,total:s.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(s){const P=this._rangeReaders.indexOf(s);P>=0&&this._rangeReaders.splice(P,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const s=this._queuedChunks;return this._queuedChunks=null,new W(this,s,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(s,P){if(P<=this._progressiveDataLength)return null;const f=new z(this,s,P);return this._pdfDataRangeTransport.requestDataRange(s,P),this._rangeReaders.push(f),f}cancelAllRequests(s){this._fullRequestReader&&this._fullRequestReader.cancel(s);for(const P of this._rangeReaders.slice(0))P.cancel(s);this._pdfDataRangeTransport.abort()}};class W{constructor(s,P,f=!1,y=null){this._stream=s,this._done=f||!1,this._filename=(0,G.isPdfFile)(y)?y:null,this._queuedChunks=P||[],this._loaded=0;for(const C of this._queuedChunks)this._loaded+=C.byteLength;this._requests=[],this._headersReady=Promise.resolve(),s._fullRequestReader=this,this.onProgress=null}_enqueue(s){this._done||(this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunks.push(s),this._loaded+=s.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var s=this;return _asyncToGenerator(function*(){if(s._queuedChunks.length>0)return{value:s._queuedChunks.shift(),done:!1};if(s._done)return{value:void 0,done:!0};const P=(0,r.createPromiseCapability)();return s._requests.push(P),P.promise})()}cancel(s){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class z{constructor(s,P,f){this._stream=s,this._begin=P,this._end=f,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(s){if(!this._done){if(0===this._requests.length)this._queuedChunk=s;else{this._requests.shift().resolve({value:s,done:!1});for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var s=this;return _asyncToGenerator(function*(){if(s._queuedChunk){const f=s._queuedChunk;return s._queuedChunk=null,{value:f,done:!1}}if(s._done)return{value:void 0,done:!0};const P=(0,r.createPromiseCapability)();return s._requests.push(P),P.promise})()}cancel(s){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(te,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class I{static textContent(G){const B=[],W={items:B,styles:Object.create(null)};return function z(R){if(!R)return;let s=null;const P=R.name;if("#text"===P)s=R.value;else{if(!I.shouldBuildText(P))return;R?.attributes?.textContent?s=R.attributes.textContent:R.value&&(s=R.value)}if(null!==s&&B.push({str:s}),R.children)for(const f of R.children)z(f)}(G),W}static shouldBuildText(G){return!("textarea"===G||"input"===G||"option"===G||"select"===G)}}a.XfaText=I},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var r=I(6);const G=function(R){return new Promise((s,P)=>{__webpack_require__(172).readFile(R,(y,C)=>{!y&&C?s(new Uint8Array(C)):P(new Error(y))})})};a.NodeCanvasFactory=class B extends r.BaseCanvasFactory{_createCanvas(s,P){return __webpack_require__(3414).createCanvas(s,P)}},a.NodeCMapReaderFactory=class W extends r.BaseCMapReaderFactory{_fetchData(s,P){return G(s).then(f=>({cMapData:f,compressionType:P}))}},a.NodeStandardFontDataFactory=class z extends r.BaseStandardFontDataFactory{_fetchData(s){return G(s)}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var r=I(1),G=I(5),B=I(8),W=I(21),z=I(22);const R=1e3,s=new WeakSet;function P(w){return{width:w[2]-w[0],height:w[3]-w[1]}}class f{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new C(e);case r.AnnotationType.TEXT:return new F(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new c(e);case"Btn":return e.data.radioButton?new u(e):e.data.checkBox?new S(e):new b(e);case"Ch":return new g(e)}return new _(e);case r.AnnotationType.POPUP:return new n(e);case r.AnnotationType.FREETEXT:return new p(e);case r.AnnotationType.LINE:return new h(e);case r.AnnotationType.SQUARE:return new v(e);case r.AnnotationType.CIRCLE:return new x(e);case r.AnnotationType.POLYLINE:return new k(e);case r.AnnotationType.CARET:return new T(e);case r.AnnotationType.INK:return new E(e);case r.AnnotationType.POLYGON:return new l(e);case r.AnnotationType.HIGHLIGHT:return new O(e);case r.AnnotationType.UNDERLINE:return new N(e);case r.AnnotationType.SQUIGGLY:return new M(e);case r.AnnotationType.STRIKEOUT:return new D(e);case r.AnnotationType.STAMP:return new V(e);case r.AnnotationType.FILEATTACHMENT:return new X(e);default:return new y(e)}}}class y{constructor(e,{isRenderable:t=!1,ignoreBorder:o=!1,createQuadrilaterals:m=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,t&&(this.container=this._createContainer(o)),m&&(this.quadrilaterals=this._createQuadrilaterals(o))}_createContainer(e=!1){const t=this.data,o=this.page,m=this.viewport,d=document.createElement("section");let{width:A,height:L}=P(t.rect);d.setAttribute("data-annotation-id",t.id);const U=r.Util.normalizeRect([t.rect[0],o.view[3]-t.rect[1]+o.view[1],t.rect[2],o.view[3]-t.rect[3]+o.view[1]]);if(t.hasOwnCanvas){const j=m.transform.slice(),[H,q]=r.Util.singularValueDecompose2dScale(j);A=Math.ceil(A*H),L=Math.ceil(L*q),U[0]*=H,U[1]*=q;for(let K=0;K<4;K++)j[K]=Math.sign(j[K]);d.style.transform=`matrix(${j.join(",")})`}else d.style.transform=`matrix(${m.transform.join(",")})`;if(d.style.transformOrigin=`${-U[0]}px ${-U[1]}px`,!e&&t.borderStyle.width>0){d.style.borderWidth=`${t.borderStyle.width}px`,t.borderStyle.style!==r.AnnotationBorderStyleType.UNDERLINE&&(A-=2*t.borderStyle.width,L-=2*t.borderStyle.width);const j=t.borderStyle.horizontalCornerRadius,H=t.borderStyle.verticalCornerRadius;switch((j>0||H>0)&&(d.style.borderRadius=`${j}px / ${H}px`),t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:d.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:d.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:d.style.borderBottomStyle="solid"}t.borderColor||t.color?d.style.borderColor=r.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):d.style.borderWidth=0}return d.style.left=`${U[0]}px`,d.style.top=`${U[1]}px`,t.hasOwnCanvas?d.style.width=d.style.height="auto":(d.style.width=`${A}px`,d.style.height=`${L}px`),d}get _commonActions(){const e=(t,o,m)=>{const d=m.detail[t];m.target.style[o]=W.ColorConverters[`${d[0]}_HTML`](d.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:t=>{const o=t.detail.display%2==1;t.target.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o,print:0===t.detail.display||3===t.detail.display})},print:t=>{this.annotationStorage.setValue(this.data.id,{print:t.detail.print})},hidden:t=>{t.target.style.visibility=t.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t.detail.hidden})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:t=>{t.detail.required?t.target.setAttribute("required",""):t.target.removeAttribute("required")},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)}})}_dispatchEventFromSandbox(e,t){const o=this._commonActions;for(const m of Object.keys(t.detail)){const d=e[m]||o[m];d&&d(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const o=this._commonActions;for(const[m,d]of Object.entries(t)){const A=o[m];A&&(A({detail:d,target:e}),delete t[m])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const t=[],o=this.data.rect;for(const m of this.data.quadPoints)this.data.rect=[m[2].x,m[2].y,m[1].x,m[1].y],t.push(this._createContainer(e));return this.data.rect=o,t}_createPopup(e,t){let o=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,o=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=o.style.height,e.style.width=o.style.width,o.appendChild(e));const d=new i({container:o,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();d.style.left=o.style.width,o.appendChild(d)}_renderQuadrilaterals(e){for(const t of this.quadrilaterals)t.className=e;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const o=[];if(this._fieldObjects){const m=this._fieldObjects[e];if(m)for(const{page:d,id:A,exportValues:L}of m){if(-1===d||A===t)continue;const U="string"==typeof L?L:null,j=document.getElementById(A);!j||s.has(j)?o.push({id:A,exportValue:U,domElement:j}):(0,r.warn)(`_getElementsByName - element not allowed: ${A}`)}return o}for(const m of document.getElementsByName(e)){const{id:d,exportValue:A}=m;d!==t&&s.has(m)&&o.push({id:d,exportValue:A,domElement:m})}return o}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class C extends y{constructor(e,t=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:t}=this,o=document.createElement("a");if(e.url)t.addLinkAttributes(o,e.url,e.newWindow);else if(e.action)this._bindNamedAction(o,e.action);else if(e.dest)this._bindLink(o,e.dest);else{let m=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(m=!0,this._bindJSAction(o,e)),e.resetForm?this._bindResetFormAction(o,e.resetForm):m||this._bindLink(o,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((m,d)=>{const A=0===d?o:o.cloneNode();return m.appendChild(A),m}):(this.container.className="linkAnnotation",this.container.appendChild(o),this.container)}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),e.className="internalLink"}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const m of Object.keys(t.actions)){const d=o.get(m);d&&(e[d]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:m}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,t){const o=e.onclick;if(o||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(o||(e.onclick=()=>!1));e.onclick=()=>{o&&o();const{fields:m,refs:d,include:A}=t,L=[];if(0!==m.length||0!==d.length){const H=new Set(d);for(const q of m){const K=this._fieldObjects[q]||[];for(const{id:ie}of K)H.add(ie)}for(const q of Object.values(this._fieldObjects))for(const K of q)H.has(K.id)===A&&L.push(K)}else for(const H of Object.values(this._fieldObjects))L.push(...H);const U=this.annotationStorage,j=[];for(const H of L){const{id:q}=H;switch(j.push(q),H.type){case"text":case"combobox":case"listbox":U.setValue(q,{value:H.defaultValue||""});break;case"checkbox":case"radiobutton":U.setValue(q,{value:H.defaultValue===H.exportValues});break;default:continue}const K=document.getElementById(q);!K||!s.has(K)||K.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:j,name:"ResetForm"}}),!1}}}class F extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class _ extends y{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:t,isMac:o}=y.platform;return t&&e.ctrlKey||o&&e.metaKey}_setEventListener(e,t,o,m){t.includes("mouse")?e.addEventListener(t,d=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:m(d),shift:d.shiftKey,modifier:this._getKeyModifier(d)}})}):e.addEventListener(t,d=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:m(d)}})})}_setEventListeners(e,t,o){for(const[m,d]of t)("Action"===d||this.data.actions?.[d])&&this._setEventListener(e,m,d,o)}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}}class c extends _{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,o,m){const d=this.annotationStorage;for(const A of this._getElementsByName(e.name,e.id))A.domElement&&(A.domElement[t]=o),d.setValue(A.id,{[m]:o})}render(){const e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";let o=null;if(this.renderForms){const m=e.getValue(t,{value:this.data.fieldValue}),d=m.formattedValue||m.value||"",A={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(o=document.createElement("textarea"),o.textContent=d):(o=document.createElement("input"),o.type="text",o.setAttribute("value",d)),s.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.tabIndex=R,A.userValue=d,o.setAttribute("id",t),o.addEventListener("input",U=>{e.setValue(t,{value:U.target.value}),this.setPropertyOnSiblings(o,"value",U.target.value,"value")}),o.addEventListener("resetform",U=>{o.value=A.userValue=this.data.defaultFieldValue??"",A.formattedValue=null});let L=U=>{const{formattedValue:j}=A;null!=j&&(U.target.value=j),U.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){o.addEventListener("focus",j=>{A.userValue&&(j.target.value=A.userValue),A.valueOnFocus=j.target.value}),o.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(q){A.userValue=q.detail.value??"",e.setValue(t,{value:A.userValue.toString()}),q.target.value=A.userValue},formattedValue(q){const{formattedValue:K}=q.detail;A.formattedValue=K,null!=K&&q.target!==document.activeElement&&(q.target.value=K),e.setValue(t,{formattedValue:K})},selRange(q){q.target.setSelectionRange(...q.detail.selRange)}},j)}),o.addEventListener("keydown",j=>{let H=-1;if("Escape"===j.key?H=0:"Enter"===j.key?H=2:"Tab"===j.key&&(H=3),-1===H)return;const{value:q}=j.target;A.valueOnFocus!==q&&(A.userValue=q,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:q,willCommit:!0,commitKey:H,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}))});const U=L;L=null,o.addEventListener("blur",j=>{const{value:H}=j.target;A.userValue=H,this._mouseState.isDown&&A.valueOnFocus!==H&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:H,willCommit:!0,commitKey:1,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}),U(j)}),this.data.actions?.Keystroke&&o.addEventListener("beforeinput",j=>{const{data:H,target:q}=j,{value:K,selectionStart:ie,selectionEnd:se}=q;let Q=ie,Z=se;switch(j.inputType){case"deleteWordBackward":{const ae=K.substring(0,ie).match(/\w*[^\w]*$/);ae&&(Q-=ae[0].length);break}case"deleteWordForward":{const ae=K.substring(ie).match(/^[^\w]*\w*/);ae&&(Z+=ae[0].length);break}case"deleteContentBackward":ie===se&&(Q-=1);break;case"deleteContentForward":ie===se&&(Z+=1)}j.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:K,change:H||"",willCommit:!1,selStart:Q,selEnd:Z}})}),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.value)}if(L&&o.addEventListener("blur",L),null!==this.data.maxLen&&(o.maxLength=this.data.maxLen),this.data.comb){const j=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;o.classList.add("comb"),o.style.letterSpacing=`calc(${j}px - 1ch)`}}else o=document.createElement("div"),o.textContent=this.data.fieldValue,o.style.verticalAlign="middle",o.style.display="table-cell";return this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.appendChild(o),this.container}_setTextStyle(e){const{fontSize:o,fontColor:m}=this.data.defaultAppearanceData,d=e.style;o&&(d.fontSize=`${o}px`),d.color=r.Util.makeHexColor(m[0],m[1],m[2]),null!==this.data.textAlignment&&(d.textAlign=["left","center","right"][this.data.textAlignment])}}class S extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,o=t.id;let m=e.getValue(o,{value:t.exportValue===t.fieldValue}).value;"string"==typeof m&&(m="Off"!==m,e.setValue(o,{value:m})),this.container.className="buttonWidgetAnnotation checkBox";const d=document.createElement("input");return s.add(d),d.disabled=t.readOnly,d.type="checkbox",d.name=t.fieldName,m&&d.setAttribute("checked",!0),d.setAttribute("id",o),d.setAttribute("exportValue",t.exportValue),d.tabIndex=R,d.addEventListener("change",A=>{const{name:L,checked:U}=A.target;for(const j of this._getElementsByName(L,o)){const H=U&&j.exportValue===t.exportValue;j.domElement&&(j.domElement.checked=H),e.setValue(j.id,{value:H})}e.setValue(o,{value:U})}),d.addEventListener("resetform",A=>{A.target.checked=(t.defaultFieldValue||"Off")===t.exportValue}),this.enableScripting&&this.hasJSActions&&(d.addEventListener("updatefromsandbox",A=>{this._dispatchEventFromSandbox({value(U){U.target.checked="Off"!==U.detail.value,e.setValue(o,{value:U.target.checked})}},A)}),this._setEventListeners(d,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.checked)),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}}class u extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,t=this.data,o=t.id;let m=e.getValue(o,{value:t.fieldValue===t.buttonValue}).value;"string"==typeof m&&(m=m!==t.buttonValue,e.setValue(o,{value:m}));const d=document.createElement("input");if(s.add(d),d.disabled=t.readOnly,d.type="radio",d.name=t.fieldName,m&&d.setAttribute("checked",!0),d.setAttribute("id",o),d.tabIndex=R,d.addEventListener("change",A=>{const{name:L,checked:U}=A.target;for(const j of this._getElementsByName(L,o))e.setValue(j.id,{value:!1});e.setValue(o,{value:U})}),d.addEventListener("resetform",A=>{const L=t.defaultFieldValue;A.target.checked=null!=L&&L===t.buttonValue}),this.enableScripting&&this.hasJSActions){const A=t.buttonValue;d.addEventListener("updatefromsandbox",L=>{this._dispatchEventFromSandbox({value:j=>{const H=A===j.detail.value;for(const q of this._getElementsByName(j.target.name)){const K=H&&q.id===o;q.domElement&&(q.domElement.checked=K),e.setValue(q.id,{value:K})}}},L)}),this._setEventListeners(d,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],L=>L.target.checked)}return this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}}class b extends C{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class g extends _{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,t=this.data.id,o=e.getValue(t,{value:this.data.fieldValue});let{fontSize:m}=this.data.defaultAppearanceData;m||(m=9);const d=`calc(${m}px * var(--zoom-factor))`,A=document.createElement("select");s.add(A),A.disabled=this.data.readOnly,A.name=this.data.fieldName,A.setAttribute("id",t),A.tabIndex=R,A.style.fontSize=`${m}px`,this.data.combo||(A.size=this.data.options.length,this.data.multiSelect&&(A.multiple=!0)),A.addEventListener("resetform",j=>{const H=this.data.defaultFieldValue;for(const q of A.options)q.selected=q.value===H});for(const j of this.data.options){const H=document.createElement("option");H.textContent=j.displayValue,H.value=j.exportValue,this.data.combo&&(H.style.fontSize=d),o.value.includes(j.exportValue)&&H.setAttribute("selected",!0),A.appendChild(H)}const L=(j,H)=>{const q=H?"value":"textContent",K=j.target.options;return j.target.multiple?Array.prototype.filter.call(K,ie=>ie.selected).map(ie=>ie[q]):-1===K.selectedIndex?null:K[K.selectedIndex][q]},U=j=>Array.prototype.map.call(j.target.options,q=>({displayValue:q.textContent,exportValue:q.value}));return this.enableScripting&&this.hasJSActions?(A.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(q){const K=q.detail.value,ie=new Set(Array.isArray(K)?K:[K]);for(const se of A.options)se.selected=ie.has(se.value);e.setValue(t,{value:L(q,!0)})},multipleSelection(q){A.multiple=!0},remove(q){const K=A.options,ie=q.detail.remove;K[ie].selected=!1,A.remove(ie),K.length>0&&-1===Array.prototype.findIndex.call(K,Q=>Q.selected)&&(K[0].selected=!0),e.setValue(t,{value:L(q,!0),items:U(q)})},clear(q){for(;0!==A.length;)A.remove(0);e.setValue(t,{value:null,items:[]})},insert(q){const{index:K,displayValue:ie,exportValue:se}=q.detail.insert,Q=document.createElement("option");Q.textContent=ie,Q.value=se,A.insertBefore(Q,A.children[K]),e.setValue(t,{value:L(q,!0),items:U(q)})},items(q){const{items:K}=q.detail;for(;0!==A.length;)A.remove(0);for(const ie of K){const{displayValue:se,exportValue:Q}=ie,Z=document.createElement("option");Z.textContent=se,Z.value=Q,A.appendChild(Z)}A.options.length>0&&(A.options[0].selected=!0),e.setValue(t,{value:L(q,!0),items:U(q)})},indices(q){const K=new Set(q.detail.indices);for(const ie of q.target.options)ie.selected=K.has(ie.index);e.setValue(t,{value:L(q,!0)})},editable(q){q.target.disabled=!q.detail.editable}},j)}),A.addEventListener("input",j=>{const H=L(j,!0),q=L(j,!1);e.setValue(t,{value:H}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:q,changeEx:H,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(A,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],j=>j.target.checked)):A.addEventListener("input",function(j){e.setValue(t,{value:L(j,!0)})}),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.appendChild(A),this.container}}class n extends y{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const o=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===o.length)return this.container;const m=new i({container:this.container,trigger:Array.from(o),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),d=this.page,A=r.Util.normalizeRect([this.data.parentRect[0],d.view[3]-this.data.parentRect[1]+d.view[1],this.data.parentRect[2],d.view[3]-this.data.parentRect[3]+d.view[1]]),L=A[0]+this.data.parentRect[2]-this.data.parentRect[0],U=A[1];return this.container.style.transformOrigin=`${-L}px ${-U}px`,this.container.style.left=`${L}px`,this.container.style.top=`${U}px`,this.container.appendChild(m.render()),this.container}}class i{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.hidden=!0;const o=document.createElement("div");o.className="popup";const m=this.color;m&&(o.style.backgroundColor=r.Util.makeHexColor(0|.7*(255-m[0])+m[0],0|.7*(255-m[1])+m[1],0|.7*(255-m[2])+m[2]));const d=document.createElement("h1");d.dir=this.titleObj.dir,d.textContent=this.titleObj.str,o.appendChild(d);const A=G.PDFDateString.toDateObject(this.modificationDate);if(A){const L=document.createElement("span");L.className="popupDate",L.textContent="{{date}}, {{time}}",L.dataset.l10nId="annotation_date_string",L.dataset.l10nArgs=JSON.stringify({date:A.toLocaleDateString(),time:A.toLocaleTimeString()}),o.appendChild(L)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const L=this._formatContents(this.contentsObj);o.appendChild(L)}else z.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:o}),o.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const L of this.trigger)L.addEventListener("click",this._toggle.bind(this)),L.addEventListener("mouseover",this._show.bind(this,!1)),L.addEventListener("mouseout",this._hide.bind(this,!1));return o.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(o),t}_formatContents({str:e,dir:t}){const o=document.createElement("p");o.className="popupContent",o.dir=t;const m=e.split(/(?:\r\n?|\n)/);for(let d=0,A=m.length;d<A;++d)o.appendChild(document.createTextNode(m[d])),d<A-1&&o.appendChild(document.createElement("br"));return o}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class p extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class h extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:t,height:o}=P(e.rect),m=this.svgFactory.create(t,o),d=this.svgFactory.createElement("svg:line");return d.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),d.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),d.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),d.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),d.setAttribute("stroke-width",e.borderStyle.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),m.appendChild(d),this.container.append(m),this._createPopup(d,e),this.container}}class v extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:t,height:o}=P(e.rect),m=this.svgFactory.create(t,o),d=e.borderStyle.width,A=this.svgFactory.createElement("svg:rect");return A.setAttribute("x",d/2),A.setAttribute("y",d/2),A.setAttribute("width",t-d),A.setAttribute("height",o-d),A.setAttribute("stroke-width",d||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),m.appendChild(A),this.container.append(m),this._createPopup(A,e),this.container}}class x extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:t,height:o}=P(e.rect),m=this.svgFactory.create(t,o),d=e.borderStyle.width,A=this.svgFactory.createElement("svg:ellipse");return A.setAttribute("cx",t/2),A.setAttribute("cy",o/2),A.setAttribute("rx",t/2-d/2),A.setAttribute("ry",o/2-d/2),A.setAttribute("stroke-width",d||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),m.appendChild(A),this.container.append(m),this._createPopup(A,e),this.container}}class k extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:o}=P(e.rect),m=this.svgFactory.create(t,o);let d=[];for(const L of e.vertices)d.push(L.x-e.rect[0]+","+(e.rect[3]-L.y));d=d.join(" ");const A=this.svgFactory.createElement(this.svgElementName);return A.setAttribute("points",d),A.setAttribute("stroke-width",e.borderStyle.width||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),m.appendChild(A),this.container.append(m),this._createPopup(A,e),this.container}}class l extends k{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class T extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:o}=P(e.rect),m=this.svgFactory.create(t,o);for(const d of e.inkLists){let A=[];for(const U of d)A.push(`${U.x-e.rect[0]},${e.rect[3]-U.y}`);A=A.join(" ");const L=this.svgFactory.createElement(this.svgElementName);L.setAttribute("points",A),L.setAttribute("stroke-width",e.borderStyle.width||1),L.setAttribute("stroke","transparent"),L.setAttribute("fill","transparent"),this._createPopup(L,e),m.appendChild(L)}return this.container.append(m),this.container}}class O extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class N extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class M extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class D extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class V extends y{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class X extends y{constructor(e){super(e,{isRenderable:!0});const{filename:t,content:o}=this.data.file;this.filename=(0,G.getFilenameFromUrl)(t),this.content=o,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:t,content:o})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}a.AnnotationLayer=class J{static render(e){const t=[],o=[];for(const d of e.annotations){if(!d)continue;const{width:A,height:L}=P(d.rect);if(!(A<=0||L<=0)){if(d.annotationType===r.AnnotationType.POPUP){o.push(d);continue}t.push(d)}}o.length&&t.push(...o);const m=e.div;for(const d of t){const A=f.create({data:d,layer:m,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new G.DOMSVGFactory,annotationStorage:e.annotationStorage||new B.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(A.isRenderable){const L=A.render();if(d.hidden&&(L.style.visibility="hidden"),Array.isArray(L))for(const U of L)m.appendChild(U);else A instanceof n?m.prepend(L):m.appendChild(L)}}this.#e(m,e.annotationCanvasMap)}static update(e){const{page:t,viewport:o,annotations:m,annotationCanvasMap:d,div:A}=e,L=o.transform,U=`matrix(${L.join(",")})`;let j,H;for(const q of m){const K=A.querySelectorAll(`[data-annotation-id="${q.id}"]`);if(K)for(const ie of K)if(q.hasOwnCanvas){const se=r.Util.normalizeRect([q.rect[0],t.view[3]-q.rect[1]+t.view[1],q.rect[2],t.view[3]-q.rect[3]+t.view[1]]);if(!H){j=Math.abs(L[0]||L[1]);const ae=L.slice();for(let re=0;re<4;re++)ae[re]=Math.sign(ae[re]);H=`matrix(${ae.join(",")})`}const Q=se[0]*j,Z=se[1]*j;ie.style.left=`${Q}px`,ie.style.top=`${Z}px`,ie.style.transformOrigin=`${-Q}px ${-Z}px`,ie.style.transform=H}else ie.style.transform=U}this.#e(A,d),A.hidden=!1}static#e(e,t){if(t){for(const[o,m]of t){const d=e.querySelector(`[data-annotation-id="${o}"]`);if(!d)continue;const{firstChild:A}=d;"CANVAS"===A.nodeName?d.replaceChild(m,A):d.insertBefore(m,A)}t.clear()}}}},(te,a)=>{function I(G){return Math.floor(255*Math.max(0,Math.min(1,G))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class r{static CMYK_G([B,W,z,R]){return["G",1-Math.min(1,.3*B+.59*z+.11*W+R)]}static G_CMYK([B]){return["CMYK",0,0,0,1-B]}static G_RGB([B]){return["RGB",B,B,B]}static G_HTML([B]){const W=I(B);return`#${W}${W}${W}`}static RGB_G([B,W,z]){return["G",.3*B+.59*W+.11*z]}static RGB_HTML([B,W,z]){return`#${I(B)}${I(W)}${I(z)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([B,W,z,R]){return["RGB",1-Math.min(1,B+R),1-Math.min(1,z+R),1-Math.min(1,W+R)]}static CMYK_HTML(B){return this.RGB_HTML(this.CMYK_RGB(B))}static RGB_CMYK([B,W,z]){const R=1-B,s=1-W,P=1-z;return["CMYK",R,s,P,Math.min(R,s,P)]}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var r=I(18);a.XfaLayer=class G{static setupStorage(W,z,R,s,P){const f=s.getValue(z,{value:null});switch(R.name){case"textarea":if(null!==f.value&&(W.textContent=f.value),"print"===P)break;W.addEventListener("input",y=>{s.setValue(z,{value:y.target.value})});break;case"input":if("radio"===R.attributes.type||"checkbox"===R.attributes.type){if(f.value===R.attributes.xfaOn?W.setAttribute("checked",!0):f.value===R.attributes.xfaOff&&W.removeAttribute("checked"),"print"===P)break;W.addEventListener("change",y=>{s.setValue(z,{value:y.target.getAttribute(y.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==f.value&&W.setAttribute("value",f.value),"print"===P)break;W.addEventListener("input",y=>{s.setValue(z,{value:y.target.value})})}break;case"select":if(null!==f.value)for(const y of R.children)y.attributes.value===f.value&&(y.attributes.selected=!0);W.addEventListener("input",y=>{const C=y.target.options;s.setValue(z,{value:-1===C.selectedIndex?"":C[C.selectedIndex].value})})}}static setAttributes({html:W,element:z,storage:R=null,intent:s,linkService:P}){const{attributes:f}=z,y=W instanceof HTMLAnchorElement;"radio"===f.type&&(f.name=`${f.name}-${s}`);for(const[C,F]of Object.entries(f))if(null!=F&&"dataId"!==C)if("style"!==C)if("textContent"===C)W.textContent=F;else if("class"===C)F.length&&W.setAttribute(C,F.join(" "));else{if(y&&("href"===C||"newWindow"===C))continue;W.setAttribute(C,F)}else Object.assign(W.style,F);y&&P.addLinkAttributes(W,f.href,f.newWindow),R&&f.dataId&&this.setupStorage(W,f.dataId,z,R)}static render(W){const z=W.annotationStorage,R=W.linkService,s=W.xfaHtml,P=W.intent||"display",f=document.createElement(s.name);s.attributes&&this.setAttributes({html:f,element:s,intent:P,linkService:R});const y=[[s,-1,f]],C=W.div;if(C.appendChild(f),W.viewport){const _=`matrix(${W.viewport.transform.join(",")})`;C.style.transform=_}"richText"!==P&&C.setAttribute("class","xfaLayer xfaFont");const F=[];for(;y.length>0;){const[_,c,S]=y[y.length-1];if(c+1===_.children.length){y.pop();continue}const u=_.children[++y[y.length-1][1]];if(null===u)continue;const{name:b}=u;if("#text"===b){const n=document.createTextNode(u.value);F.push(n),S.appendChild(n);continue}let g;if(g=u?.attributes?.xmlns?document.createElementNS(u.attributes.xmlns,b):document.createElement(b),S.appendChild(g),u.attributes&&this.setAttributes({html:g,element:u,storage:z,intent:P,linkService:R}),u.children&&u.children.length>0)y.push([u,-1,g]);else if(u.value){const n=document.createTextNode(u.value);r.XfaText.shouldBuildText(b)&&F.push(n),g.appendChild(n)}}for(const _ of C.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:F}}static update(W){const z=`matrix(${W.viewport.transform.join(",")})`;W.div.style.transform=z,W.div.hidden=!1}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function S(u){const b=new c({textContent:u.textContent,textContentStream:u.textContentStream,container:u.container,viewport:u.viewport,textDivs:u.textDivs,textContentItemsStr:u.textContentItemsStr,enhanceTextSelection:u.enhanceTextSelection});return b._render(u.timeout),b};var r=I(1);const G=1e5,B=30,W=.8,z=new Map,R=/^\s+$/g;function P(u,b,g,n){const i=document.createElement("span"),p=u._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL};u._textDivs.push(i);const h=r.Util.transform(u._viewport.transform,b.transform);let v=Math.atan2(h[1],h[0]);const x=g[b.fontName];x.vertical&&(v+=Math.PI/2);const k=Math.hypot(h[2],h[3]),l=k*function s(u,b){const g=z.get(u);if(g)return g;b.save(),b.font=`${B}px ${u}`;const n=b.measureText("");let i=n.fontBoundingBoxAscent,p=Math.abs(n.fontBoundingBoxDescent);if(i){b.restore();const v=i/(i+p);return z.set(u,v),v}b.strokeStyle="red",b.clearRect(0,0,B,B),b.strokeText("g",0,0);let h=b.getImageData(0,0,B,B).data;p=0;for(let v=h.length-1-3;v>=0;v-=4)if(h[v]>0){p=Math.ceil(v/4/B);break}b.clearRect(0,0,B,B),b.strokeText("A",0,B),h=b.getImageData(0,0,B,B).data,i=0;for(let v=0,x=h.length;v<x;v+=4)if(h[v]>0){i=B-Math.floor(v/4/B);break}if(b.restore(),i){const v=i/(i+p);return z.set(u,v),v}return z.set(u,W),W}(x.fontFamily,n);let T,E;0===v?(T=h[4],E=h[5]-l):(T=h[4]+l*Math.sin(v),E=h[5]-l*Math.cos(v)),i.style.left=`${T}px`,i.style.top=`${E}px`,i.style.fontSize=`${k}px`,i.style.fontFamily=x.fontFamily,i.setAttribute("role","presentation"),i.textContent=b.str,i.dir=b.dir,u._fontInspectorEnabled&&(i.dataset.fontName=b.fontName),0!==v&&(p.angle=v*(180/Math.PI));let O=!1;if(b.str.length>1||u._enhanceTextSelection&&R.test(b.str))O=!0;else if(" "!==b.str&&b.transform[0]!==b.transform[3]){const N=Math.abs(b.transform[0]),M=Math.abs(b.transform[3]);N!==M&&Math.max(N,M)/Math.min(N,M)>1.5&&(O=!0)}if(O&&(p.canvasWidth=x.vertical?b.height*u._viewport.scale:b.width*u._viewport.scale),u._textDivProperties.set(i,p),u._textContentStream&&u._layoutText(i),u._enhanceTextSelection&&p.hasText){let N=1,M=0;0!==v&&(N=Math.cos(v),M=Math.sin(v));const D=(x.vertical?b.height:b.width)*u._viewport.scale,V=k;let X,J;0!==v?(X=[N,M,-M,N,T,E],J=r.Util.getAxialAlignedBoundingBox([0,0,D,V],X)):J=[T,E,T+D,E+V],u._bounds.push({left:J[0],top:J[1],right:J[2],bottom:J[3],div:i,size:[D,V],m:X})}}function f(u){if(u._canceled)return;const b=u._textDivs,g=u._capability,n=b.length;if(n>G)return u._renderingDone=!0,void g.resolve();if(!u._textContentStream)for(let i=0;i<n;i++)u._layoutText(b[i]);u._renderingDone=!0,g.resolve()}function y(u,b,g){let n=0;for(let i=0;i<g;i++){const p=u[b++];p>0&&(n=n?Math.min(p,n):p)}return n}function _(u,b){b.sort(function(i,p){return i.x1-p.x1||i.index-p.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const i of b){let p=0;for(;p<n.length&&n[p].end<=i.y1;)p++;let h=n.length-1;for(;h>=0&&n[h].start>=i.y2;)h--;let v,x,k,l,T=-1/0;for(k=p;k<=h;k++){let N;v=n[k],x=v.boundary,N=x.x2>i.x1?x.index>i.index?x.x1New:i.x1:void 0===x.x2New?(x.x2+i.x1)/2:x.x2New,N>T&&(T=N)}for(i.x1New=T,k=p;k<=h;k++)v=n[k],x=v.boundary,void 0===x.x2New?x.x2>i.x1?x.index>i.index&&(x.x2New=x.x2):x.x2New=T:x.x2New>T&&(x.x2New=Math.max(T,x.x2));const E=[];let O=null;for(k=p;k<=h;k++){v=n[k],x=v.boundary;const N=x.x2>i.x2?x:i;O===N?E[E.length-1].end=v.end:(E.push({start:v.start,end:v.end,boundary:N}),O=N)}for(n[p].start<i.y1&&(E[0].start=i.y1,E.unshift({start:n[p].start,end:i.y1,boundary:n[p].boundary})),i.y2<n[h].end&&(E[E.length-1].end=i.y2,E.push({start:i.y2,end:n[h].end,boundary:n[h].boundary})),k=p;k<=h;k++){if(v=n[k],x=v.boundary,void 0!==x.x2New)continue;let N=!1;for(l=p-1;!N&&l>=0&&n[l].start>=x.y1;l--)N=n[l].boundary===x;for(l=h+1;!N&&l<n.length&&n[l].end<=x.y2;l++)N=n[l].boundary===x;for(l=0;!N&&l<E.length;l++)N=E[l].boundary===x;N||(x.x2New=T)}Array.prototype.splice.apply(n,[p,h-p+1].concat(E))}for(const i of n){const p=i.boundary;void 0===p.x2New&&(p.x2New=Math.max(u,p.x2))}}class c{constructor({textContent:b,textContentStream:g,container:n,viewport:i,textDivs:p,textContentItemsStr:h,enhanceTextSelection:v}){this._textContent=b,this._textContentStream=g,this._container=n,this._document=n.ownerDocument,this._viewport=i,this._textDivs=p||[],this._textContentItemsStr=h||[],this._enhanceTextSelection=!!v,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(b,g){for(let n=0,i=b.length;n<i;n++)if(void 0!==b[n].str)this._textContentItemsStr.push(b[n].str),P(this,b[n],g,this._layoutTextCtx);else if("beginMarkedContentProps"===b[n].type||"beginMarkedContent"===b[n].type){const p=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==b[n].id&&this._container.setAttribute("id",`${b[n].id}`),p.appendChild(this._container)}else"endMarkedContent"===b[n].type&&(this._container=this._container.parentNode)}_layoutText(b){const g=this._textDivProperties.get(b);let n="";if(0!==g.canvasWidth&&g.hasText){const{fontSize:i,fontFamily:p}=b.style;(i!==this._layoutTextLastFontSize||p!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${i} ${p}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=p);const{width:h}=this._layoutTextCtx.measureText(b.textContent);if(h>0){const v=g.canvasWidth/h;this._enhanceTextSelection&&(g.scale=v),n=`scaleX(${v})`}}if(0!==g.angle&&(n=`rotate(${g.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(g.originalTransform=n),b.style.transform=n),g.hasText&&this._container.appendChild(b),g.hasEOL){const i=document.createElement("br");i.setAttribute("role","presentation"),this._container.appendChild(i)}}_render(b=0){const g=(0,r.createPromiseCapability)();let n=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=B,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const p=()=>{this._reader.read().then(({value:h,done:v})=>{v?g.resolve():(Object.assign(n,h.styles),this._processItems(h.items,n),p())},g.reject)};this._reader=this._textContentStream.getReader(),p()}}g.promise.then(()=>{n=null,b?this._renderTimer=setTimeout(()=>{f(this),this._renderTimer=null},b):f(this)},this._capability.reject)}expandTextDivs(b=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function C(u){const b=u._bounds,g=u._viewport,n=function F(u,b,g){const n=g.map(function(p,h){return{x1:p.left,y1:p.top,x2:p.right,y2:p.bottom,index:h,x1New:void 0,x2New:void 0}});_(u,n);const i=new Array(g.length);for(const p of n)i[p.index]={left:p.x1New,top:0,right:p.x2New,bottom:0};g.map(function(p,h){const v=i[h],x=n[h];x.x1=p.top,x.y1=u-v.right,x.x2=p.bottom,x.y2=u-v.left,x.index=h,x.x1New=void 0,x.x2New=void 0}),_(b,n);for(const p of n){const h=p.index;i[h].top=p.x1New,i[h].bottom=p.x2New}return i}(g.width,g.height,b);for(let i=0;i<n.length;i++){const p=b[i].div,h=u._textDivProperties.get(p);if(0===h.angle){h.paddingLeft=b[i].left-n[i].left,h.paddingTop=b[i].top-n[i].top,h.paddingRight=n[i].right-b[i].right,h.paddingBottom=n[i].bottom-b[i].bottom,u._textDivProperties.set(p,h);continue}const v=n[i],x=b[i],k=x.m,l=k[0],T=k[1],E=[[0,0],[0,x.size[1]],[x.size[0],0],x.size],O=new Float64Array(64);for(let M=0,D=E.length;M<D;M++){const V=r.Util.applyTransform(E[M],k);O[M+0]=l&&(v.left-V[0])/l,O[M+4]=T&&(v.top-V[1])/T,O[M+8]=l&&(v.right-V[0])/l,O[M+12]=T&&(v.bottom-V[1])/T,O[M+16]=T&&(v.left-V[0])/-T,O[M+20]=l&&(v.top-V[1])/l,O[M+24]=T&&(v.right-V[0])/-T,O[M+28]=l&&(v.bottom-V[1])/l,O[M+32]=l&&(v.left-V[0])/-l,O[M+36]=T&&(v.top-V[1])/-T,O[M+40]=l&&(v.right-V[0])/-l,O[M+44]=T&&(v.bottom-V[1])/-T,O[M+48]=T&&(v.left-V[0])/T,O[M+52]=l&&(v.top-V[1])/-l,O[M+56]=T&&(v.right-V[0])/T,O[M+60]=l&&(v.bottom-V[1])/-l}const N=1+Math.min(Math.abs(l),Math.abs(T));h.paddingLeft=y(O,32,16)/N,h.paddingTop=y(O,48,16)/N,h.paddingRight=y(O,0,16)/N,h.paddingBottom=y(O,16,16)/N,u._textDivProperties.set(p,h)}}(this),this._bounds=null);const g=[],n=[];for(let i=0,p=this._textDivs.length;i<p;i++){const h=this._textDivs[i],v=this._textDivProperties.get(h);v.hasText&&(b?(g.length=0,n.length=0,v.originalTransform&&g.push(v.originalTransform),v.paddingTop>0?(n.push(`${v.paddingTop}px`),g.push(`translateY(${-v.paddingTop}px)`)):n.push(0),n.push(v.paddingRight>0?v.paddingRight/v.scale+"px":0),n.push(v.paddingBottom>0?`${v.paddingBottom}px`:0),v.paddingLeft>0?(n.push(v.paddingLeft/v.scale+"px"),g.push(`translateX(${-v.paddingLeft/v.scale}px)`)):n.push(0),h.style.padding=n.join(" "),g.length&&(h.style.transform=g.join(" "))):(h.style.padding=null,h.style.transform=v.originalTransform))}}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var r=I(1),G=I(5),B=I(3);let W=class{constructor(){(0,r.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=W;{let _=function(n){let i=[];const p=[];for(const h of n)"save"!==h.fn?"restore"===h.fn?i=p.pop():i.push(h):(i.push({fnId:92,fn:"group",items:[]}),p.push(i),i=i[i.length-1].items);return i},c=function(n){if(Number.isInteger(n))return n.toString();const i=n.toFixed(10);let p=i.length-1;if("0"!==i[p])return i;do{p--}while("0"===i[p]);return i.substring(0,"."===i[p]?p:p+1)},S=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${c(n[0])} ${c(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const i=180*Math.acos(n[0])/Math.PI;return`rotate(${c(i)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${c(n[4])} ${c(n[5])})`;return`matrix(${c(n[0])} ${c(n[1])} ${c(n[2])} ${c(n[3])} ${c(n[4])} ${c(n[5])})`};const z={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},R="http://www.w3.org/XML/1998/namespace",s="http://www.w3.org/1999/xlink",P=["butt","round","square"],f=["miter","round","bevel"],y=function(n,i="",p=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!p)return URL.createObjectURL(new Blob([n],{type:i}));const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let v=`data:${i};base64,`;for(let x=0,k=n.length;x<k;x+=3){const l=255&n[x],T=255&n[x+1],E=255&n[x+2];v+=h[l>>2]+h[(3&l)<<4|T>>4]+h[x+1<k?(15&T)<<2|E>>6:64]+h[x+2<k?63&E:64]}return v},C=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),i=12,p=new Int32Array(256);for(let E=0;E<256;E++){let O=E;for(let N=0;N<8;N++)O=1&O?3988292384^O>>1&2147483647:O>>1&2147483647;p[E]=O}function v(E,O,N,M){let D=M;const V=O.length;N[D]=V>>24&255,N[D+1]=V>>16&255,N[D+2]=V>>8&255,N[D+3]=255&V,D+=4,N[D]=255&E.charCodeAt(0),N[D+1]=255&E.charCodeAt(1),N[D+2]=255&E.charCodeAt(2),N[D+3]=255&E.charCodeAt(3),D+=4,N.set(O,D),D+=O.length;const X=function h(E,O,N){let M=-1;for(let D=O;D<N;D++)M=M>>>8^p[255&(M^E[D])];return-1^M}(N,M+4,D);N[D]=X>>24&255,N[D+1]=X>>16&255,N[D+2]=X>>8&255,N[D+3]=255&X}function l(E){let O=E.length;const N=65535,M=Math.ceil(O/N),D=new Uint8Array(2+O+5*M+4);let V=0;D[V++]=120,D[V++]=156;let X=0;for(;O>N;)D[V++]=0,D[V++]=255,D[V++]=255,D[V++]=0,D[V++]=0,D.set(E.subarray(X,X+N),V),V+=N,X+=N,O-=N;D[V++]=1,D[V++]=255&O,D[V++]=O>>8&255,D[V++]=255&~O,D[V++]=(65535&~O)>>8&255,D.set(E.subarray(X),V),V+=E.length-X;const J=function x(E,O,N){let M=1,D=0;for(let V=O;V<N;++V)M=(M+(255&E[V]))%65521,D=(D+M)%65521;return D<<16|M}(E,0,E.length);return D[V++]=J>>24&255,D[V++]=J>>16&255,D[V++]=J>>8&255,D[V++]=255&J,D}return function(O,N,M){return function T(E,O,N,M){const D=E.width,V=E.height;let X,J,w;const e=E.data;switch(O){case r.ImageKind.GRAYSCALE_1BPP:J=0,X=1,w=D+7>>3;break;case r.ImageKind.RGB_24BPP:J=2,X=8,w=3*D;break;case r.ImageKind.RGBA_32BPP:J=6,X=8,w=4*D;break;default:throw new Error("invalid format")}const t=new Uint8Array((1+w)*V);let o=0,m=0;for(let H=0;H<V;++H)t[o++]=0,t.set(e.subarray(m,m+w),o),m+=w,o+=w;if(O===r.ImageKind.GRAYSCALE_1BPP&&M){o=0;for(let H=0;H<V;H++){o++;for(let q=0;q<w;q++)t[o++]^=255}}const d=new Uint8Array([D>>24&255,D>>16&255,D>>8&255,255&D,V>>24&255,V>>16&255,V>>8&255,255&V,X,J,0,0,0]),A=function k(E){if(!B.isNodeJS)return l(E);try{let O;O=parseInt(process.versions.node)>=8?E:Buffer.from(E);const N=__webpack_require__(2258).deflateSync(O,{level:9});return N instanceof Uint8Array?N:new Uint8Array(N)}catch(O){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+O)}return l(E)}(t),U=new Uint8Array(n.length+3*i+d.length+A.length);let j=0;return U.set(n,j),j+=n.length,v("IHDR",d,U,j),j+=i+d.length,v("IDATA",A,U,j),j+=i+A.length,v("IEND",new Uint8Array(0),U,j),y(U,"image/png",N)}(O,void 0===O.kind?r.ImageKind.GRAYSCALE_1BPP:O.kind,N,M)}}();class F{constructor(){this.fontSizeScale=1,this.fontWeight=z.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=z.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,p){this.x=i,this.y=p}}let u=0,b=0,g=0;a.SVGGraphics=W=class{constructor(n,i,p=!1){this.svgFactory=new G.DOMSVGFactory,this.current=new F,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=i,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[];for(const h in r.OPS)this._operatorIdMapping[r.OPS[h]]=h}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const i=n.fnArray,p=n.argsArray;for(let h=0,v=i.length;h<v;h++)if(i[h]===r.OPS.dependency)for(const x of p[h]){const k=x.startsWith("g_")?this.commonObjs:this.objs,l=new Promise(T=>{k.get(x,T)});this.current.dependencies.push(l)}return Promise.all(this.current.dependencies)}transform(n,i,p,h,v,x){this.transformMatrix=r.Util.transform(this.transformMatrix,[n,i,p,h,v,x]),this.tgrp=null}getSVG(n,i){this.viewport=i;const p=this._initialize(i);return this.loadDependencies(n).then(()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),p))}convertOpList(n){const i=this._operatorIdMapping,p=n.argsArray,h=n.fnArray,v=[];for(let x=0,k=h.length;x<k;x++){const l=h[x];v.push({fnId:l,fn:i[l],args:p[x]})}return _(v)}executeOpTree(n){for(const i of n){const p=i.fn,v=i.args;switch(0|i.fnId){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(v);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(v[0],v[1]);break;case r.OPS.setFont:this.setFont(v);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(v[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(v[0],v[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(v[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(v[0]);break;case r.OPS.setHScale:this.setHScale(v[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(v[0],v[1],v[2],v[3],v[4],v[5]);break;case r.OPS.setTextRise:this.setTextRise(v[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(v[0]);break;case r.OPS.setLineWidth:this.setLineWidth(v[0]);break;case r.OPS.setLineJoin:this.setLineJoin(v[0]);break;case r.OPS.setLineCap:this.setLineCap(v[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(v[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(v[0],v[1],v[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(v[0],v[1],v[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(v);break;case r.OPS.setFillColorN:this.setFillColorN(v);break;case r.OPS.shadingFill:this.shadingFill(v[0]);break;case r.OPS.setDash:this.setDash(v[0],v[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(v[0]);break;case r.OPS.setFlatness:this.setFlatness(v[0]);break;case r.OPS.setGState:this.setGState(v[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(v[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(v[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(v[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(v[0],v[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(v[0],v[1],v[2],v[3],v[4],v[5]);break;case r.OPS.constructPath:this.constructPath(v[0],v[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,r.warn)(`Unimplemented operator ${p}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,i,p,h,v,x){const k=this.current;k.textMatrix=k.lineMatrix=[n,i,p,h,v,x],k.textMatrixScale=Math.hypot(n,i),k.x=k.lineX=0,k.y=k.lineY=0,k.xcoords=[],k.ycoords=[],k.tspan=this.svgFactory.createElement("svg:tspan"),k.tspan.setAttributeNS(null,"font-family",k.fontFamily),k.tspan.setAttributeNS(null,"font-size",`${c(k.fontSize)}px`),k.tspan.setAttributeNS(null,"y",c(-k.y)),k.txtElement=this.svgFactory.createElement("svg:text"),k.txtElement.appendChild(k.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=r.IDENTITY_MATRIX,n.lineMatrix=r.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,i){const p=this.current;p.x=p.lineX+=n,p.y=p.lineY+=i,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${c(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",c(-p.y))}showText(n){const i=this.current,p=i.font,h=i.fontSize;if(0===h)return;const v=i.fontSizeScale,x=i.charSpacing,k=i.wordSpacing,l=i.fontDirection,T=i.textHScale*l,E=p.vertical,O=E?1:-1,N=p.defaultVMetrics,M=h*i.fontMatrix[0];let D=0;for(const J of n){if(null===J){D+=l*k;continue}if("number"==typeof J){D+=O*J*h/1e3;continue}const w=(J.isSpace?k:0)+x,e=J.fontChar;let t,o,d,m=J.width;if(E){let A;const L=J.vmetric||N;A=J.vmetric?L[1]:.5*m,A=-A*M,m=L?-L[0]:m,t=A/v,o=(D+L[2]*M)/v}else t=D/v,o=0;(J.isInFont||p.missingFile)&&(i.xcoords.push(i.x+t),E&&i.ycoords.push(-i.y+o),i.tspan.textContent+=e),d=E?m*M-w*l:m*M+w*l,D+=d}i.tspan.setAttributeNS(null,"x",i.xcoords.map(c).join(" ")),i.tspan.setAttributeNS(null,"y",E?i.ycoords.map(c).join(" "):c(-i.y)),E?i.y-=D:i.x+=D*T,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${c(i.fontSize)}px`),i.fontStyle!==z.fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==z.fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);const V=i.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;V===r.TextRenderingMode.FILL||V===r.TextRenderingMode.FILL_STROKE?(i.fillColor!==z.fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(V===r.TextRenderingMode.STROKE||V===r.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));let X=i.textMatrix;0!==i.textRise&&(X=X.slice(),X[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform",`${S(X)} scale(${c(T)}, -1)`),i.txtElement.setAttributeNS(R,"xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}setLeadingMoveText(n,i){this.setLeading(-i),this.moveText(n,i)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const i=y(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${i}); }\n`}setFont(n){const i=this.current,p=this.commonObjs.get(n[0]);let h=n[1];i.font=p,this.embedFonts&&!p.missingFile&&!this.embeddedFonts[p.loadedName]&&(this.addFontStyle(p),this.embeddedFonts[p.loadedName]=p),i.fontMatrix=p.fontMatrix||r.FONT_IDENTITY_MATRIX;let v="normal";p.black?v="900":p.bold&&(v="bold");const x=p.italic?"italic":"normal";h<0?(h=-h,i.fontDirection=-1):i.fontDirection=1,i.fontSize=h,i.fontFamily=p.loadedName,i.fontWeight=v,i.fontStyle=x,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",c(-i.y)),i.xcoords=[],i.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=P[n]}setLineJoin(n){this.current.lineJoin=f[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,i,p){this.current.strokeColor=r.Util.makeHexColor(n,i,p)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,i,p){this.current.fillColor=r.Util.makeHexColor(n,i,p),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const i=this.viewport.width,p=this.viewport.height,h=r.Util.inverseTransform(this.transformMatrix),v=r.Util.applyTransform([0,0],h),x=r.Util.applyTransform([0,p],h),k=r.Util.applyTransform([i,0],h),l=r.Util.applyTransform([i,p],h),T=Math.min(v[0],x[0],k[0],l[0]),E=Math.min(v[1],x[1],k[1],l[1]),O=Math.max(v[0],x[0],k[0],l[0]),N=Math.max(v[1],x[1],k[1],l[1]),M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x",T),M.setAttributeNS(null,"y",E),M.setAttributeNS(null,"width",O-T),M.setAttributeNS(null,"height",N-E),M.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&M.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(M)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const i=n[1],p=n[2],h=n[3]||r.IDENTITY_MATRIX,[v,x,k,l]=n[4],T=n[5],E=n[6],O=n[7],N="shading"+g++,[M,D,V,X]=r.Util.normalizeRect([...r.Util.applyTransform([v,x],h),...r.Util.applyTransform([k,l],h)]),[J,w]=r.Util.singularValueDecompose2dScale(h),e=T*J,t=E*w,o=this.svgFactory.createElement("svg:pattern");o.setAttributeNS(null,"id",N),o.setAttributeNS(null,"patternUnits","userSpaceOnUse"),o.setAttributeNS(null,"width",e),o.setAttributeNS(null,"height",t),o.setAttributeNS(null,"x",`${M}`),o.setAttributeNS(null,"y",`${D}`);const m=this.svg,d=this.transformMatrix,A=this.current.fillColor,L=this.current.strokeColor,U=this.svgFactory.create(V-M,X-D);if(this.svg=U,this.transformMatrix=h,2===O){const j=r.Util.makeHexColor(...i);this.current.fillColor=j,this.current.strokeColor=j}return this.executeOpTree(this.convertOpList(p)),this.svg=m,this.transformMatrix=d,this.current.fillColor=A,this.current.strokeColor=L,o.appendChild(U.childNodes[0]),this.defs.appendChild(o),`url(#${N})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const i="shading"+g++,p=n[3];let h;switch(n[1]){case"axial":const v=n[4],x=n[5];h=this.svgFactory.createElement("svg:linearGradient"),h.setAttributeNS(null,"id",i),h.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),h.setAttributeNS(null,"x1",v[0]),h.setAttributeNS(null,"y1",v[1]),h.setAttributeNS(null,"x2",x[0]),h.setAttributeNS(null,"y2",x[1]);break;case"radial":const k=n[4],l=n[5],T=n[6],E=n[7];h=this.svgFactory.createElement("svg:radialGradient"),h.setAttributeNS(null,"id",i),h.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),h.setAttributeNS(null,"cx",l[0]),h.setAttributeNS(null,"cy",l[1]),h.setAttributeNS(null,"r",E),h.setAttributeNS(null,"fx",k[0]),h.setAttributeNS(null,"fy",k[1]),h.setAttributeNS(null,"fr",T);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const v of p){const x=this.svgFactory.createElement("svg:stop");x.setAttributeNS(null,"offset",v[0]),x.setAttributeNS(null,"stop-color",v[1]),h.appendChild(x)}return this.defs.appendChild(h),`url(#${i})`;case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,i){this.current.dashArray=n,this.current.dashPhase=i}constructPath(n,i){const p=this.current;let h=p.x,v=p.y,x=[],k=0;for(const l of n)switch(0|l){case r.OPS.rectangle:h=i[k++],v=i[k++];const O=h+i[k++],N=v+i[k++];x.push("M",c(h),c(v),"L",c(O),c(v),"L",c(O),c(N),"L",c(h),c(N),"Z");break;case r.OPS.moveTo:h=i[k++],v=i[k++],x.push("M",c(h),c(v));break;case r.OPS.lineTo:h=i[k++],v=i[k++],x.push("L",c(h),c(v));break;case r.OPS.curveTo:h=i[k+4],v=i[k+5],x.push("C",c(i[k]),c(i[k+1]),c(i[k+2]),c(i[k+3]),c(h),c(v)),k+=6;break;case r.OPS.curveTo2:x.push("C",c(h),c(v),c(i[k]),c(i[k+1]),c(i[k+2]),c(i[k+3])),h=i[k+2],v=i[k+3],k+=4;break;case r.OPS.curveTo3:h=i[k+2],v=i[k+3],x.push("C",c(i[k]),c(i[k+1]),c(h),c(v),c(h),c(v)),k+=4;break;case r.OPS.closePath:x.push("Z")}x=x.join(" "),p.path&&n.length>0&&n[0]!==r.OPS.rectangle&&n[0]!==r.OPS.moveTo?x=p.path.getAttributeNS(null,"d")+x:(p.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(p.path)),p.path.setAttributeNS(null,"d",x),p.path.setAttributeNS(null,"fill","none"),p.element=p.path,p.setCurrentPoint(h,v)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const i="clippath"+u++,p=this.svgFactory.createElement("svg:clipPath");p.setAttributeNS(null,"id",i),p.setAttributeNS(null,"transform",S(this.transformMatrix));const h=n.element.cloneNode(!0);if(h.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,p.appendChild(h),this.defs.appendChild(p),n.activeClipUrl){n.clipGroup=null;for(const v of this.extraStack)v.clipGroup=null;p.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${i})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const i=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",i)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[i,p]of n)switch(i){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p);break;case"CA":this.setStrokeAlpha(p);break;case"ca":this.setFillAlpha(p);break;default:(0,r.warn)(`Unimplemented graphic state operator ${i}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,i=1){const p=this.current;let h=p.dashArray;1!==i&&h.length>0&&(h=h.map(function(v){return i*v})),n.setAttributeNS(null,"stroke",p.strokeColor),n.setAttributeNS(null,"stroke-opacity",p.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",c(p.miterLimit)),n.setAttributeNS(null,"stroke-linecap",p.lineCap),n.setAttributeNS(null,"stroke-linejoin",p.lineJoin),n.setAttributeNS(null,"stroke-width",c(i*p.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",h.map(c).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",c(i*p.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const i=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);i?this.paintInlineImageXObject(i):(0,r.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,i){const p=n.width,h=n.height,v=C(n,this.forceDataSchema,!!i),x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y","0"),x.setAttributeNS(null,"width",c(p)),x.setAttributeNS(null,"height",c(h)),this.current.element=x,this.clip("nonzero");const k=this.svgFactory.createElement("svg:image");k.setAttributeNS(s,"xlink:href",v),k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y",c(-h)),k.setAttributeNS(null,"width",c(p)+"px"),k.setAttributeNS(null,"height",c(h)+"px"),k.setAttributeNS(null,"transform",`scale(${c(1/p)} ${c(-1/h)})`),i?i.appendChild(k):this._ensureTransformGroup().appendChild(k)}paintImageMaskXObject(n){const i=this.current,p=n.width,h=n.height,v=i.fillColor;i.maskId="mask"+b++;const x=this.svgFactory.createElement("svg:mask");x.setAttributeNS(null,"id",i.maskId);const k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",c(p)),k.setAttributeNS(null,"height",c(h)),k.setAttributeNS(null,"fill",v),k.setAttributeNS(null,"mask",`url(#${i.maskId})`),this.defs.appendChild(x),this._ensureTransformGroup().appendChild(k),this.paintInlineImageXObject(n,x)}paintFormXObjectBegin(n,i){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),i){const p=i[2]-i[0],h=i[3]-i[1],v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",i[0]),v.setAttributeNS(null,"y",i[1]),v.setAttributeNS(null,"width",c(p)),v.setAttributeNS(null,"height",c(h)),this.current.element=v,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const i=this.svgFactory.create(n.width,n.height),p=this.svgFactory.createElement("svg:defs");i.appendChild(p),this.defs=p;const h=this.svgFactory.createElement("svg:g");return h.setAttributeNS(null,"transform",S(n.transform)),i.appendChild(h),this.svg=h,i}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",S(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var r=I(1),G=I(26);const B=__webpack_require__(172),W=__webpack_require__(2001),z=__webpack_require__(3779),R=__webpack_require__(6558),s=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class f{constructor(g){this.source=g,this.url=function P(b){const g=R.parse(b);return"file:"===g.protocol||g.host?g:/^[a-z]:[/\\]/i.test(b)?R.parse(`file:///${b}`):(g.host||(g.protocol="file:"),g)}(g.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new S(this):new _(this),this._fullRequestReader}getRangeReader(g,n){if(n<=this._progressiveDataLength)return null;const i=this.isFsUrl?new u(this,g,n):new c(this,g,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const n of this._rangeRequestReaders.slice(0))n.cancel(g)}};class y{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=g.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const n=g._readableStream.read();return null===n?(g._readCapability=(0,r.createPromiseCapability)(),g.read()):(g._loaded+=n.length,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class C{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!g.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const n=g._readableStream.read();return null===n?(g._readCapability=(0,r.createPromiseCapability)(),g.read()):(g._loaded+=n.length,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function F(b,g){return{protocol:b.protocol,auth:b.auth,host:b.hostname,port:b.port,path:b.path,method:"GET",headers:g}}class _ extends y{constructor(g){super(g);const n=i=>{if(404===i.statusCode){const x=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=x,void this._headersCapability.reject(x)}this._headersCapability.resolve(),this._setReadableStream(i);const p=x=>this._readableStream.headers[x.toLowerCase()],{allowRangeRequests:h,suggestedLength:v}=(0,G.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=v||this._contentLength,this._filename=(0,G.extractFilenameFromHeader)(p)};this._request=null,this._request="http:"===this._url.protocol?W.request(F(this._url,g.httpHeaders),n):z.request(F(this._url,g.httpHeaders),n),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class c extends C{constructor(g,n,i){super(g),this._httpHeaders={};for(const h in g.httpHeaders){const v=g.httpHeaders[h];typeof v>"u"||(this._httpHeaders[h]=v)}this._httpHeaders.Range=`bytes=${n}-${i-1}`;const p=h=>{if(404!==h.statusCode)this._setReadableStream(h);else{const v=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=v}};this._request=null,this._request="http:"===this._url.protocol?W.request(F(this._url,this._httpHeaders),p):z.request(F(this._url,this._httpHeaders),p),this._request.on("error",h=>{this._storedError=h}),this._request.end()}}class S extends y{constructor(g){super(g);let n=decodeURIComponent(this._url.path);s.test(this._url.href)&&(n=n.replace(/^\//,"")),B.lstat(n,(i,p)=>{if(i)return"ENOENT"===i.code&&(i=new r.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=i,void this._headersCapability.reject(i);this._contentLength=p.size,this._setReadableStream(B.createReadStream(n)),this._headersCapability.resolve()})}}class u extends C{constructor(g,n,i){super(g);let p=decodeURIComponent(this._url.path);s.test(this._url.href)&&(p=p.replace(/^\//,"")),this._setReadableStream(B.createReadStream(p,{start:n,end:i-1}))}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function R(P,f){return 404===P||0===P&&f.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+f+'".'):new r.UnexpectedResponseException(`Unexpected server response (${P}) while retrieving PDF "${f}".`,P)},a.extractFilenameFromHeader=function z(P){const f=P("Content-Disposition");if(f){let y=(0,G.getFilenameFromContentDispositionHeader)(f);if(y.includes("%"))try{y=decodeURIComponent(y)}catch{}if((0,B.isPdfFile)(y))return y}return null},a.validateRangeRequestCapabilities=function W({getResponseHeader:P,isHttp:f,rangeChunkSize:y,disableRange:C}){const F={allowRangeRequests:!1,suggestedLength:void 0},_=parseInt(P("Content-Length"),10);return!Number.isInteger(_)||(F.suggestedLength=_,_<=2*y)||C||!f||"bytes"!==P("Accept-Ranges")||"identity"!==(P("Content-Encoding")||"identity")||(F.allowRangeRequests=!0),F},a.validateResponseStatus=function s(P){return 200===P||206===P};var r=I(1),G=I(27),B=I(5)},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function G(B){let W=!0,z=R("filename\\*","i").exec(B);if(z){z=z[1];let _=y(z);return _=unescape(_),_=C(_),_=F(_),P(_)}if(z=function f(_){const c=[];let S;const u=R("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(S=u.exec(_));){let[,g,n,i]=S;if(g=parseInt(g,10),g in c){if(0===g)break}else c[g]=[n,i]}const b=[];for(let g=0;g<c.length&&g in c;++g){let[n,i]=c[g];i=y(i),n&&(i=unescape(i),0===g&&(i=C(i))),b.push(i)}return b.join("")}(B),z)return P(F(z));if(z=R("filename","i").exec(B),z){z=z[1];let _=y(z);return _=F(_),P(_)}function R(_,c){return new RegExp("(?:^|;)\\s*"+_+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',c)}function s(_,c){if(_){if(!/^[\x00-\xFF]+$/.test(c))return c;try{const S=new TextDecoder(_,{fatal:!0}),u=(0,r.stringToBytes)(c);c=S.decode(u),W=!1}catch{}}return c}function P(_){return W&&/[\x80-\xff]/.test(_)&&(_=s("utf-8",_),W&&(_=s("iso-8859-1",_))),_}function y(_){if(_.startsWith('"')){const c=_.slice(1).split('\\"');for(let S=0;S<c.length;++S){const u=c[S].indexOf('"');-1!==u&&(c[S]=c[S].slice(0,u),c.length=S+1),c[S]=c[S].replace(/\\(.)/g,"$1")}_=c.join('"')}return _}function C(_){const c=_.indexOf("'");return-1===c?_:s(_.slice(0,c),_.slice(c+1).replace(/^[^']*'/,""))}function F(_){return!_.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_)?_:_.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(c,S,u,b){if("q"===u||"Q"===u)return s(S,b=(b=b.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(g,n){return String.fromCharCode(parseInt(n,16))}));try{b=atob(b)}catch{}return s(S,b)})}return""};var r=I(1)},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var r=I(1),G=I(26);class R{constructor(C,F={}){this.url=C,this.isHttp=/^https?:/i.test(C),this.httpHeaders=this.isHttp&&F.httpHeaders||Object.create(null),this.withCredentials=F.withCredentials||!1,this.getXhr=F.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(C,F,_){const c={begin:C,end:F};for(const S in _)c[S]=_[S];return this.request(c)}requestFull(C){return this.request(C)}request(C){const F=this.getXhr(),_=this.currXhrId++,c=this.pendingRequests[_]={xhr:F};F.open("GET",this.url),F.withCredentials=this.withCredentials;for(const S in this.httpHeaders){const u=this.httpHeaders[S];typeof u>"u"||F.setRequestHeader(S,u)}return this.isHttp&&"begin"in C&&"end"in C?(F.setRequestHeader("Range",`bytes=${C.begin}-${C.end-1}`),c.expectedStatus=206):c.expectedStatus=200,F.responseType="arraybuffer",C.onError&&(F.onerror=function(S){C.onError(F.status)}),F.onreadystatechange=this.onStateChange.bind(this,_),F.onprogress=this.onProgress.bind(this,_),c.onHeadersReceived=C.onHeadersReceived,c.onDone=C.onDone,c.onError=C.onError,c.onProgress=C.onProgress,F.send(null),_}onProgress(C,F){const _=this.pendingRequests[C];_&&_.onProgress?.(F)}onStateChange(C,F){const _=this.pendingRequests[C];if(!_)return;const c=_.xhr;if(c.readyState>=2&&_.onHeadersReceived&&(_.onHeadersReceived(),delete _.onHeadersReceived),4!==c.readyState||!(C in this.pendingRequests))return;if(delete this.pendingRequests[C],0===c.status&&this.isHttp)return void _.onError?.(c.status);const S=c.status||200;if((200!==S||206!==_.expectedStatus)&&S!==_.expectedStatus)return void _.onError?.(c.status);const b=function z(y){const C=y.response;return"string"!=typeof C?C:(0,r.stringToBytes)(C).buffer}(c);if(206===S){const g=c.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);_.onDone({begin:parseInt(n[1],10),chunk:b})}else b?_.onDone({begin:0,chunk:b}):_.onError?.(c.status)}getRequestXhr(C){return this.pendingRequests[C].xhr}isPendingRequest(C){return C in this.pendingRequests}abortRequest(C){const F=this.pendingRequests[C].xhr;delete this.pendingRequests[C],F.abort()}}a.PDFNetworkStream=class s{constructor(C){this._source=C,this._manager=new R(C.url,{httpHeaders:C.httpHeaders,withCredentials:C.withCredentials}),this._rangeChunkSize=C.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(C){const F=this._rangeRequestReaders.indexOf(C);F>=0&&this._rangeRequestReaders.splice(F,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P(this._manager,this._source),this._fullRequestReader}getRangeReader(C,F){const _=new f(this._manager,C,F);return _.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_),_}cancelAllRequests(C){this._fullRequestReader?.cancel(C);for(const F of this._rangeRequestReaders.slice(0))F.cancel(C)}};class P{constructor(C,F){this._manager=C;const _={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=F.url,this._fullRequestId=C.requestFull(_),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=F.disableRange||!1,this._contentLength=F.length,this._rangeChunkSize=F.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const C=this._fullRequestId,F=this._manager.getRequestXhr(C),_=u=>F.getResponseHeader(u),{allowRangeRequests:c,suggestedLength:S}=(0,G.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});c&&(this._isRangeSupported=!0),this._contentLength=S||this._contentLength,this._filename=(0,G.extractFilenameFromHeader)(_),this._isRangeSupported&&this._manager.abortRequest(C),this._headersReceivedCapability.resolve()}_onDone(C){if(C&&(this._requests.length>0?this._requests.shift().resolve({value:C.chunk,done:!1}):this._cachedChunks.push(C.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(C){this._storedError=(0,G.createResponseStatusError)(C,this._url),this._headersReceivedCapability.reject(this._storedError);for(const F of this._requests)F.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(C){this.onProgress?.({loaded:C.loaded,total:C.lengthComputable?C.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var C=this;return _asyncToGenerator(function*(){if(C._storedError)throw C._storedError;if(C._cachedChunks.length>0)return{value:C._cachedChunks.shift(),done:!1};if(C._done)return{value:void 0,done:!0};const F=(0,r.createPromiseCapability)();return C._requests.push(F),F.promise})()}cancel(C){this._done=!0,this._headersReceivedCapability.reject(C);for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class f{constructor(C,F,_){this._manager=C;const c={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=C.url,this._requestId=C.requestRange(F,_,c),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(C){const F=C.chunk;this._requests.length>0?this._requests.shift().resolve({value:F,done:!1}):this._queuedChunk=F,this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(C){this._storedError=(0,G.createResponseStatusError)(C,this._url);for(const F of this._requests)F.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(C){this.isStreamingSupported||this.onProgress?.({loaded:C.loaded})}get isStreamingSupported(){return!1}read(){var C=this;return _asyncToGenerator(function*(){if(C._storedError)throw C._storedError;if(null!==C._queuedChunk){const _=C._queuedChunk;return C._queuedChunk=null,{value:_,done:!1}}if(C._done)return{value:void 0,done:!0};const F=(0,r.createPromiseCapability)();return C._requests.push(F),F.promise})()}cancel(C){this._done=!0;for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(te,a,I)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var r=I(1),G=I(26);function B(P,f,y){return{method:"GET",headers:P,signal:y?.signal,mode:"cors",credentials:f?"include":"same-origin",redirect:"follow"}}function W(P){const f=new Headers;for(const y in P){const C=P[y];typeof C>"u"||f.append(y,C)}return f}a.PDFFetchStream=class z{constructor(f){this.source=f,this.isHttp=/^https?:/i.test(f.url),this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new R(this),this._fullRequestReader}getRangeReader(f,y){if(y<=this._progressiveDataLength)return null;const C=new s(this,f,y);return this._rangeRequestReaders.push(C),C}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const y of this._rangeRequestReaders.slice(0))y.cancel(f)}};class R{constructor(f){this._stream=f,this._reader=null,this._loaded=0,this._filename=null;const y=f.source;this._withCredentials=y.withCredentials||!1,this._contentLength=y.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._headers=W(this._stream.httpHeaders);const C=y.url;fetch(C,B(this._headers,this._withCredentials,this._abortController)).then(F=>{if(!(0,G.validateResponseStatus)(F.status))throw(0,G.createResponseStatusError)(F.status,C);this._reader=F.body.getReader(),this._headersCapability.resolve();const _=u=>F.headers.get(u),{allowRangeRequests:c,suggestedLength:S}=(0,G.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=S||this._contentLength,this._filename=(0,G.extractFilenameFromHeader)(_),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){yield f._headersCapability.promise;const{value:y,done:C}=yield f._reader.read();return C?{value:y,done:C}:(f._loaded+=y.byteLength,f.onProgress&&f.onProgress({loaded:f._loaded,total:f._contentLength}),{value:new Uint8Array(y).buffer,done:!1})})()}cancel(f){this._reader&&this._reader.cancel(f),this._abortController&&this._abortController.abort()}}class s{constructor(f,y,C){this._stream=f,this._reader=null,this._loaded=0;const F=f.source;this._withCredentials=F.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!F.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=W(this._stream.httpHeaders),this._headers.append("Range",`bytes=${y}-${C-1}`);const _=F.url;fetch(_,B(this._headers,this._withCredentials,this._abortController)).then(c=>{if(!(0,G.validateResponseStatus)(c.status))throw(0,G.createResponseStatusError)(c.status,_);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){yield f._readCapability.promise;const{value:y,done:C}=yield f._reader.read();return C?{value:y,done:C}:(f._loaded+=y.byteLength,f.onProgress&&f.onProgress({loaded:f._loaded}),{value:new Uint8Array(y).buffer,done:!1})})()}cancel(f){this._reader&&this._reader.cancel(f),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(te){var a=__webpack_module_cache__[te];if(void 0!==a)return a.exports;var I=__webpack_module_cache__[te]={exports:{}};return __webpack_modules__[te](I,I.exports,__w_pdfjs_require__),I.exports}var __webpack_exports__={};return(()=>{var te=__webpack_exports__;Object.defineProperty(te,"__esModule",{value:!0}),Object.defineProperty(te,"AnnotationLayer",{enumerable:!0,get:function(){return G.AnnotationLayer}}),Object.defineProperty(te,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(te,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(te,"GlobalWorkerOptions",{enumerable:!0,get:function(){return B.GlobalWorkerOptions}}),Object.defineProperty(te,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(te,"LoopbackPort",{enumerable:!0,get:function(){return I.LoopbackPort}}),Object.defineProperty(te,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(te,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(te,"PDFDataRangeTransport",{enumerable:!0,get:function(){return I.PDFDataRangeTransport}}),Object.defineProperty(te,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(te,"PDFWorker",{enumerable:!0,get:function(){return I.PDFWorker}}),Object.defineProperty(te,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(te,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(te,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(te,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(te,"SVGGraphics",{enumerable:!0,get:function(){return R.SVGGraphics}}),Object.defineProperty(te,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(te,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(te,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(te,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(te,"XfaLayer",{enumerable:!0,get:function(){return s.XfaLayer}}),Object.defineProperty(te,"build",{enumerable:!0,get:function(){return I.build}}),Object.defineProperty(te,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(te,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(te,"getDocument",{enumerable:!0,get:function(){return I.getDocument}}),Object.defineProperty(te,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(te,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(te,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(te,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(te,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(te,"renderTextLayer",{enumerable:!0,get:function(){return z.renderTextLayer}}),Object.defineProperty(te,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(te,"version",{enumerable:!0,get:function(){return I.version}});var a=__w_pdfjs_require__(1),I=__w_pdfjs_require__(4),r=__w_pdfjs_require__(5),G=__w_pdfjs_require__(20),B=__w_pdfjs_require__(13),W=__w_pdfjs_require__(3),z=__w_pdfjs_require__(23),R=__w_pdfjs_require__(24),s=__w_pdfjs_require__(22);if(W.isNodeJS){const{PDFNodeStream:y}=__w_pdfjs_require__(25);(0,I.setPDFNetworkStreamFactory)(C=>new y(C))}else{const{PDFNetworkStream:y}=__w_pdfjs_require__(28),{PDFFetchStream:C}=__w_pdfjs_require__(29);(0,I.setPDFNetworkStreamFactory)(F=>(0,r.isValidFetchUrl)(F.url)?new C(F):new y(F))}})(),__webpack_exports__})(),module.exports=I()},2813:function(te,a,I){var W,r=I(7156).default;W=()=>(()=>{"use strict";var G=[,(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DefaultXfaLayerFactory=s.DefaultTextLayerFactory=s.DefaultStructTreeLayerFactory=s.DefaultAnnotationLayerFactory=void 0;var f=P(2),y=P(4),C=P(5),F=P(7),_=P(8),c=P(9);s.DefaultAnnotationLayerFactory=class S{createAnnotationLayerBuilder(i,p,h=null,v="",x=!0,k=y.NullL10n,l=!1,T=null,E=null,O=null,N=null){return new f.AnnotationLayerBuilder({pageDiv:i,pdfPage:p,imageResourcesPath:v,renderForms:x,linkService:new C.SimpleLinkService,l10n:k,annotationStorage:h,enableScripting:l,hasJSActionsPromise:T,fieldObjectsPromise:O,mouseState:E,annotationCanvasMap:N})}},s.DefaultStructTreeLayerFactory=class u{createStructTreeLayerBuilder(i){return new F.StructTreeLayerBuilder({pdfPage:i})}},s.DefaultTextLayerFactory=class b{createTextLayerBuilder(i,p,h,v=!1,x,k){return new _.TextLayerBuilder({textLayerDiv:i,pageIndex:p,viewport:h,enhanceTextSelection:v,eventBus:x,highlighter:k})}},s.DefaultXfaLayerFactory=class g{createXfaLayerBuilder(i,p,h=null,v=null){return new c.XfaLayerBuilder({pageDiv:i,pdfPage:p,annotationStorage:h,linkService:new C.SimpleLinkService,xfaHtml:v})}}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayerBuilder=void 0;var f=P(3),y=P(4);s.AnnotationLayerBuilder=class C{constructor({pageDiv:_,pdfPage:c,linkService:S,downloadManager:u,annotationStorage:b=null,imageResourcesPath:g="",renderForms:n=!0,l10n:i=y.NullL10n,enableScripting:p=!1,hasJSActionsPromise:h=null,fieldObjectsPromise:v=null,mouseState:x=null,annotationCanvasMap:k=null}){this.pageDiv=_,this.pdfPage=c,this.linkService=S,this.downloadManager=u,this.imageResourcesPath=g,this.renderForms=n,this.l10n=i,this.annotationStorage=b,this.enableScripting=p,this._hasJSActionsPromise=h,this._fieldObjectsPromise=v,this._mouseState=x,this._annotationCanvasMap=k,this.div=null,this._cancelled=!1}render(_,c="display"){var S=this;return r(function*(){const[u,b=!1,g=null]=yield Promise.all([S.pdfPage.getAnnotations({intent:c}),S._hasJSActionsPromise,S._fieldObjectsPromise]);if(S._cancelled||0===u.length)return;const n={viewport:_.clone({dontFlip:!0}),div:S.div,annotations:u,page:S.pdfPage,imageResourcesPath:S.imageResourcesPath,renderForms:S.renderForms,linkService:S.linkService,downloadManager:S.downloadManager,annotationStorage:S.annotationStorage,enableScripting:S.enableScripting,hasJSActions:b,fieldObjects:g,mouseState:S._mouseState,annotationCanvasMap:S._annotationCanvasMap};S.div?f.AnnotationLayer.update(n):(S.div=document.createElement("div"),S.div.className="annotationLayer",S.pageDiv.appendChild(S.div),n.div=S.div,f.AnnotationLayer.render(n),S.l10n.translate(S.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},R=>{let s;s=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:I(6036),R.exports=s},(R,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.fixupLangCode=function C(c){return y[c?.toLowerCase()]||c},s.getL10nFallback=f;const P={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function f(c,S){switch(c){case"find_match_count":c=`find_match_count[${1===S.total?"one":"other"}]`;break;case"find_match_count_limit":c=`find_match_count_limit[${1===S.limit?"one":"other"}]`}return P[c]||""}const y={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};s.NullL10n={getLanguage:()=>r(function*(){return"en-us"})(),getDirection:()=>r(function*(){return"ltr"})(),get:(c,S=null,u=f(c,S))=>r(function*(){return function F(c,S){return S?c.replace(/\{\{\s*(\w+)\s*\}\}/g,(u,b)=>b in S?S[b]:"{{"+b+"}}"):c}(u,S)})(),translate:c=>r(function*(){})()}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleLinkService=s.PDFLinkService=s.LinkTarget=void 0;var f=P(6);const y="noopener noreferrer nofollow",C={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function F(S,{url:u,target:b,rel:g,enabled:n=!0}={}){if(!u||"string"!=typeof u)throw new Error('A valid "url" parameter must provided.');const i=(0,f.removeNullCharacters)(u);n?S.href=S.title=i:(S.href="",S.title=`Disabled: ${i}`,S.onclick=()=>!1);let p="";switch(b){case C.NONE:break;case C.SELF:p="_self";break;case C.BLANK:p="_blank";break;case C.PARENT:p="_parent";break;case C.TOP:p="_top"}S.target=p,S.rel="string"==typeof g?g:y}s.LinkTarget=C;class _{#e=new Map;constructor({eventBus:u,externalLinkTarget:b=null,externalLinkRel:g=null,ignoreDestinationZoom:n=!1}={}){this.eventBus=u,this.externalLinkTarget=b,this.externalLinkRel=g,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=n,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(u,b=null){this.baseUrl=b,this.pdfDocument=u,this.#e.clear()}setViewer(u){this.pdfViewer=u}setHistory(u){this.pdfHistory=u}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(u){this.pdfViewer.currentPageNumber=u}get rotation(){return this.pdfViewer.pagesRotation}set rotation(u){this.pdfViewer.pagesRotation=u}#t(u,b=null,g){const n=g[0];let i;if("object"==typeof n&&null!==n){if(i=this._cachedPageNumber(n),!i)return void this.pdfDocument.getPageIndex(n).then(p=>{this.cachePageRef(p+1,n),this.#t(u,b,g)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${n}" is not a valid page reference, for dest="${u}".`)})}else{if(!Number.isInteger(n))return void console.error(`PDFLinkService.#goToDestinationHelper: "${n}" is not a valid destination reference, for dest="${u}".`);i=n+1}!i||i<1||i>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${i}" is not a valid page number, for dest="${u}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:b,explicitDest:g,pageNumber:i})),this.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:g,ignoreDestinationZoom:this._ignoreDestinationZoom}))}goToDestination(u){var b=this;return r(function*(){if(!b.pdfDocument)return;let g,n;"string"==typeof u?(g=u,n=yield b.pdfDocument.getDestination(u)):(g=null,n=yield u),Array.isArray(n)?b.#t(u,g,n):console.error(`PDFLinkService.goToDestination: "${n}" is not a valid destination array, for dest="${u}".`)})()}goToPage(u){if(!this.pdfDocument)return;const b="string"==typeof u&&this.pdfViewer.pageLabelToPageNumber(u)||0|u;Number.isInteger(b)&&b>0&&b<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(b)),this.pdfViewer.scrollPageIntoView({pageNumber:b})):console.error(`PDFLinkService.goToPage: "${u}" is not a valid page.`)}addLinkAttributes(u,b,g=!1){F(u,{url:b,target:g?C.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(u){if("string"==typeof u){if(u.length>0)return this.getAnchorUrl("#"+escape(u))}else if(Array.isArray(u)){const b=JSON.stringify(u);if(b.length>0)return this.getAnchorUrl("#"+escape(b))}return this.getAnchorUrl("")}getAnchorUrl(u){return(this.baseUrl||"")+u}setHash(u){if(!this.pdfDocument)return;let b,g;if(u.includes("=")){const n=(0,f.parseQueryString)(u);if(n.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:n.get("search").replace(/"/g,""),phraseSearch:"true"===n.get("phrase")}),n.has("page")&&(b=0|n.get("page")||1),n.has("zoom")){const i=n.get("zoom").split(","),p=i[0],h=parseFloat(p);p.includes("Fit")?"Fit"===p||"FitB"===p?g=[null,{name:p}]:"FitH"===p||"FitBH"===p||"FitV"===p||"FitBV"===p?g=[null,{name:p},i.length>1?0|i[1]:null]:"FitR"===p?5!==i.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):g=[null,{name:p},0|i[1],0|i[2],0|i[3],0|i[4]]:console.error(`PDFLinkService.setHash: "${p}" is not a valid zoom value.`):g=[null,{name:"XYZ"},i.length>1?0|i[1]:null,i.length>2?0|i[2]:null,h?h/100:p]}g?this.pdfViewer.scrollPageIntoView({pageNumber:b||this.page,destArray:g,allowNegativeOffset:!0}):b&&(this.page=b),n.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:n.get("pagemode")}),n.has("nameddest")&&this.goToDestination(n.get("nameddest"))}else{g=unescape(u);try{g=JSON.parse(g),Array.isArray(g)||(g=g.toString())}catch{}if("string"==typeof g||_.#n(g))return void this.goToDestination(g);console.error(`PDFLinkService.setHash: "${unescape(u)}" is not a valid destination.`)}}executeNamedAction(u){switch(u){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:u})}cachePageRef(u,b){b&&this.#e.set(0===b.gen?`${b.num}R`:`${b.num}R${b.gen}`,u)}_cachedPageNumber(u){return u&&this.#e.get(0===u.gen?`${u.num}R`:`${u.num}R${u.gen}`)||null}isPageVisible(u){return this.pdfViewer.isPageVisible(u)}isPageCached(u){return this.pdfViewer.isPageCached(u)}static#n(u){if(!Array.isArray(u))return!1;const b=u.length;if(b<2)return!1;const g=u[0];if(!("object"==typeof g&&Number.isInteger(g.num)&&Number.isInteger(g.gen)||Number.isInteger(g)&&g>=0))return!1;const n=u[1];if("object"!=typeof n||"string"!=typeof n.name)return!1;let i=!0;switch(n.name){case"XYZ":if(5!==b)return!1;break;case"Fit":case"FitB":return 2===b;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==b)return!1;break;case"FitR":if(6!==b)return!1;i=!1;break;default:return!1}for(let p=2;p<b;p++){const h=u[p];if(!("number"==typeof h||i&&null===h))return!1}return!0}}s.PDFLinkService=_,s.SimpleLinkService=class c{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(u){}get rotation(){return 0}set rotation(u){}goToDestination(u){return r(function*(){})()}goToPage(u){}addLinkAttributes(u,b,g=!1){F(u,{url:b,enabled:this.externalLinkEnabled})}getDestinationHash(u){return"#"}getAnchorUrl(u){return"#"}setHash(u){}executeNamedAction(u){}cachePageRef(u,b){}isPageVisible(u){return!0}isPageCached(u){return!0}}},(R,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.animationStarted=s.VERTICAL_PADDING=s.UNKNOWN_SCALE=s.TextLayerMode=s.SpreadMode=s.SidebarView=s.ScrollMode=s.SCROLLBAR_PADDING=s.RenderingStates=s.RendererType=s.ProgressBar=s.PresentationModeState=s.OutputScale=s.MIN_SCALE=s.MAX_SCALE=s.MAX_AUTO_SCALE=s.DEFAULT_SCALE_VALUE=s.DEFAULT_SCALE_DELTA=s.DEFAULT_SCALE=s.AutoPrintRegExp=void 0,s.apiPageLayoutToViewerModes=function ie(Q){let Z=h.VERTICAL,ae=v.NONE;switch(Q){case"SinglePage":Z=h.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Z=h.PAGE;case"TwoColumnLeft":ae=v.ODD;break;case"TwoPageRight":Z=h.PAGE;case"TwoColumnRight":ae=v.EVEN}return{scrollMode:Z,spreadMode:ae}},s.apiPageModeToSidebarView=function se(Q){switch(Q){case"UseNone":return n.NONE;case"UseThumbs":return n.THUMBS;case"UseOutlines":return n.OUTLINE;case"UseAttachments":return n.ATTACHMENTS;case"UseOC":return n.LAYERS}return n.NONE},s.approximateFraction=function V(Q){if(Math.floor(Q)===Q)return[Q,1];const Z=1/Q;if(Z>8)return[1,8];if(Math.floor(Z)===Z)return[1,Z];const re=Q>1?Z:Q;let pe,ne=0,ce=1,he=1,oe=1;for(;;){const _e=ne+he,de=ce+oe;if(de>8)break;re<=_e/de?(he=_e,oe=de):(ne=_e,ce=de)}return pe=re-ne/ce<he/oe-re?re===Q?[ne,ce]:[ce,ne]:re===Q?[he,oe]:[oe,he],pe},s.backtrackBeforeAllVisibleElements=w,s.binarySearchFirstItem=D,s.getActiveOrFocusedElement=function K(){let Q=document,Z=Q.activeElement||Q.querySelector(":focus");for(;Z?.shadowRoot;)Q=Z.shadowRoot,Z=Q.activeElement||Q.querySelector(":focus");return Z},s.getPageSizeInches=function J({view:Q,userUnit:Z,rotate:ae}){const[re,ne,ce,he]=Q,oe=ae%180!=0,pe=(ce-re)/72*Z,_e=(he-ne)/72*Z;return{width:oe?_e:pe,height:oe?pe:_e}},s.getVisibleElements=function e({scrollEl:Q,views:Z,sortByVisibility:ae=!1,horizontal:re=!1,rtl:ne=!1}){const ce=Q.scrollTop,he=ce+Q.clientHeight,oe=Q.scrollLeft,pe=oe+Q.clientWidth,me=[],ve=new Set,Se=Z.length;let be=D(Z,re?function de(Y){const le=Y.div,ue=le.offsetLeft+le.clientLeft;return ne?ue<pe:ue+le.clientWidth>oe}:function _e(Y){const le=Y.div;return le.offsetTop+le.clientTop+le.clientHeight>ce});be>0&&be<Se&&!re&&(be=w(be,Z,ce));let we=re?pe:-1;for(let Y=be;Y<Se;Y++){const le=Z[Y],ue=le.div,fe=ue.offsetLeft+ue.clientLeft,ge=ue.offsetTop+ue.clientTop,Ce=ue.clientWidth,xe=ue.clientHeight,Ee=fe+Ce,ye=ge+xe;if(-1===we)ye>=he&&(we=ye);else if((re?fe:ge)>we)break;if(ye<=ce||ge>=he||Ee<=oe||fe>=pe)continue;const Me=Math.max(0,ce-ge)+Math.max(0,ye-he),Ae=(Ce-(Math.max(0,oe-fe)+Math.max(0,Ee-pe)))/Ce;me.push({id:le.id,x:fe,y:ge,view:le,percent:(xe-Me)/xe*Ae*100|0,widthPercent:100*Ae|0}),ve.add(le.id)}const ee=me[0],$=me[me.length-1];return ae&&me.sort(function(Y,le){const ue=Y.percent-le.percent;return Math.abs(ue)>.001?-ue:Y.id-le.id}),{first:ee,last:$,views:me,ids:ve}},s.isPortraitOrientation=function U(Q){return Q.width<=Q.height},s.isValidRotation=function d(Q){return Number.isInteger(Q)&&Q%90==0},s.isValidScrollMode=function A(Q){return Number.isInteger(Q)&&Object.values(h).includes(Q)&&Q!==h.UNKNOWN},s.isValidSpreadMode=function L(Q){return Number.isInteger(Q)&&Object.values(v).includes(Q)&&Q!==v.UNKNOWN},s.noContextMenuHandler=function t(Q){Q.preventDefault()},s.normalizeWheelEventDelta=function m(Q){let Z=o(Q);return 0===Q.deltaMode?Z/=900:1===Q.deltaMode&&(Z/=30),Z},s.normalizeWheelEventDirection=o,s.parseQueryString=function E(Q){const Z=new Map;for(const[ae,re]of new URLSearchParams(Q))Z.set(ae.toLowerCase(),re);return Z},s.removeNullCharacters=function M(Q,Z=!1){return"string"!=typeof Q?(console.error("The argument must be a string."),Q):(Z&&(Q=Q.replace(N," ")),Q.replace(O,""))},s.roundToDivide=function X(Q,Z){const ae=Q%Z;return 0===ae?Q:Math.round(Q-ae+Z)},s.scrollIntoView=function l(Q,Z,ae=!1){let re=Q.offsetParent;if(!re)return void console.error("offsetParent is not set -- cannot scroll");let ne=Q.offsetTop+Q.clientTop,ce=Q.offsetLeft+Q.clientLeft;for(;re.clientHeight===re.scrollHeight&&re.clientWidth===re.scrollWidth||ae&&(re.classList.contains("markedContent")||"hidden"===getComputedStyle(re).overflow);)if(ne+=re.offsetTop,ce+=re.offsetLeft,re=re.offsetParent,!re)return;Z&&(void 0!==Z.top&&(ne+=Z.top),void 0!==Z.left&&(ce+=Z.left,re.scrollLeft=ce)),re.scrollTop=ne},s.watchScroll=function T(Q,Z){const ae=function(ce){ne||(ne=window.requestAnimationFrame(function(){ne=null;const oe=Q.scrollLeft,pe=re.lastX;oe!==pe&&(re.right=oe>pe),re.lastX=oe;const _e=Q.scrollTop,de=re.lastY;_e!==de&&(re.down=_e>de),re.lastY=_e,Z(re)}))},re={right:!0,down:!0,lastX:Q.scrollLeft,lastY:Q.scrollTop,_eventHandler:ae};let ne=null;return Q.addEventListener("scroll",ae,!0),re},s.DEFAULT_SCALE_VALUE="auto",s.DEFAULT_SCALE=1,s.DEFAULT_SCALE_DELTA=1.1,s.MIN_SCALE=.1,s.MAX_SCALE=10,s.UNKNOWN_SCALE=0,s.MAX_AUTO_SCALE=1.25,s.SCROLLBAR_PADDING=40,s.VERTICAL_PADDING=5,s.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},s.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const n={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};s.SidebarView=n,s.RendererType={CANVAS:"canvas",SVG:"svg"},s.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const h={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};s.ScrollMode=h;const v={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};s.SpreadMode=v,s.AutoPrintRegExp=/\bprint\s*\(/,s.OutputScale=class k{constructor(){const Z=window.devicePixelRatio||1;this.sx=Z,this.sy=Z}get scaled(){return 1!==this.sx||1!==this.sy}};const O=/\x00/g,N=/[\x01-\x1F]/g;function D(Q,Z,ae=0){let re=ae,ne=Q.length-1;if(ne<0||!Z(Q[ne]))return Q.length;if(Z(Q[re]))return re;for(;re<ne;){const ce=re+ne>>1;Z(Q[ce])?ne=ce:re=ce+1}return re}function w(Q,Z,ae){if(Q<2)return Q;let re=Z[Q].div,ne=re.offsetTop+re.clientTop;ne>=ae&&(re=Z[Q-1].div,ne=re.offsetTop+re.clientTop);for(let ce=Q-2;ce>=0&&(re=Z[ce].div,!(re.offsetTop+re.clientTop+re.clientHeight<=ne));--ce)Q=ce;return Q}function o(Q){let Z=Math.hypot(Q.deltaX,Q.deltaY);const ae=Math.atan2(Q.deltaY,Q.deltaX);return-.25*Math.PI<ae&&ae<.75*Math.PI&&(Z=-Z),Z}const j=new Promise(function(Q){window.requestAnimationFrame(Q)});s.animationStarted=j,s.ProgressBar=class q{constructor(Z){if(arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(Z+" .progress"),this.bar=this.div.parentNode,this.percent=0}#e(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}get percent(){return this._percent}set percent(Z){this._indeterminate=isNaN(Z),this._percent=function H(Q,Z,ae){return Math.min(Math.max(Q,Z),ae)}(Z,0,100),this.#e()}setWidth(Z){if(!Z)return;const re=Z.parentNode.offsetWidth-Z.offsetWidth;re>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${re}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(R,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeLayerBuilder=void 0;const P={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},f=/^H(\d+)$/;s.StructTreeLayerBuilder=class y{constructor({pdfPage:F}){this.pdfPage=F}render(F){return this._walk(F)}_setAttributes(F,_){void 0!==F.alt&&_.setAttribute("aria-label",F.alt),void 0!==F.id&&_.setAttribute("aria-owns",F.id),void 0!==F.lang&&_.setAttribute("lang",F.lang)}_walk(F){if(!F)return null;const _=document.createElement("span");if("role"in F){const{role:c}=F,S=c.match(f);S?(_.setAttribute("role","heading"),_.setAttribute("aria-level",S[1])):P[c]&&_.setAttribute("role",P[c])}if(this._setAttributes(F,_),F.children)if(1===F.children.length&&"id"in F.children[0])this._setAttributes(F.children[0],_);else for(const c of F.children)_.appendChild(this._walk(c));return _}}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerBuilder=void 0;var f=P(3);s.TextLayerBuilder=class C{constructor({textLayerDiv:_,eventBus:c,pageIndex:S,viewport:u,highlighter:b=null,enhanceTextSelection:g=!1}){this.textLayerDiv=_,this.eventBus=c,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=S+1,this.viewport=u,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=b,this.enhanceTextSelection=g,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const _=document.createElement("div");_.className="endOfContent",this.textLayerDiv.appendChild(_)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(_=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const c=document.createDocumentFragment();this.textLayerRenderTask=(0,f.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:c,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:_,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(c),this._finishRendering(),this.highlighter?.enable()},function(S){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(_){this.cancel(),this.textContentStream=_}setTextContent(_){this.cancel(),this.textContent=_}_bindMouse(){const _=this.textLayerDiv;let c=null;_.addEventListener("mousedown",S=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(c&&(clearTimeout(c),c=null));const u=_.querySelector(".endOfContent");if(!u)return;let b=S.target!==_;if(b=b&&"none"!==window.getComputedStyle(u).getPropertyValue("-moz-user-select"),b){const g=_.getBoundingClientRect(),n=Math.max(0,(S.pageY-g.top)/g.height);u.style.top=(100*n).toFixed(2)+"%"}u.classList.add("active")}),_.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(c=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),c=null},300));const S=_.querySelector(".endOfContent");S&&(S.style.top="",S.classList.remove("active"))})}}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayerBuilder=void 0;var f=P(3);s.XfaLayerBuilder=class y{constructor({pageDiv:F,pdfPage:_,annotationStorage:c=null,linkService:S,xfaHtml:u=null}){this.pageDiv=F,this.pdfPage=_,this.annotationStorage=c,this.linkService=S,this.xfaHtml=u,this.div=null,this._cancelled=!1}render(F,_="display"){if("print"===_){const c={viewport:F.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:_},S=document.createElement("div");this.pageDiv.appendChild(S),c.div=S;const u=f.XfaLayer.render(c);return Promise.resolve(u)}return this.pdfPage.getXfa().then(c=>{if(this._cancelled||!c)return{textDivs:[]};const S={viewport:F.clone({dontFlip:!0}),div:this.div,xfaHtml:c,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:_};return this.div?f.XfaLayer.update(S):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),S.div=this.div,f.XfaLayer.render(S))}).catch(c=>{console.error(c)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFViewer=s.PDFSinglePageViewer=void 0;var f=P(6),y=P(11);s.PDFViewer=class C extends y.BaseViewer{},s.PDFSinglePageViewer=class F extends y.BaseViewer{_resetView(){super._resetView(),this._scrollMode=f.ScrollMode.PAGE,this._spreadMode=f.SpreadMode.NONE}set scrollMode(c){}_updateScrollMode(){}set spreadMode(c){}_updateSpreadMode(){}}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PagesCountLimit=s.PDFPageViewBuffer=s.BaseViewer=void 0;var f=P(3),y=P(6),C=P(2),F=P(4),_=P(12),c=P(14),S=P(5),u=P(7),b=P(15),g=P(8),n=P(9);const p="enablePermissions",h={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};s.PagesCountLimit=h;class v{#e=new Set;#t=0;constructor(l){this.#t=l}push(l){const T=this.#e;T.has(l)&&T.delete(l),T.add(l),T.size>this.#t&&this.#n()}resize(l,T=null){this.#t=l;const E=this.#e;if(T){const O=E.size;let N=1;for(const M of E)if(T.has(M.id)&&(E.delete(M),E.add(M)),++N>O)break}for(;E.size>this.#t;)this.#n()}has(l){return this.#e.has(l)}[Symbol.iterator](){return this.#e.keys()}#n(){const l=this.#e.keys().next().value;l?.destroy(),this.#e.delete(l)}}s.PDFPageViewBuffer=v;class x{#e=null;#t=f.AnnotationMode.ENABLE_FORMS;#n=null;#r=!1;#h=0;#l=null;#i=null;constructor(l){if(this.constructor===x)throw new Error("Cannot initialize BaseViewer.");const T="2.14.305";if(f.version!==T)throw new Error(`The API version "${f.version}" does not match the Viewer version "${T}".`);if(this.container=l.container,this.viewer=l.viewer||l.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=l.eventBus,this.linkService=l.linkService||new S.SimpleLinkService,this.downloadManager=l.downloadManager||null,this.findController=l.findController||null,this._scriptingManager=l.scriptingManager||null,this.removePageBorders=l.removePageBorders||!1,this.textLayerMode=l.textLayerMode??y.TextLayerMode.ENABLE,this.#t=l.annotationMode??f.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=l.imageResourcesPath||"",this.enablePrintAutoRotate=l.enablePrintAutoRotate||!1,this.renderer=l.renderer||y.RendererType.CANVAS,this.useOnlyCssZoom=l.useOnlyCssZoom||!1,this.maxCanvasPixels=l.maxCanvasPixels,this.l10n=l.l10n||F.NullL10n,this.#r=l.enablePermissions||!1,this.pageColors=l.pageColors||null,l.pageColors&&(!CSS.supports("color",l.pageColors.background)||!CSS.supports("color",l.pageColors.foreground))&&((l.pageColors.background||l.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!l.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new c.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=l.renderingQueue,this._doc=document.documentElement,this.scroll=(0,y.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=y.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(l){return this._pages[l]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(l){return l?.pdfPage})}get renderForms(){return this.#t===f.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(l){if(!Number.isInteger(l))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(l,!0)||console.error(`currentPageNumber: "${l}" is not a valid page.`))}_setCurrentPageNumber(l,T=!1){if(this._currentPageNumber===l)return T&&this.#u(),!0;if(!(0<l&&l<=this.pagesCount))return!1;const E=this._currentPageNumber;return this._currentPageNumber=l,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:l,pageLabel:this._pageLabels?.[l-1]??null,previous:E}),T&&this.#u(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(l){if(!this.pdfDocument)return;let T=0|l;if(this._pageLabels){const E=this._pageLabels.indexOf(l);E>=0&&(T=E+1)}this._setCurrentPageNumber(T,!0)||console.error(`currentPageLabel: "${l}" is not a valid page.`)}get currentScale(){return this._currentScale!==y.UNKNOWN_SCALE?this._currentScale:y.DEFAULT_SCALE}set currentScale(l){if(isNaN(l))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(l,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(l){this.pdfDocument&&this._setScale(l,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(l){if(!(0,y.isValidRotation)(l))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((l%=360)<0&&(l+=360),this._pagesRotation===l))return;this._pagesRotation=l;const T=this._currentPageNumber,E={rotation:l};for(const O of this._pages)O.update(E);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:l,pageNumber:T}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#g(l){l&&(l.includes(f.PermissionFlag.COPY)||this.viewer.classList.add(p),!l.includes(f.PermissionFlag.MODIFY_ANNOTATIONS)&&!l.includes(f.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#t===f.AnnotationMode.ENABLE_FORMS&&(this.#n=this.#t,this.#t=f.AnnotationMode.ENABLE))}#_(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const l=new Promise(T=>{this.#i=()=>{"hidden"===document.visibilityState&&(T(),document.removeEventListener("visibilitychange",this.#i),this.#i=null)},document.addEventListener("visibilitychange",this.#i)});return Promise.race([this._onePageRenderedCapability.promise,l])}setDocument(l){var T=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=l,!l)return;const E=l.isPureXfa,O=l.numPages,N=l.getPage(1),M=l.getOptionalContentConfig(),D=this.#r?l.getPermissions():Promise.resolve();if(O>h.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const V=this._scrollMode=y.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:V})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:O})},()=>{}),this._onBeforeDraw=V=>{const X=this._pages[V.pageNumber-1];X&&this.#e.push(X)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=V=>{V.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:V.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([N,D]).then(([V,X])=>{if(l!==this.pdfDocument)return;this._firstPageCapability.resolve(V),this._optionalContentConfigPromise=M,this.#g(X);const J=this._scrollMode===y.ScrollMode.PAGE?null:this.viewer,w=this.currentScale,e=V.getViewport({scale:w*f.PixelsPerInch.PDF_TO_CSS_UNITS}),t=this.textLayerMode===y.TextLayerMode.DISABLE||E?null:this,o=this.#t!==f.AnnotationMode.DISABLE?this:null,m=E?this:null;for(let A=1;A<=O;++A){const L=new _.PDFPageView({container:J,eventBus:this.eventBus,id:A,scale:w,defaultViewport:e.clone(),optionalContentConfigPromise:M,renderingQueue:this.renderingQueue,textLayerFactory:t,textLayerMode:this.textLayerMode,annotationLayerFactory:o,annotationMode:this.#t,xfaLayerFactory:m,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(L)}const d=this._pages[0];d&&(d.setPdfPage(V),this.linkService.cachePageRef(1,V.ref)),this._scrollMode===y.ScrollMode.PAGE?this.#s():this._spreadMode!==y.SpreadMode.NONE&&this._updateSpreadMode(),this.#_().then(r(function*(){if(T.findController&&T.findController.setDocument(l),T._scriptingManager&&T._scriptingManager.setDocument(l),l.loadingParams.disableAutoFetch||O>h.FORCE_LAZY_PAGE_INIT)return void T._pagesCapability.resolve();let A=O-1;if(A<=0)T._pagesCapability.resolve();else for(let L=2;L<=O;++L){const U=l.getPage(L).then(j=>{const H=T._pages[L-1];H.pdfPage||H.setPdfPage(j),T.linkService.cachePageRef(L,j.ref),0==--A&&T._pagesCapability.resolve()},j=>{console.error(`Unable to get page ${L} to initialize viewer`,j),0==--A&&T._pagesCapability.resolve()});L%h.PAUSE_EAGER_PAGE_INIT==0&&(yield U)}})),this.eventBus.dispatch("pagesinit",{source:this}),l.getMetadata().then(({info:A})=>{l===this.pdfDocument&&A.Language&&(this.viewer.lang=A.Language)}),this.defaultRenderingQueue&&this.update()}).catch(V=>{console.error("Unable to initialize viewer",V),this._pagesCapability.reject(V)})}setPageLabels(l){if(this.pdfDocument){l?Array.isArray(l)&&this.pdfDocument.numPages===l.length?this._pageLabels=l:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let T=0,E=this._pages.length;T<E;T++)this._pages[T].setPageLabel(this._pageLabels?.[T]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=y.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new v(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,f.createPromiseCapability)(),this._onePageRenderedCapability=(0,f.createPromiseCapability)(),this._pagesCapability=(0,f.createPromiseCapability)(),this._scrollMode=y.ScrollMode.VERTICAL,this._previousScrollMode=y.ScrollMode.UNKNOWN,this._spreadMode=y.SpreadMode.NONE,this.#l={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(p),null!==this.#n&&(this.#t=this.#n,this.#n=null)}#s(){if(this._scrollMode!==y.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const l=this._currentPageNumber,T=this.#l,E=this.viewer;if(E.textContent="",T.pages.length=0,this._spreadMode!==y.SpreadMode.NONE||this.isInPresentationMode){const O=new Set,N=this._spreadMode-1;-1===N?O.add(l-1):l%2!==N?(O.add(l-1),O.add(l)):(O.add(l-2),O.add(l-1));const M=document.createElement("div");if(M.className="spread",this.isInPresentationMode){const D=document.createElement("div");D.className="dummyPage",M.appendChild(D)}for(const D of O){const V=this._pages[D];V&&(M.appendChild(V.div),T.pages.push(V))}E.appendChild(M)}else{const O=this._pages[l-1];E.appendChild(O.div),T.pages.push(O)}T.scrollDown=l>=T.previousPageNumber,T.previousPageNumber=l}_scrollUpdate(){0!==this.pagesCount&&this.update()}#a(l,T=null){const{div:E,id:O}=l;if(this._scrollMode===y.ScrollMode.PAGE&&(this._setCurrentPageNumber(O),this.#s(),this.update()),!T&&!this.isInPresentationMode){const N=E.offsetLeft+E.clientLeft,M=N+E.clientWidth,{scrollLeft:D,clientWidth:V}=this.container;(this._scrollMode===y.ScrollMode.HORIZONTAL||N<D||M>D+V)&&(T={left:0,top:0})}(0,y.scrollIntoView)(E,T)}#o(l){return l===this._currentScale||Math.abs(l-this._currentScale)<1e-15}_setScaleUpdatePages(l,T,E=!1,O=!1){if(this._currentScaleValue=T.toString(),this.#o(l))return void(O&&this.eventBus.dispatch("scalechanging",{source:this,scale:l,presetValue:T}));this._doc.style.setProperty("--zoom-factor",l);const N={scale:l};for(const M of this._pages)M.update(N);if(this._currentScale=l,!E){let D,M=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(M=this._location.pageNumber,D=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:M,destArray:D,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:l,presetValue:O?T:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==y.SpreadMode.NONE&&this._scrollMode!==y.ScrollMode.HORIZONTAL?2:1}_setScale(l,T=!1){let E=parseFloat(l);if(E>0)this._setScaleUpdatePages(E,l,T,!1);else{const O=this._pages[this._currentPageNumber-1];if(!O)return;let N=y.SCROLLBAR_PADDING,M=y.VERTICAL_PADDING;this.isInPresentationMode?N=M=4:this.removePageBorders?N=M=0:this._scrollMode===y.ScrollMode.HORIZONTAL&&([N,M]=[M,N]);const D=(this.container.clientWidth-N)/O.width*O.scale/this._pageWidthScaleFactor,V=(this.container.clientHeight-M)/O.height*O.scale;switch(l){case"page-actual":E=1;break;case"page-width":E=D;break;case"page-height":E=V;break;case"page-fit":E=Math.min(D,V);break;case"auto":const X=(0,y.isPortraitOrientation)(O)?D:Math.min(V,D);E=Math.min(y.MAX_AUTO_SCALE,X);break;default:return void console.error(`_setScale: "${l}" is an unknown zoom value.`)}this._setScaleUpdatePages(E,l,T,!0)}}#u(){const l=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this.#a(l)}pageLabelToPageNumber(l){if(!this._pageLabels)return null;const T=this._pageLabels.indexOf(l);return T<0?null:T+1}scrollPageIntoView({pageNumber:l,destArray:T=null,allowNegativeOffset:E=!1,ignoreDestinationZoom:O=!1}){if(!this.pdfDocument)return;const N=Number.isInteger(l)&&this._pages[l-1];if(!N)return void console.error(`scrollPageIntoView: "${l}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!T)return void this._setCurrentPageNumber(l,!0);let J,w,M=0,D=0,V=0,X=0;const e=N.rotation%180!=0,t=(e?N.height:N.width)/N.scale/f.PixelsPerInch.PDF_TO_CSS_UNITS,o=(e?N.width:N.height)/N.scale/f.PixelsPerInch.PDF_TO_CSS_UNITS;let m=0;switch(T[1].name){case"XYZ":M=T[2],D=T[3],m=T[4],M=null!==M?M:0,D=null!==D?D:o;break;case"Fit":case"FitB":m="page-fit";break;case"FitH":case"FitBH":D=T[2],m="page-width",null===D&&this._location?(M=this._location.left,D=this._location.top):("number"!=typeof D||D<0)&&(D=o);break;case"FitV":case"FitBV":M=T[2],V=t,X=o,m="page-height";break;case"FitR":M=T[2],D=T[3],V=T[4]-M,X=T[5]-D,J=(this.container.clientWidth-(this.removePageBorders?0:y.SCROLLBAR_PADDING))/V/f.PixelsPerInch.PDF_TO_CSS_UNITS,w=(this.container.clientHeight-(this.removePageBorders?0:y.VERTICAL_PADDING))/X/f.PixelsPerInch.PDF_TO_CSS_UNITS,m=Math.min(Math.abs(J),Math.abs(w));break;default:return void console.error(`scrollPageIntoView: "${T[1].name}" is not a valid destination type.`)}if(O||(m&&m!==this._currentScale?this.currentScaleValue=m:this._currentScale===y.UNKNOWN_SCALE&&(this.currentScaleValue=y.DEFAULT_SCALE_VALUE)),"page-fit"===m&&!T[4])return void this.#a(N);const d=[N.viewport.convertToViewportPoint(M,D),N.viewport.convertToViewportPoint(M+V,D+X)];let A=Math.min(d[0][0],d[1][0]),L=Math.min(d[0][1],d[1][1]);E||(A=Math.max(A,0),L=Math.max(L,0)),this.#a(N,{left:A,top:L})}_updateLocation(l){const T=this._currentScale,E=this._currentScaleValue,O=parseFloat(E)===T?Math.round(1e4*T)/100:E,N=l.id,D=this.container,V=this._pages[N-1].getPagePoint(D.scrollLeft-l.x,D.scrollTop-l.y),X=Math.round(V[0]),J=Math.round(V[1]);let w=`#page=${N}`;this.isInPresentationMode||(w+=`&zoom=${O},${X},${J}`),this._location={pageNumber:N,scale:O,top:J,left:X,rotation:this._pagesRotation,pdfOpenParams:w}}update(){const l=this._getVisiblePages(),T=l.views,E=T.length;if(0===E)return;const O=Math.max(10,2*E+1);this.#e.resize(O,l.ids),this.renderingQueue.renderHighestPriority(l);const N=this._spreadMode===y.SpreadMode.NONE&&(this._scrollMode===y.ScrollMode.PAGE||this._scrollMode===y.ScrollMode.VERTICAL),M=this._currentPageNumber;let D=!1;for(const V of T){if(V.percent<100)break;if(V.id===M&&N){D=!0;break}}this._setCurrentPageNumber(D?M:T[0].id),this._updateLocation(l.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(l){return this.container.contains(l)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===y.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===y.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const l=this._scrollMode===y.ScrollMode.PAGE?this.#l.pages:this._pages,T=this._scrollMode===y.ScrollMode.HORIZONTAL;return(0,y.getVisibleElements)({scrollEl:this.container,views:l,sortByVisibility:!0,horizontal:T,rtl:T&&this._isContainerRtl})}isPageVisible(l){return!!this.pdfDocument&&(Number.isInteger(l)&&l>0&&l<=this.pagesCount?this._getVisiblePages().ids.has(l):(console.error(`isPageVisible: "${l}" is not a valid page.`),!1))}isPageCached(l){return!!this.pdfDocument&&(Number.isInteger(l)&&l>0&&l<=this.pagesCount?this.#e.has(this._pages[l-1]):(console.error(`isPageCached: "${l}" is not a valid page.`),!1))}cleanup(){for(const l of this._pages)l.renderingState!==y.RenderingStates.FINISHED&&l.reset()}_cancelRendering(){for(const l of this._pages)l.cancelRendering()}#d(l){var T=this;return r(function*(){if(l.pdfPage)return l.pdfPage;try{const E=yield T.pdfDocument.getPage(l.id);return l.pdfPage||l.setPdfPage(E),T.linkService._cachedPageNumber?.(E.ref)||T.linkService.cachePageRef(l.id,E.ref),E}catch(E){return console.error("Unable to get page for page view",E),null}})()}#f(l){if(1===l.first?.id)return!0;if(l.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case y.ScrollMode.PAGE:return this.#l.scrollDown;case y.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}#c(l){for(const T of l)this._pages[T-1]?.toggleLoadingIconSpinner(!0);for(const T of this.#e)l.has(T.id)||T.toggleLoadingIconSpinner(!1)}forceRendering(l){const T=l||this._getVisiblePages(),E=this.#f(T),N=this.renderingQueue.getHighestPriority(T,this._pages,E,this._spreadMode!==y.SpreadMode.NONE&&this._scrollMode!==y.ScrollMode.HORIZONTAL);return this.#c(T.ids),!!N&&(this.#d(N).then(()=>{this.renderingQueue.renderView(N)}),!0)}createTextLayerBuilder(l,T,E,O=!1,N,M){return new g.TextLayerBuilder({textLayerDiv:l,eventBus:N,pageIndex:T,viewport:E,enhanceTextSelection:!this.isInPresentationMode&&O,highlighter:M})}createTextHighlighter(l,T){return new b.TextHighlighter({eventBus:T,pageIndex:l,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(l,T,E=null,O="",N=!0,M=F.NullL10n,D=null,V=null,X=null,J=null,w=null){return new C.AnnotationLayerBuilder({pageDiv:l,pdfPage:T,annotationStorage:E||this.pdfDocument?.annotationStorage,imageResourcesPath:O,renderForms:N,linkService:this.linkService,downloadManager:this.downloadManager,l10n:M,enableScripting:D??this.enableScripting,hasJSActionsPromise:V||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:J||this.pdfDocument?.getFieldObjects(),mouseState:X||this._scriptingManager?.mouseState,annotationCanvasMap:w})}createXfaLayerBuilder(l,T,E=null){return new n.XfaLayerBuilder({pageDiv:l,pdfPage:T,annotationStorage:E||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(l){return new u.StructTreeLayerBuilder({pdfPage:l})}get hasEqualPageSizes(){const l=this._pages[0];for(let T=1,E=this._pages.length;T<E;++T){const O=this._pages[T];if(O.width!==l.width||O.height!==l.height)return!1}return!0}getPagesOverview(){return this._pages.map(l=>{const T=l.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,y.isPortraitOrientation)(T)?{width:T.width,height:T.height,rotation:T.rotation}:{width:T.height,height:T.width,rotation:(T.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(l){if(!(l instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${l}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=l;const T={optionalContentConfigPromise:l};for(const E of this._pages)E.update(T);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:l})}get scrollMode(){return this._scrollMode}set scrollMode(l){if(this._scrollMode!==l){if(!(0,y.isValidScrollMode)(l))throw new Error(`Invalid scroll mode: ${l}`);this.pagesCount>h.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=l,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:l}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(l=null){const T=this._scrollMode,E=this.viewer;E.classList.toggle("scrollHorizontal",T===y.ScrollMode.HORIZONTAL),E.classList.toggle("scrollWrapped",T===y.ScrollMode.WRAPPED),this.pdfDocument&&l&&(T===y.ScrollMode.PAGE?this.#s():this._previousScrollMode===y.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(l,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(l){if(this._spreadMode!==l){if(!(0,y.isValidSpreadMode)(l))throw new Error(`Invalid spread mode: ${l}`);this._spreadMode=l,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:l}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(l=null){if(!this.pdfDocument)return;const T=this.viewer,E=this._pages;if(this._scrollMode===y.ScrollMode.PAGE)this.#s();else if(T.textContent="",this._spreadMode===y.SpreadMode.NONE)for(const O of this._pages)T.appendChild(O.div);else{const O=this._spreadMode-1;let N=null;for(let M=0,D=E.length;M<D;++M)null===N?(N=document.createElement("div"),N.className="spread",T.appendChild(N)):M%2===O&&(N=N.cloneNode(!1),T.appendChild(N)),N.appendChild(E[M].div)}l&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(l,!0),this.update())}_getPageAdvance(l,T=!1){switch(this._scrollMode){case y.ScrollMode.WRAPPED:{const{views:E}=this._getVisiblePages(),O=new Map;for(const{id:N,y:M,percent:D,widthPercent:V}of E){if(0===D||V<100)continue;let X=O.get(M);X||O.set(M,X||=[]),X.push(N)}for(const N of O.values()){const M=N.indexOf(l);if(-1===M)continue;const D=N.length;if(1===D)break;if(T)for(let V=M-1,X=0;V>=X;V--){const w=N[V+1]-1;if(N[V]<w)return l-w}else for(let V=M+1,X=D;V<X;V++){const w=N[V-1]+1;if(N[V]>w)return w-l}if(T){const V=N[0];if(V<l)return l-V+1}else{const V=N[D-1];if(V>l)return V-l+1}break}break}case y.ScrollMode.HORIZONTAL:break;case y.ScrollMode.PAGE:case y.ScrollMode.VERTICAL:{if(this._spreadMode===y.SpreadMode.NONE)break;const E=this._spreadMode-1;if(T&&l%2!==E)break;if(!T&&l%2===E)break;const{views:O}=this._getVisiblePages(),N=T?l-1:l+1;for(const{id:M,percent:D,widthPercent:V}of O)if(M===N){if(D>0&&100===V)return 2;break}break}}return 1}nextPage(){const l=this._currentPageNumber,T=this.pagesCount;if(l>=T)return!1;const E=this._getPageAdvance(l,!1)||1;return this.currentPageNumber=Math.min(l+E,T),!0}previousPage(){const l=this._currentPageNumber;if(l<=1)return!1;const T=this._getPageAdvance(l,!0)||1;return this.currentPageNumber=Math.max(l-T,1),!0}increaseScale(l=1){let T=this._currentScale;do{T=(T*y.DEFAULT_SCALE_DELTA).toFixed(2),T=Math.ceil(10*T)/10,T=Math.min(y.MAX_SCALE,T)}while(--l>0&&T<y.MAX_SCALE);this.currentScaleValue=T}decreaseScale(l=1){let T=this._currentScale;do{T=(T/y.DEFAULT_SCALE_DELTA).toFixed(2),T=Math.floor(10*T)/10,T=Math.max(y.MIN_SCALE,T)}while(--l>0&&T>y.MIN_SCALE);this.currentScaleValue=T}updateContainerHeightCss(){const l=this.container.clientHeight;l!==this.#h&&(this.#h=l,this._doc.style.setProperty("--viewer-container-height",`${l}px`))}}s.BaseViewer=x},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFPageView=void 0;var f=P(3),y=P(6),C=P(13),F=P(4);const _=C.compatibilityParams.maxCanvasPixels||16777216;s.PDFPageView=class c{#e=f.AnnotationMode.ENABLE_FORMS;constructor(u){const b=u.container,g=u.defaultViewport;this.id=u.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=u.scale||y.DEFAULT_SCALE,this.viewport=g,this.pdfPageRotate=g.rotation,this._optionalContentConfigPromise=u.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=u.textLayerMode??y.TextLayerMode.ENABLE,this.#e=u.annotationMode??f.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=u.imageResourcesPath||"",this.useOnlyCssZoom=u.useOnlyCssZoom||!1,this.maxCanvasPixels=u.maxCanvasPixels||_,this.pageColors=u.pageColors||null,this.eventBus=u.eventBus,this.renderingQueue=u.renderingQueue,this.textLayerFactory=u.textLayerFactory,this.annotationLayerFactory=u.annotationLayerFactory,this.xfaLayerFactory=u.xfaLayerFactory,this.textHighlighter=u.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=u.structTreeLayerFactory,this.renderer=u.renderer||y.RendererType.CANVAS,this.l10n=u.l10n||F.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=y.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const n=document.createElement("div");n.className="page",n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px",n.setAttribute("data-page-number",this.id),n.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(i=>{n.setAttribute("aria-label",i)}),this.div=n,b?.appendChild(n)}setPdfPage(u){this.pdfPage=u,this.pdfPageRotate=u.rotate,this.viewport=u.getViewport({scale:this.scale*f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var u=this;return r(function*(){let b=null;try{yield u.annotationLayer.render(u.viewport,"display")}catch(g){b=g}finally{u.eventBus.dispatch("annotationlayerrendered",{source:u,pageNumber:u.id,error:b})}})()}_renderXfaLayer(){var u=this;return r(function*(){let b=null;try{const g=yield u.xfaLayer.render(u.viewport,"display");u.textHighlighter&&u._buildXfaTextContentItems(g.textDivs)}catch(g){b=g}finally{u.eventBus.dispatch("xfalayerrendered",{source:u,pageNumber:u.id,error:b})}})()}_buildXfaTextContentItems(u){var b=this;return r(function*(){const g=yield b.pdfPage.getTextContent(),n=[];for(const i of g.items)n.push(i.str);b.textHighlighter.setTextMapping(u,n),b.textHighlighter.enable()})()}_resetZoomLayer(u=!1){if(!this.zoomLayer)return;const b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b),b.width=0,b.height=0,u&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:u=!1,keepAnnotationLayer:b=!1,keepXfaLayer:g=!1}={}){this.cancelRendering({keepAnnotationLayer:b,keepXfaLayer:g}),this.renderingState=y.RenderingStates.INITIAL;const n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";const i=n.childNodes,p=u&&this.zoomLayer||null,h=b&&this.annotationLayer?.div||null,v=g&&this.xfaLayer?.div||null;for(let x=i.length-1;x>=0;x--){const k=i[x];switch(k){case p:case h:case v:continue}k.remove()}n.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),v&&this.xfaLayer.hide(),p||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(x=>{this.loadingIconDiv?.setAttribute("aria-label",x)}),n.appendChild(this.loadingIconDiv)}update({scale:u=0,rotation:b=null,optionalContentConfigPromise:g=null}){if(this.scale=u||this.scale,"number"==typeof b&&(this.rotation=b),g instanceof Promise&&(this._optionalContentConfigPromise=g),this.viewport=this.viewport.clone({scale:this.scale*f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:p}=document.documentElement;p.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let i=!1;if(this.canvas&&this.maxCanvasPixels>0){const p=this.outputScale;(Math.floor(this.viewport.width)*p.sx|0)*(Math.floor(this.viewport.height)*p.sy|0)>this.maxCanvasPixels&&(i=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&i)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:u=!1,keepXfaLayer:b=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!u||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!b||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:u,redrawAnnotationLayer:b=!1,redrawXfaLayer:g=!1}){const n=this.viewport.width,i=this.viewport.height,p=this.div;u.style.width=u.parentNode.style.width=p.style.width=Math.floor(n)+"px",u.style.height=u.parentNode.style.height=p.style.height=Math.floor(i)+"px";const h=this.viewport.rotation-this.paintedViewportMap.get(u).rotation,v=Math.abs(h);let x=1,k=1;if((90===v||270===v)&&(x=i/n,k=n/i),u.style.transform=`rotate(${h}deg) scale(${x}, ${k})`,this.textLayer){const l=this.textLayer.viewport,E=Math.abs(this.viewport.rotation-l.rotation);let O=n/l.width;(90===E||270===E)&&(O=n/l.height);const N=this.textLayer.textLayerDiv;let M,D;switch(E){case 0:M=D=0;break;case 90:M=0,D="-"+N.style.height;break;case 180:M="-"+N.style.width,D="-"+N.style.height;break;case 270:M="-"+N.style.width,D=0;break;default:console.error("Bad rotation value.")}N.style.transform=`rotate(${E}deg) scale(${O}) translate(${M}, ${D})`,N.style.transformOrigin="0% 0%"}b&&this.annotationLayer&&this._renderAnnotationLayer(),g&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(u,b){return this.viewport.convertToPdfPoint(u,b)}toggleLoadingIconSpinner(u=!1){this.loadingIconDiv?.classList.toggle("notVisible",!u)}draw(){var u=this;this.renderingState!==y.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:b,pdfPage:g}=this;if(!g)return this.renderingState=y.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=y.RenderingStates.RUNNING;const n=document.createElement("div");n.style.width=b.style.width,n.style.height=b.style.height,n.classList.add("canvasWrapper"),this.annotationLayer?.div?b.insertBefore(n,this.annotationLayer.div):b.appendChild(n);let i=null;if(this.textLayerMode!==y.TextLayerMode.DISABLE&&this.textLayerFactory){const k=document.createElement("div");k.className="textLayer",k.style.width=n.style.width,k.style.height=n.style.height,this.annotationLayer?.div?b.insertBefore(k,this.annotationLayer.div):b.appendChild(k),i=this.textLayerFactory.createTextLayerBuilder(k,this.id-1,this.viewport,this.textLayerMode===y.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=i,this.#e!==f.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(b,g,null,this.imageResourcesPath,this.#e===f.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&b.appendChild(this.xfaLayer.div);let p=null;this.renderingQueue&&(p=k=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=y.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=y.RenderingStates.RUNNING,k()});k()});const h=function(){var k=r(function*(l=null){if(v===u.paintTask&&(u.paintTask=null),l instanceof f.RenderingCancelledException)u._renderError=null;else if(u._renderError=l,u.renderingState=y.RenderingStates.FINISHED,u.loadingIconDiv&&(u.loadingIconDiv.remove(),delete u.loadingIconDiv),u._resetZoomLayer(!0),u.eventBus.dispatch("pagerendered",{source:u,pageNumber:u.id,cssTransform:!1,timestamp:performance.now(),error:u._renderError}),l)throw l});return function(){return k.apply(this,arguments)}}(),v=this.renderer===y.RendererType.SVG?this.paintOnSvg(n):this.paintOnCanvas(n);v.onRenderContinue=p,this.paintTask=v;const x=v.promise.then(()=>h(null).then(()=>{if(i){const k=g.streamTextContent({includeMarkedContent:!0});i.setTextContentStream(k),i.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(k){return h(k)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(b,g,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=k=>{k.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(l=>{if(!l||!this.canvas)return;const T=this.structTreeLayer.render(l);T.classList.add("structTree"),this.canvas.appendChild(T)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(g)),b.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),x}paintOnCanvas(u){const b=(0,f.createPromiseCapability)(),g={promise:b.promise,onRenderContinue(N){N()},cancel(){O.cancel()}},n=this.viewport,i=document.createElement("canvas");i.hidden=!0;let p=!0;const h=function(){p&&(i.hidden=!1,p=!1)};u.appendChild(i),this.canvas=i;const v=i.getContext("2d",{alpha:!1}),x=this.outputScale=new y.OutputScale;if(this.useOnlyCssZoom){const N=n.clone({scale:f.PixelsPerInch.PDF_TO_CSS_UNITS});x.sx*=N.width/n.width,x.sy*=N.height/n.height}if(this.maxCanvasPixels>0){const M=Math.sqrt(this.maxCanvasPixels/(n.width*n.height));x.sx>M||x.sy>M?(x.sx=M,x.sy=M,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const k=(0,y.approximateFraction)(x.sx),l=(0,y.approximateFraction)(x.sy);i.width=(0,y.roundToDivide)(n.width*x.sx,k[0]),i.height=(0,y.roundToDivide)(n.height*x.sy,l[0]),i.style.width=(0,y.roundToDivide)(n.width,k[1])+"px",i.style.height=(0,y.roundToDivide)(n.height,l[1])+"px",this.paintedViewportMap.set(i,n);const E={canvasContext:v,transform:x.scaled?[x.sx,0,0,x.sy,0,0]:null,viewport:this.viewport,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},O=this.pdfPage.render(E);return O.onContinue=function(N){h(),g.onRenderContinue?g.onRenderContinue(N):N()},O.promise.then(function(){h(),b.resolve()},function(N){h(),b.reject(N)}),g}paintOnSvg(u){let b=!1;const g=()=>{if(b)throw new f.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},n=this.pdfPage,i=this.viewport.clone({scale:f.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:n.getOperatorList({annotationMode:this.#e}).then(h=>(g(),new f.SVGGraphics(n.commonObjs,n.objs).getSVG(h,i).then(x=>{g(),this.svg=x,this.paintedViewportMap.set(x,i),x.style.width=u.style.width,x.style.height=u.style.height,this.renderingState=y.RenderingStates.FINISHED,u.appendChild(x)}))),onRenderContinue(h){h()},cancel(){b=!0}}}setPageLabel(u){this.pageLabel="string"==typeof u?u:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(R,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compatibilityParams=s.OptionKind=s.AppOptions=void 0;const P=Object.create(null);s.compatibilityParams=P;{const _=navigator.userAgent||"",c=navigator.platform||"",S=navigator.maxTouchPoints||1,u=/Android/.test(_);(/\b(iPad|iPhone|iPod)(?=;)/.test(_)||"MacIntel"===c&&S>1||u)&&(P.maxCanvasPixels=5242880)}const f={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};s.OptionKind=f;const y={annotationMode:{value:2,kind:f.VIEWER+f.PREFERENCE},cursorToolOnLoad:{value:0,kind:f.VIEWER+f.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:f.VIEWER},defaultZoomValue:{value:"",kind:f.VIEWER+f.PREFERENCE},disableHistory:{value:!1,kind:f.VIEWER},disablePageLabels:{value:!1,kind:f.VIEWER+f.PREFERENCE},enablePermissions:{value:!1,kind:f.VIEWER+f.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:f.VIEWER+f.PREFERENCE},enableScripting:{value:!0,kind:f.VIEWER+f.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:f.VIEWER},externalLinkTarget:{value:0,kind:f.VIEWER+f.PREFERENCE},historyUpdateUrl:{value:!1,kind:f.VIEWER+f.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:f.VIEWER+f.PREFERENCE},imageResourcesPath:{value:"./images/",kind:f.VIEWER},maxCanvasPixels:{value:16777216,compatibility:P.maxCanvasPixels,kind:f.VIEWER},pageColorsBackground:{value:"Canvas",kind:f.VIEWER+f.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:f.VIEWER+f.PREFERENCE},pdfBugEnabled:{value:!1,kind:f.VIEWER+f.PREFERENCE},printResolution:{value:150,kind:f.VIEWER},renderer:{value:"canvas",kind:f.VIEWER},sidebarViewOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},scrollModeOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},spreadModeOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},textLayerMode:{value:1,kind:f.VIEWER+f.PREFERENCE},useOnlyCssZoom:{value:!1,kind:f.VIEWER+f.PREFERENCE},viewerCssTheme:{value:0,kind:f.VIEWER+f.PREFERENCE},viewOnLoad:{value:0,kind:f.VIEWER+f.PREFERENCE},cMapPacked:{value:!0,kind:f.API},cMapUrl:{value:"../web/cmaps/",kind:f.API},disableAutoFetch:{value:!1,kind:f.API+f.PREFERENCE},disableFontFace:{value:!1,kind:f.API+f.PREFERENCE},disableRange:{value:!1,kind:f.API+f.PREFERENCE},disableStream:{value:!1,kind:f.API+f.PREFERENCE},docBaseUrl:{value:"",kind:f.API},enableXfa:{value:!0,kind:f.API+f.PREFERENCE},fontExtraProperties:{value:!1,kind:f.API},isEvalSupported:{value:!0,kind:f.API},maxImageSize:{value:-1,kind:f.API},pdfBug:{value:!1,kind:f.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:f.API},verbosity:{value:1,kind:f.API},workerPort:{value:null,kind:f.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:f.WORKER}};y.disablePreferences={value:!1,kind:f.VIEWER},y.locale={value:navigator.language||"en-US",kind:f.VIEWER},y.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:f.VIEWER},y.renderer.kind+=f.PREFERENCE;const C=Object.create(null);s.AppOptions=class F{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(c){const S=C[c];if(void 0!==S)return S;const u=y[c];return void 0!==u?u.compatibility??u.value:void 0}static getAll(c=null){const S=Object.create(null);for(const u in y){const b=y[u];if(c){if(!(c&b.kind))continue;if(c===f.PREFERENCE){const n=b.value,i=typeof n;if("boolean"===i||"string"===i||"number"===i&&Number.isInteger(n)){S[u]=n;continue}throw new Error(`Invalid type for preference: ${u}`)}}const g=C[u];S[u]=void 0!==g?g:b.compatibility??b.value}return S}static set(c,S){C[c]=S}static setAll(c){for(const S in c)C[S]=c[S]}static remove(c){delete C[c]}static _hasUserOptions(){return Object.keys(C).length>0}}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFRenderingQueue=void 0;var f=P(3),y=P(6);s.PDFRenderingQueue=class F{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(c){this.pdfViewer=c}setThumbnailViewer(c){this.pdfThumbnailViewer=c}isHighestPriority(c){return this.highestPriorityPage===c.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(c){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(c)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(c,S,u,b=!1){const g=c.views,n=g.length;if(0===n)return null;for(let x=0;x<n;x++){const k=g[x].view;if(!this.isViewFinished(k))return k}const i=c.first.id,p=c.last.id;if(p-i+1>n){const x=c.ids;for(let k=1,l=p-i;k<l;k++){const T=u?i+k:p-k;if(x.has(T))continue;const E=S[T-1];if(!this.isViewFinished(E))return E}}let h=u?p:i-2,v=S[h];return v&&!this.isViewFinished(v)||b&&(h+=u?1:-1,v=S[h],v&&!this.isViewFinished(v))?v:null}isViewFinished(c){return c.renderingState===y.RenderingStates.FINISHED}renderView(c){switch(c.renderingState){case y.RenderingStates.FINISHED:return!1;case y.RenderingStates.PAUSED:this.highestPriorityPage=c.renderingId,c.resume();break;case y.RenderingStates.RUNNING:this.highestPriorityPage=c.renderingId;break;case y.RenderingStates.INITIAL:this.highestPriorityPage=c.renderingId,c.draw().finally(()=>{this.renderHighestPriority()}).catch(S=>{S instanceof f.RenderingCancelledException||console.error(`renderView: "${S}"`)})}return!0}}},(R,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextHighlighter=void 0,s.TextHighlighter=class P{constructor({findController:y,eventBus:C,pageIndex:F}){this.findController=y,this.matches=[],this.eventBus=C,this.pageIdx=F,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(y,C){this.textDivs=y,this.textContentItemsStr=C}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=y=>{(y.pageIndex===this.pageIdx||-1===y.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(y,C){if(!y)return[];const{textContentItemsStr:F}=this;let _=0,c=0;const S=F.length-1,u=[];for(let b=0,g=y.length;b<g;b++){let n=y[b];for(;_!==S&&n>=c+F[_].length;)c+=F[_].length,_++;_===F.length&&console.error("Could not find a matching mapping");const i={begin:{divIdx:_,offset:n-c}};for(n+=C[b];_!==S&&n>c+F[_].length;)c+=F[_].length,_++;i.end={divIdx:_,offset:n-c},u.push(i)}return u}_renderMatches(y){if(0===y.length)return;const{findController:C,pageIdx:F}=this,{textContentItemsStr:_,textDivs:c}=this,S=F===C.selected.pageIdx,u=C.selected.matchIdx;let g=null;function i(x,k){const l=x.divIdx;return c[l].textContent="",p(l,0,x.offset,k)}function p(x,k,l,T){let E=c[x];if(E.nodeType===Node.TEXT_NODE){const M=document.createElement("span");E.parentNode.insertBefore(M,E),M.appendChild(E),c[x]=M,E=M}const O=_[x].substring(k,l),N=document.createTextNode(O);if(T){const M=document.createElement("span");return M.className=`${T} appended`,M.appendChild(N),E.appendChild(M),T.includes("selected")?M.offsetLeft:0}return E.appendChild(N),0}let h=u,v=h+1;if(C.state.highlightAll)h=0,v=y.length;else if(!S)return;for(let x=h;x<v;x++){const k=y[x],l=k.begin,T=k.end,E=S&&x===u,O=E?" selected":"";let N=0;if(g&&l.divIdx===g.divIdx?p(g.divIdx,g.offset,l.offset):(null!==g&&p(g.divIdx,g.offset,undefined),i(l)),l.divIdx===T.divIdx)N=p(l.divIdx,l.offset,T.offset,"highlight"+O);else{N=p(l.divIdx,l.offset,undefined,"highlight begin"+O);for(let M=l.divIdx+1,D=T.divIdx;M<D;M++)c[M].className="highlight middle"+O;i(T,"highlight end"+O)}g=T,E&&C.scrollMatchIntoView({element:c[l.divIdx],selectedLeft:N,pageIndex:F,matchIndex:u})}g&&p(g.divIdx,g.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:y,matches:C,pageIdx:F}=this,{textContentItemsStr:_,textDivs:c}=this;let S=-1;for(let g=0,n=C.length;g<n;g++){const i=C[g];for(let h=Math.max(S,i.begin.divIdx),v=i.end.divIdx;h<=v;h++){const x=c[h];x.textContent=_[h],x.className=""}S=i.end.divIdx+1}y?.highlightMatches&&(this.matches=this._convertMatches(y.pageMatches[F]||null,y.pageMatchesLength[F]||null),this._renderMatches(this.matches))}}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DownloadManager=void 0;var f=P(3);function y(F,_){const c=document.createElement("a");if(!c.click)throw new Error('DownloadManager: "a.click()" is not supported.');c.href=F,c.target="_parent","download"in c&&(c.download=_),(document.body||document.documentElement).appendChild(c),c.click(),c.remove()}s.DownloadManager=class C{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(_,c){(0,f.createValidAbsoluteUrl)(_,"http://example.com")?y(_+"#pdfjs.action=download",c):console.error(`downloadUrl - not a valid URL: ${_}`)}downloadData(_,c,S){y(URL.createObjectURL(new Blob([_],{type:S})),c)}openOrDownloadData(_,c,S){const u=(0,f.isPdfFile)(S),b=u?"application/pdf":"";if(u){let n,g=this._openBlobUrls.get(_);g||(g=URL.createObjectURL(new Blob([c],{type:b})),this._openBlobUrls.set(_,g)),n="?file="+encodeURIComponent(g+"#"+S);try{return window.open(n),!0}catch(i){console.error(`openOrDownloadData: ${i}`),URL.revokeObjectURL(g),this._openBlobUrls.delete(_)}}return this.downloadData(c,S,b),!1}download(_,c,S,u="download"){y(URL.createObjectURL(_),S)}}},(R,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WaitOnType=s.EventBus=s.AutomationEventBus=void 0,s.waitOnEventOrTimeout=function f({target:F,name:_,delay:c=0}){return new Promise(function(S,u){if("object"!=typeof F||!_||"string"!=typeof _||!(Number.isInteger(c)&&c>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function b(p){F instanceof y?F._off(_,g):F.removeEventListener(_,g),i&&clearTimeout(i),S(p)}const g=b.bind(null,P.EVENT);F instanceof y?F._on(_,g):F.addEventListener(_,g);const n=b.bind(null,P.TIMEOUT),i=setTimeout(n,c)})};const P={EVENT:"event",TIMEOUT:"timeout"};s.WaitOnType=P;class y{constructor(){this._listeners=Object.create(null)}on(_,c,S=null){this._on(_,c,{external:!0,once:S?.once})}off(_,c,S=null){this._off(_,c,{external:!0,once:S?.once})}dispatch(_,c){const S=this._listeners[_];if(!S||0===S.length)return;let u;for(const{listener:b,external:g,once:n}of S.slice(0))n&&this._off(_,b),g?(u||=[]).push(b):b(c);if(u){for(const b of u)b(c);u=null}}_on(_,c,S=null){(this._listeners[_]||=[]).push({listener:c,external:!0===S?.external,once:!0===S?.once})}_off(_,c,S=null){const u=this._listeners[_];if(u)for(let b=0,g=u.length;b<g;b++)if(u[b].listener===c)return void u.splice(b,1)}}s.EventBus=y,s.AutomationEventBus=class C extends y{dispatch(_,c){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericL10n=void 0,P(19);var f=P(4);const y=document.webL10n;s.GenericL10n=class C{constructor(_){this._lang=_,this._ready=new Promise((c,S)=>{y.setLanguage((0,f.fixupLangCode)(_),()=>{c(y)})})}getLanguage(){var _=this;return r(function*(){return(yield _._ready).getLanguage()})()}getDirection(){var _=this;return r(function*(){return(yield _._ready).getDirection()})()}get(_,c=null,S=(0,f.getL10nFallback)(_,c)){var u=this;return r(function*(){return(yield u._ready).get(_,c,S)})()}translate(_){var c=this;return r(function*(){return(yield c._ready).translate(_)})()}}},()=>{document.webL10n=function(R,s,P){var f={},y="",C="textContent",F="",_={},c="loading",S=!0;function i(M,D,V){D=D||function(w){},V=V||function(){};var X=new XMLHttpRequest;X.open("GET",M,S),X.overrideMimeType&&X.overrideMimeType("text/plain; charset=utf-8"),X.onreadystatechange=function(){4==X.readyState&&(200==X.status||0===X.status?D(X.responseText):V())},X.onerror=V,X.ontimeout=V;try{X.send(null)}catch{V()}}function h(M,D){M&&(M=M.toLowerCase()),D=D||function(){},function v(){f={},y="",F=""}(),F=M;var V=function u(){return s.querySelectorAll('link[type="application/l10n"]')}(),X=V.length;if(0!==X){var t,o=0;t=function(){++o>=X&&(D(),c="complete")};for(var d=0;d<X;d++)new m(V[d]).load(M,t)}else{var J=function b(){var M=s.querySelector('script[type="application/l10n"]');return M?JSON.parse(M.innerHTML):null}();if(J&&J.locales&&J.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(f=J.locales[M])){var w=J.default_locale.toLowerCase();for(var e in J.locales){if((e=e.toLowerCase())===M){f=J.locales[M];break}e===w&&(f=J.locales[w])}}D()}else console.log("no resource to load, early way out");c="complete"}function m(L){var U=L.href;this.load=function(j,H){!function p(M,D,V,X){var J=M.replace(/[^\/]*$/,"")||"./";function w(t){return t.lastIndexOf("\\")<0?t:t.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}i(M,function(t){y+=t,function e(t,o){var m={},d=/^\s*|\s*$/,A=/^\s*#|^\s*$/,L=/^\s*\[(.*)\]\s*$/,U=/^\s*@import\s+url\((.*)\)\s*$/i,j=/^([^=\s]*)\s*=\s*(.+)$/;function H(K,ie,se){var Q=K.replace(d,"").split(/[\r\n]+/),Z="*",ae=D.split("-",1)[0],re=!1,ne="";!function ce(){for(;;){if(!Q.length)return void se();var he=Q.shift();if(!A.test(he)){if(ie){if(ne=L.exec(he)){Z=ne[1].toLowerCase(),re="*"!==Z&&Z!==D&&Z!==ae;continue}if(re)continue;if(ne=U.exec(he))return void q(J+ne[1],ce)}var oe=he.match(j);oe&&3==oe.length&&(m[oe[1]]=w(oe[2]))}}}()}function q(K,ie){i(K,function(se){H(se,!1,ie)},function(){console.warn(K+" not found."),ie()})}H(t,!0,function(){o(m)})}(t,function(o){for(var m in o){var d,A,L=m.lastIndexOf(".");L>0?(d=m.substring(0,L),A=m.substring(L+1)):(d=m,A=C),f[d]||(f[d]={}),f[d][A]=o[m]}V&&V()})},X)}(U,j,H,function(){console.warn(U+" not found."),console.warn('"'+j+'" resource not found'),F="",H()})}}}function k(M,D,V){var X=f[M];if(!X){if(console.warn("#"+M+" is undefined."),!V)return null;X=V}var J={};for(var w in X){var e=X[w];e=T(e=l(e,D,M,w),D,M),J[w]=e}return J}function l(M,D,V,X){var w=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(M);if(!w||!w.length)return M;var o,e=w[1],t=w[2];return D&&t in D?o=D[t]:t in f&&(o=f[t]),e in _&&(M=(0,_[e])(M,o,V,X)),M}function T(M,D,V){return M.replace(/\{\{\s*(.+?)\s*\}\}/g,function(J,w){return D&&w in D?D[w]:w in f?f[w]:(console.log("argument {{"+w+"}} for #"+V+" is undefined."),J)})}function E(M){var D=function n(M){if(!M)return{};var D=M.getAttribute("data-l10n-id"),V=M.getAttribute("data-l10n-args"),X={};if(V)try{X=JSON.parse(V)}catch{console.warn("could not parse arguments for #"+D)}return{id:D,args:X}}(M);if(D.id){var V=k(D.id,D.args);if(!V)return void console.warn("#"+D.id+" is undefined.");if(V[C]){if(0===function O(M){if(M.children)return M.children.length;if(typeof M.childElementCount<"u")return M.childElementCount;for(var D=0,V=0;V<M.childNodes.length;V++)D+=1===M.nodeType?1:0;return D}(M))M[C]=V[C];else{for(var X=M.childNodes,J=!1,w=0,e=X.length;w<e;w++)3===X[w].nodeType&&/\S/.test(X[w].nodeValue)&&(J?X[w].nodeValue="":(X[w].nodeValue=V[C],J=!0));if(!J){var t=s.createTextNode(V[C]);M.insertBefore(t,M.firstChild)}}delete V[C]}for(var o in V)M[o]=V[o]}}return _.plural=function(M,D,V,X){var J=parseFloat(D);if(isNaN(J)||X!=C)return M;_._pluralRules||(_._pluralRules=function x(M){function V(e,t){return-1!==t.indexOf(e)}function X(e,t,o){return t<=e&&e<=o}var J={0:function(e){return"other"},1:function(e){return X(e%100,3,10)?"few":0===e?"zero":X(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return X(e,0,1)?"one":"other"},5:function(e){return X(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return X(e,3,6)?"few":X(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&X(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return X(e%10,2,9)&&!X(e%100,11,19)?"few":e%10!=1||X(e%100,11,19)?"other":"one"},11:function(e){return X(e%10,2,4)&&!X(e%100,12,14)?"few":e%10==0||X(e%10,5,9)||X(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return X(e,2,4)?"few":1==e?"one":"other"},13:function(e){return X(e%10,2,4)&&!X(e%100,12,14)?"few":1!=e&&X(e%10,0,1)||X(e%10,5,9)||X(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return X(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||X(e%100,2,10)?"few":X(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":X(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return X(e,2,10)?"few":X(e,0,1)?"one":"other"},20:function(e){return!X(e%10,3,4)&&e%10!=9||X(e%100,10,19)||X(e%100,70,79)||X(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||V(e%100,[12,72,92])?e%10!=1||V(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return X(e,0,1)||X(e,11,99)?"one":"other"},23:function(e){return X(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return X(e,3,10)||X(e,13,19)?"few":V(e,[2,12])?"two":V(e,[1,11])?"one":"other"}},w={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[M.replace(/-.*$/,"")];return w in J?J[w]:(console.warn("plural form unknown for ["+M+"]"),function(){return"other"})}(F));var w="["+_._pluralRules(J)+"]";return 0===J&&V+"[zero]"in f?M=f[V+"[zero]"][X]:1==J&&V+"[one]"in f?M=f[V+"[one]"][X]:2==J&&V+"[two]"in f?M=f[V+"[two]"][X]:V+w in f?M=f[V+w][X]:V+"[other]"in f&&(M=f[V+"[other]"][X]),M},{get:function(M,D,V){var w,X=M.lastIndexOf("."),J=C;X>0&&(J=M.substring(X+1),M=M.substring(0,X)),V&&((w={})[J]=V);var e=k(M,D,w);return e&&J in e?e[J]:"{{"+M+"}}"},getData:function(){return f},getText:function(){return y},getLanguage:function(){return F},setLanguage:function(M,D){h(M,function(){D&&D()})},getDirection:function(){var D=F.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(D)>=0?"rtl":"ltr"},translate:function N(M){for(var D=function g(M){return M?M.querySelectorAll("*[data-l10n-id]"):[]}(M=M||s.documentElement),V=D.length,X=0;X<V;X++)E(D[X]);E(M)},getReadyState:function(){return c},ready:function(M){M&&("complete"==c||"interactive"==c?R.setTimeout(function(){M()}):s.addEventListener&&s.addEventListener("localized",function D(){s.removeEventListener("localized",D),M()}))}}}(window,document)},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFindController=s.FindState=void 0;var f=P(6),y=P(3),C=P(21);const F={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};s.FindState=F;const u={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},b=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),g=[...b.values()].map(T=>String.fromCharCode(T)).join(""),n=/\p{M}+/gu,i=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,p=/([^\p{M}])\p{M}*$/u,h=/^\p{M}*([^\p{M}])/u;let v=null;function x(T){if(!v){const e=Object.keys(u).join("");v=new RegExp(`([${e}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const E=[];let O;for(;null!==(O=n.exec(T));)E.push([O[0].length,O.index]);let N=T.normalize("NFD");const M=[[0,0]];let D=0,V=0,X=0,J=0,w=!1;return N=N.replace(v,(e,t,o,m,d,A)=>{if(A-=X,t){const L=u[e],U=L.length;for(let j=1;j<U;j++)M.push([A-V+j,V-j]);return V-=U-1,L}if(o){const L=o.endsWith("\n"),U=L?o.length-2:o.length;w=!0;let j=U;A+J===E[D]?.[1]&&(j-=E[D][0],++D);for(let H=1;H<j+1;H++)M.push([A-1-V+H,V-H]);return V-=j,X+=j,L?(M.push([(A+=U-1)-V+1,1+V]),V+=1,X+=1,J+=1,o.slice(0,U)):o}return m?(M.push([A-V+1,1+V]),V+=1,X+=1,J+=1,m.charAt(0)):(M.push([A-V+1,V-1]),V-=1,X+=1,J+=1," ")}),M.push([N.length,V]),[N,M,w]}function k(T,E,O){if(!T)return[E,O];const N=E,M=E+O;let D=(0,f.binarySearchFirstItem)(T,X=>X[0]>=N);T[D][0]>N&&--D;let V=(0,f.binarySearchFirstItem)(T,X=>X[0]>=M,D);return T[V][0]>M&&--V,[N+T[D][1],O+T[V][1]-T[D][1]]}s.PDFFindController=class l{constructor({linkService:E,eventBus:O}){this._linkService=E,this._eventBus=O,this.#t(),O._on("find",this.#e.bind(this)),O._on("findbarclose",this.#b.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(E){this._pdfDocument&&this.#t(),E&&(this._pdfDocument=E,this._firstPageCapability.resolve())}#e(E){if(!E)return;const O=this._pdfDocument,{type:N}=E;(null===this._state||this.#r(E))&&(this._dirtyMatch=!0),this._state=E,"highlightallchange"!==N&&this.#p(F.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||O&&this._pdfDocument!==O)return;this.#_();const M=!this._highlightMatches,D=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),N?this._dirtyMatch?this.#o():"again"===N?(this.#o(),M&&this._state.highlightAll&&this.#a()):"highlightallchange"===N?(D?this.#o():this._highlightMatches=!0,this.#a()):this.#o():this._findTimeout=setTimeout(()=>{this.#o(),this._findTimeout=null},250)})}scrollMatchIntoView({element:E=null,selectedLeft:O=0,pageIndex:N=-1,matchIndex:M=-1}){this._scrollMatches&&E&&-1!==M&&M===this._selected.matchIdx&&-1!==N&&N===this._selected.pageIdx&&(this._scrollMatches=!1,(0,f.scrollIntoView)(E,{top:-50,left:O+-400},!0))}#t(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,y.createPromiseCapability)()}get#n(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=x(this._state.query)),this._normalizedQuery}#r(E){if(E.query!==this._state.query)return!0;switch(E.type){case"again":const O=this._selected.pageIdx+1,N=this._linkService;return O>=1&&O<=N.pagesCount&&O!==N.page&&!N.isPageVisible(O);case"highlightallchange":return!1}return!0}#h(E,O,N){let M=E.slice(0,O).match(p);if(M){const D=E.charCodeAt(O),V=M[1].charCodeAt(0);if((0,C.getCharacterType)(D)===(0,C.getCharacterType)(V))return!1}if(M=E.slice(O+N).match(h),M){const D=E.charCodeAt(O+N-1),V=M[1].charCodeAt(0);if((0,C.getCharacterType)(D)===(0,C.getCharacterType)(V))return!1}return!0}#l(E,O,N,M){const D=[],V=[],X=this._pageDiffs[N];let J;for(;null!==(J=E.exec(M));){if(O&&!this.#h(M,J.index,J[0].length))continue;const[w,e]=k(X,J.index,J[0].length);e&&(D.push(w),V.push(e))}this._pageMatches[N]=D,this._pageMatchesLength[N]=V}#i(E,O){const{matchDiacritics:N}=this._state;let M=!1;const D="[ ]*";return(E=E.replace(i,(V,X,J,w,e,t)=>X?`[ ]*\\${X}[ ]*`:J?`[ ]*${J}[ ]*`:w?"[ ]+":N?e||t:e?b.has(e.charCodeAt(0))?e:"":O?(M=!0,`${t}\\p{M}*`):t)).endsWith(D)&&(E=E.slice(0,E.length-D.length)),N&&O&&(M=!0,E=`${E}(?=[${g}]|[^\\p{M}]|$)`),[M,E]}#g(E){let O=this.#n;if(0===O.length)return;const{caseSensitive:N,entireWord:M,phraseSearch:D}=this._state,V=this._pageContents[E],X=this._hasDiacritics[E];let J=!1;if(D)[J,O]=this.#i(O,X);else{const t=O.match(/\S+/g);t&&(O=t.sort().reverse().map(o=>{const[m,d]=this.#i(o,X);return J||=m,`(${d})`}).join("|"))}O=new RegExp(O,`g${J?"u":""}${N?"":"i"}`),this.#l(O,M,E,V),this._state.highlightAll&&this.#s(E),this._resumePageIdx===E&&(this._resumePageIdx=null,this.#d());const e=this._pageMatches[E].length;e>0&&(this._matchesCountTotal+=e,this.#A())}#_(){if(this._extractTextPromises.length>0)return;let E=Promise.resolve();for(let O=0,N=this._linkService.pagesCount;O<N;O++){const M=(0,y.createPromiseCapability)();this._extractTextPromises[O]=M.promise,E=E.then(()=>this._pdfDocument.getPage(O+1).then(D=>D.getTextContent()).then(D=>{const V=[];for(const X of D.items)V.push(X.str),X.hasEOL&&V.push("\n");[this._pageContents[O],this._pageDiffs[O],this._hasDiacritics[O]]=x(V.join("")),M.resolve()},D=>{console.error(`Unable to get text content for page ${O+1}`,D),this._pageContents[O]="",this._pageDiffs[O]=null,this._hasDiacritics[O]=!1,M.resolve()}))}}#s(E){this._scrollMatches&&this._selected.pageIdx===E&&(this._linkService.page=E+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:E})}#a(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#o(){const E=this._state.findPrevious,O=this._linkService.page-1,N=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=O,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this.#a();for(let D=0;D<N;D++)this._pendingFindMatches.has(D)||(this._pendingFindMatches.add(D),this._extractTextPromises[D].then(()=>{this._pendingFindMatches.delete(D),this.#g(D)}))}if(""===this.#n)return void this.#p(F.FOUND);if(this._resumePageIdx)return;const M=this._offset;if(this._pagesToSearch=N,null!==M.matchIdx){if(!E&&M.matchIdx+1<this._pageMatches[M.pageIdx].length||E&&M.matchIdx>0)return M.matchIdx=E?M.matchIdx-1:M.matchIdx+1,void this.#c(!0);this.#f(E)}this.#d()}#u(E){const O=this._offset,N=E.length,M=this._state.findPrevious;return N?(O.matchIdx=M?N-1:0,this.#c(!0),!0):(this.#f(M),!!(O.wrapped&&(O.matchIdx=null,this._pagesToSearch<0))&&(this.#c(!1),!0))}#d(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let E=null;do{const O=this._offset.pageIdx;if(E=this._pageMatches[O],!E){this._resumePageIdx=O;break}}while(!this.#u(E))}#f(E){const O=this._offset,N=this._linkService.pagesCount;O.pageIdx=E?O.pageIdx-1:O.pageIdx+1,O.matchIdx=null,this._pagesToSearch--,(O.pageIdx>=N||O.pageIdx<0)&&(O.pageIdx=E?N-1:0,O.wrapped=!0)}#c(E=!1){let O=F.NOT_FOUND;const N=this._offset.wrapped;if(this._offset.wrapped=!1,E){const M=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,O=N?F.WRAPPED:F.FOUND,-1!==M&&M!==this._selected.pageIdx&&this.#s(M)}this.#p(O,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#s(this._selected.pageIdx))}#b(E){const O=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||O&&this._pdfDocument!==O||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#p(F.FOUND),this._highlightMatches=!1,this.#a())})}#m(){const{pageIdx:E,matchIdx:O}=this._selected;let N=0,M=this._matchesCountTotal;if(-1!==O){for(let D=0;D<E;D++)N+=this._pageMatches[D]?.length||0;N+=O+1}return(N<1||N>M)&&(N=M=0),{current:N,total:M}}#A(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#m()})}#p(E,O=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:E,previous:O,matchesCount:this.#m(),rawQuery:this._state?.query??null})}}},(R,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterType=void 0,s.getCharacterType=function n(i){return function f(i){return i<11904}(i)?function y(i){return 0==(65408&i)}(i)?function _(i){return 32===i||9===i||13===i||10===i}(i)?P.SPACE:function C(i){return i>=97&&i<=122||i>=65&&i<=90}(i)||function F(i){return i>=48&&i<=57}(i)||95===i?P.ALPHA_LETTER:P.PUNCT:function g(i){return 3584==(65408&i)}(i)?P.THAI_LETTER:160===i?P.SPACE:P.ALPHA_LETTER:function c(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}(i)?P.HAN_LETTER:function S(i){return i>=12448&&i<=12543}(i)?P.KATAKANA_LETTER:function u(i){return i>=12352&&i<=12447}(i)?P.HIRAGANA_LETTER:function b(i){return i>=65376&&i<=65439}(i)?P.HALFWIDTH_KATAKANA_LETTER:P.ALPHA_LETTER};const P={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};s.CharacterType=P},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFHistory=void 0,s.isDestArraysEqual=b,s.isDestHashesEqual=u;var f=P(6),y=P(17);function c(){return document.location.hash}function u(g,n){return"string"==typeof g&&"string"==typeof n&&(g===n||(0,f.parseQueryString)(g).get("nameddest")===n)}function b(g,n){function i(p,h){if(typeof p!=typeof h||Array.isArray(p)||Array.isArray(h))return!1;if(null!==p&&"object"==typeof p&&null!==h){if(Object.keys(p).length!==Object.keys(h).length)return!1;for(const v in p)if(!i(p[v],h[v]))return!1;return!0}return p===h||Number.isNaN(p)&&Number.isNaN(h)}if(!Array.isArray(g)||!Array.isArray(n)||g.length!==n.length)return!1;for(let p=0,h=g.length;p<h;p++)if(!i(g[p],n[p]))return!1;return!0}s.PDFHistory=class S{constructor({linkService:n,eventBus:i}){this.linkService=n,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",p=>{this._isPagesLoaded=!!p.pagesCount},{once:!0})})}initialize({fingerprint:n,resetHistory:i=!1,updateUrl:p=!1}){if(!n||"string"!=typeof n)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const h=""!==this._fingerprint&&this._fingerprint!==n;this._fingerprint=n,this._updateUrl=!0===p,this._initialized=!0,this._bindEvents();const v=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=c(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(v,!0)||i){const{hash:k,page:l,rotation:T}=this._parseCurrentHash(!0);return!k||h||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:k,page:l,rotation:T},!0)}const x=v.destination;this._updateInternalState(x,v.uid,!0),void 0!==x.rotation&&(this._initialRotation=x.rotation),x.dest?(this._initialBookmark=JSON.stringify(x.dest),this._destination.page=null):x.hash?this._initialBookmark=x.hash:x.page&&(this._initialBookmark=`page=${x.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:n=null,explicitDest:i,pageNumber:p}){if(!this._initialized)return;if(n&&"string"!=typeof n)return void console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);if(!Array.isArray(i))return void console.error(`PDFHistory.push: "${i}" is not a valid explicitDest parameter.`);if(!this._isValidPage(p)&&(null!==p||this._destination))return void console.error(`PDFHistory.push: "${p}" is not a valid pageNumber parameter.`);const h=n||JSON.stringify(i);if(!h)return;let v=!1;if(this._destination&&(u(this._destination.hash,h)||b(this._destination.dest,i))){if(this._destination.page)return;v=!0}this._popStateInProgress&&!v||(this._pushOrReplaceState({dest:i,hash:h,page:p,rotation:this.linkService.rotation},v),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(n){if(this._initialized){if(!this._isValidPage(n))return void console.error(`PDFHistory.pushPage: "${n}" is not a valid page number.`);this._destination?.page!==n&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${n}`,page:n,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(n,i=!1){const p=i||!this._destination,h={fingerprint:this._fingerprint,uid:p?this._uid:this._uid+1,destination:n};let v;if(this._updateInternalState(n,h.uid),this._updateUrl&&n?.hash){const x=document.location.href.split("#")[0];x.startsWith("file://")||(v=`${x}#${n.hash}`)}p?window.history.replaceState(h,"",v):window.history.pushState(h,"",v)}_tryPushCurrentPosition(n=!1){if(!this._position)return;let i=this._position;if(n&&(i=Object.assign(Object.create(null),this._position),i.temporary=!0),!this._destination)return void this._pushOrReplaceState(i);if(this._destination.temporary)return void this._pushOrReplaceState(i,!0);if(this._destination.hash===i.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let p=!1;if(this._destination.page>=i.first&&this._destination.page<=i.page){if(void 0!==this._destination.dest||!this._destination.first)return;p=!0}this._pushOrReplaceState(i,p)}_isValidPage(n){return Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount}_isValidState(n,i=!1){if(!n)return!1;if(n.fingerprint!==this._fingerprint){if(!i)return!1;{if("string"!=typeof n.fingerprint||n.fingerprint.length!==this._fingerprint.length)return!1;const[p]=performance.getEntriesByType("navigation");if("reload"!==p?.type)return!1}}return!(!Number.isInteger(n.uid)||n.uid<0||null===n.destination||"object"!=typeof n.destination)}_updateInternalState(n,i,p=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),p&&n?.temporary&&delete n.temporary,this._destination=n,this._uid=i,this._maxUid=Math.max(this._maxUid,i),this._numPositionUpdates=0}_parseCurrentHash(n=!1){const i=unescape(c()).substring(1),p=(0,f.parseQueryString)(i),h=p.get("nameddest")||"";let v=0|p.get("page");return(!this._isValidPage(v)||n&&h.length>0)&&(v=null),{hash:i,page:v,rotation:this.linkService.rotation}}_updateViewarea({location:n}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:n}){const i=c(),p=this._currentHash!==i;if(this._currentHash=i,!n){this._uid++;const{hash:v,page:x,rotation:k}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:v,page:x,rotation:k},!0)}if(!this._isValidState(n))return;this._popStateInProgress=!0,p&&(this._blockHashChange++,(0,y.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const h=n.destination;this._updateInternalState(h,n.uid,!0),(0,f.isValidRotation)(h.rotation)&&(this.linkService.rotation=h.rotation),h.dest?this.linkService.goToDestination(h.dest):h.hash?this.linkService.setHash(h.hash):h.page&&(this.linkService.page=h.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var f=P(6),y=P(3);s.PDFScriptingManager=class C{constructor({eventBus:_,sandboxBundleSrc:c=null,scriptingFactory:S=null,docPropertiesLookup:u=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=_,this._sandboxBundleSrc=c,this._scriptingFactory=S,this._docPropertiesLookup=u,this._scriptingFactory||window.addEventListener("updatefromsandbox",b=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:b.detail})})}setViewer(_){this._pdfViewer=_}setDocument(_){var c=this;return r(function*(){if(c._pdfDocument&&(yield c._destroyScripting()),c._pdfDocument=_,!_)return;const[S,u,b]=yield Promise.all([_.getFieldObjects(),_.getCalculationOrderIds(),_.getJSActions()]);if(S||b){if(_===c._pdfDocument){try{c._scripting=c._createScripting()}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield c._destroyScripting())}c._internalEvents.set("updatefromsandbox",g=>{g?.source===window&&c._updateFromSandbox(g.detail)}),c._internalEvents.set("dispatcheventinsandbox",g=>{c._scripting?.dispatchEventInSandbox(g.detail)}),c._internalEvents.set("pagechanging",({pageNumber:g,previous:n})=>{g!==n&&(c._dispatchPageClose(n),c._dispatchPageOpen(g))}),c._internalEvents.set("pagerendered",({pageNumber:g})=>{c._pageOpenPending.has(g)&&g===c._pdfViewer.currentPageNumber&&c._dispatchPageOpen(g)}),c._internalEvents.set("pagesdestroy",function(){var g=r(function*(n){yield c._dispatchPageClose(c._pdfViewer.currentPageNumber),yield c._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),c._closeCapability?.resolve()});return function(n){return g.apply(this,arguments)}}()),c._domEvents.set("mousedown",g=>{c._mouseState.isDown=!0}),c._domEvents.set("mouseup",g=>{c._mouseState.isDown=!1});for(const[g,n]of c._internalEvents)c._eventBus._on(g,n);for(const[g,n]of c._domEvents)window.addEventListener(g,n,!0);try{const g=yield c._getDocProperties();if(_!==c._pdfDocument)return;yield c._scripting.createSandbox({objects:S,calculationOrder:u,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...g,actions:b}}),c._eventBus.dispatch("sandboxcreated",{source:c})}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield c._destroyScripting())}yield c._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield c._dispatchPageOpen(c._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{_===c._pdfDocument&&(c._ready=!0)})}}else yield c._destroyScripting()})()}dispatchWillSave(_){var c=this;return r(function*(){return c._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(_){var c=this;return r(function*(){return c._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(_){var c=this;return r(function*(){return c._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(_){var c=this;return r(function*(){return c._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,y.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,y.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,y.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,y.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(_){var c=this;return r(function*(){const S=c._pdfViewer.isInPresentationMode||c._pdfViewer.isChangingPresentationMode,{id:u,siblings:b,command:g,value:n}=_;if(!u){switch(g){case"clear":console.clear();break;case"error":console.error(n);break;case"layout":if(S)return;const p=(0,f.apiPageLayoutToViewerModes)(n);c._pdfViewer.spreadMode=p.spreadMode;break;case"page-num":c._pdfViewer.currentPageNumber=n+1;break;case"print":yield c._pdfViewer.pagesPromise,c._eventBus.dispatch("print",{source:c});break;case"println":console.log(n);break;case"zoom":if(S)return;c._pdfViewer.currentScaleValue=n;break;case"SaveAs":c._eventBus.dispatch("save",{source:c});break;case"FirstPage":c._pdfViewer.currentPageNumber=1;break;case"LastPage":c._pdfViewer.currentPageNumber=c._pdfViewer.pagesCount;break;case"NextPage":c._pdfViewer.nextPage();break;case"PrevPage":c._pdfViewer.previousPage();break;case"ZoomViewIn":if(S)return;c._pdfViewer.increaseScale();break;case"ZoomViewOut":if(S)return;c._pdfViewer.decreaseScale()}return}if(S&&_.focus)return;delete _.id,delete _.siblings;const i=b?[u,...b]:[u];for(const p of i){const h=document.getElementById(p);h?h.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:_})):c._pdfDocument?.annotationStorage.setValue(p,_)}})()}_dispatchPageOpen(_,c=!1){var S=this;return r(function*(){const u=S._pdfDocument,b=S._visitedPages;if(c&&(S._closeCapability=(0,y.createPromiseCapability)()),!S._closeCapability)return;const g=S._pdfViewer.getPageView(_-1);if(g?.renderingState!==f.RenderingStates.FINISHED)return void S._pageOpenPending.add(_);S._pageOpenPending.delete(_);const n=r(function*(){const i=yield b.has(_)?null:g.pdfPage?.getJSActions();u===S._pdfDocument&&(yield S._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:_,actions:i}))})();b.set(_,n)})()}_dispatchPageClose(_){var c=this;return r(function*(){const S=c._pdfDocument,u=c._visitedPages;if(!c._closeCapability||c._pageOpenPending.has(_))return;const b=u.get(_);b&&(u.set(_,null),yield b,S===c._pdfDocument&&(yield c._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:_})))})()}_getDocProperties(){var _=this;return r(function*(){if(_._docPropertiesLookup)return _._docPropertiesLookup(_._pdfDocument);const{docPropertiesLookup:c}=P(24);return c(_._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,y.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:_}=P(24);return new _(this._sandboxBundleSrc)}_destroyScripting(){var _=this;return r(function*(){if(!_._scripting)return _._pdfDocument=null,void _._destroyCapability?.resolve();_._closeCapability&&(yield Promise.race([_._closeCapability.promise,new Promise(c=>{setTimeout(c,1e3)})]).catch(c=>{}),_._closeCapability=null),_._pdfDocument=null;try{yield _._scripting.destroySandbox()}catch{}for(const[c,S]of _._internalEvents)_._eventBus._off(c,S);_._internalEvents.clear();for(const[c,S]of _._domEvents)window.removeEventListener(c,S,!0);_._domEvents.clear(),_._pageOpenPending.clear(),_._visitedPages.clear(),_._scripting=null,delete _._mouseState.isDown,_._ready=!1,_._destroyCapability?.resolve()})()}}},(R,s,P)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericScripting=void 0,s.docPropertiesLookup=function y(_){return C.apply(this,arguments)};var f=P(3);function C(){return(C=r(function*(_){const S="".split("#")[0];let{info:u,metadata:b,contentDispositionFilename:g,contentLength:n}=yield _.getMetadata();if(!n){const{length:i}=yield _.getDownloadInfo();n=i}return{...u,baseURL:S,filesize:n,filename:g||(0,f.getPdfFilenameFromUrl)(""),metadata:b?.getRaw(),authors:b?.get("dc:creator"),numPages:_.numPages,URL:""}})).apply(this,arguments)}s.GenericScripting=class F{constructor(c){this._ready=(0,f.loadScript)(c,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(c){var S=this;return r(function*(){(yield S._ready).create(c)})()}dispatchEventInSandbox(c){var S=this;return r(function*(){const u=yield S._ready;setTimeout(()=>u.dispatchEvent(c),0)})()}destroySandbox(){var c=this;return r(function*(){(yield c._ready).nukeSandbox()})()}}}],B={};function W(R){var s=B[R];if(void 0!==s)return s.exports;var P=B[R]={exports:{}};return G[R](P,P.exports,W),P.exports}var z={};return(()=>{var R=z;Object.defineProperty(R,"__esModule",{value:!0}),Object.defineProperty(R,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return C.AnnotationLayerBuilder}}),Object.defineProperty(R,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return s.DefaultAnnotationLayerFactory}}),Object.defineProperty(R,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return s.DefaultStructTreeLayerFactory}}),Object.defineProperty(R,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return s.DefaultTextLayerFactory}}),Object.defineProperty(R,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return s.DefaultXfaLayerFactory}}),Object.defineProperty(R,"DownloadManager",{enumerable:!0,get:function(){return F.DownloadManager}}),Object.defineProperty(R,"EventBus",{enumerable:!0,get:function(){return _.EventBus}}),Object.defineProperty(R,"GenericL10n",{enumerable:!0,get:function(){return c.GenericL10n}}),Object.defineProperty(R,"LinkTarget",{enumerable:!0,get:function(){return P.LinkTarget}}),Object.defineProperty(R,"NullL10n",{enumerable:!0,get:function(){return S.NullL10n}}),Object.defineProperty(R,"PDFFindController",{enumerable:!0,get:function(){return u.PDFFindController}}),Object.defineProperty(R,"PDFHistory",{enumerable:!0,get:function(){return b.PDFHistory}}),Object.defineProperty(R,"PDFLinkService",{enumerable:!0,get:function(){return P.PDFLinkService}}),Object.defineProperty(R,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}}),Object.defineProperty(R,"PDFScriptingManager",{enumerable:!0,get:function(){return n.PDFScriptingManager}}),Object.defineProperty(R,"PDFSinglePageViewer",{enumerable:!0,get:function(){return y.PDFSinglePageViewer}}),Object.defineProperty(R,"PDFViewer",{enumerable:!0,get:function(){return y.PDFViewer}}),Object.defineProperty(R,"ProgressBar",{enumerable:!0,get:function(){return f.ProgressBar}}),Object.defineProperty(R,"SimpleLinkService",{enumerable:!0,get:function(){return P.SimpleLinkService}}),Object.defineProperty(R,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return i.StructTreeLayerBuilder}}),Object.defineProperty(R,"TextLayerBuilder",{enumerable:!0,get:function(){return p.TextLayerBuilder}}),Object.defineProperty(R,"XfaLayerBuilder",{enumerable:!0,get:function(){return h.XfaLayerBuilder}}),Object.defineProperty(R,"parseQueryString",{enumerable:!0,get:function(){return f.parseQueryString}});var s=W(1),P=W(5),f=W(6),y=W(10),C=W(2),F=W(16),_=W(17),c=W(18),S=W(4),u=W(20),b=W(22),g=W(12),n=W(23),i=W(7),p=W(8),h=W(9)})(),z})(),te.exports=W()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:te=>{function a(r,G,B,W,z,R,s){try{var P=r[R](s),f=P.value}catch(y){return void B(y)}P.done?G(f):Promise.resolve(f).then(W,z)}te.exports=function I(r){return function(){var G=this,B=arguments;return new Promise(function(W,z){var R=r.apply(G,B);function s(f){a(R,W,z,s,P,"next",f)}function P(f){a(R,W,z,s,P,"throw",f)}s(void 0)})}},te.exports.__esModule=!0,te.exports.default=te.exports},9380:(te,a,I)=>{"use strict";var r,G;I.d(a,{rQ:()=>g,xC:()=>n});var B=I(4650),W=I(4968),z=I(7579),R=I(457),s=I(2722),P=I(8372),f=I(9300),y=I(6036),C=I(2813);const F=["pdfViewerContainer"];function S(i,p,h){i[p]=h}function u(){return typeof window>"u"}u()||S(r||(r=I.t(y,2)),"verbosity",y.VerbosityLevel.INFOS);var b=(()=>{return(i=b||(b={}))[i.DISABLED=0]="DISABLED",i[i.ENABLED=1]="ENABLED",i[i.ENHANCED=2]="ENHANCED",b;var i})();let g=(()=>{class i{constructor(h,v){if(this.element=h,this.ngZone=v,this.isVisible=!1,this._cMapsUrl=typeof(r||(r=I.t(y,2)))<"u"?`https://unpkg.com/pdfjs-dist@${y.version}/cmaps/`:null,this._imageResourcesPath=typeof(r||(r=I.t(y,2)))<"u"?`https://unpkg.com/pdfjs-dist@${y.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=b.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new z.x,this.afterLoadComplete=new B.vpe,this.pageRendered=new B.vpe,this.pageInitialized=new B.vpe,this.textLayerRendered=new B.vpe,this.onError=new B.vpe,this.onProgress=new B.vpe,this.pageChange=new B.vpe(!0),u())return;let x;const k=y.version;x=window[`pdfWorkerSrc${k}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${k}/legacy/build/pdf.worker.min.js`),S(y.GlobalWorkerOptions,"workerSrc",x)}set cMapsUrl(h){this._cMapsUrl=h}set page(h){const v=h=parseInt(h,10)||1;this._pdf&&(h=this.getValidPageNumber(h)),this._page=h,v!==h&&this.pageChange.emit(h)}set renderText(h){this._renderText=h}set renderTextMode(h){this._renderTextMode=h}set originalSize(h){this._originalSize=h}set showAll(h){this._showAll=h}set stickToPage(h){this._stickToPage=h}set zoom(h){h<=0||(this._zoom=h)}get zoom(){return this._zoom}set zoomScale(h){this._zoomScale=h}get zoomScale(){return this._zoomScale}set rotation(h){"number"==typeof h&&h%90==0?this._rotation=h:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(h){this._externalLinkTarget=h}set autoresize(h){this._canAutoResize=Boolean(h)}set fitToPage(h){this._fitToPage=Boolean(h)}set showBorders(h){this._showBorders=Boolean(h)}static getLinkTarget(h){switch(h){case"blank":return C.LinkTarget.BLANK;case"none":return C.LinkTarget.NONE;case"self":return C.LinkTarget.SELF;case"parent":return C.LinkTarget.PARENT;case"top":return C.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const h=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=h?!1===this.isVisible&&null!=h&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(h){if(!u()&&this.isVisible)if("src"in h)this.loadPDF();else if(this._pdf){if("renderText"in h?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:b.DISABLED,this.resetPdfDocument()):"showAll"in h&&(this.setupViewer(),this.resetPdfDocument()),"page"in h){const{page:v}=h;if(v.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,R.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,s.R)(this.destroy$)).subscribe({next:h=>{const v=this._rotation+h.rotate,x=h.getViewport({scale:this._zoom,rotation:v}).width*i.CSS_UNITS;let k=this._zoom,l=!0;if(!this._originalSize||this._fitToPage&&x>this.pdfViewerContainer.nativeElement.clientWidth){const T=h.getViewport({scale:1,rotation:v});k=this.getScale(T.width,T.height),l=!this._stickToPage}this.pdfViewer._setScale(k,l)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const h=i.getLinkTarget(this._externalLinkTarget);return h?{externalLinkTarget:h}:{}}initEventBus(){this.eventBus=function _(i,p){const h=new i.EventBus;return function c(i,p){(0,W.R)(i,"documentload").pipe((0,s.R)(p)).subscribe(()=>{const h=document.createEvent("CustomEvent");h.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(h)}),(0,W.R)(i,"pagerendered").pipe((0,s.R)(p)).subscribe(({pageNumber:h,cssTransform:v,source:x})=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("pagerendered",!0,!0,{pageNumber:h,cssTransform:v}),x.div.dispatchEvent(k)}),(0,W.R)(i,"textlayerrendered").pipe((0,s.R)(p)).subscribe(({pageNumber:h,source:v})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:h}),v.textLayerDiv.dispatchEvent(x)}),(0,W.R)(i,"pagechanging").pipe((0,s.R)(p)).subscribe(({pageNumber:h,source:v})=>{const x=document.createEvent("UIEvents");x.initEvent("pagechanging",!0,!0),x.pageNumber=h,v.container.dispatchEvent(x)}),(0,W.R)(i,"pagesinit").pipe((0,s.R)(p)).subscribe(({source:h})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("pagesinit",!0,!0,null),h.container.dispatchEvent(v)}),(0,W.R)(i,"pagesloaded").pipe((0,s.R)(p)).subscribe(({pagesCount:h,source:v})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("pagesloaded",!0,!0,{pagesCount:h}),v.container.dispatchEvent(x)}),(0,W.R)(i,"scalechange").pipe((0,s.R)(p)).subscribe(({scale:h,presetValue:v,source:x})=>{const k=document.createEvent("UIEvents");k.initEvent("scalechange",!0,!0),k.scale=h,k.presetValue=v,x.container.dispatchEvent(k)}),(0,W.R)(i,"updateviewarea").pipe((0,s.R)(p)).subscribe(({location:h,source:v})=>{const x=document.createEvent("UIEvents");x.initEvent("updateviewarea",!0,!0),x.location=h,v.container.dispatchEvent(x)}),(0,W.R)(i,"find").pipe((0,s.R)(p)).subscribe(({source:h,type:v,query:x,phraseSearch:k,caseSensitive:l,highlightAll:T,findPrevious:E})=>{if(h===window)return;const O=document.createEvent("CustomEvent");O.initCustomEvent("find"+v,!0,!0,{query:x,phraseSearch:k,caseSensitive:l,highlightAll:T,findPrevious:E}),window.dispatchEvent(O)}),(0,W.R)(i,"attachmentsloaded").pipe((0,s.R)(p)).subscribe(({attachmentsCount:h,source:v})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:h}),v.container.dispatchEvent(x)}),(0,W.R)(i,"sidebarviewchanged").pipe((0,s.R)(p)).subscribe(({view:h,source:v})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("sidebarviewchanged",!0,!0,{view:h}),v.outerContainer.dispatchEvent(x)}),(0,W.R)(i,"pagemode").pipe((0,s.R)(p)).subscribe(({mode:h,source:v})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("pagemode",!0,!0,{mode:h}),v.pdfViewer.container.dispatchEvent(x)}),(0,W.R)(i,"namedaction").pipe((0,s.R)(p)).subscribe(({action:h,source:v})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("namedaction",!0,!0,{action:h}),v.pdfViewer.container.dispatchEvent(x)}),(0,W.R)(i,"presentationmodechanged").pipe((0,s.R)(p)).subscribe(({active:h,switchInProgress:v})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("presentationmodechanged",!0,!0,{active:h,switchInProgress:v}),window.dispatchEvent(x)}),(0,W.R)(i,"outlineloaded").pipe((0,s.R)(p)).subscribe(({outlineCount:h,source:v})=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("outlineloaded",!0,!0,{outlineCount:h}),v.container.dispatchEvent(x)})}(h,p),h}(G||(G=I.t(C,2)),this.destroy$),(0,W.R)(this.eventBus,"pagerendered").pipe((0,s.R)(this.destroy$)).subscribe(h=>{this.pageRendered.emit(h)}),(0,W.R)(this.eventBus,"pagesinit").pipe((0,s.R)(this.destroy$)).subscribe(h=>{this.pageInitialized.emit(h)}),(0,W.R)(this.eventBus,"pagechanging").pipe((0,s.R)(this.destroy$)).subscribe(({pageNumber:h})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=h,this.pageChange.emit(h)},100)}),(0,W.R)(this.eventBus,"textlayerrendered").pipe((0,s.R)(this.destroy$)).subscribe(h=>{this.textLayerRendered.emit(h)})}initPDFServices(){this.pdfLinkService=new C.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new C.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:b.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){S(r||(r=I.t(y,2)),"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new C.PDFViewer(this.getPDFOptions()):new C.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(h){return h<1?1:h>this._pdf.numPages?this._pdf.numPages:h}getDocumentParams(){const h=typeof this.src;if(!this._cMapsUrl)return this.src;const v={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===h?v.url=this.src:"object"===h&&(void 0!==this.src.byteLength?v.data=this.src:Object.assign(v,this.src)),v}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=y.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=v=>{this.onProgress.emit(v)};const h=this.src;(0,R.D)(this.loadingTask.promise).pipe((0,s.R)(this.destroy$)).subscribe({next:v=>{this._pdf=v,this.lastLoaded=h,this.afterLoadComplete.emit(v),this.resetPdfDocument(),this.update()},error:v=>{this.lastLoaded=null,this.onError.emit(v)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(h,v){const x=this._showBorders?2*i.BORDER_WIDTH:0,k=this.pdfViewerContainer.nativeElement.clientWidth-x,l=this.pdfViewerContainer.nativeElement.clientHeight-x;if(0===l||0===v||0===k||0===h)return 1;let T=1;switch(this._zoomScale){case"page-fit":T=Math.min(l/v,k/h);break;case"page-height":T=l/v;break;default:T=k/h}return this._zoom*T/i.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){u()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){u()||this.ngZone.runOutsideAngular(()=>{(0,W.R)(window,"resize").pipe((0,P.b)(100),(0,f.h)(()=>this._canAutoResize&&!!this._pdf),(0,s.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return i.CSS_UNITS=96/72,i.BORDER_WIDTH=9,i.\u0275fac=function(h){return new(h||i)(B.Y36(B.SBq),B.Y36(B.R0b))},i.\u0275cmp=B.Xpm({type:i,selectors:[["pdf-viewer"]],viewQuery:function(h,v){if(1&h&&B.Gf(F,5),2&h){let x;B.iGM(x=B.CRH())&&(v.pdfViewerContainer=x.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[B.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(h,v){1&h&&(B.TgZ(0,"div",0,1),B._UZ(2,"div",2),B.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),i})(),n=(()=>{class i{}return i.\u0275fac=function(h){return new(h||i)},i.\u0275mod=B.oAB({type:i}),i.\u0275inj=B.cJS({}),i})()}}]);