(self.webpackChunkngx_boomconsole=self.webpackChunkngx_boomconsole||[]).push([[1886],{4639:(J,U,x)=>{"use strict";x.r(U),x.d(U,{MyGroupsModule:()=>fo});var u=x(6895),v=x(7518),p=x(5861),I=x(4467),A=x(7579),q=x(8372),T=x(1884),t=x(4650),y=x(1481),O=x(384),C=x(9446),k=x(3718);function K(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",6)(1,"span",7),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.showAllGroups=!n.showAllGroups)})("keyup",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.showAllGroups=!n.showAllGroups)}),t._uU(2," visibility "),t.qZA(),t.TgZ(3,"p",8),t.NdJ("keyup",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.showAllGroups=!n.showAllGroups)})("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.showAllGroups=!n.showAllGroups)}),t._uU(4),t.qZA()()}if(2&i){const o=t.oxw();t.xp6(4),t.hij(" ",o.showAllGroups?"See less":"See all"," ")}}function $(i,s){1&i&&(t.TgZ(0,"div",9)(1,"div",10)(2,"p"),t._uU(3,"Create group or join the group"),t.qZA()()())}function R(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",24),t.BQk()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("src",o.image,t.LSH)}}function W(i,s){1&i&&t._UZ(0,"img",25)}const z=function(i){return["/groups","gr",i]};function X(i,s){if(1&i&&(t.TgZ(0,"li",16)(1,"div",17)(2,"a",18),t.YNc(3,R,2,1,"ng-container",19),t.YNc(4,W,1,0,"ng-template",null,20,t.W1O),t.qZA()(),t.TgZ(6,"div",21)(7,"a",22),t._uU(8),t.qZA(),t.TgZ(9,"small",23),t._uU(10),t.ALo(11,"date"),t.qZA()()()),2&i){const o=s.$implicit,e=t.MAs(5);t.xp6(2),t.Q6J("routerLink",t.VKq(9,z,null==o?null:o.id)),t.xp6(1),t.Q6J("ngIf",o.image)("ngIfElse",e),t.xp6(4),t.Q6J("routerLink",t.VKq(11,z,null==o?null:o.id)),t.xp6(1),t.Oqu(null==o?null:o.name),t.xp6(2),t.Oqu(t.xi3(11,6,null==o?null:o.createdAt,"mediumDate"))}}function tt(i,s){if(1&i&&(t.TgZ(0,"div",13)(1,"ul",14),t.YNc(2,X,12,13,"li",15),t.qZA()()),2&i){const o=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",o.allGroups.slice(0,o.showAllGroups?o.allGroups.length:4))}}function nt(i,s){1&i&&(t.TgZ(0,"div",10)(1,"p"),t._uU(2,"No groups..."),t.qZA()())}function et(i,s){if(1&i&&(t.YNc(0,tt,3,1,"div",11),t.YNc(1,nt,3,0,"ng-template",null,12,t.W1O)),2&i){const o=t.MAs(2),e=t.oxw();t.Q6J("ngIf",e.allGroups.length>0)("ngIfElse",o)}}let ot=(()=>{const s=class{constructor(){this.allGroups=[],this.showAllGroups=!1}ngOnChanges(e){e.allGroups&&(this.allGroups=e.allGroups.currentValue||[],this.sortGroupsByName())}sortGroupsByName(){this.allGroups.sort((e,n)=>e.name<n.name?-1:e.name>n.name?1:0)}};let i=s;return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-widget-groups-joined"]],inputs:{allGroups:"allGroups"},features:[t.TTD],decls:9,vars:4,consts:[[1,"card","mx-3","my-3"],[1,"widget-title","d-flex","justify-content-between","align-items-center"],["class","see-all-group mx-3",4,"ngIf"],[1,"widget-entry","group-more"],["class","loading mt-5",4,"ngIf","ngIfElse"],["loaded",""],[1,"see-all-group","mx-3"],["tabindex","",1,"material-symbols-outlined","btn-more",3,"click","keyup"],["tabindex","",1,"mb-0","see-all-text",3,"keyup","click"],[1,"loading","mt-5"],[1,"text-center","mx-auto","my-5"],["class","my-2",4,"ngIf","ngIfElse"],["noGroup",""],[1,"my-2"],[1,"group-list","list-unstyled"],["class","card-body mb-2 d-flex flex-row gap-2 align-items-center",4,"ngFor","ngForOf"],[1,"card-body","mb-2","d-flex","flex-row","gap-2","align-items-center"],[1,"profile_img_container"],[3,"routerLink"],[4,"ngIf","ngIfElse"],["defaultCover",""],[1,"flex-grow-1"],[1,"mb-0","group-name",3,"routerLink"],[1,"post-item-top-meta"],["alt","Personal cover image",1,"img-fluid","group-img","rounded",3,"src"],["alt","","src","./assets/groups_default.jpg",1,"group-img","rounded"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3),t.qZA(),t.YNc(4,K,5,1,"div",2),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,$,4,0,"div",4),t.YNc(7,et,3,2,"ng-template",null,5,t.W1O),t.qZA()()),2&n){const a=t.MAs(8);t.xp6(3),t.hij("",r.allGroups.length," Joined Groups"),t.xp6(1),t.Q6J("ngIf",r.allGroups.length>4),t.xp6(2),t.Q6J("ngIf",0===r.allGroups.length)("ngIfElse",a)}},dependencies:[u.sg,u.O5,v.rH,u.uU],styles:[".group-img[_ngcontent-%COMP%]{height:30px;width:30px}.group-more[_ngcontent-%COMP%]{overflow-y:scroll;height:304px}.widget[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{padding:14px}.card-body[_ngcontent-%COMP%]{padding:8px;gap:16px;border-radius:4px;background:#f9f9f9;border:1px solid #dddddd}h2[_ngcontent-%COMP%]{font-size:18px}.joined-groups[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:8px;margin-bottom:20px}.widget[_ngcontent-%COMP%]   .widget-title[_ngcontent-%COMP%]{padding:8px 11px;border-bottom:1px solid #ddd}.widget-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.see-all-group[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;white-space:nowrap}.see-all-text[_ngcontent-%COMP%]{margin:0;font-size:12px}.btn-more[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;display:flex;justify-content:end;font-size:15px}.group-img[_ngcontent-%COMP%]{width:48px;height:48px;object-fit:cover}.group-name[_ngcontent-%COMP%]{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px;font-weight:700;line-height:32px;color:#000}.group-name[_ngcontent-%COMP%]{margin-bottom:0}.flex-grow-1[_ngcontent-%COMP%]{display:flex;flex-direction:column}.group-name[_ngcontent-%COMP%]{margin-bottom:0;line-height:32px}.post-item-top-meta[_ngcontent-%COMP%]{line-height:16px}.card[_ngcontent-%COMP%]{padding:14px}ul[_ngcontent-%COMP%]{margin-bottom:0}.widget[_ngcontent-%COMP%]{height:290px;background-color:#fff;padding:10px;border-radius:8px;margin-bottom:20px}"]}),i})();var N=x(1905),d=x(4006),_=x(9402),w=x(6371),it=x(2340);let L=(()=>{const s=class{constructor(e){var n=this;this._authService=e,this.baseUrl=it.N.baseUrl,this.createEntityConnection=function(){var r=(0,p.Z)(function*(a,c,l){const g={...a},h=yield(0,_.Fsb)("the_post","",!0,l,4,999),f=yield(0,_.J0M)(n.entityId);yield n.CreateConnectionBetweenEntityLocal(h,f,w.j3),yield n.CreateConnectionBetweenEntityLocal(c,h,w.t1);for(const[b,M]of Object.entries(g)){const m=b,P=yield(0,_.ECb)(`${m}`,`${M}`,!1,l,4,999);yield n.CreateConnectionBetweenEntityLocal(h,P,m)}return yield _.smK.SyncDataOnline(),h});return function(a,c,l){return r.apply(this,arguments)}}(),this.user=this._authService.loadFromLocalStorage(),this.entityId=Number(this.user.entityId),this.userId=Number(this.user.theUserId)}CreateConnectionBetweenEntityLocal(e,n,r){return(0,p.Z)(function*(){const a=e.userId,g=e?.type?.characterValue,f=g+"_"+r,b=yield(0,_.smi)(f,999,999,a);yield(0,_.b1S)(e.id,n.id,b.id,1e3)})()}createPost(e,n){var r=this;return(0,p.Z)(function*(){try{const a=yield(0,_.J0M)(n),c=r.user.theUserId;return yield r.createEntityConnection(e,a,Number(c))}catch(a){throw console.error(a),a}})()}deletePost(e,n){return(0,p.Z)(function*(){try{const r=yield(0,_.J0M)(Number(e)),a=yield(0,_.J0M)(Number(n)),c=yield(0,_.kqu)(r,a,"",w.WZ,!0);return yield Promise.all(c?.map(function(){var l=(0,p.Z)(function*(g){yield(0,_.TAP)(g?.id)});return function(g){return l.apply(this,arguments)}}())),a}catch(r){throw console.error("error in delete post",r),r}})()}likePost(e){var n=this;return(0,p.Z)(function*(){try{const r=`${n.baseUrl}/Connection/get-link-reverse?compositionId=${n.entityId}&linker=${w.XS}`,l=(yield(yield fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.user.token}`}})).json())?.output.filter(M=>M.id==e),h=(yield n.checkIfUserLikedPost(l?.[0]?.id))?.data?.the_post?.the_post_s_like?.filter(M=>M?.id==n.entityId),f=yield(0,_.J0M)(Number(e)),b=yield(0,_.J0M)(Number(n.entityId));if(h){const M=yield(0,_.kqu)(f,b,"",w.XS,!0);return yield Promise.all(M?.map(function(){var m=(0,p.Z)(function*(P){yield(0,_.TAP)(P?.id)});return function(P){return m.apply(this,arguments)}}())),{message:"Removed like from post",isLiked:!1,success:!0}}return yield n.CreateConnectionBetweenEntityLocal(f,b,"s_like"),yield _.smK.SyncDataOnline(),{message:"Liked post",isLiked:!0,success:!0}}catch(r){throw console.error("error in like post",r),r}})()}checkIfUserLikedPost(e){return(0,p.Z)(function*(){try{const n=[{composition:e,fullLinkers:["the_post","the_post_s_like"],inpage:100,page:1,logic:"or",filterSearches:[]}];return yield(0,_.eHe)(n)}catch(n){console.error(n)}})()}updatePost(e,n){var r=this;return(0,p.Z)(function*(){try{const a=yield(0,_.J0M)(Number(e));for(const c of n){if(c?.id){const g=yield(0,_.J0M)(Number(c?.id));if(a&&g){const h=yield(0,_.kqu)(a,g,"","the_post_"+c.type,!0);yield Promise.all(h?.map(function(){var f=(0,p.Z)(function*(b){yield(0,_.TAP)(b?.id)});return function(b){return f.apply(this,arguments)}}()))}}const l=yield(0,_.Fsb)(c.type,c.value,!1,r.userId,4,999);yield r.CreateConnectionBetweenEntityLocal(a,l,c.type)}return yield _.smK.SyncDataOnline(),{...n,id:e}}catch(a){throw console.error("Error in update group details",a),a}})()}addComment(e,n){var r=this;return(0,p.Z)(function*(){try{const a=yield(0,_.Fsb)("the_post_comment","",!0,r.userId,4,999),c=yield(0,_.J0M)(e),l=yield(0,_.J0M)(r.entityId);let g;yield r.CreateConnectionBetweenEntityLocal(c,a,"s_comment"),yield r.CreateConnectionBetweenEntityLocal(a,l,"owner");for(const[h,f]of Object.entries(n)){const b=h;g=yield(0,_.ECb)(`${b}`,`${f}`,!1,r.entityId,4,999),yield r.CreateConnectionBetweenEntityLocal(a,g,b)}return yield _.smK.SyncDataOnline(),{message:"Commented on post",success:!0,id:a?.id,textId:g?.id}}catch{throw new Error("Error in add comment")}})()}getAllComments(e){var n=this;return(0,p.Z)(function*(){try{const r=[{composition:e,fullLinkers:["the_post","the_post_s_comment"],inpage:100,page:1,logic:"or",filterSearches:[]},{fullLinkers:["the_post_comment_text","the_post_comment_owner","the_post_comment_s_like"],inpage:100,page:1,logic:"or",filterSearches:[]},{fullLinkers:["the_entity_user"],inpage:100,page:1,logic:"or",filterSearches:[]}],c=(yield(0,_.eHe)(r))?.data?.the_post?.the_post_s_comment;return Array.isArray(c)?c?.map(l=>({id:l?.id,createdAt:l?.created_at||"",isOwner:l?.data?.the_post_comment?.the_post_comment_owner?.[0]?.id==n.entityId,isLiked:l?.data?.the_post_comment?.the_post_comment_s_like?.some(g=>g?.id==n.entityId),likeCount:l?.data?.the_post_comment?.the_post_comment_s_like?.length||0,text:l?.data?.the_post_comment?.the_post_comment_text?.[0]?.data?.the_text||"",textId:l?.data?.the_post_comment?.the_post_comment_text?.[0]?.id,owner:{entityId:l?.data?.the_post_comment?.the_post_comment_owner?.[0]?.id,conceptId:l?.data?.the_post_comment?.the_post_comment_owner?.[0]?.data?.the_entity?.the_entity_user?.[0]?.id,name:l?.data?.the_post_comment?.the_post_comment_owner?.[0]?.data?.the_entity?.the_entity_user?.[0]?.data?.the_user?.entity?.person?.first_name+" "+l?.data?.the_post_comment?.the_post_comment_owner?.[0]?.data?.the_entity?.the_entity_user?.[0]?.data?.the_user?.entity?.person?.last_name,profile_img:l?.data?.the_post_comment?.the_post_comment_owner?.[0]?.data?.the_entity?.the_entity_user?.[0]?.data?.the_user?.entity?.person?.profile_img}})):[]}catch(r){throw new Error("Error fetching comments: "+r)}})()}deleteComment(e,n){return(0,p.Z)(function*(){try{const r=yield(0,_.J0M)(Number(e)),a=yield(0,_.J0M)(Number(n)),c=yield(0,_.kqu)(r,a,"",w.wG,!0);return yield Promise.all(c?.map(function(){var l=(0,p.Z)(function*(g){yield(0,_.TAP)(g?.id)});return function(g){return l.apply(this,arguments)}}())),a}catch(r){throw console.error("error in delete post",r),r}})()}likeComment(e){var n=this;return(0,p.Z)(function*(){try{const r=`${n.baseUrl}/Connection/get-link-reverse?compositionId=${n.entityId}&linker=${w.kj}&page=1&inpage=100`,l=(yield(yield fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.user.token}`}})).json())?.output.filter(M=>M.id==e),h=(yield n.checkIfUserLikedComment(l?.[0]?.id))?.data?.the_post_comment?.the_post_comment_s_like?.filter(M=>M?.id==n.entityId),f=yield(0,_.J0M)(Number(e)),b=yield(0,_.J0M)(Number(n.entityId));if(h){const M=yield(0,_.kqu)(f,b,"",w.kj,!0);return yield Promise.all(M?.map(function(){var m=(0,p.Z)(function*(P){yield(0,_.TAP)(P?.id)});return function(P){return m.apply(this,arguments)}}())),{message:"Removed like from comment",isLiked:!1,success:!0}}return yield n.CreateConnectionBetweenEntityLocal(f,b,"s_like"),yield _.smK.SyncDataOnline(),{message:"Liked comment",isLiked:!0,success:!0}}catch(r){throw console.error("error in like comment",r),r}})()}checkIfUserLikedComment(e){return(0,p.Z)(function*(){try{const n=[{composition:e,fullLinkers:["the_post",w.kj],inpage:100,page:1,logic:"or",filterSearches:[]}];return yield(0,_.eHe)(n)}catch(n){console.error(n)}})()}updateComment(e,n){var r=this;return(0,p.Z)(function*(){try{const a=yield(0,_.J0M)(Number(e));for(const c of n){if(c?.id){const g=yield(0,_.J0M)(Number(c?.id));if(a&&g){const h=yield(0,_.kqu)(a,g,"","the_comment_"+c.type,!0),f=yield(0,_.kqu)(a,g,"","the_post_comment_"+c?.type,!0);yield Promise.all([h?.map(function(){var b=(0,p.Z)(function*(M){yield(0,_.TAP)(M?.id)});return function(M){return b.apply(this,arguments)}}()),f?.map(function(){var b=(0,p.Z)(function*(M){yield(0,_.TAP)(M?.id)});return function(M){return b.apply(this,arguments)}}())]),yield Promise.all(h?.map(function(){var b=(0,p.Z)(function*(M){yield(0,_.TAP)(M?.id)});return function(M){return b.apply(this,arguments)}}()))}}const l=yield(0,_.Fsb)(c.type,c.value,!1,r.userId,4,999);yield r.CreateConnectionBetweenEntityLocal(a,l,c.type)}return yield _.smK.SyncDataOnline(),{...n,id:e}}catch(a){throw console.error("Error in update group details",a),a}})()}listPostV2(e){return new Promise(n=>{const r=new _.LtL;r.typeConnection="the_entity_user",r.name="user",r.selectors=["self"];const a=new _.LtL;a.typeConnection="the_entity_user",a.name="user2",a.selectors=["self"];const c=new _.LtL;c.typeConnection="the_post_comment_owner",c.name="owner2",c.freeschemaQueries=[a],c.selectors=["the_entity_firstname","the_entity_lastname","the_entity_avatar"];const l=new _.LtL;l.typeConnection="the_post_s_comment",l.name="comment",l.selectors=["the_post_comment_owner","the_post_comment_text","the_post_comment_s_like"],l.freeschemaQueries=[c];const g=new _.LtL;g.typeConnection="the_post_owner",g.name="owner",g.freeschemaQueries=[r],g.selectors=["the_entity_firstname","the_entity_lastname","the_entity_avatar"];const h=new _.LtL;h.name="post",h.typeConnection="the_group_s_post",h.selectors=["the_post_title","the_post_owner","the_post_filename","the_post_filepath","the_post_s_like","the_post_s_comment"],h.freeschemaQueries=[l,g];const f=new _.LtL;f.name="top",f.conceptIds=[e],f.outputFormat=_.xY7,f.freeschemaQueries=[h],f.inpage=10,(0,_.og0)(f,"").subscribe(b=>{console.log("post data",b);const M=b?.[0]?.data?.the_group?.the_group_s_post?.map(m=>(console.log("ascascasccas",m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_firstname?.data?.the_firstname),{title:{title:m?.data?.the_post?.the_post_title?.data?.the_title,id:m?.data?.the_post?.the_post_title?.id},filename:m?.data?.the_post?.the_post_filename?.data?.the_filename||"",filepath:m?.data?.the_post?.the_post_filepath?.data?.the_filepath||"",postId:m?.id,created_at:m?.created_on||"",isLiked:m?.data?.the_post?.the_post_s_like?.some(P=>P?.id==this.entityId),likeCount:m?.data?.the_post?.the_post_s_like?.length||0,commentCount:m?.data?.the_post?.the_post_s_comment?.length||0,isOwner:m?.data?.the_post?.the_post_owner?.id==this.entityId,owner:{conceptId:m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_user?.id,id:m?.data?.the_post?.the_post_owner?.id,profile_img:m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_avatar?.data?.the_avatar||m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_user?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.profile_img?.data?.the_profile_img,first_name:m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_firstname?.data?.the_firstname&&!["undefined","user"].includes(m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_firstname?.data?.the_firstname)?m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_firstname?.data?.the_firstname:m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_user?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.first_name?.data?.the_first_name??"",last_name:m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_lastname?.data?.the_lastname&&!["undefined","user"].includes(m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_lastname?.data?.the_lastname)?m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_lastname?.data?.the_lastname:m?.data?.the_post?.the_post_owner?.data?.the_entity?.the_entity_user?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.last_name?.data?.the_last_name??""},comments:m?.data?.the_post?.the_post_s_comment?.map(P=>({id:P.id,textId:P.data?.the_post_comment?.the_post_comment_text?.id,createdAt:P.created_on,text:P.data?.the_post_comment?.the_post_comment_text?.data?.the_text,owner:{conceptId:P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_user?.id,id:P.data?.the_post_comment?.the_post_comment_owner?.id,profile_img:P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_avatar?.data?.the_avatar||P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_user?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.profile_img?.data?.the_profile_img,first_name:P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_firstname?.data?.the_firstname&&!["undefined","user"].includes(P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_firstname?.data?.the_firstname)?P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_firstname?.data?.the_firstname:P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_user?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.first_name?.data?.the_first_name??"",last_name:P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_lastname?.data?.the_lastname&&!["undefined","user"].includes(P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_lastname?.data?.the_lastname)?P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_lastname?.data?.the_lastname:P.data?.the_post_comment?.the_post_comment_owner?.data?.the_entity?.the_entity_user?.data?.the_user?.the_entity?.data?.the_entity?.the_person?.data?.the_person?.last_name?.data?.the_last_name??""},likeCount:P.data?.the_post_comment?.the_post_comment_s_like?.length||0,isLiked:P.data?.the_post_comment?.the_post_comment_s_like?.some(ho=>ho.id==this.entityId)}))||[]}));n(M)})})}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.LFG(O.e))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),i})();function rt(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",12),t.BQk()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("src",o.postImage,t.LSH)}}function st(i,s){1&i&&(t.TgZ(0,"button",13),t._uU(1," Save Changes "),t.qZA())}function at(i,s){1&i&&(t.TgZ(0,"button",14),t._uU(1," Saving... "),t.qZA()),2&i&&t.Q6J("disabled",!0)}let ct=(()=>{const s=class{constructor(e,n,r){this._fb=e,this._activeModal=n,this._postsService=r,this.updateItem=new t.vpe,this.isUpdating=!1,this.editPostForm=this._fb.group({title:new d.NI("",[d.kI.required])})}ngOnInit(){this.patchValue()}patchValue(){this.editPostForm.patchValue({title:this.item.title?.title}),this.item?.filepath&&(this.postImage=this.item.filepath)}editPost(){var e=this;return(0,p.Z)(function*(){e.isUpdating=!0;const n=[{type:"title",id:e.item.title.id,value:e.editPostForm.value.title}],r=yield e._postsService.updatePost(e.item.postId,n);r&&(e.updateItem.emit(r),e.isUpdating=!1,e.closeModal())})()}closeModal(){this._activeModal.close()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(d.qu),t.Y36(C.Kz),t.Y36(L))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-edit-post"]],inputs:{item:"item"},outputs:{updateItem:"updateItem"},decls:16,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],[1,"material-symbols-outlined","edit-group-icon"],["aria-label","Close","tabindex","",1,"material-symbols-outlined","cursor-pointer",3,"click","keyup"],[1,"modal-body","p-4"],[1,"form-group"],[3,"formGroup","ngSubmit"],["name","","id","","formControlName","title"],[4,"ngIf"],[1,"d-flex","justify-content-end","mt-4"],["class","btn btn-primary btn-sm","type","submit",4,"ngIf","ngIfElse"],["updating",""],["alt","Post image",1,"post_image",3,"src"],["type","submit",1,"btn","btn-primary","btn-sm"],[1,"btn","btn-primary","btn-sm",3,"disabled"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),t._uU(3,"Edit"),t.qZA(),t._uU(4," Edit Post "),t.qZA(),t.TgZ(5,"span",3),t.NdJ("click",function(){return r.closeModal()})("keyup",function(){return r.closeModal()}),t._uU(6,"close"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return r.editPost()}),t._UZ(10,"textarea",7),t.YNc(11,rt,2,1,"ng-container",8),t.TgZ(12,"div",9),t.YNc(13,st,2,0,"button",10),t.YNc(14,at,2,1,"ng-template",null,11,t.W1O),t.qZA()()()()),2&n){const a=t.MAs(15);t.xp6(9),t.Q6J("formGroup",r.editPostForm),t.xp6(2),t.Q6J("ngIf",r.postImage),t.xp6(2),t.Q6J("ngIf",!r.isUpdating)("ngIfElse",a)}},dependencies:[u.O5,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u],styles:[".modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f5f5f5;padding:16px;border-bottom:1px solid #ddd}.modal-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333;display:flex;align-items:center}.edit-group-icon[_ngcontent-%COMP%]{margin-right:8px;background-color:#333;color:#fff;border-radius:50%;padding:5px;font-size:18px}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#888}.btn-close[_ngcontent-%COMP%]:hover{color:#555}.modal-body[_ngcontent-%COMP%]{padding:20px;background-color:#fff}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}textarea[_ngcontent-%COMP%]{width:100%;height:150px;padding:10px;border:1px solid #ccc;border-radius:4px;resize:none;font-size:16px;color:#333}textarea[_ngcontent-%COMP%]:focus{border-color:#ff9472;outline:none;box-shadow:0 0 5px #ff947280}.post_image[_ngcontent-%COMP%]{width:100%;border-radius:10px}"]}),i})();var Z=x(8180);function pt(i,s){if(1&i&&(t.TgZ(0,"h6",19),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.AsE(" ",null==o||null==o.owner?null:o.owner.first_name," ",null==o||null==o.owner?null:o.owner.last_name," ")}}function lt(i,s){if(1&i&&(t.TgZ(0,"h6",19),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==o||null==o.owner?null:o.owner.name," ")}}function _t(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div")(1,"input",20),t.NdJ("ngModelChange",function(n){t.CHM(o);const r=t.oxw().$implicit,a=t.oxw();return t.KtG(a.updatedCommentText[r.id]=n)}),t.qZA(),t.TgZ(2,"div",21)(3,"button",22),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.saveUpdatedComment(n))}),t._uU(4," Save "),t.qZA(),t.TgZ(5,"button",23),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.currentEditingCommentId=null)}),t._uU(6," Cancel "),t.qZA()()()}if(2&i){const o=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.updatedCommentText[o.id])}}function dt(i,s){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(null==o?null:o.text)}}function gt(i,s){if(1&i&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(null==o?null:o.likeCount)}}function ut(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",25,26)(2,"a",27)(3,"span",28),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"div",29)(6,"button",30),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.editComment(n))}),t.TgZ(7,"span",28),t._uU(8,"edit"),t.qZA(),t._uU(9," Edit "),t.qZA(),t.TgZ(10,"button",30),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw();return t.KtG(r.deleteComment(n))}),t.TgZ(11,"span",28),t._uU(12,"delete"),t.qZA(),t._uU(13," Delete "),t.qZA()()()}}function mt(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",6),t._UZ(1,"img",7),t.TgZ(2,"div",8),t.YNc(3,pt,2,2,"h6",9),t.YNc(4,lt,2,1,"h6",9),t.TgZ(5,"small"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.YNc(8,_t,7,1,"div",10),t.YNc(9,dt,2,1,"ng-template",null,11,t.W1O),t.TgZ(11,"div",12)(12,"div",13)(13,"a",14),t.NdJ("click",function(){const r=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.likeComment(r))})("keyup",function(){const r=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.likeComment(r))}),t.TgZ(14,"div",15)(15,"span",16),t._uU(16,"favorite"),t.qZA()()(),t.YNc(17,gt,2,1,"span",17),t.qZA()()(),t.YNc(18,ut,14,0,"div",18),t.qZA()}if(2&i){const o=s.$implicit,e=t.MAs(10),n=t.oxw();t.xp6(1),t.s9C("src",null==o||null==o.owner?null:o.owner.profile_img,t.LSH),t.MGl("alt","",null==o||null==o.owner?null:o.owner.first_name,"'s profile"),t.xp6(2),t.Q6J("ngIf",null==o||null==o.owner?null:o.owner.first_name),t.xp6(1),t.Q6J("ngIf",null==o||null==o.owner?null:o.owner.name),t.xp6(2),t.Oqu(t.xi3(7,14,null==o?null:o.createdAt,"MMM d, h:mm a")),t.xp6(2),t.Q6J("ngIf",n.currentEditingCommentId===o.id)("ngIfElse",e),t.xp6(5),t.ekj("liked",!0===(null==o?null:o.isLiked)||"true"===(null==o?null:o.isLiked))("disabled",n.isLiking),t.uIk("aria-disabled",n.isLiking?"true":"false"),t.xp6(4),t.Q6J("ngIf",(null==o?null:o.likeCount)>0),t.xp6(1),t.Q6J("ngIf",(null==o||null==o.owner?null:o.owner.id)===n.entityId)}}let ft=(()=>{const s=class{constructor(e,n,r){this._postService=e,this._activeModal=n,this._snackbarService=r,this.allComments=[],this.commentDeleted=new t.vpe,this.isLiking=!1,this.isEditing={},this.updatedCommentText={},this.currentEditingCommentId=null}ngOnInit(){this.allComments=this.comments}likeComment(e){var n=this;return(0,p.Z)(function*(){n.isLiking=!0,e.isLiked=!e.isLiked,e.likeCount+=e.isLiked?1:-1;const r=yield n._postService.likeComment(e?.id);r&&(n._snackbarService.openSnackBar(r?.message,"success"),n.isLiking=!1)})()}editComment(e){var n=this;return(0,p.Z)(function*(){n.currentEditingCommentId&&n.currentEditingCommentId!==e.id&&(n.currentEditingCommentId=null),n.currentEditingCommentId=e.id,n.updatedCommentText[e.id]=e.text})()}saveUpdatedComment(e){var n=this;return(0,p.Z)(function*(){const r=[{type:"text",id:e.textId,value:n.updatedCommentText[e.id]||e.text}];yield n._postService.updateComment(e.id,r),n.currentEditingCommentId=null,e.text=r[0]?.value})()}deleteComment(e){var n=this;return(0,p.Z)(function*(){window.confirm("Are you sure you want to delete this comment?")&&(yield n._postService.deleteComment(n.postId,e.id))&&(n.allComments=n.allComments.filter(c=>c.id!==e.id),n.commentDeleted.emit(e),n._snackbarService.openSnackBar("Comment deleted!","success"),0==n.allComments.length&&n._activeModal.close())})()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(L),t.Y36(C.Kz),t.Y36(Z.o))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-group-comment-modal"]],inputs:{comments:"comments",entityId:"entityId",postId:"postId"},outputs:{commentDeleted:"commentDeleted"},decls:7,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["aria-label","Close","tabindex","",1,"btn-close","cursor-pointer",3,"keyup","click"],[1,"modal-body","p-4"],[1,"list-group","my-3"],["class","list-group-item d-flex align-items-start",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","align-items-start"],[1,"rounded-circle","me-3","comment-img",3,"src","alt"],[1,"flex-grow-1"],["class","fw-bold mb-0",4,"ngIf"],[4,"ngIf","ngIfElse"],["commentText",""],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],["tabindex","","role","button",1,"meta_icon_data","action-icon",3,"click","keyup"],[1,"icon-circle","d-flex","justify-content-center","align-items-center"],[1,"material-symbols-outlined","options"],["class","fw-bold",4,"ngIf"],["ngbDropdown","","class","d-inline-block",4,"ngIf"],[1,"fw-bold","mb-0"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","gap-2","mt-3"],[1,"btn","btn-primary","btn-sm","px-2","py-1",3,"click"],[1,"btn","btn-secondary","btn-sm","px-2","py-1",3,"click"],[1,"fw-bold"],["ngbDropdown","",1,"d-inline-block"],["myDrop","ngbDropdown"],["ngbDropdownToggle","","role","button",1,"more_vert","hide-dropdown-toggle"],[1,"material-symbols-outlined"],["ngbDropdownMenu","","aria-labelledby","dropdownAccess",1,"dropdown_access"],["type","button","ngbDropdownItem","",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.qZA(),t.TgZ(3,"span",2),t.NdJ("keyup",function(){return r._activeModal.dismiss("Cross click")})("click",function(){return r._activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4),t.YNc(6,mt,19,17,"div",5),t.qZA()()),2&n&&(t.xp6(2),t.hij("",null==r.allComments?null:r.allComments.length," Comments"),t.xp6(4),t.Q6J("ngForOf",r.allComments))},dependencies:[u.sg,u.O5,d.Fj,d.JJ,d.On,C.jt,C.iD,C.Vi,C.TH,u.uU],styles:['.modal-footer[_ngcontent-%COMP%]{flex-wrap:nowrap;box-shadow:#11111a1a 0 8px 24px,#11111a1a 0 16px 56px,#11111a1a 0 24px 80px}.btn-update[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(242,112,156),rgb(255,148,114));padding:7px 16px;border:none;margin-right:10px;color:#fff}.btn-cancel[_ngcontent-%COMP%]{background:linear-gradient(132deg,rgb(84,92,98) 0%,rgb(65,80,95) 100%);padding:7px 16px;border:none;color:#fff}.modal-body[_ngcontent-%COMP%]{padding:0!important;max-height:400px;overflow:scroll}.modal-header[_ngcontent-%COMP%]{box-shadow:#0000001a 0 19px 19px -5px,#0000000a 0 8px 8px -5px}.comment_block_item[_ngcontent-%COMP%]{margin-bottom:10px;background-color:#f0f2f5;border-radius:8px;padding:10px;display:flex}.comment_block_item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover}.profile_bio[_ngcontent-%COMP%]{padding-left:10px}.comment-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin:0}.meta_icon_data[_ngcontent-%COMP%]{display:inline-block;margin:0 10px}.meta_icon_data[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{position:relative;top:5px}.meta_icon_data[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:18px}.meta_icon_data[_ngcontent-%COMP%]:hover   .material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.comment-text[_ngcontent-%COMP%]{font-size:14px;margin:5px 0}small[_ngcontent-%COMP%]{color:#777;font-size:12px}.comment_block_item.row[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}.comment_block_item[_ngcontent-%COMP%]:hover{background-color:#e0e3e8}.more_vert[_ngcontent-%COMP%]{cursor:pointer}.mb[_ngcontent-%COMP%]{margin-bottom:7px}.liked[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}hr[_ngcontent-%COMP%]{margin:.5rem 0px}.post-item-profile-name[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.2rem;margin-left:4px}.post[_ngcontent-%COMP%]{background-color:#fff;padding:15px;margin-top:15px;border-radius:10px}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;align-items:center}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:16px}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2196f3;text-decoration:none}.post[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:100%;border-radius:5px;margin-top:10px}.post[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;font-size:14px}.post[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.post[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:20px}.top-10px[_ngcontent-%COMP%]{top:10px}.profile-cover[_ngcontent-%COMP%]{height:240px;overflow:hidden;object-fit:cover;position:relative;border:1px solid #dfdfdf;box-shadow:0 1px 2px #dfdfdf;text-align:center;background:#fff}.share_actions[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:24px;top:-20px;z-index:99}.share_actions[_ngcontent-%COMP%]:after{display:none}.edit-cover[_ngcontent-%COMP%], .edit-profile-image[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin:0}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0!important;top:0!important;left:unset!important}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0;left:unset}.right[_ngcontent-%COMP%]{height:calc(100vh - 150px);overflow:auto}.profile_img_container[_ngcontent-%COMP%]{min-width:40px}.profile_img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover}.post-item-entry[_ngcontent-%COMP%]{word-break:break-all}.post-item-entry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.post-item-entry[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0rem}.attachment-link[_ngcontent-%COMP%]{align-items:center;position:relative;display:flex}.attachment-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-size:12px;transform:rotate(-45deg)}.attachment-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f}.action-btn[_ngcontent-%COMP%]{margin-top:40px}.pdf[_ngcontent-%COMP%]{font-size:12px}.card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;position:relative;max-width:600px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}h6[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.liked[_ngcontent-%COMP%]{color:#d55b1e}.liked[_ngcontent-%COMP%]   .liking[_ngcontent-%COMP%]{margin-left:5px;color:#fff}.liked[_ngcontent-%COMP%]   .like-container[_ngcontent-%COMP%]{align-items:center;background-color:#f44336;border-radius:50%;width:35px;height:35px;position:relative}.liked[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-left:13px}.post-stats[_ngcontent-%COMP%]{padding-top:20px;color:#999;position:relative}.post-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:5px;height:52px}.meta_icon_data[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.Comment[_ngcontent-%COMP%]{color:#000000b2}.like-container[_ngcontent-%COMP%], .comment-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#000}.count[_ngcontent-%COMP%], .reposts[_ngcontent-%COMP%], .shares[_ngcontent-%COMP%]{font-size:14px;color:#000000b2}.post-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;padding:16px;margin-top:20px;width:100%;box-shadow:0 2px 8px #0000000d}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%]{width:84px;height:84px;border-radius:4px;margin-right:12px;object-fit:cover}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#333}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#999}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .author-avatar[_ngcontent-%COMP%]{position:absolute;width:36px;height:36px;border-radius:50%;margin-right:8px;border:1px solid black;top:40px;left:60px}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:14px;color:#333}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;font-size:14px;text-decoration:none;display:block;margin-bottom:10px}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:100%;border-radius:8px;margin-top:10px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]{height:52px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:14px;color:#555}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:#999}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:18px;cursor:pointer;transition:color .3s}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{color:#007bff}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#777}.pdf-container-view[_ngcontent-%COMP%]{height:72vh;overflow:hidden;position:relative;border:1px solid #dddddd}.pdf-container-view[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:400%;transform:translateY(0)}.information[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.post-info[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;margin-bottom:12px}.material-symbols-outlined[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]{color:#fff}.actions-column[_ngcontent-%COMP%]{gap:1rem}.icon-circle[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;background-color:#f5f5f5;display:flex;justify-content:center;align-items:center;font-size:14px}.options[_ngcontent-%COMP%]{font-size:14px;margin-bottom:5px}.action-icon[_ngcontent-%COMP%]   span.options[_ngcontent-%COMP%]{font-size:24px;color:#444}.action-icon[_ngcontent-%COMP%]   span.download[_ngcontent-%COMP%]{font-size:24px;color:#fff}.download-icon[_ngcontent-%COMP%]{border-radius:5% 50% 50%;background-color:#3a3a3a;margin-top:10px}.download-icon[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{color:#fff}.download-icon[_ngcontent-%COMP%]:hover{background-color:#000;transition:background-color .3s ease}.action-icon[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{font-size:20px}.actions-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.liked[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#ff6f6f}.liked[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{color:#fff}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background-color:#fff;border-radius:20px;border:1px solid #ddd;padding:0 10px;position:relative}.form-control[_ngcontent-%COMP%]{width:100%}.comment-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;margin-right:5px;cursor:pointer}.send-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.image-container[_ngcontent-%COMP%]{width:100%;height:auto}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.comment-box[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f9f9f9;padding:10px}.profile-image[_ngcontent-%COMP%]{object-fit:cover;width:50px;height:50px;border-radius:50%;margin-right:10px}.comment-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid rgb(63,77,91);border-radius:4px;padding:10px}.profile-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}.textarea-wrapper[_ngcontent-%COMP%]{position:relative;flex-grow:1}.comment-textarea[_ngcontent-%COMP%]{width:100%;padding:10px 60px 10px 14px;border-radius:4px;outline:none;resize:none;border:1px solid #dddddd;font-size:14px}.icons-container[_ngcontent-%COMP%]{position:absolute;left:10px;top:72%;transform:translateY(-50%);display:flex;gap:10px;z-index:1}.icon-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;z-index:2}.icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.send-button[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:15px;right:15px;padding:5px;border-radius:50%;display:flex;align-items:center;justify-content:center;outline:none;border:none}.send-button[_ngcontent-%COMP%]:hover{background-color:#ff6f6f;color:#fff!important}.comment-input-container[_ngcontent-%COMP%]:focus-within{border-color:#888}.more-vert[_ngcontent-%COMP%]{padding:5px 9px 2px 8px;gap:4px;border-radius:4px;border:1px solid #dddddd;font-size:18px;color:#000;background:#f9f9f9}.attachment-container[_ngcontent-%COMP%]{position:relative}.attachment-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px}.download-btn[_ngcontent-%COMP%]{display:none;position:absolute;top:10px;right:10px}.attachment-container[_ngcontent-%COMP%]:hover   .download-btn[_ngcontent-%COMP%]{display:block}.disabled[_ngcontent-%COMP%]{pointer-events:none}.all-feed[_ngcontent-%COMP%]{padding:28px}.see-all[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer;font-weight:700;margin:10px 0;text-decoration:underline}.see-all[_ngcontent-%COMP%]:hover{text-decoration:none}.comment-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover}']}),i})();var D=x(9380);function ht(i,s){1&i&&(t.TgZ(0,"div",5),t._uU(1," Looking for data... "),t.qZA())}function xt(i,s){if(1&i&&t._UZ(0,"img",34),2&i){const o=t.oxw(3).$implicit;t.Q6J("src",null==o||null==o.owner?null:o.owner.profile_img,t.LSH)}}function Ct(i,s){1&i&&t._UZ(0,"img",34),2&i&&t.Q6J("src","./assets/man.png",t.LSH)}function bt(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"a",31),t.YNc(2,xt,1,1,"img",32),t.YNc(3,Ct,1,1,"ng-template",null,33,t.W1O),t.qZA(),t.BQk()),2&i){const o=t.MAs(4),e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("routerLink",null!=e&&null!=e.owner&&e.owner.conceptId?"/bm/"+(null==e||null==e.owner?null:e.owner.conceptId):""),t.xp6(1),t.Q6J("ngIf",!(null==e||null==e.owner||!e.owner.profile_img))("ngIfElse",o)}}function Mt(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",28),t.YNc(2,bt,5,3,"ng-container",8),t.qZA(),t.TgZ(3,"div",29)(4,"div",30)(5,"h5")(6,"a",31),t._uU(7),t.qZA()()()(),t.BQk()),2&i){const o=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",o),t.xp6(4),t.Q6J("routerLink",null!=o&&null!=o.owner&&o.owner.conceptId?"/bm/"+(null==o||null==o.owner?null:o.owner.conceptId):""),t.xp6(1),t.hij(" ",(null==o||null==o.owner?null:o.owner.first_name)+" "+(null==o||null==o.owner?null:o.owner.last_name)," ")}}function Pt(i,s){if(1&i&&t._UZ(0,"img",42),2&i){const o=t.oxw(2).$implicit;t.Q6J("src",null==o?null:o.groupImage,t.LSH)}}function vt(i,s){1&i&&t._UZ(0,"img",42),2&i&&t.Q6J("src","./assets/groups_default.jpg",t.LSH)}function Ot(i,s){if(1&i&&t._UZ(0,"img",43),2&i){const o=t.oxw(2).$implicit;t.Q6J("src",null==o||null==o.owner?null:o.owner.profile_img,t.LSH)}}function wt(i,s){1&i&&t._UZ(0,"img",44),2&i&&t.Q6J("src","./assets/man.png",t.LSH)}function yt(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",35),t.YNc(2,Pt,1,1,"img",36),t.YNc(3,vt,1,1,"ng-template",null,33,t.W1O),t.YNc(5,Ot,1,1,"img",37),t.YNc(6,wt,1,1,"ng-template",null,38,t.W1O),t.TgZ(8,"div",39)(9,"h3")(10,"a",31),t._uU(11),t.qZA()(),t.TgZ(12,"small"),t._uU(13),t.ALo(14,"date"),t.qZA(),t.TgZ(15,"h6",40)(16,"span",41),t._uU(17),t.qZA()()()(),t.BQk()),2&i){const o=t.MAs(4),e=t.MAs(7),n=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",!(null==n||!n.groupImage))("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",!(null==n||null==n.owner||!n.owner.profile_img))("ngIfElse",e),t.xp6(5),t.Q6J("routerLink","/groups/gr/"+(null==n?null:n.groupId)),t.xp6(1),t.Oqu(null==n?null:n.groupName),t.xp6(2),t.hij("Shared on: ",t.xi3(14,10,null==n?null:n.createdAt,"mediumDate"),""),t.xp6(3),t.Q6J("routerLink","/bm/"+(null==n||null==n.owner?null:n.owner.conceptId)),t.xp6(1),t.AsE(" ",null==n||null==n.owner?null:n.owner.first_name," ",null==n||null==n.owner?null:n.owner.last_name," ")}}function kt(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",45,46)(3,"a",47)(4,"span",48),t._uU(5,"more_horiz"),t.qZA()(),t.TgZ(6,"div",49)(7,"button",50),t.NdJ("click",function(n){t.CHM(o);const r=t.MAs(2),a=t.oxw().$implicit,c=t.oxw(3);return n.stopPropagation(),r.close(),t.KtG(c.editPost(a))}),t._uU(8," Edit "),t.qZA(),t.TgZ(9,"button",50),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.deleteGroupPost(n))}),t._uU(10," Delete "),t.qZA()()(),t.BQk()}}function Zt(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",51)(2,"span",52),t._uU(3,"link"),t.qZA(),t.TgZ(4,"a",53),t._uU(5),t.qZA()(),t.BQk()),2&i){const o=t.oxw().$implicit;t.xp6(4),t.Q6J("href",null==o?null:o.filepath,t.LSH),t.xp6(1),t.Oqu(null==o?null:o.filepath)}}function It(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",58),t.BQk()),2&i){const o=t.oxw(2).$implicit;t.xp6(1),t.s9C("src",null==o?null:o.filepath,t.LSH)}}function Tt(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",59),t._UZ(2,"pdf-viewer",60),t.qZA(),t.BQk()),2&i){const o=t.oxw(2).$implicit;t.xp6(2),t.Q6J("src",null==o?null:o.filepath)("page",1)("zoom",1)("render-text",!0)("show-all",!1)}}function Gt(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",61)(2,"a",53)(3,"span",62),t._uU(4,"file_present"),t.qZA(),t._uU(5),t.qZA()(),t.BQk()),2&i){const o=t.oxw(2).$implicit;t.xp6(2),t.s9C("href",null==o?null:o.filepath,t.LSH),t.xp6(3),t.hij(" ",null==o?null:o.filename," ")}}function At(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",54),t.YNc(2,It,2,1,"ng-container",8),t.YNc(3,Tt,3,5,"ng-container",8),t.YNc(4,Gt,6,2,"ng-container",8),t.TgZ(5,"a",55),t.NdJ("keyup",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadFile(null==n?null:n.filepath,null==n?null:n.filename))})("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.downloadFile(null==n?null:n.filepath,null==n?null:n.filename))}),t.TgZ(6,"div",56)(7,"span",57),t._uU(8,"file_download"),t.qZA()()()(),t.BQk()}if(2&i){const o=t.oxw().$implicit,e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",e.isImage(null==o?null:o.filepath)),t.xp6(1),t.Q6J("ngIf",e.isPdf(null==o?null:o.filepath)),t.xp6(1),t.Q6J("ngIf",!e.isImage(null==o?null:o.filepath)&&!e.isPdf(null==o?null:o.filepath))}}function qt(i,s){if(1&i&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(null==o?null:o.likeCount)}}function Jt(i,s){if(1&i&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(null==o?null:o.commentCount)}}function Ut(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div")(1,"input",69),t.NdJ("ngModelChange",function(n){t.CHM(o);const r=t.oxw().$implicit,a=t.oxw(4);return t.KtG(a.updatedCommentText[r.id]=n)}),t.qZA(),t.TgZ(2,"div",70)(3,"button",71),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(4);return t.KtG(r.saveUpdatedComment(n))}),t._uU(4," Save "),t.qZA(),t.TgZ(5,"button",72),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(5);return t.KtG(n.currentEditingCommentId=null)}),t._uU(6," Cancel "),t.qZA()()()}if(2&i){const o=t.oxw().$implicit,e=t.oxw(4);t.xp6(1),t.Q6J("ngModel",e.updatedCommentText[o.id])}}function St(i,s){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(null==o?null:o.text)}}function Nt(i,s){if(1&i&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(null==o?null:o.likeCount)}}function Lt(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",45,46)(2,"a",73)(3,"span",62),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"div",74)(6,"button",75),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(4);return t.KtG(r.editComment(n))}),t.TgZ(7,"span",62),t._uU(8,"edit"),t.qZA(),t._uU(9," Edit "),t.qZA(),t.TgZ(10,"button",75),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.deleteComment(r,n))}),t.TgZ(11,"span",62),t._uU(12,"delete"),t.qZA(),t._uU(13," Delete "),t.qZA()()()}}function Qt(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",63),t._UZ(1,"img",64),t.TgZ(2,"div",29)(3,"h6",65),t._uU(4),t.qZA(),t.TgZ(5,"small"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.YNc(8,Ut,7,1,"div",6),t.YNc(9,St,2,1,"ng-template",null,66,t.W1O),t.TgZ(11,"div",67)(12,"div",18)(13,"a",19),t.NdJ("click",function(){const r=t.CHM(o).$implicit,a=t.oxw(4);return t.KtG(a.likeComment(r))})("keyup",function(){const r=t.CHM(o).$implicit,a=t.oxw(4);return t.KtG(a.likeComment(r))}),t.TgZ(14,"div",20)(15,"span",21),t._uU(16,"favorite"),t.qZA()()(),t.YNc(17,Nt,2,1,"span",22),t.qZA()()(),t.YNc(18,Lt,14,0,"div",68),t.qZA()}if(2&i){const o=s.$implicit,e=t.MAs(10),n=t.oxw(4);t.xp6(1),t.s9C("src",null==o||null==o.owner?null:o.owner.profile_img,t.LSH),t.MGl("alt","",null==o||null==o.owner?null:o.owner.first_name,"'s profile"),t.xp6(3),t.AsE(" ",(null==o||null==o.owner?null:o.owner.name)||(null==o||null==o.owner?null:o.owner.first_name)," ",(null==o||null==o.owner?null:o.owner.last_name)||""," "),t.xp6(2),t.Oqu(t.xi3(7,14,null==o?null:o.createdAt,"MMM d, h:mm a")),t.xp6(2),t.Q6J("ngIf",n.currentEditingCommentId===o.id)("ngIfElse",e),t.xp6(5),t.ekj("liked",!0===(null==o?null:o.isLiked)||"true"===(null==o?null:o.isLiked))("disabled",n.isLiking),t.uIk("aria-disabled",n.isLiking?"true":"false"),t.xp6(4),t.Q6J("ngIf",(null==o?null:o.likeCount)>0),t.xp6(1),t.Q6J("ngIf",(null==o||null==o.owner?null:o.owner.id)===n.entityId)}}function Yt(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"span",76),t.NdJ("keyup",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showAllComments(n))})("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.showAllComments(n))}),t._uU(1," See All Comments "),t.qZA()}}const Ft=function(i){return{disabled:i}};function zt(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",77)(2,"form",78,79),t.NdJ("ngSubmit",function(){t.CHM(o);const n=t.MAs(3),r=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.addComment(r,n))}),t.TgZ(4,"span"),t._uU(5,"Leave a comment"),t.qZA(),t.TgZ(6,"div",80),t._UZ(7,"textarea",81),t.TgZ(8,"button",82)(9,"span",62),t._uU(10,"send"),t.qZA()()()()(),t.BQk()}if(2&i){const o=t.MAs(3),e=t.oxw(4);t.xp6(2),t.Q6J("formGroup",e.createComment),t.xp6(5),t.Q6J("placeholder",e.commentPlaceholder),t.xp6(1),t.Q6J("ngClass",t.VKq(4,Ft,!o.valid||e.isAdding))("disabled",!o.valid||e.isAdding)}}const Dt=function(i){return{"action-btn":i}};function Et(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",11)(1,"div",12),t.YNc(2,Mt,8,3,"ng-container",8),t.YNc(3,yt,18,13,"ng-container",8),t.YNc(4,kt,11,0,"ng-container",8),t.qZA(),t._UZ(5,"hr"),t.TgZ(6,"div",13)(7,"div",14)(8,"div",15)(9,"div",16)(10,"p"),t._uU(11),t.qZA(),t.YNc(12,Zt,6,2,"ng-container",8),t.qZA(),t.YNc(13,At,9,3,"ng-container",8),t.TgZ(14,"div",17)(15,"div",18)(16,"a",19),t.NdJ("click",function(){const r=t.CHM(o).$implicit,a=t.oxw(3);return t.KtG(a.likePost(r,null==r?null:r.isLiked))})("keyup",function(){const r=t.CHM(o).$implicit,a=t.oxw(3);return t.KtG(a.likePost(r,null==r?null:r.isLiked))}),t.TgZ(17,"div",20)(18,"span",21),t._uU(19,"favorite"),t.qZA()()(),t.YNc(20,qt,2,1,"span",22),t.qZA(),t.TgZ(21,"div",18)(22,"a",23),t.NdJ("click",function(){const r=t.CHM(o).$implicit,a=t.oxw(3);return t.KtG(a.showComment(r))})("keyup",function(){const r=t.CHM(o).$implicit,a=t.oxw(3);return t.KtG(a.showComment(r))}),t.TgZ(23,"div",20)(24,"span",21),t._uU(25,"comment"),t.qZA()()(),t.YNc(26,Jt,2,1,"span",22),t.qZA()(),t._UZ(27,"hr"),t.TgZ(28,"div")(29,"span",24),t._uU(30),t.qZA(),t.TgZ(31,"div",25),t.YNc(32,Qt,19,17,"div",26),t.YNc(33,Yt,2,0,"span",27),t.qZA()(),t.YNc(34,zt,11,6,"ng-container",8),t.qZA()()()()}if(2&i){const o=s.$implicit,e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",!(null!=o&&o.groupId)),t.xp6(1),t.Q6J("ngIf",null==o?null:o.groupId),t.xp6(1),t.Q6J("ngIf","true"===(null==o?null:o.isOwner)||!0===(null==o?null:o.isOwner)),t.xp6(7),t.Oqu(null==o||null==o.title?null:o.title.title),t.xp6(1),t.Q6J("ngIf",null==o?null:o.filepath),t.xp6(1),t.Q6J("ngIf",null==o?null:o.filepath),t.xp6(1),t.Q6J("ngClass",t.VKq(18,Dt,null==o?null:o.filepath)),t.xp6(2),t.ekj("liked",!0===(null==o?null:o.isLiked)||"true"===(null==o?null:o.isLiked))("disabled",e.isLiking),t.uIk("aria-disabled",e.isLiking?"true":"false"),t.xp6(4),t.Q6J("ngIf",(null==o?null:o.likeCount)>0),t.xp6(6),t.Q6J("ngIf",(null==o?null:o.commentCount)>0),t.xp6(4),t.hij(" ",(null==o?null:o.commentCount)>0?null==o?null:o.commentCount:"No"," Comments "),t.xp6(2),t.Q6J("ngForOf",null==o||null==o.comments?null:o.comments.slice(0,2)),t.xp6(1),t.Q6J("ngIf",(null==o?null:o.commentCount)>2),t.xp6(1),t.Q6J("ngIf",e.showAddComment===o.postId)}}function jt(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",9),t.YNc(2,Et,35,20,"div",10),t.qZA(),t.BQk()),2&i){const o=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",o.groupsFeeds)}}function Ht(i,s){1&i&&(t.ynx(0),t.TgZ(1,"span",83),t._UZ(2,"i",84),t._uU(3," No feeds available. Start by creating a post. "),t.qZA(),t.BQk())}function Bt(i,s){if(1&i&&t.YNc(0,Ht,4,0,"ng-container",8),2&i){const o=t.oxw(2);t.Q6J("ngIf",o.isMember)}}function Vt(i,s){1&i&&(t.ynx(0),t.TgZ(1,"span",83),t._UZ(2,"i",85),t._uU(3," Content is visible after joining only!. "),t.qZA(),t.BQk())}function Kt(i,s){if(1&i&&(t.YNc(0,jt,3,1,"ng-container",6),t.YNc(1,Bt,1,1,"ng-template",null,7,t.W1O),t.YNc(3,Vt,4,0,"ng-container",8)),2&i){const o=t.MAs(2),e=t.oxw();t.Q6J("ngIf",e.groupsFeeds&&e.groupsFeeds.length>0&&e.isMember)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",!e.isMember&&e.isInsideGroups)}}const $t=function(i){return{"col-md-3":i}};let E=(()=>{const s=class{constructor(e,n,r,a,c,l,g){this._postService=e,this._snackbarService=n,this._modalService=r,this._fb=a,this._activeRoute=c,this._auth=l,this._profileServiceV2=g,this.loader=!1,this.showAddComment=!1,this.isLiking=!1,this.isInsideGroups=!1,this.isEditing={},this.updatedCommentText={},this.currentEditingCommentId=null,this.isAdding=!1,this.createComment=this._fb.group({comment:new d.NI("",[d.kI.required])}),this._activeRoute.params.subscribe(f=>{this.isInsideGroups=!!f.groupId});const h=this._auth.loadFromLocalStorage();this.entityId=Number(h.entityId)}ngAfterViewInit(){this.commentPlaceholder=`Comment as ${this.profileName}...`}deleteGroupPost(e){var n=this;return(0,p.Z)(function*(){window.confirm("Are you sure you want to delete this post?")&&(n.loader=!0,(yield n._postService.deletePost(n.groupId,e?.postId))&&(n._snackbarService.openSnackBar("post deleted!","success"),n.loader=!1,n.groupsFeeds=n.groupsFeeds.filter(c=>c.postId!==e.postId)))})()}isImage(e){if(!e)return!1;const r=e.split(".").pop()?.toLowerCase();return!!r&&["jpg","jpeg","png","gif"].includes(r)}isPdf(e){return/\.pdf$/i.test(e)}likePost(e,n){var r=this;return(0,p.Z)(function*(){if(r.getBooleanValue(n),r.toggleLike(e),!r.isLiking){r.isLiking=!0;try{const a=yield r._postService.likePost(e.postId);e.isLiked=r.getBooleanValue(a.isLiked)}finally{r.isLiking=!1}}})()}getBooleanValue(e){return!0===e||"true"===e||1===e}toggleLike(e){e.isLiked=!this.getBooleanValue(e.isLiked),e.likeCount+=e.isLiked?1:-1}showComment(e){this.showAddComment=this.showAddComment===e.postId?null:e.postId}addComment(e,n){var r=this;return(0,p.Z)(function*(){if(!r.isAdding){r.isAdding=!0;try{const a=r.createComment.value.comment,c={text:a},l=yield r._postService.addComment(e.postId,c);if(l.success){const g={text:a,owner:{name:r.profileName,profile_img:r.profileImgSrc,id:r.entityId},createdAt:new Date,textId:l.textId,id:l.id,commentCount:e.commentCount+1,likeCount:0};yield r.getUserProfile(),e.commentCount+=1,e.comments=e.comments||[],e.comments.unshift(g),n.resetForm()}}catch(a){console.error("Error adding comment:",a)}finally{r.isAdding=!1}}})()}downloadFile(e,n){const r=e.split(".").pop()||"";"pdf"===r?n="ultimate.pdf":["png","jpg","jpeg"].includes(r)&&(n=`image.${r}`),fetch(e).then(a=>a.blob()).then(a=>{const c=window.URL.createObjectURL(a),l=document.createElement("a");l.href=c,l.download=n,l.click(),window.URL.revokeObjectURL(c)}).catch(a=>{console.error("Error downloading file:",a)})}editPost(e){const n=this._modalService.open(ct,{size:"lg"});n.componentInstance.item=e,n.componentInstance.updateItem.subscribe(r=>{const a=this.groupsFeeds.findIndex(c=>c.postId==e.postId);-1!==a&&(this.groupsFeeds[a].title.title=r?.[0]?.value,this._snackbarService.openSnackBar("Post updated!","success"))})}showAllComments(e){const n=this._modalService.open(ft,{size:"lg"});n.componentInstance.comments=e.comments,n.componentInstance.entityId=this.entityId,n.componentInstance.postId=e?.postId,n.componentInstance.commentDeleted.subscribe(r=>{e.comments=e.comments.filter(a=>a.id!==r.id),e.commentCount=e.commentCount-1})}getUserProfile(){var e=this;return(0,p.Z)(function*(){const n=e._auth.loadFromLocalStorage(),r=yield e._profileServiceV2.fetchUserDetails(n?.entityId);e.userDetails=r})()}likeComment(e){var n=this;return(0,p.Z)(function*(){e.isLiked=!e.isLiked,e.likeCount+=e.isLiked?1:-1;const r=yield n._postService.likeComment(e?.id);r&&n._snackbarService.openSnackBar(r?.message,"success")})()}editComment(e){var n=this;return(0,p.Z)(function*(){n.currentEditingCommentId&&n.currentEditingCommentId!==e.id&&(n.currentEditingCommentId=null),n.currentEditingCommentId=e.id,n.updatedCommentText[e.id]=e.text})()}saveUpdatedComment(e){var n=this;return(0,p.Z)(function*(){const r=[{type:"text",id:e.textId,value:n.updatedCommentText[e.id]||e.text}];yield n._postService.updateComment(e.id,r),n.currentEditingCommentId=null,e.text=r[0]?.value})()}deleteComment(e,n){var r=this;return(0,p.Z)(function*(){window.confirm("Are you sure you want to delete this comment?")&&(yield r._postService.deleteComment(e.postId,n.id))&&(e.comments=e.comments.filter(l=>l.id!==n.id),e.commentCount=e.commentCount-1,r._snackbarService.openSnackBar("Comment deleted!","success"))})()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(L),t.Y36(Z.o),t.Y36(C.FF),t.Y36(d.qu),t.Y36(v.gz),t.Y36(O.e),t.Y36(N.S))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-post-card"]],inputs:{groupsFeeds:"groupsFeeds",groupId:"groupId",profileImgSrc:"profileImgSrc",profileName:"profileName",isMember:"isMember",isLoading:"isLoading"},decls:6,vars:6,consts:[[1,"container","d-flex"],[1,"feed-section",3,"ngClass"],["class","d-flex align-items-center mx-auto mt-3 no-data-message",4,"ngIf","ngIfElse"],["dataTemplate",""],[1,"sidebar-section",3,"ngClass"],[1,"d-flex","align-items-center","mx-auto","mt-3","no-data-message"],[4,"ngIf","ngIfElse"],["noData",""],[4,"ngIf"],[1,"feed-cards","row"],["class","post-card col-12",4,"ngFor","ngForOf"],[1,"post-card","col-12"],[1,"post-header"],[1,"post-info","container"],[1,"row"],[1,"col-md-12"],[1,"post-item-entry"],[1,"d-flex","align-items-center","gap-5",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-center","gap-2"],["tabindex","0","role","button",1,"meta_icon_data","action-icon",3,"click","keyup"],[1,"icon-circle","d-flex","justify-content-center","align-items-center"],[1,"material-symbols-outlined","options"],["class","fw-bold",4,"ngIf"],["tabindex","0","role","button",1,"meta_icon_data","action-icon",3,"tabIndex","click","keyup"],[1,"fw-bold"],[1,"list-group","my-3"],["class","list-group-item d-flex align-items-start",4,"ngFor","ngForOf"],["class","see-all","tabindex","0","role","button",3,"keyup","click",4,"ngIf"],[1,"profile_img_container"],[1,"flex-grow-1"],[1,"post-item-profile-name"],[3,"routerLink"],["alt","","class","rounded-circle",3,"src",4,"ngIf","ngIfElse"],["noProfileImage",""],["alt","",1,"rounded-circle",3,"src"],[1,"group-info"],["alt","","class","group-icon",3,"src",4,"ngIf","ngIfElse"],["alt","Author Avatar","class","author-avatar",3,"src",4,"ngIf","ngIfElse"],["noUserProfile",""],[1,"group-details"],[1,"mx-2"],[1,"cursor-pointer","fw-bold",3,"routerLink"],["alt","",1,"group-icon",3,"src"],["alt","Author Avatar",1,"author-avatar",3,"src"],["alt","",1,"author-avatar",3,"src"],["ngbDropdown","",1,"d-inline-block"],["myDrop","ngbDropdown"],["ngbDropdownToggle","","role","button",1,"share_actions"],[1,"material-symbols-outlined","more-vert"],["ngbDropdownMenu","",1,"dropdown_access"],["ngbDropdownItem","",3,"click"],[1,"attachment-link"],[1,"material-symbols-outlined","link"],["target","_blank",3,"href"],[1,"post-item-entry","attachment-container"],["tabindex","","download","","role","button",1,"meta_icon_data","action-icon","download-btn",3,"keyup","click"],[1,"icon-circle","download-icon","d-flex","justify-content-center","align-items-center"],[1,"material-symbols-outlined","download"],["alt","Image",3,"src"],[1,"pdf-container-view"],[2,"display","block",3,"src","page","zoom","render-text","show-all"],[1,"document"],[1,"material-symbols-outlined"],[1,"list-group-item","d-flex","align-items-start"],[1,"rounded-circle","me-3","comment-img",3,"src","alt"],[1,"fw-bold","mb-0"],["commentText",""],[1,"d-flex","align-items-center","justify-content-between"],["ngbDropdown","","class","d-inline-block",4,"ngIf"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","gap-2","mt-3"],[1,"btn","btn-primary","btn-sm","px-2","py-1",3,"click"],[1,"btn","btn-secondary","btn-sm","px-2","py-1",3,"click"],["ngbDropdownToggle","","role","button",1,"more_vert","hide-dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","dropdownAccess",1,"dropdown_access"],["type","button","ngbDropdownItem","",3,"click"],["tabindex","0","role","button",1,"see-all",3,"keyup","click"],[1,"comment-input-container"],[3,"formGroup","ngSubmit"],["createFormID","ngForm"],[1,"textarea-wrapper"],["rows","2","formControlName","comment",1,"comment-textarea",3,"placeholder"],["type","submit",1,"send-button",3,"ngClass","disabled"],[1,"no-data-message","d-flex","align-items-center","justify-content-center","mx-auto","mt-3"],[1,"bi","bi-info-circle","me-2"],[1,"bi","bi-shield-lock","me-2"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ht,2,0,"div",2),t.YNc(3,Kt,4,3,"ng-template",null,3,t.W1O),t.qZA(),t._UZ(5,"div",4),t.qZA()),2&n){const a=t.MAs(4);t.xp6(1),t.Q6J("ngClass",r.isInsideGroups?"col-md-9":"col-md-10"),t.xp6(1),t.Q6J("ngIf",r.isLoading)("ngIfElse",a),t.xp6(3),t.Q6J("ngClass",t.VKq(4,$t,r.isInsideGroups))}},dependencies:[u.mk,u.sg,u.O5,v.rH,d._Y,d.Fj,d.JJ,d.JL,d.On,d.sg,d.u,D.rQ,C.jt,C.iD,C.Vi,C.TH,u.uU],styles:["hr[_ngcontent-%COMP%]{margin:.5rem 0px}.post-item-profile-name[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.2rem;margin-left:4px}.post[_ngcontent-%COMP%]{background-color:#fff;padding:15px;margin-top:15px;border-radius:10px}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;align-items:center}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:16px}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2196f3;text-decoration:none}.post[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:100%;border-radius:5px;margin-top:10px}.post[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;font-size:14px}.post[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.post[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:20px}.top-10px[_ngcontent-%COMP%]{top:10px}.profile-cover[_ngcontent-%COMP%]{height:240px;overflow:hidden;object-fit:cover;position:relative;border:1px solid #dfdfdf;box-shadow:0 1px 2px #dfdfdf;text-align:center;background:#fff}.share_actions[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:24px;top:-20px;z-index:99}.share_actions[_ngcontent-%COMP%]:after{display:none}.edit-cover[_ngcontent-%COMP%], .edit-profile-image[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin:0}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0!important;top:0!important;left:unset!important}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0;left:unset}.right[_ngcontent-%COMP%]{height:calc(100vh - 150px);overflow:auto}.profile_img_container[_ngcontent-%COMP%]{min-width:40px}.profile_img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover}.post-item-entry[_ngcontent-%COMP%]{word-break:break-all}.post-item-entry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.post-item-entry[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0rem}.attachment-link[_ngcontent-%COMP%]{align-items:center;position:relative;display:flex}.attachment-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-size:12px;transform:rotate(-45deg)}.attachment-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f}.action-btn[_ngcontent-%COMP%]{margin-top:40px}.pdf[_ngcontent-%COMP%]{font-size:12px}.card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;position:relative;max-width:600px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}h6[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.liked[_ngcontent-%COMP%]{color:#d55b1e}.liked[_ngcontent-%COMP%]   .liking[_ngcontent-%COMP%]{margin-left:5px;color:#fff}.liked[_ngcontent-%COMP%]   .like-container[_ngcontent-%COMP%]{align-items:center;background-color:#f44336;border-radius:50%;width:35px;height:35px;position:relative}.liked[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-left:13px}.post-stats[_ngcontent-%COMP%]{padding-top:20px;color:#999;position:relative}.post-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:5px;height:52px}.meta_icon_data[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.Comment[_ngcontent-%COMP%]{color:#000000b2}.like-container[_ngcontent-%COMP%], .comment-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#000}.count[_ngcontent-%COMP%], .reposts[_ngcontent-%COMP%], .shares[_ngcontent-%COMP%]{font-size:14px;color:#000000b2}.post-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;padding:16px;margin-top:20px;width:100%;box-shadow:0 2px 8px #0000000d}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;gap:12px}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%]{width:84px;height:84px;border-radius:4px;margin-right:12px;object-fit:cover}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#333}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#999}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .author-avatar[_ngcontent-%COMP%]{position:absolute;width:36px;height:36px;border-radius:50%;margin-right:8px;border:1px solid black;top:40px;left:60px}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:14px;color:#333}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;font-size:14px;text-decoration:none;display:block;margin-bottom:10px}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:100%;border-radius:8px;margin-top:10px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]{height:52px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:14px;color:#555}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:#999}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:18px;cursor:pointer;transition:color .3s}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{color:#007bff}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#777}.pdf-container-view[_ngcontent-%COMP%]{height:72vh;overflow:hidden;position:relative;border:1px solid #dddddd}.pdf-container-view[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:400%;transform:translateY(0)}.information[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.post-info[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;margin-bottom:12px}.material-symbols-outlined[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]{color:#fff}.actions-column[_ngcontent-%COMP%]{gap:1rem}.icon-circle[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;background-color:#f5f5f5;display:flex;justify-content:center;align-items:center;font-size:14px}.options[_ngcontent-%COMP%]{font-size:14px}.action-icon[_ngcontent-%COMP%]   span.options[_ngcontent-%COMP%]{font-size:24px;color:#444}.action-icon[_ngcontent-%COMP%]   span.download[_ngcontent-%COMP%]{font-size:24px;color:#fff}.download-icon[_ngcontent-%COMP%]{border-radius:5% 50% 50%;background-color:#3a3a3a;margin-top:10px}.download-icon[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{color:#fff}.download-icon[_ngcontent-%COMP%]:hover{background-color:#000;transition:background-color .3s ease}.action-icon[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{font-size:20px}.actions-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.liked[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#ff6f6f}.liked[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{color:#fff}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background-color:#fff;border-radius:20px;border:1px solid #ddd;padding:0 10px;position:relative}.form-control[_ngcontent-%COMP%]{width:100%}.comment-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;margin-right:5px;cursor:pointer}.send-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.image-container[_ngcontent-%COMP%]{width:100%;height:auto}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.comment-box[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f9f9f9;padding:10px}.profile-image[_ngcontent-%COMP%]{object-fit:cover;width:50px;height:50px;border-radius:50%;margin-right:10px}.comment-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid rgb(63,77,91);border-radius:4px;padding:10px}.profile-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}.textarea-wrapper[_ngcontent-%COMP%]{position:relative;flex-grow:1}.comment-textarea[_ngcontent-%COMP%]{width:100%;padding:10px 60px 10px 14px;border-radius:4px;outline:none;resize:none;border:1px solid #dddddd;font-size:14px}.icons-container[_ngcontent-%COMP%]{position:absolute;left:10px;top:72%;transform:translateY(-50%);display:flex;gap:10px;z-index:1}.icon-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;z-index:2}.icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.send-button[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:15px;right:15px;padding:5px;border-radius:50%;display:flex;align-items:center;justify-content:center;outline:none;border:none}.send-button[_ngcontent-%COMP%]:hover{background-color:#ff6f6f;color:#fff!important}.comment-input-container[_ngcontent-%COMP%]:focus-within{border-color:#888}.more-vert[_ngcontent-%COMP%]{padding:5px 9px 2px 8px;gap:4px;border-radius:4px;border:1px solid #dddddd;font-size:18px;color:#000;background:#f9f9f9}.attachment-container[_ngcontent-%COMP%]{position:relative}.attachment-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px}.download-btn[_ngcontent-%COMP%]{display:none;position:absolute;top:10px;right:10px}.attachment-container[_ngcontent-%COMP%]:hover   .download-btn[_ngcontent-%COMP%]{display:block}.disabled[_ngcontent-%COMP%]{pointer-events:none}.all-feed[_ngcontent-%COMP%]{padding:28px}.see-all[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;cursor:pointer;font-weight:700;margin:10px 0;text-decoration:underline}.see-all[_ngcontent-%COMP%]:hover{text-decoration:none}.no-data-message[_ngcontent-%COMP%]{color:#6c757d;font-size:1.2rem;font-weight:500;background-color:#f8f9fa;border:1px dashed #ced4da;padding:10px 20px;border-radius:8px;text-align:center;height:100px}.no-data-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:1.5rem}.comment-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover}"]}),i})();function Rt(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"app-post-card",2),t.BQk()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("profileImgSrc",o.profileImgSrc)("groupsFeeds",o.groupsFeeds)("isLoading",o.isApiRequesting)("profileName",o.profileName)("isMember",o.ismember)}}function Wt(i,s){if(1&i&&t._UZ(0,"app-post-card",3),2&i){const o=t.oxw();t.Q6J("isMember",o.ismember)("groupsFeeds",o.groupsFeeds)("isLoading",o.isApiRequesting)("profileImgSrc",o.profileImgSrc)("profileName",o.profileName?o.profileName:"")}}let j=(()=>{const s=class{constructor(e,n,r){this._auth=e,this._profileServicev2=n,this._groupServiceV2=r,this.isApiRequesting=!1,this.groupsFeeds=[],this.currentPage=1,this.inPage=20,this.hasMoreData=!0,this.ismember=!0;const a=this._auth.loadFromLocalStorage();this.entityId=a.entityId}ngOnInit(){this.loadGroupsFeed()}onWindowScroll(){const e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,n=document.body,r=document.documentElement,a=Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight);e+window.pageYOffset>=a&&this.loadMoreGroupsFeed()}loadGroupsFeed(){this.currentPage=1,this.groupsFeeds=[],this.hasMoreData=!0,this.getGroupsFeed(this.entityId,this.currentPage,this.inPage,!0)}getGroupsFeed(e,n,r){var a=this;return(0,p.Z)(function*(c,l,g,h=!1){h&&(a.isApiRequesting=!0);const f=yield a._groupServiceV2.listAllPostWithGroups(c,l,g);f&&(f.sort((b,M)=>new Date(M.created_at).getTime()-new Date(b.created_at).getTime()),f.length<g&&(a.hasMoreData=!1),a.groupsFeeds=[...a.groupsFeeds,...f]),yield a.getUserProfile(),a.isApiRequesting=!1}).apply(this,arguments)}loadMoreGroupsFeed(){!this.isApiRequesting&&this.hasMoreData&&(this.currentPage++,this.getGroupsFeed(this.entityId,this.currentPage,this.inPage))}getUserProfile(){var e=this;return(0,p.Z)(function*(){const n=e._auth.loadFromLocalStorage(),r=yield e._profileServicev2.fetchUserDetails(n?.entityId);e.profileName=r?.firstname+" "+r?.lastname,e.profileImgSrc=r?.avatar})()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(O.e),t.Y36(N.S),t.Y36(k.c))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-screen-groups-feed"]],hostBindings:function(n,r){1&n&&t.NdJ("scroll",function(){return r.onWindowScroll()},!1,t.Jf7)},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noName",""],[3,"profileImgSrc","groupsFeeds","isLoading","profileName","isMember"],[3,"isMember","groupsFeeds","isLoading","profileImgSrc","profileName"]],template:function(n,r){if(1&n&&(t.YNc(0,Rt,2,5,"ng-container",0),t.YNc(1,Wt,1,5,"ng-template",null,1,t.W1O)),2&n){const a=t.MAs(2);t.Q6J("ngIf",!r.isApiRequesting)("ngIfElse",a)}},dependencies:[u.O5,E],styles:[".footer-loader[_ngcontent-%COMP%]{text-align:center;margin:20px 0}.looking[_ngcontent-%COMP%]{text-align:center}.all-feed[_ngcontent-%COMP%]{max-height:calc(100vh - 250px);overflow:auto}.author-avatar[_ngcontent-%COMP%]{border-radius:50%;position:absolute;bottom:10px;border:1px solid black;width:32px;height:32px;top:44px;left:66px}.share_actions[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:14px;top:-37px;z-index:99}.share_actions[_ngcontent-%COMP%]:after{display:none}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0!important;top:0!important;left:unset!important}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0;left:unset}.right[_ngcontent-%COMP%]{height:calc(100vh - 150px);overflow:auto}.profile_img_container[_ngcontent-%COMP%]{min-width:40px}.profile_img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover}.post-item-entry[_ngcontent-%COMP%]{word-break:break-all}.post-item-entry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:900px;object-fit:cover}.post-item-entry[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0rem}.attachment-link[_ngcontent-%COMP%]{align-items:center;position:relative;display:flex}.attachment-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-size:12px;transform:rotate(-45deg)}.attachment-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f}.icon-attachment[_ngcontent-%COMP%]{transform:rotate(-45deg)}.action-btn[_ngcontent-%COMP%]{margin-top:40px}.pdf[_ngcontent-%COMP%]{font-size:12px}.card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;position:relative;max-width:600px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}h6[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.liked[_ngcontent-%COMP%]{color:#d55b1e}.liked[_ngcontent-%COMP%]   .liking[_ngcontent-%COMP%]{margin-left:5px;color:#fff}.liked[_ngcontent-%COMP%]   .like-container[_ngcontent-%COMP%]{align-items:center;background-color:#f44336;border-radius:50%;width:35px;height:35px;position:relative}.liked[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-left:13px}.post-stats[_ngcontent-%COMP%]{padding-top:20px;color:#999;position:relative}.post-stats[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;height:52px}.icon_data[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.textarea-back[_ngcontent-%COMP%]{background-color:#fff;display:flex;width:100%;padding-bottom:18px;border:1px solid #dddddd}.meta_icon_data[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;margin-right:80px}.Comment[_ngcontent-%COMP%]{color:#000000b2}.like-container[_ngcontent-%COMP%], .comment-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.count[_ngcontent-%COMP%]{font-size:14px;color:#000000b2}.reposts[_ngcontent-%COMP%], .shares[_ngcontent-%COMP%]{font-size:12px;color:#000000b2}.post-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;padding:16px;margin:20px auto;box-shadow:0 2px 8px #0000000d}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%]{width:84px;height:84px;border-radius:4px;margin-right:12px}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#333}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#999}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-author[_ngcontent-%COMP%]{display:flex;align-items:center}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-author[_ngcontent-%COMP%]   .author-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;margin-right:8px}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-author[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-author[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]   .author-role[_ngcontent-%COMP%]{font-size:12px;color:#fff;background:#007bff;border-radius:12px;padding:2px 8px;display:inline-block;margin-left:4px}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]   .more-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#777;cursor:pointer}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:14px;color:#333}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;font-size:14px;text-decoration:none;display:block;margin-bottom:10px}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:100%;border-radius:8px;margin-top:10px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]{height:52px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:14px;color:#555}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;color:#999}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:18px;cursor:pointer;transition:color .3s}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{color:#007bff}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#777}.pdf-container[_ngcontent-%COMP%]{height:72vh;overflow:hidden;position:relative;border:1px solid #dddddd}.pdf-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:400%;transform:translateY(0)}.information[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.post-info[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;margin-bottom:12px}.material-symbols-outlined[_ngcontent-%COMP%]   .download[_ngcontent-%COMP%]{color:#fff}.material-symbols-outlined[_ngcontent-%COMP%]{color:#000}.icon-circle[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;background-color:#f5f5f5;display:flex;justify-content:center;align-items:center;font-size:14px}.options-reply[_ngcontent-%COMP%]{color:#444;transform:rotate(45deg)}.action-icon[_ngcontent-%COMP%]   span.options[_ngcontent-%COMP%]{font-size:24px;color:#444}.action-icon[_ngcontent-%COMP%]   span.download[_ngcontent-%COMP%]{font-size:24px;color:#fff}.download-icon[_ngcontent-%COMP%]{border-radius:5% 50% 50%;background-color:#3a3a3a;margin-top:10px}.download-icon[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{color:#fff}.download-icon[_ngcontent-%COMP%]:hover{background-color:#000;transition:background-color .3s ease}.actions-column[_ngcontent-%COMP%]{gap:15px}.liked[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{background-color:#ff6f6f}.liked[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{color:#fff}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background-color:#fff;border-radius:20px;border:1px solid #ddd;padding:0 10px;position:relative}.form-control[_ngcontent-%COMP%]{width:100%}.comment-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;margin-right:5px;cursor:pointer}.send-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.image-container[_ngcontent-%COMP%]{width:100%;height:auto}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.comment-box[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f9f9f9;padding:10px}.profile-image[_ngcontent-%COMP%]{object-fit:cover;width:50px;height:50px;border-radius:50%;margin-right:10px}.comment-input[_ngcontent-%COMP%]{flex-grow:1}.attach-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:22px;border-radius:50%;padding:5px;background-color:#f0f0f0;color:#000;transform:rotate(45deg)}.comment-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ddd;border-radius:4px;padding:10px;background-color:#f9f9f9;position:relative}.profile-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}.textarea-wrapper[_ngcontent-%COMP%]{position:relative;flex-grow:1}.comment-textarea[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:4px;outline:none;resize:none;border:none;font-size:14px}.icons-container[_ngcontent-%COMP%]{position:absolute;left:10px;top:111%;transform:translateY(-50%);display:flex;gap:10px;z-index:1}.icon-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;z-index:2}.icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.send-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;margin-left:10px;z-index:2;margin-top:30px}.send-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.comment-input-container[_ngcontent-%COMP%]:focus-within{border-color:#888}a[_ngcontent-%COMP%]{font-size:12px}"]}),i})();var G=x(5982);function Xt(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",25),t.BQk()),2&i){const o=t.oxw(2).$implicit;t.xp6(1),t.Q6J("src",null==o?null:o.image,t.LSH)}}function tn(i,s){1&i&&t._UZ(0,"img",26)}const Q=function(i){return["/groups","gr",i]};function nn(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"a",27),t._uU(2,"Visit"),t.qZA(),t.BQk()),2&i){const o=t.oxw(2).$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,Q,null==o?null:o.id))}}function en(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"a",27),t._uU(2,"Visit"),t.qZA(),t.BQk()),2&i){const o=t.oxw(2).$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,Q,null==o?null:o.id))}}function on(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"a",28),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(3).$implicit,r=t.oxw(2);return t.KtG(r.joinGroup(n))})("keyup",function(){t.CHM(o);const n=t.oxw(3).$implicit,r=t.oxw(2);return t.KtG(r.joinGroup(n))}),t._uU(2," Join Now "),t.qZA(),t.BQk()}}function rn(i,s){if(1&i&&t.YNc(0,on,3,0,"ng-container",4),2&i){const o=t.oxw(2).$implicit;t.Q6J("ngIf","public"===(null==o?null:o.status.toLowerCase()))}}function sn(i,s){1&i&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2," lock"),t.qZA()())}function an(i,s){if(1&i&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"a",16),t.YNc(5,Xt,2,1,"ng-container",3),t.YNc(6,tn,1,0,"ng-template",null,17,t.W1O),t.qZA()(),t.TgZ(8,"div",18)(9,"div",19)(10,"h5",20)(11,"a",16),t._uU(12),t.qZA()()(),t.TgZ(13,"small",21),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"div",22),t.YNc(17,nn,3,3,"ng-container",3),t.YNc(18,en,3,3,"ng-container",4),t.YNc(19,rn,1,1,"ng-template",null,23,t.W1O),t.qZA()(),t.YNc(21,sn,3,0,"div",24),t.qZA()()()),2&i){const o=t.MAs(7),e=t.MAs(20),n=t.oxw().$implicit;t.xp6(4),t.Q6J("routerLink",t.VKq(13,Q,null==n?null:n.id)),t.xp6(1),t.Q6J("ngIf",null==n?null:n.image)("ngIfElse",o),t.xp6(6),t.Q6J("routerLink",t.VKq(15,Q,null==n?null:n.id)),t.xp6(1),t.hij(" ",null==n?null:n.name," "),t.xp6(2),t.Oqu(t.xi3(15,10,null==n?null:n.createdAt,"dd MMM yyyy")),t.xp6(3),t.Q6J("ngIf",null==n?null:n.isMember)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf","private"===(null==n?null:n.status.toLowerCase())),t.xp6(3),t.Q6J("ngIf","private"===(null==n?null:n.status.toLowerCase()))}}function cn(i,s){if(1&i&&(t.ynx(0),t.YNc(1,an,22,17,"div",11),t.BQk()),2&i){const o=s.$implicit;t.xp6(1),t.Q6J("ngIf","public"===(null==o||null==o.status?null:o.status.toLowerCase())||"private"===(null==o||null==o.status?null:o.status.toLowerCase()))}}function pn(i,s){1&i&&(t.TgZ(0,"span"),t._uU(1,"Load more..."),t.qZA())}function ln(i,s){1&i&&(t.TgZ(0,"div",31)(1,"span",32),t._uU(2,"Loading..."),t.qZA()())}function _n(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.YNc(1,cn,2,1,"ng-container",7),t.TgZ(2,"div",8)(3,"button",9),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.loadmore())}),t.YNc(4,pn,2,0,"span",4),t.YNc(5,ln,3,0,"div",10),t.qZA()(),t.BQk()}if(2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.allGroups),t.xp6(2),t.Q6J("disabled",o.isLoading||o.noMoreData),t.xp6(1),t.Q6J("ngIf",!o.isLoading),t.xp6(1),t.Q6J("ngIf",o.isLoading)}}function dn(i,s){1&i&&(t.ynx(0),t.TgZ(1,"div",33),t._uU(2," Looking for data... "),t.qZA(),t.BQk())}function gn(i,s){1&i&&(t.ynx(0),t.TgZ(1,"p",34),t._uU(2,"Haven't joined any groups"),t.qZA(),t.BQk())}function un(i,s){if(1&i&&t.YNc(0,gn,3,0,"ng-container",4),2&i){const o=t.oxw();t.Q6J("ngIf",!o.isApiLoading)}}let mn=(()=>{const s=class{constructor(e,n,r,a){this.router=e,this._snackbarService=n,this._groupsService=r,this._groupsServiceV2=a,this.allGroups=[],this.isApiLoading=!0,this.isLoading=!1,this.page=1;const c=localStorage.getItem("profile");c&&(this.userConceptId=JSON.parse(c).userConcept)}ngOnInit(){this.getAllGroups()}getAllGroups(){var e=this;return(0,p.Z)(function*(n=!0){e.isApiLoading=n;const r=yield e._groupsServiceV2.getAllDiscoverGroups(e.page);r?.length<10&&(e.noMoreData=!0),r?(e.isApiLoading=!1,e.isLoading=!1,e.allGroups=[...e.allGroups,...r]):(e.isApiLoading=!1,e.isLoading=!1,e._snackbarService.openSnackBar("Something went wrong, please try again later","error"))}).apply(this,arguments)}loadmore(){this.page++,this.isLoading=!0,this.getAllGroups(!1)}joinGroup(e){var n=this;return(0,p.Z)(function*(){n.isApiLoading=!0;const r=yield n._groupsService.joinGroup(e?.id);r&&(n._snackbarService.openSnackBar(r.message,"success"),n.isApiLoading=!1,n.router.navigate(["/groups/gr/"+e?.id]))})()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(v.F0),t.Y36(Z.o),t.Y36(G.J),t.Y36(k.c))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-screen-groups-discover"]],decls:8,vars:3,consts:[[1,"main-body-title","mb-3"],[1,"main_body_heading","fw-bold","ms-3"],[1,"row","scroller"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["class","col-12"],["notFound",""],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","btn-height"],[1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","spinner-border btn btn-sm btn-primary","role","status",4,"ngIf"],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],[1,"card","mb-4"],[1,"card-body","px-2","py-3","d-flex","flex-row","gap-2"],[1,"profile_img_container"],[3,"routerLink"],["defaultCover",""],[1,"flex-grow-1"],[1,"post-item-profile-name"],[1,"mb-0"],[1,"post-item-top-meta"],[1,"post-item-entry","d-flex","mt-2"],["joinGroupButton",""],["class","lock_icon",4,"ngIf"],["alt","Personal cover image",1,"img-fluid","group-img","rounded",3,"src"],["alt","","src","./assets/groups_default.jpg",1,"group-img","rounded"],[1,"view-groups",3,"routerLink"],["tabindex","",1,"view-groups",3,"click","keyup"],[1,"lock_icon"],[1,"material-symbols-outlined"],["role","status",1,"spinner-border","btn","btn-sm","btn-primary"],[1,"visually-hidden"],[1,"d-flex","align-items-center","mx-auto","mt-3","no-data-message"],[1,"my-5","text-center"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Discover Groups"),t.qZA()(),t.TgZ(3,"div",2),t.YNc(4,_n,6,4,"ng-container",3),t.YNc(5,dn,3,0,"ng-container",4),t.YNc(6,un,1,1,"ng-template",5,6,t.W1O),t.qZA()),2&n){const a=t.MAs(7);t.xp6(4),t.Q6J("ngIf",!r.isApiLoading&&(null==r.allGroups?null:r.allGroups.length)>0)("ngIfElse",a),t.xp6(1),t.Q6J("ngIf",r.isApiLoading)}},dependencies:[u.sg,u.O5,v.rH,u.uU],styles:[".group-img[_ngcontent-%COMP%]{height:80px;width:80px;object-fit:cover}.scroller[_ngcontent-%COMP%]{height:calc(100vh - 300px);overflow:auto}.view-groups[_ngcontent-%COMP%]{padding:2px 13px;gap:8px;border-radius:4px;border:1px solid #dddddd;background-color:transparent;color:#000000b2;font-size:12px;font-weight:500;line-height:32px;text-align:left;transition:all ease-in .3s}.view-groups[_ngcontent-%COMP%]:hover{color:#000!important;border:1px solid #000}.card[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #dddddd}.lock_icon[_ngcontent-%COMP%]{text-align:center;margin-top:10px;color:#00000080;size:14px}.no-data-message[_ngcontent-%COMP%]{color:#6c757d;font-size:1.2rem;font-weight:500;background-color:#f8f9fa;border:1px dashed #ced4da;padding:10px 20px;border-radius:8px;text-align:center;height:100px}.no-data-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0d6efd;font-size:1.5rem}.btn-height[_ngcontent-%COMP%]{height:38px}"]}),i})();var H=x(228);function fn(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",18),t.BQk()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("src",null==o?null:o.profileImage,t.LSH)}}function hn(i,s){1&i&&t._UZ(0,"img",19)}function xn(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",7)(2,"div",8)(3,"div",9)(4,"a"),t.YNc(5,fn,2,1,"ng-container",10),t.YNc(6,hn,1,0,"ng-template",null,11,t.W1O),t.qZA()(),t.TgZ(8,"div",12)(9,"div",13)(10,"h2",14)(11,"a",15),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n._activeModal.close())}),t._uU(12),t.qZA()()(),t.TgZ(13,"div",16)(14,"a",17),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n._activeModal.close())}),t._uU(15,"View profile"),t.qZA()()()()(),t.BQk()}if(2&i){const o=s.$implicit,e=t.MAs(7);t.xp6(5),t.Q6J("ngIf",null==o?null:o.profileImage)("ngIfElse",e),t.xp6(6),t.Q6J("routerLink","/bm/"+(null==o?null:o.id)),t.xp6(1),t.hij(" ",(null==o?null:o.firstName)+" "+(null==o?null:o.lastName)," "),t.xp6(2),t.Q6J("routerLink","/bm/"+(null==o?null:o.id))}}function Cn(i,s){if(1&i&&(t.ynx(0),t.YNc(1,xn,16,5,"ng-container",6),t.BQk()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==o.groupMemberList?null:o.groupMemberList.membersJoined)}}let bn=(()=>{const s=class{constructor(e,n){this._activeModal=e,this._groupServiceV2=n}ngOnInit(){this.getGroupMembers()}getGroupMembers(){var e=this;return(0,p.Z)(function*(){e.groupMemberList=yield e._groupServiceV2.viewGroupMembers(e.groupDetail?.id)})()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(C.Kz),t.Y36(k.c))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-groups-members-modal"]],inputs:{groupDetail:"groupDetail"},decls:8,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],[1,"material-symbols-outlined","group-member"],["aria-label","Close","tabindex","",1,"btn-close",3,"keyup","click"],[1,"modal-body","p-4"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card","mb-2"],[1,"card-body","px-2","d-flex","flex-row","gap-2"],[1,"profile_img_container"],[4,"ngIf","ngIfElse"],["defaultCover",""],[1,"flex-grow-1"],[1,"post-item-profile-name"],[1,"mb-0","group-name"],[3,"routerLink","click"],[1,"post-item-entry","d-flex","mt-2"],[1,"view-groups",3,"routerLink","click"],["alt","Personal cover image",1,"img-fluid","group-img","rounded",3,"src"],["alt","","src","./assets/groups_default.jpg",1,"group-img","rounded"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),t._uU(3,"group"),t.qZA(),t._uU(4," Group Member "),t.qZA(),t.TgZ(5,"span",3),t.NdJ("keyup",function(){return r._activeModal.dismiss("Cross click")})("click",function(){return r._activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,Cn,2,1,"ng-container",5),t.qZA()),2&n&&(t.xp6(7),t.Q6J("ngIf",(null==r.groupMemberList||null==r.groupMemberList.membersJoined?null:r.groupMemberList.membersJoined.length)>0))},dependencies:[u.sg,u.O5,v.rH],styles:[".modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:24px;font-weight:700}.modal-header[_ngcontent-%COMP%]{padding:10px}.modal-body[_ngcontent-%COMP%]{max-height:450px;overflow:auto}.group-member[_ngcontent-%COMP%]{border-radius:50%;background:black;padding:10px;color:#fff;font-size:24px}.group-img[_ngcontent-%COMP%]{height:60px;width:60px;object-fit:cover}h5[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-left:10px}h2[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.view-groups[_ngcontent-%COMP%]{padding:0 6px;gap:8px;border-radius:4px;border:1px solid #dddddd;background-color:transparent;color:#000000b2;font-size:12px;font-weight:500;line-height:26px;text-align:left;transition:all ease-in .3s}.view-groups[_ngcontent-%COMP%]:hover{color:#000!important;border:1px solid #000}.more_vert[_ngcontent-%COMP%]{padding:2px 2px 0;gap:4px;border-radius:4px;border:1px solid #dddddd;color:#000}.more_vert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px}.group-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0!important;top:0!important;left:unset!important}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0;left:unset}.card[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #dddddd}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:6px}"]}),i})();var Y=x(8154);function Mn(i,s){1&i&&(t.TgZ(0,"button",21),t._UZ(1,"div",22),t._uU(2," Saving... "),t.qZA()),2&i&&t.Q6J("disabled",!0)}function Pn(i,s){1&i&&(t.TgZ(0,"button",23),t._uU(1,"Save"),t.qZA())}function vn(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",24),t._UZ(1,"img",25),t.TgZ(2,"span",26),t.NdJ("keyup",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.removeImage())})("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.removeImage())}),t._uU(3,"close"),t.qZA()()}if(2&i){const o=t.oxw();t.xp6(1),t.Q6J("src",o.previewUrl,t.LSH)}}function On(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",27),t.NdJ("dragover",function(n){t.CHM(o);const r=t.oxw();return t.KtG(r.onDragOver(n))})("dragleave",function(n){t.CHM(o);const r=t.oxw();return t.KtG(r.onDragLeave(n))})("drop",function(n){t.CHM(o);const r=t.oxw();return t.KtG(r.onDrop(n))}),t.TgZ(1,"label",28)(2,"span",29),t._uU(3,"upload"),t.qZA(),t._uU(4," Drag and Drop File "),t.qZA(),t.TgZ(5,"input",30,31),t.NdJ("change",function(n){t.CHM(o);const r=t.oxw();return t.KtG(r.onFileSelected(n))}),t.qZA(),t.TgZ(7,"button",32),t.NdJ("click",function(){t.CHM(o);const n=t.MAs(6);return t.KtG(n.click())}),t._uU(8," Browse "),t.qZA()()}}let B=(()=>{const s=class{constructor(e,n,r,a){this._activeModal=e,this._snackbarService=n,this._itemService=r,this._groupsService=a,this.updatedInfo=new t.vpe,this.isApiRequesting=!1,this.previewUrl=null,this.uploadingImage=null}ngOnInit(){console.log("groupData",this.groupData);const e=this.groupData?.name,n=this.groupData?.description,r=this.groupData?.status,a=this.groupData?.image;this.currentImage=this.groupData?.image,this.editGroupForm=new d.cw({groupName:new d.NI(e,d.kI.required),description:new d.NI(n),status:new d.NI(r)}),a&&(this.previewUrl=a),this.patchGroupDetails()}patchGroupDetails(){this.editGroupForm.patchValue({groupName:this.groupData?.name,description:this.groupData?.description,status:this.groupData?.status}),this.previewUrl=this.currentImage}onDragOver(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.add("dragging")}onDragLeave(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("dragging")}onDrop(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("dragging");const r=e.dataTransfer?.files;r&&r?.length>0&&this.handleFile(r[0])}onFileSelected(e){const n=e.target;n.files&&n.files?.length>0&&this.handleFile(n.files[0])}removeImage(){this.previewUrl=null,this.uploadingImage=null,this.groupImage=null}updateGroupDetails(e,n){var r=this;return(0,p.Z)(function*(){r.isApiRequesting=!0,(yield r._groupsService.updateGroupDetails(e,n))?.id?(r.isApiRequesting=!1,r._snackbarService.openSnackBar("Group details updated successfully!","success"),r.updatedInfo.emit(n),r._activeModal.close()):(r.isApiRequesting=!1,r._snackbarService.openSnackBar("Failed to update group details.","error"))})()}handleFile(e){if(e&&e.type.startsWith("image/")){if(e.size/1024/1024>2)return this._snackbarService.openSnackBar("Image size should be less than 2MB.","warning"),void(this.previewUrl=null);const r=new FileReader;r.onload=()=>{this.previewUrl=r.result,this.uploadingImage=e},r.readAsDataURL(e)}else alert("Please upload a valid image file.")}submitEditGroupForm(){if(!this.editGroupForm.valid)return void(this.isApiRequesting=!1);const e=this.groupData?.id;let n;this.previewUrl?n=this.previewUrl:null==this.groupImage&&(n="");const a=[{type:"name",id:this.groupData?.nameId,value:this.editGroupForm.value.groupName},{type:"description",id:this.groupData?.descriptionId,value:this.editGroupForm.value.description},{type:"status",id:this.groupData?.statusId,value:this.editGroupForm.value.status},{type:"image",id:this.groupData?.imageId,value:n}].filter(c=>void 0!==c.id&&void 0!==c.value);this.uploadingImage?(this.updateCoverImage(),this.updateGroupDetails(e,a)):this.updateGroupDetails(e,a)}updateCoverImage(){if(this.uploadingImage&&this.groupData.id){const e=new FormData;e.append("image",this.uploadingImage),this._itemService.uploadNewImage(e).subscribe({next:n=>{let r;r=this.groupData?.imageId?[{value:n?.data,id:this.groupData?.imageId,type:"image"}]:[{value:n?.data,type:"image"}],this.groupImage=n?.data,this.uploadingImage=null,this.updateGroupDetails(this.groupData?.id,r)},error:()=>{this.isApiRequesting=!1,this._snackbarService.openSnackBar("Invalid image file format or size. Allowed formats: jpg, jpeg, png, gif, svg. Max size: 2 MB.","warning")}})}}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(C.Kz),t.Y36(Z.o),t.Y36(Y.e),t.Y36(G.J))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-edit-group-modal"]],inputs:{groupData:"groupData"},outputs:{updatedInfo:"updatedInfo"},decls:34,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],[1,"material-symbols-outlined","edit-group"],["aria-label","Close","tabindex","",1,"btn-close","cursor-pointer",3,"keyup","click"],[1,"modal-body","p-4"],[3,"formGroup","ngSubmit"],["editGroup","ngForm"],[1,"row"],[1,"col-md-8"],[1,"form-group","mb-3"],["for","groupName",1,"form-label"],["type","text","id","groupName","formControlName","groupName",1,"form-control"],["for",""],["id","status","required","","formControlName","status",1,"form-select","py-2","shadow-none"],["for","description",1,"form-label"],["formControlName","description","id","description","rows","6",1,"form-control"],["type","submit","class","btn save-btn",3,"disabled",4,"ngIf","ngIfElse"],["notLoading",""],[1,"col-md-4"],["class","file-upload",4,"ngIf","ngIfElse"],["drop",""],["type","submit",1,"btn","save-btn",3,"disabled"],["role","status",1,"spinner-border","text-light"],["type","submit",1,"btn","save-btn"],[1,"file-upload"],["alt","Image Preview",1,"preview-image",3,"src"],["tabindex","",1,"remove-icon","material-symbols-outlined",3,"keyup","click"],[1,"file-upload",3,"dragover","dragleave","drop"],["for","fileUpload",1,"file-upload-label"],[1,"material-symbols-outlined","upload"],["id","fileUpload","type","file","accept","image/*",1,"d-none",3,"change"],["fileInput",""],["type","button",1,"btn","btn-browse","my-3",3,"click"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"h2",1)(2,"span",2),t._uU(3,"Edit"),t.qZA(),t._uU(4," Edit Group "),t.qZA(),t.TgZ(5,"span",3),t.NdJ("keyup",function(){return r._activeModal.dismiss("Cross click")})("click",function(){return r._activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(6,"div",4)(7,"form",5,6),t.NdJ("ngSubmit",function(){return r.submitEditGroupForm()}),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13,"Name"),t.qZA(),t._UZ(14,"input",11),t.qZA(),t.TgZ(15,"div",9)(16,"label",12),t._uU(17,"Status"),t.qZA(),t.TgZ(18,"select",13)(19,"option"),t._uU(20,"Public"),t.qZA(),t.TgZ(21,"option"),t._uU(22,"Private"),t.qZA()()(),t.TgZ(23,"div",9)(24,"label",14),t._uU(25,"Description"),t.qZA(),t._UZ(26,"textarea",15),t.qZA(),t.YNc(27,Mn,3,1,"button",16),t.YNc(28,Pn,2,0,"ng-template",null,17,t.W1O),t.qZA(),t.TgZ(30,"div",18),t.YNc(31,vn,4,1,"div",19),t.YNc(32,On,9,0,"ng-template",null,20,t.W1O),t.qZA()()()()),2&n){const a=t.MAs(29),c=t.MAs(33);t.xp6(7),t.Q6J("formGroup",r.editGroupForm),t.xp6(20),t.Q6J("ngIf",r.isApiRequesting)("ngIfElse",a),t.xp6(4),t.Q6J("ngIf",r.previewUrl)("ngIfElse",c)}},dependencies:[u.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.sg,d.u],styles:[".edit-group[_ngcontent-%COMP%]{border-radius:50%;background:black;padding:10px;color:#fff;font-size:24px}.row[_ngcontent-%COMP%]{margin:0;padding-left:0}.save-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(242,112,156),rgb(255,148,114));color:#fff;border:none;width:100%;padding:10px;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px}.modal-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:24px;font-weight:700}.file-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:1px solid #dddddd;text-align:center;cursor:pointer;background:#f6f6f6;border-radius:4px}.preview-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;position:relative}.upload[_ngcontent-%COMP%]{font-size:76px}.remove-icon[_ngcontent-%COMP%]{position:absolute;top:17px;right:33px;background:black;border-radius:50%;padding:1px;cursor:pointer;color:#fff;font-size:17px}.file-upload-label[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;flex-direction:column;align-items:center}.btn-browse[_ngcontent-%COMP%]{border:1px solid #ddd;padding:5px 15px;cursor:pointer;background:#ffffff}.btn-browse[_ngcontent-%COMP%]:hover{color:#fff;background:linear-gradient(to top,rgb(255,148,114),rgb(242,112,156))}"]}),i})(),V=(()=>{const s=class{constructor(e,n){this._activeModal=e,this._groupService=n,this.groupDeleted=new t.vpe}deleteGroup(){var e=this;return(0,p.Z)(function*(){const n=yield e._groupService.deleteGroup(e.groupId);n&&(e.groupDeleted.emit(n),e._activeModal.close())})()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(C.Kz),t.Y36(G.J))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-delete-group"]],inputs:{groupId:"groupId"},outputs:{groupDeleted:"groupDeleted"},decls:14,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Delete"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return r._activeModal.dismiss()}),t.qZA()(),t.TgZ(4,"div",3)(5,"h2"),t._uU(6,"Are you Sure?"),t.qZA(),t.TgZ(7,"h5"),t._uU(8," Are you sure you want to delete your group? You won't be able to view your group once deleted. "),t.qZA()(),t.TgZ(9,"div",4)(10,"button",5),t.NdJ("click",function(){return r._activeModal.close()}),t._uU(11," Close "),t.qZA(),t.TgZ(12,"button",6),t.NdJ("click",function(){return r.deleteGroup()}),t._uU(13," Delete "),t.qZA()())}}),i})();var wn=x(6098);function yn(i,s){1&i&&(t.ynx(0),t.TgZ(1,"span",9),t._uU(2,"Looking for data..."),t.qZA(),t.BQk())}function kn(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",29),t.BQk()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("src",null==o?null:o.image,t.LSH)}}function Zn(i,s){1&i&&t._UZ(0,"img",30)}function In(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"li",34),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2),r=n.$implicit,a=n.index,c=t.oxw(2);return t.KtG(c.leaveGroup(r,a))})("keyup",function(){t.CHM(o);const n=t.oxw(2),r=n.$implicit,a=n.index,c=t.oxw(2);return t.KtG(c.leaveGroup(r,a))}),t.TgZ(1,"a")(2,"span",26),t._uU(3,"exit_to_app"),t.qZA(),t._uU(4," Leave Group"),t.qZA()()}}function Tn(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"li",34),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.openEditGroup(n))})("keyup",function(){t.CHM(o);const n=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.openEditGroup(n))}),t.TgZ(1,"a")(2,"span",26),t._uU(3,"edit"),t.qZA(),t._uU(4," Edit Group"),t.qZA()()}}function Gn(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"li",34),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.deleteGroup(null==n?null:n.id))})("keyup",function(){t.CHM(o);const n=t.oxw(2).$implicit,r=t.oxw(2);return t.KtG(r.deleteGroup(null==n?null:n.id))}),t.TgZ(1,"a")(2,"span",26),t._uU(3,"delete"),t.qZA(),t._uU(4," Delete Group"),t.qZA()()}}function An(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",31),t._UZ(1,"div",32),t.TgZ(2,"ul",33)(3,"li",34),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.groupMember(n))})("keyup",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.groupMember(n))}),t.TgZ(4,"a")(5,"span",26),t._uU(6,"account_circle"),t.qZA(),t._uU(7,"All Members "),t.qZA()(),t.TgZ(8,"li",34),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.inviteMember(n))})("keyup",function(){t.CHM(o);const n=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.inviteMember(n))}),t.TgZ(9,"a")(10,"span",26),t._uU(11,"person_add"),t.qZA(),t._uU(12," Invite Members"),t.qZA()(),t.YNc(13,In,5,0,"li",35),t.YNc(14,Tn,5,0,"li",35),t.YNc(15,Gn,5,0,"li",35),t.qZA()()}if(2&i){const o=t.oxw().$implicit,e=t.oxw(2);t.xp6(13),t.Q6J("ngIf",!0!==(null==o?null:o.isAdmin)),t.xp6(1),t.Q6J("ngIf",(null==o?null:o.ownerId)===e.entityId||!0===(null==o?null:o.isAdmin)),t.xp6(1),t.Q6J("ngIf",(null==o?null:o.ownerId)===e.entityId||!0===(null==o?null:o.isAdmin))}}function qn(i,s){1&i&&(t.TgZ(0,"div",36)(1,"span",26),t._uU(2," lock"),t.qZA()())}const S=function(i){return["/groups","gr",i]};function Jn(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"a",15),t.YNc(6,kn,2,1,"ng-container",5),t.YNc(7,Zn,1,0,"ng-template",null,16,t.W1O),t.qZA()(),t.TgZ(9,"div",17)(10,"div",18)(11,"h2",19)(12,"a",15),t._uU(13),t.qZA()()(),t.TgZ(14,"small",20),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"div",21)(18,"a",22),t._uU(19,"View Group"),t.qZA()()(),t.TgZ(20,"div",23)(21,"div",24),t.NdJ("click",function(){const r=t.CHM(o).index,a=t.oxw(2);return t.KtG(a.toggleDropdown(r))})("keyup",function(){const r=t.CHM(o).index,a=t.oxw(2);return t.KtG(a.toggleDropdown(r))}),t.TgZ(22,"button",25)(23,"span",26),t._uU(24,"more_horiz"),t.qZA()(),t.YNc(25,An,16,3,"div",27),t.qZA(),t.YNc(26,qn,3,0,"div",28),t.qZA()()()(),t.BQk()}if(2&i){const o=s.$implicit,e=s.index,n=t.MAs(8),r=t.oxw(2);t.xp6(5),t.Q6J("routerLink",t.VKq(12,S,null==o?null:o.id)),t.xp6(1),t.Q6J("ngIf",null==o?null:o.image)("ngIfElse",n),t.xp6(6),t.Q6J("routerLink",t.VKq(14,S,null==o?null:o.id)),t.xp6(1),t.hij(" ",null==o?null:o.name," "),t.xp6(2),t.Oqu(t.xi3(16,9,null==o?null:o.createdAt,"mediumDate")),t.xp6(3),t.Q6J("routerLink",t.VKq(16,S,null==o?null:o.id)),t.xp6(7),t.Q6J("ngIf",r.openDropdownIndex===e),t.xp6(1),t.Q6J("ngIf","private"===(null==o||null==o.status?null:o.status.toLowerCase()))}}function Un(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Jn,27,18,"ng-container",10),t.BQk()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.allGroups)}}function Sn(i,s){1&i&&(t.ynx(0),t.TgZ(1,"p",9),t._uU(2,"Haven't created any groups"),t.qZA(),t.BQk())}function Nn(i,s){if(1&i&&t.YNc(0,Sn,3,0,"ng-container",4),2&i){const o=t.oxw();t.Q6J("ngIf",!o.isLoadingStatus)}}function Ln(i,s){1&i&&(t.ynx(0),t.TgZ(1,"span",9),t._uU(2,"Looking for data..."),t.qZA(),t.BQk())}function Qn(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",29),t.BQk()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("src",null==o?null:o.image,t.LSH)}}function Yn(i,s){1&i&&t._UZ(0,"img",30)}function Fn(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"a",15),t.YNc(6,Qn,2,1,"ng-container",5),t.YNc(7,Yn,1,0,"ng-template",null,16,t.W1O),t.qZA()(),t.TgZ(9,"div",17)(10,"div",18)(11,"h2",37)(12,"a",15),t._uU(13),t.qZA()()(),t.TgZ(14,"small",20),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"div",38)(18,"button",39),t.NdJ("click",function(){const r=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.approveGroupInvite(r))}),t._uU(19," Approve "),t.qZA(),t.TgZ(20,"button",40),t.NdJ("click",function(){const r=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.rejectGroupInvite(null==r?null:r.id))}),t._uU(21," Reject "),t.qZA()()()()()(),t.BQk()}if(2&i){const o=s.$implicit,e=t.MAs(8),n=t.oxw(2);t.xp6(5),t.Q6J("routerLink",t.VKq(11,S,null==o?null:o.id)),t.xp6(1),t.Q6J("ngIf",null==o?null:o.image)("ngIfElse",e),t.xp6(6),t.Q6J("routerLink",t.VKq(13,S,null==o?null:o.id)),t.xp6(1),t.hij(" ",null==o?null:o.name," "),t.xp6(2),t.Oqu(t.xi3(16,8,null==o?null:o.createdAt,"mediumDate")),t.xp6(3),t.Q6J("disabled",n.isLoading),t.xp6(2),t.Q6J("disabled",n.isLoading)}}function zn(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Fn,22,15,"ng-container",10),t.BQk()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.groupInvitation)}}function Dn(i,s){1&i&&(t.ynx(0),t.TgZ(1,"p",9),t._uU(2,"No Invitations"),t.qZA(),t.BQk())}function En(i,s){if(1&i&&t.YNc(0,Dn,3,0,"ng-container",4),2&i){const o=t.oxw();t.Q6J("ngIf",!o.isLoadingStatus)}}let jn=(()=>{const s=class{constructor(e,n,r,a,c,l,g,h,f,b){this._groupsService=e,this._activeModal=n,this._snackbarService=r,this._router=a,this._authService=c,this._itemService=l,this.modalService=g,this._groupService=h,this._V2groupService=f,this._profileServiveV2=b,this.loader=!1,this.groupUpdated=new t.vpe,this.isDropdownOpen=!1,this.openDropdownIndex=null,this.email="",this.groupRequestLoader=!1,this.showRequested=!1,this.isRequested=!1,this.isGroupJoined=!1,this.isAdmin=!1,this.isMember=!1,this.showMember=!1,this.isInvited=!1,this.userDetail={},this.apiFetched=!1,this.isLoading=!1}ngOnInit(){const e=this._authService.loadFromLocalStorage();this.entityId=e.entityId,this.entityId&&(this.getGroupInvitation(),this.getUserProfile(this.entityId))}ngOnChanges(e){e.isLoadingStatus&&(this.isLoadingStatus=e.isLoadingStatus.currentValue||!1),e.allGroups&&e.allGroups&&(this.allGroups=e.allGroups.currentValue||[],this.allGroups=this.allGroups.sort((n,r)=>n?.name?.localeCompare(r?.name,"en",{sensitivity:"base"})))}deleteGroup(e){const n=this.modalService.open(V,{size:"md"});n.componentInstance.groupId=e,n.componentInstance.groupDeleted.subscribe(()=>{this.allGroups=this.allGroups.filter(r=>r?.id!==e),this._snackbarService.openSnackBar("Group Deleted","success")})}getUserProfile(e){var n=this;return(0,p.Z)(function*(){const r=yield n._profileServiveV2.fetchUserDetails(e);n.userDetail=r,n.email=r?.email})()}getGroupInvitation(){this._groupsService.listGroupInvites(this.entityId).subscribe({next:e=>{this.groupInvitation=e}})}approveGroupInvite(e){var n=this;return(0,p.Z)(function*(){const r={groupId:e?.id,entityId:n.entityId,status:"approved",email:n.email};if(n.isLoading=!0,(yield n._groupService.approveGroupInvite(r))?.id){n._snackbarService.openSnackBar("Joined group","success");const c=yield n._groupService.getConceptIdFromEntityId(e?.ownerId);n._router.navigate(["/groups/gr/"+e?.id]),n.isLoading=!1;const l={userConceptIds:[c],fs_notification:{timestamp:(new Date).toISOString(),title:"Group Invitation",body:`${n.email} has accepted your group invitation.`,link:`/groups/gr/${e?.id}`}};n._itemService.bulkNotification(l).subscribe({next:()=>{}})}else n.isLoading=!1,n._snackbarService.openSnackBar("Could not join group.","error")})()}rejectGroupInvite(e){var n=this;return(0,p.Z)(function*(){const r={groupId:e,entityId:n.entityId,status:"rejected",email:n.email};n.isLoading=!0,(yield n._groupService.approveGroupInvite(r))?.id?(n.isLoading=!1,n._snackbarService.openSnackBar("Rejected group invitation","success"),n.getGroupInvitation()):(n.isLoading=!1,n._snackbarService.openSnackBar("Error while rejecting group invitation.","error"))})()}toggleDropdown(e){this.openDropdownIndex=this.openDropdownIndex===e?null:e}inviteMember(e){const n=this.modalService.open(H.g,{size:"md"});n.componentInstance.groupDetail=e,n.componentInstance.userDetail=this.userDetail}groupMember(e){this.modalService.open(bn,{size:"md"}).componentInstance.groupDetail=e}getSingleGroupInfo(e){var n=this;return(0,p.Z)(function*(){n.groupRequestLoader=!0,n.loader=!0;const r=yield n._V2groupService.getGroupDetails(e,n.entityId);r?(n.theGroup=r,n.loader=!1):(n.groupRequestLoader=!1,n.loader=!1,n.apiFetched=!1)})()}openEditGroup(e){var n=this;return(0,p.Z)(function*(){yield n.getSingleGroupInfo(e.id);const r=n.modalService.open(B,{size:"lg"});r.componentInstance.groupData=n.theGroup,r.componentInstance.updatedInfo.subscribe(function(){var a=(0,p.Z)(function*(c){n.updateGroupInMyGroups(c,e?.id)});return function(c){return a.apply(this,arguments)}}())})()}updateGroupInMyGroups(e,n){const r={};e?.forEach(c=>{c.type&&(r[c.type]=c.value||"")});const a=this.allGroups.findIndex(c=>c.id===n);-1!==a?this.allGroups[a]={...this.allGroups[a],...r}:this.allGroups.push({...r,id:n}),this.groupUpdated.emit({updatedData:r,id:n})}closeDropdown(){this.isDropdownOpen=!1}leaveGroup(e,n){var r=this;return(0,p.Z)(function*(){window.confirm("Are you sure you want to leave this group?")&&((yield r._groupService.leaveOrRemoveMember(e.id,[r.entityId]))?.[0]?.success?(r._snackbarService.openSnackBar("Left group","success"),r.allGroups.splice(n,1)):r._snackbarService.openSnackBar("Could not leave group.","error"))})()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(wn.l),t.Y36(C.FF),t.Y36(Z.o),t.Y36(v.F0),t.Y36(O.e),t.Y36(Y.e),t.Y36(C.FF),t.Y36(G.J),t.Y36(k.c),t.Y36(N.S))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-screen-my-groups"]],inputs:{allGroups:"allGroups",isLoadingStatus:"isLoadingStatus"},outputs:{groupUpdated:"groupUpdated"},features:[t.TTD],decls:17,vars:6,consts:[[1,"main-body-title","mb-3"],[1,"main_body_heading"],[1,"more_groups"],[1,"row"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","col-12"],["notFound",""],["notFoundA",""],[1,"my-5","text-center"],[4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","mb-4"],[1,"card-body","px-2","py-3","d-flex","flex-row","gap-2"],[1,"profile_img_container"],[3,"routerLink"],["defaultCover",""],[1,"flex-grow-1"],[1,"post-item-profile-name"],[1,"mb-0","group-name"],[1,"post-item-top-meta"],[1,"post-item-entry","d-flex","mt-2"],[1,"view-groups",3,"routerLink"],[1,"d-flex","flex-column"],["tabindex","",1,"dropdown",3,"click","keyup"],[1,"hide-dropdown-toggle","more_vert"],[1,"material-symbols-outlined"],["class","dropdown-menu",4,"ngIf"],["class","lock_icon",4,"ngIf"],["alt","Personal cover image",1,"img-fluid","group-img","rounded",3,"src"],["alt","","src","./assets/groups_default.jpg",1,"group-img","rounded"],[1,"dropdown-menu"],[1,"menu-arrow"],[1,"p-1"],["tabindex","",3,"click","keyup"],["tabindex","",3,"click","keyup",4,"ngIf"],[1,"lock_icon"],[1,"mb-0"],[1,"post-item-entry","d-flex","mt-2","gap-2"],[1,"btn-approve",3,"disabled","click"],[1,"btn-reject",3,"disabled","click"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2,"My Groups"),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3),t.YNc(5,yn,3,0,"ng-container",4),t.YNc(6,Un,2,1,"ng-container",5),t.YNc(7,Nn,1,1,"ng-template",6,7,t.W1O),t.qZA(),t.TgZ(9,"div",0)(10,"h5",1),t._uU(11,"Group Invitations"),t.qZA()(),t.TgZ(12,"div",3),t.YNc(13,Ln,3,0,"ng-container",4),t.YNc(14,zn,2,1,"ng-container",5),t.YNc(15,En,1,1,"ng-template",6,8,t.W1O),t.qZA()()),2&n){const a=t.MAs(8),c=t.MAs(16);t.xp6(5),t.Q6J("ngIf",r.isLoadingStatus),t.xp6(1),t.Q6J("ngIf",(null==r.allGroups?null:r.allGroups.length)>0&&!r.isLoadingStatus)("ngIfElse",a),t.xp6(7),t.Q6J("ngIf",r.isLoadingStatus),t.xp6(1),t.Q6J("ngIf",(null==r.groupInvitation?null:r.groupInvitation.length)>0&&!r.isLoadingStatus)("ngIfElse",c)}},dependencies:[u.sg,u.O5,v.rH,u.uU],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #dddddd}.group-img[_ngcontent-%COMP%]{height:84px;width:84px;object-fit:cover}.scroller[_ngcontent-%COMP%]{height:calc(100vh - 150px);overflow:auto}h5[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-left:10px}h2[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.row[_ngcontent-%COMP%]{margin-left:none}.view-groups[_ngcontent-%COMP%]{padding:2px 13px;gap:8px;border-radius:4px;border:1px solid #dddddd;background-color:transparent;color:#000000b2;font-size:12px;font-weight:500;line-height:32px;text-align:left;transition:all ease-in .3s}.view-groups[_ngcontent-%COMP%]:hover{color:#000!important;border:1px solid #000}.more_vert[_ngcontent-%COMP%]{padding:2px 4px 0;gap:4px;border-radius:4px;border:1px solid #dddddd;font-size:4px;color:#000}.btn-approve[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:32px;padding:2px 13px;gap:8px;border-radius:4px;background-color:#f5fffb;color:#2d9d6c;border:1px solid #68c49c}.btn-approve[_ngcontent-%COMP%]:hover{background-color:#68c49c;color:#fff;transition:all .3s ease}.btn-reject[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:32px;padding:2px 13px;gap:8px;border-radius:4px;background:#ffefef;color:#f34a4a;border:1px solid #f34a4a}.btn-reject[_ngcontent-%COMP%]:hover{background-color:#f34a4a;color:#fff;transition:all .3s ease}.more_groups[_ngcontent-%COMP%]{max-height:calc(100vh - 300px);overflow:auto}.group-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0!important;top:0!important;left:unset!important}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0;left:unset}.lock_icon[_ngcontent-%COMP%]{text-align:center;margin-top:10px;color:#00000080;size:14px}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:5px;font-size:24px}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#333}.dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#555}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;background-color:#f9f9f9;border:none;box-shadow:0 4px 4px #00000040;min-width:180px;z-index:1;top:100%;right:0;padding:2px 0;display:block}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .menu-arrow[_ngcontent-%COMP%]{width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid #f9f9f9;position:absolute;top:-10px;right:10px;z-index:1001}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]{border:1px solid black}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:4px;cursor:pointer}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e4e3e3;border-radius:4px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#555}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{color:red}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   i[_ngcontent-%COMP%]{color:red}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;display:flex}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;margin-right:6px}"]}),i})();function Hn(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"span",22),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(),r=t.MAs(10);return t.KtG(n.resetSearch(r))})("keyup",function(){t.CHM(o);const n=t.oxw(),r=t.MAs(10);return t.KtG(n.resetSearch(r))}),t._uU(2," close "),t.qZA(),t.BQk()}}function Bn(i,s){1&i&&(t.TgZ(0,"div")(1,"p",23),t._uU(2,"Looking for groups"),t.qZA()())}function Vn(i,s){1&i&&(t.TgZ(0,"div",24),t._UZ(1,"span",25),t.qZA())}function Kn(i,s){1&i&&(t.TgZ(0,"p",23),t._uU(1,"No search result"),t.qZA())}function $n(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",37),t.BQk()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("src",o.image,t.LSH)("alt",o.name+" profile image")}}function Rn(i,s){1&i&&t._UZ(0,"img",38)}function Wn(i,s){1&i&&(t.TgZ(0,"span",39),t._uU(1," check_circle "),t.qZA())}const Xn=function(i){return["/groups","gr",i]};function te(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"li",29)(1,"a",30),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(3);return t.KtG(n.selectGroup())}),t.TgZ(2,"div",31)(3,"div",32),t.YNc(4,$n,2,2,"ng-container",27),t.YNc(5,Rn,1,0,"ng-template",null,33,t.W1O),t.YNc(7,Wn,2,0,"span",34),t.qZA()(),t.TgZ(8,"div",35)(9,"p",36),t._uU(10),t.qZA()()()()}if(2&i){const o=s.$implicit,e=t.MAs(6);t.xp6(1),t.Q6J("routerLink",t.VKq(5,Xn,o.id)),t.xp6(3),t.Q6J("ngIf",o.image)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",o.isUserSelected),t.xp6(3),t.Oqu(o.name)}}function ne(i,s){if(1&i&&(t.TgZ(0,"ul"),t.YNc(1,te,11,7,"li",28),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.searchResults)}}function ee(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Kn,2,0,"ng-template",null,26,t.W1O),t.YNc(3,ne,2,1,"ul",27),t.qZA()),2&i){const o=t.MAs(2),e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.isSearching&&(null==e.searchResults?null:e.searchResults.length)>0)("ngIfElse",o)}}function oe(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"app-screen-my-groups",40),t.NdJ("groupUpdated",function(n){t.CHM(o);const r=t.oxw();return t.KtG(r.onGroupUpdated(n))}),t.qZA()}if(2&i){const o=t.oxw();t.Q6J("allGroups",o.allGroups)("isLoadingStatus",o.isLoading)}}function ie(i,s){1&i&&t._UZ(0,"app-screen-groups-discover")}function re(i,s){1&i&&t._UZ(0,"app-screen-groups-feed")}let se=(()=>{const s=class{constructor(e,n,r,a,c,l){this._title=e,this._auth=n,this.modalService=r,this._v2GroupsService=a,this.route=c,this.router=l,this.allGroups=[],this.modelChanged=new A.x,this.showSearchDropdown=!1,this.isLoading=!1,this.isSearching=!1,this.activeTabId=1,this.tabPageMapping={1:"allgroups",2:"discover",3:"myfeeds"},this.pageTabMapping={allgroups:1,discover:2,myfeeds:3},this.searchGroups=g=>this.modelChanged.next(g),this._title.setTitle("Groups - Boomconsole"),this.modelChanged.pipe((0,q.b)(1e3),(0,T.x)()).subscribe({next:g=>{this.searchGroup(g)}})}ngOnInit(){const e=this._auth.loadFromLocalStorage();this.entityId=e?.entityId,this.userId=e?.theUserId,this.route.queryParams.subscribe(n=>{const r=n.page;r&&this.pageTabMapping[r]?this.activeTabId=this.pageTabMapping[r]:(this.activeTabId=1,this.updateQueryParams())}),this.entityId&&(this.isLoading=!0,this.getMyGroups())}onTabChange(e){this.activeTabId=e,this.updateQueryParams()}updateQueryParams(){this.router.navigate([],{relativeTo:this.route,queryParams:{page:this.tabPageMapping[this.activeTabId]},queryParamsHandling:"merge",replaceUrl:!0})}onGroupUpdated(e){const n=e?.updatedData,r=e?.id;this.updateJoinedGroup(n,r)}updateJoinedGroup(e,n){const r={...e},a=this.allGroups.findIndex(c=>c.id===n);-1!==a?this.allGroups[a]={...this.allGroups[a],...r}:this.allGroups.push({...r,id:n})}getMyGroups(){var e=this;return(0,p.Z)(function*(){e.allGroups=yield e._v2GroupsService.getGroups(e.entityId),e.allGroups?.length>0?e.isLoading=!1:(e.isLoading=!1,e.allGroups=[])})()}create(){this.modalService.open(I.t,{size:"lg"}).componentInstance.groupCreated.subscribe(()=>{this.getMyGroups()})}searchGroup(e){var n=this;return(0,p.Z)(function*(){const r=e.target.value;if(n.showSearchDropdown=!0,r){n.isSearching=!0;const a=yield n._v2GroupsService.searchGroups(r);n.searchResults=a,n.isSearching=!1}else n.searchResults=[],n.showSearchDropdown=!1,n.isSearching=!1;n.isSearching=!1})()}resetSearch(e){this.searchResults=[],this.showSearchDropdown=!1,e.value=""}selectGroup(){this.showSearchDropdown=!1}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(y.Dx),t.Y36(O.e),t.Y36(C.FF),t.Y36(k.c),t.Y36(v.gz),t.Y36(v.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-all-groups"]],decls:44,vars:12,consts:[[1,"groups-container"],[1,"left-panel","col-md-9"],[1,"title"],[1,"header"],[1,"header_search"],[1,"group-search"],[1,"material-symbols-outlined","icon"],["type","text","placeholder","Search groups",1,"form-control",3,"keyup"],["searchInput",""],[4,"ngIf"],[1,"search_dropdown"],["class","loader",4,"ngIf"],[1,"create-group-btn",3,"click"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","",1,"d-flex","align-items-center","gap-2"],[1,"material-symbols-outlined"],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"right-panel","col-md-3"],[3,"allGroups"],["tabindex","",1,"material-symbols-outlined","cursor-pointer",3,"click","keyup"],[1,"mb-1"],[1,"loader"],[1,"sr-only"],["noResult",""],[4,"ngIf","ngIfElse"],["class","following-list mb-2",4,"ngFor","ngForOf"],[1,"following-list","mb-2"],[1,"row","align-items-center","my-0",3,"routerLink","click"],[1,"col-md-2","m-0","p-0","text-center"],[1,"following-image"],["defaultProfileImg",""],["class","material-symbols-outlined check-icon",4,"ngIf"],[1,"col-md-10"],[1,"mb-0"],[1,"img-fluid",3,"src","alt"],["src","./assets/groups_default.jpg","alt","Profile Image",1,"img-fluid"],[1,"material-symbols-outlined","check-icon"],[3,"allGroups","isLoadingStatus","groupUpdated"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3,"Groups"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"span",6),t._uU(8,"search"),t.qZA(),t.TgZ(9,"input",7,8),t.NdJ("keyup",function(c){return r.searchGroups(c)}),t.qZA(),t.YNc(11,Hn,3,0,"ng-container",9),t.qZA(),t.TgZ(12,"div",10),t.YNc(13,Bn,3,0,"div",9),t.YNc(14,Vn,2,0,"div",11),t.YNc(15,ee,4,2,"div",9),t.qZA()(),t.TgZ(16,"button",12),t.NdJ("click",function(){return r.create()}),t._uU(17," + Create Group "),t.qZA()(),t.TgZ(18,"ul",13,14),t.NdJ("activeIdChange",function(c){return r.activeTabId=c})("navChange",function(c){return r.onTabChange(c.nextId)}),t.TgZ(20,"li",15)(21,"a",16)(22,"span",17),t._uU(23," group "),t.qZA(),t.TgZ(24,"span"),t._uU(25,"My Groups"),t.qZA()(),t.YNc(26,oe,1,2,"ng-template",18),t.qZA(),t.TgZ(27,"li",15)(28,"a",16)(29,"span",17),t._uU(30," explore "),t.qZA(),t.TgZ(31,"span"),t._uU(32," Discover"),t.qZA()(),t.YNc(33,ie,1,0,"ng-template",18),t.qZA(),t.TgZ(34,"li",15)(35,"a",16)(36,"span",17),t._uU(37," menu_book "),t.qZA(),t.TgZ(38,"span"),t._uU(39," My Feeds"),t.qZA()(),t.YNc(40,re,1,0,"ng-template",18),t.qZA()(),t._UZ(41,"div",19),t.qZA(),t.TgZ(42,"div",20),t._UZ(43,"app-widget-groups-joined",21),t.qZA()()),2&n){const a=t.MAs(19);t.xp6(11),t.Q6J("ngIf",r.showSearchDropdown),t.xp6(1),t.ekj("show",r.showSearchDropdown),t.xp6(1),t.Q6J("ngIf",r.isSearching),t.xp6(1),t.Q6J("ngIf",r.isSearching),t.xp6(1),t.Q6J("ngIf",!r.isSearching),t.xp6(3),t.Q6J("activeId",r.activeTabId),t.xp6(2),t.Q6J("ngbNavItem",1),t.xp6(7),t.Q6J("ngbNavItem",2),t.xp6(7),t.Q6J("ngbNavItem",3),t.xp6(7),t.Q6J("ngbNavOutlet",a),t.xp6(2),t.Q6J("allGroups",r.allGroups)}},dependencies:[u.sg,u.O5,v.rH,C.uN,C.Pz,C.nv,C.Is,C.Vx,C.tO,C.Dy,ot,j,mn,jn],styles:['h5[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-left:10px}.groups[_ngcontent-%COMP%]{padding:30px}.top-search-bar[_ngcontent-%COMP%]{display:none;display:flex;width:394px;overflow:visible}.groups-container[_ngcontent-%COMP%]{display:flex;padding:20px;margin-left:10px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:13px;margin-left:10px}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]   .group-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 10px 10px 40px;width:394px;border:1px solid #ccc;border-radius:4px;height:42px;outline:none;margin-left:10px}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]   .group-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:14px;font-weight:400;color:#0009}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]   .group-search[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#0009;pointer-events:none}.header[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{padding:8px 12px;background:linear-gradient(to right,rgb(242,112,156),rgb(255,148,114));color:#fff;border:none;border-radius:4px;cursor:pointer}.groups-section[_ngcontent-%COMP%]{margin-bottom:20px}.groups-section[_ngcontent-%COMP%]   .groups-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.groups-section[_ngcontent-%COMP%]   .groups-list[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]{width:45%;background-color:#fff;border:1px solid #ddd;border-radius:8px;margin:10px;padding:10px;display:flex;align-items:center}.groups-section[_ngcontent-%COMP%]   .groups-list[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:10px}.groups-section[_ngcontent-%COMP%]   .groups-list[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px}.groups-section[_ngcontent-%COMP%]   .groups-list[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#888}.groups-section[_ngcontent-%COMP%]   .groups-list[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:14px}.group-invitations[_ngcontent-%COMP%]   .invitation-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:8px;margin:10px 0;padding:10px;display:flex;align-items:center}.group-invitations[_ngcontent-%COMP%]   .invitation-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-right:10px}.group-invitations[_ngcontent-%COMP%]   .invitation-card[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px}.group-invitations[_ngcontent-%COMP%]   .invitation-card[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#888}.group-invitations[_ngcontent-%COMP%]   .invitation-card[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;margin-left:10px;border:none;cursor:pointer}.group-invitations[_ngcontent-%COMP%]   .invitation-card[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   button.approve[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border-radius:4px}.group-invitations[_ngcontent-%COMP%]   .invitation-card[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   button.reject[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border-radius:4px}.nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #dddddd;display:flex;justify-content:flex-start;margin-left:10px;margin-bottom:20px}.nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:15px;position:relative}.nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;color:#777;font-weight:600;font-size:14px;padding:5px 15px;text-decoration:none}.nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#ff4f5a}.nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background-color:#ff4f5a}.nav-tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.active)   a[_ngcontent-%COMP%]{border-bottom:2px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:none!important;background-color:#f1f5f9}.group-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:12px;box-shadow:0 2px 4px #0000001a;max-width:400px;margin-bottom:16px}.group-card-header[_ngcontent-%COMP%]{flex-shrink:0;margin-right:12px}.group-card-header[_ngcontent-%COMP%]   .group-card-image[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;object-fit:cover}.group-card-body[_ngcontent-%COMP%]{flex-grow:1}.group-card-body[_ngcontent-%COMP%]   .group-card-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#333}.group-card-body[_ngcontent-%COMP%]   .group-card-date[_ngcontent-%COMP%]{margin:4px 0;font-size:12px;color:#888}.group-card-body[_ngcontent-%COMP%]   .group-card-button[_ngcontent-%COMP%]{background-color:#007bff;border:none;color:#fff;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s}.group-card-body[_ngcontent-%COMP%]   .group-card-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.group-card-menu[_ngcontent-%COMP%]{margin-left:auto}.group-card-menu[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0}.group-card-menu[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;color:#888}.group-search[_ngcontent-%COMP%]{position:relative}.group-search[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;opacity:.4}.search_dropdown.show[_ngcontent-%COMP%]{display:block;height:500px;overflow-y:scroll}.search_dropdown[_ngcontent-%COMP%]{display:none;width:94%;background-color:#fff;border-radius:10px;padding:20px;box-shadow:#959da533 0 8px 24px;position:absolute;left:3%;color:#777;z-index:9999999;top:100%}.search_dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.search_dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:10px 0}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;line-height:35px}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{position:relative;top:5px;font-size:22px}.following-list[_ngcontent-%COMP%]{padding:.75rem .5rem;border-bottom:1px solid #efefef;cursor:pointer}.following-list[_ngcontent-%COMP%]:hover{background-color:#eee}.following-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:cover;border:1px solid #ddd;border-radius:8px}@media (max-width: 768px){.groups-container[_ngcontent-%COMP%]{flex-direction:column}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]{width:70%}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]   .group-search[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]   .group-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-top-right-radius:0;border-bottom-right-radius:0}.header[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{width:30%;border-top-left-radius:0;border-bottom-left-radius:0}}@media (max-width: 580px){.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]{width:60%}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]   .group-search[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]   .group-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-top-right-radius:0;border-bottom-right-radius:0}.header[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{width:40%}}@media (max-width: 400px){.header[_ngcontent-%COMP%]{display:block}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]   .group-search[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]   .header_search[_ngcontent-%COMP%]   .group-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-top-right-radius:4px;border-bottom-right-radius:4px}.header[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{width:100%;border-top-left-radius:4px;border-bottom-left-radius:4px;margin-top:10px}}']}),i})();var F=x(6251);function ae(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",20),t.BQk()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("src",null==o?null:o.profileImage,t.LSH)}}function ce(i,s){1&i&&t._UZ(0,"img",21)}const pe=function(i){return["/bm",i]};function le(i,s){if(1&i&&(t.TgZ(0,"div",22)(1,"a",23),t._uU(2,"View profile"),t.qZA()()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,pe,null==o?null:o.id))}}function _e(i,s){1&i&&(t.TgZ(0,"div")(1,"span",24)(2,"span",25),t._uU(3,"person"),t.qZA(),t._uU(4," Contact "),t.qZA()())}function de(i,s){if(1&i&&(t.TgZ(0,"li",34)(1,"a")(2,"span",28),t._uU(3,"person"),t.qZA(),t._uU(4," Visit "),t.qZA()()),2&i){const o=t.oxw(3).$implicit;t.Q6J("routerLink","/bm/"+(null==o?null:o.id))}}function ge(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"li",35),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(3),r=n.$implicit,a=n.index,c=t.oxw(2);return t.KtG(c.removeMember(r,a))})("keyup",function(){t.CHM(o);const n=t.oxw(3),r=n.$implicit,a=n.index,c=t.oxw(2);return t.KtG(c.removeMember(r,a))}),t.TgZ(1,"a")(2,"span",28),t._uU(3,"delete"),t.qZA(),t._uU(4," Remove member "),t.qZA()()}}function ue(i,s){if(1&i&&(t.TgZ(0,"div",30),t._UZ(1,"div",31),t.TgZ(2,"ul"),t.YNc(3,de,5,1,"li",32),t.YNc(4,ge,5,0,"li",33),t.qZA()()),2&i){const o=t.oxw(2).$implicit,e=t.oxw(2);t.xp6(3),t.Q6J("ngIf","Contact"!==(null==o?null:o.type)),t.xp6(1),t.Q6J("ngIf",(null==o?null:o.entityId)!==e.entityId&&e.isAdmin)}}function me(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",26),t.NdJ("click",function(n){t.CHM(o);const r=t.oxw().index,a=t.oxw(2);return t.KtG(a.toggleDropdown(r,n))})("keyup",function(n){t.CHM(o);const r=t.oxw().index,a=t.oxw(2);return t.KtG(a.toggleDropdown(r,n))}),t.TgZ(1,"button",27)(2,"span",28),t._uU(3,"more_horiz"),t.qZA()(),t.YNc(4,ue,5,2,"div",29),t.qZA()}if(2&i){const o=t.oxw().index,e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.openDropdownIndex===o)}}function fe(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"a"),t.YNc(6,ae,2,1,"ng-container",5),t.YNc(7,ce,1,0,"ng-template",null,13,t.W1O),t.qZA()(),t.TgZ(9,"div",14)(10,"div",15)(11,"h2",16)(12,"a"),t._uU(13),t.qZA()()(),t.YNc(14,le,3,3,"div",17),t.YNc(15,_e,5,0,"div",18),t.qZA(),t.YNc(16,me,5,1,"div",19),t.qZA()()(),t.BQk()),2&i){const o=s.$implicit,e=t.MAs(8),n=t.oxw(2);t.xp6(6),t.Q6J("ngIf",null==o?null:o.profileImage)("ngIfElse",e),t.xp6(7),t.Oqu((null==o?null:o.firstName)+" "+(null==o?null:o.lastName)),t.xp6(1),t.Q6J("ngIf","Contact"!==(null==o?null:o.type)),t.xp6(1),t.Q6J("ngIf","Contact"===(null==o?null:o.type)),t.xp6(1),t.Q6J("ngIf",n.isAdmin||"Contact"!==(null==o?null:o.type))}}function he(i,s){if(1&i&&(t.ynx(0),t.YNc(1,fe,17,6,"ng-container",8),t.BQk()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==o.groupMemberList?null:o.groupMemberList.membersJoined)}}function xe(i,s){1&i&&(t.TgZ(0,"p",36),t._uU(1,"No Members"),t.qZA())}let Ce=(()=>{const s=class{constructor(e,n,r,a,c,l){this._groupServiceV2=e,this._snapshot=n,this._router=r,this._groupsService=a,this._snackbarService=c,this._auth=l,this.openDropdownIndex=null,this.memberUpdated=new t.vpe,this.entityId=this._auth.loadFromLocalStorage().entityId}ngOnInit(){this._snapshot.params.subscribe(e=>{this.groupId=e.groupId}),this.getGroupMembers()}getGroupMembers(){var e=this;return(0,p.Z)(function*(){e.groupMemberList=yield e._groupServiceV2.viewGroupMembers(e.groupId),console.log("groupMemberList",e.groupMemberList)})()}ViewProfile(e){this._router.navigate([`/bm/${e}`])}toggleDropdown(e,n){n.stopPropagation(),!(n instanceof KeyboardEvent&&"Enter"!==n.key&&" "!==n.key)&&(this.openDropdownIndex=this.openDropdownIndex===e?null:e)}handleClickOutside(e){const n=e.target,r=document.querySelector(".dropdown");null!==this.openDropdownIndex&&r&&!r.contains(n)&&(this.openDropdownIndex=null)}removeMember(e,n){var r=this;return(0,p.Z)(function*(){window.confirm(`Are you sure you want to remove ${e.firstName} from the group?`)&&(yield r._groupsService.leaveOrRemoveMember(r.groupId,[e.entityId]))?.[0]?.success&&(r.memberUpdated.emit(),r.groupMemberList?.membersJoined?.splice(n,1),r._snackbarService.openSnackBar("Member removed from the group!","warning"))})()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(k.c),t.Y36(v.gz),t.Y36(v.F0),t.Y36(G.J),t.Y36(Z.o),t.Y36(O.e))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-group-member"]],hostBindings:function(n,r){1&n&&t.NdJ("click",function(c){return r.handleClickOutside(c)},!1,t.evT)},inputs:{isAdmin:"isAdmin"},outputs:{memberUpdated:"memberUpdated"},decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"main-body-title","mb-3"],[1,"main_body_heading"],[1,"more_groups"],[1,"row"],[4,"ngIf","ngIfElse"],["class","col-12"],["notFound",""],[4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","mb-4"],[1,"card-body","px-2","py-3","d-flex","flex-row","gap-2"],[1,"profile_img_container"],["defaultCover",""],[1,"flex-grow-1"],[1,"post-item-profile-name"],[1,"mb-0","group-name"],["class","post-item-entry d-flex mt-2",4,"ngIf"],[4,"ngIf"],["class","dropdown","tabindex","0",3,"click","keyup",4,"ngIf"],["alt","Personal cover image",1,"img-fluid","group-img","rounded",3,"src"],["alt","","src","./assets/man.png",1,"group-img","rounded"],[1,"post-item-entry","d-flex","mt-2"],[1,"view-groups",3,"routerLink"],[1,"badge","bg-secondary","mt-2"],[1,"material-symbols-outlined","align-middle"],["tabindex","0",1,"dropdown",3,"click","keyup"],[1,"hide-dropdown-toggle","more_vert"],[1,"material-symbols-outlined"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],[1,"menu-arrow"],[3,"routerLink",4,"ngIf"],["class","last_elem","tabindex","",3,"click","keyup",4,"ngIf"],[3,"routerLink"],["tabindex","",1,"last_elem",3,"click","keyup"],[1,"my-5","text-center"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3,"Members"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4),t.YNc(6,he,2,1,"ng-container",5),t.YNc(7,xe,2,0,"ng-template",6,7,t.W1O),t.qZA()()()),2&n){const a=t.MAs(8);t.xp6(6),t.Q6J("ngIf",(null==r.groupMemberList||null==r.groupMemberList.membersJoined?null:r.groupMemberList.membersJoined.length)>0)("ngIfElse",a)}},dependencies:[u.sg,u.O5,v.rH],styles:[".group-img[_ngcontent-%COMP%]{height:84px;width:84px;object-fit:cover}h5[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-left:10px}h2[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.row[_ngcontent-%COMP%]{margin-left:none}.view-groups[_ngcontent-%COMP%]{padding:2px 13px;gap:8px;border-radius:4px;border:1px solid #dddddd;background-color:transparent;color:#000000b2;font-size:12px;font-weight:500;line-height:32px;text-align:left;transition:all ease-in .3s}.view-groups[_ngcontent-%COMP%]:hover{color:#000!important;border:1px solid #000}.more_vert[_ngcontent-%COMP%]{padding:10px 8px 0;gap:4px;border-radius:4px;border:1px solid #dddddd;font-size:18px;color:#000}.group-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0!important;top:0!important;left:unset!important}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0;left:unset}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;background-color:#f9f9f9;border:none;box-shadow:0 4px 4px #00000040;min-width:180px;z-index:1;top:48%;right:0;padding:2px 0;display:block}.dropdown-menu[_ngcontent-%COMP%]   .menu-arrow[_ngcontent-%COMP%]{width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid #f9f9f9;position:absolute;top:-10px;right:10px;z-index:1001}.dropdown-menu[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%]{border:1px solid black}.dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:4px;cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;display:flex}.dropdown-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;margin-right:6px}.dropdown-menu[_ngcontent-%COMP%]   .last_elem[_ngcontent-%COMP%]{color:red}"]}),i})();function be(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",21),t.BQk()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("src",o.profileImage,t.LSH)}}function Me(i,s){1&i&&t._UZ(0,"img",22)}function Pe(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span"),t.YNc(6,be,2,1,"ng-container",5),t.YNc(7,Me,1,0,"ng-template",null,13,t.W1O),t.qZA()(),t.TgZ(9,"div",14)(10,"div",15)(11,"h2",16)(12,"a",17),t._uU(13),t.qZA()()(),t.TgZ(14,"div",18)(15,"button",19),t.NdJ("click",function(){const n=t.CHM(o),r=n.$implicit,a=n.index,c=t.oxw(2);return t.KtG(c.approve(r,a))}),t._uU(16," Approve "),t.qZA(),t.TgZ(17,"button",20),t.NdJ("click",function(){const n=t.CHM(o),r=n.$implicit,a=n.index,c=t.oxw(2);return t.KtG(c.reject(r,a))}),t._uU(18," Reject "),t.qZA()()()()()(),t.BQk()}if(2&i){const o=s.$implicit,e=t.MAs(8),n=t.oxw(2);t.xp6(6),t.Q6J("ngIf",o.profileImage)("ngIfElse",e),t.xp6(6),t.MGl("routerLink","/bm/",null==o?null:o.id,""),t.xp6(1),t.hij(" ",(null==o?null:o.firstName)+" "+(null==o?null:o.lastName)," "),t.xp6(2),t.Q6J("disabled",n.isLoading),t.xp6(2),t.Q6J("disabled",n.isLoading)}}function ve(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Pe,19,6,"ng-container",8),t.BQk()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==o.groupMemberList?null:o.groupMemberList.memberRequests)}}function Oe(i,s){1&i&&(t.TgZ(0,"p",23),t._uU(1,"No new requests"),t.qZA())}let we=(()=>{const s=class{constructor(e,n,r,a){this._groupsService=e,this._groupsServiceV2=n,this._snapshot=r,this._snackbarService=a,this.memberUpdated=new t.vpe}ngOnInit(){this._snapshot.params.subscribe(e=>{this.groupId=e.groupId}),this.getGroupMembers()}getGroupMembers(){var e=this;return(0,p.Z)(function*(){e.groupMemberList=yield e._groupsServiceV2.viewGroupMembers(e.groupId)})()}approve(e,n){var r=this;return(0,p.Z)(function*(){const a={groupId:r.groupId,entityId:e.entityId,status:"approved",email:e.email};r.isLoading=!0,(yield r._groupsService.approveGroupInvite(a))?.id&&(r.memberUpdated.emit(),r.groupMemberList?.memberRequests?.splice(n,1),r._snackbarService.openSnackBar("Member approved successfully!","success"),r.isLoading=!1)})()}reject(e,n){var r=this;return(0,p.Z)(function*(){const a={groupId:r.groupId,entityId:e.entityId,status:"rejected",email:e.email};r.isLoading=!0,(yield r._groupsService.approveGroupInvite(a))?.id&&(r.groupMemberList?.memberRequests?.splice(n,1),r._snackbarService.openSnackBar("Member rejected!","success"),r.isLoading=!1)})()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(G.J),t.Y36(k.c),t.Y36(v.gz),t.Y36(Z.o))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-requested-member"]],outputs:{memberUpdated:"memberUpdated"},decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"main-body-title","mb-3"],[1,"main_body_heading"],[1,"more_groups"],[1,"row"],[4,"ngIf","ngIfElse"],["class","col-12"],["notFound",""],[4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","mb-4"],[1,"card-body","px-2","py-3","d-flex","flex-row","gap-2"],[1,"profile_img_container"],["defaultCover",""],[1,"flex-grow-1"],[1,"post-item-profile-name"],[1,"mb-0"],[3,"routerLink"],[1,"post-item-entry","d-flex","mt-2","gap-2"],[1,"btn-approve",3,"disabled","click"],[1,"btn-reject",3,"disabled","click"],["alt","Personal cover image",1,"img-fluid","group-img","rounded",3,"src"],["alt","","src","./assets/man.png",1,"group-img","rounded"],[1,"my-5","text-center"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3,"Requested Member"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4),t.YNc(6,ve,2,1,"ng-container",5),t.YNc(7,Oe,2,0,"ng-template",6,7,t.W1O),t.qZA()()()),2&n){const a=t.MAs(8);t.xp6(6),t.Q6J("ngIf",(null==r.groupMemberList||null==r.groupMemberList.memberRequests?null:r.groupMemberList.memberRequests.length)>0)("ngIfElse",a)}},dependencies:[u.sg,u.O5,v.rH],styles:[".group-img[_ngcontent-%COMP%]{height:84px;width:84px;object-fit:cover}h5[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-left:10px}h2[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.row[_ngcontent-%COMP%]{margin-left:none}.view-groups[_ngcontent-%COMP%]{padding:2px 13px;gap:8px;border-radius:4px;border:1px solid #dddddd;background-color:transparent;color:#000000b2;font-size:12px;font-weight:500;line-height:32px;text-align:left;transition:all ease-in .3s}.view-groups[_ngcontent-%COMP%]:hover{color:#000!important;border:1px solid #000}.more_vert[_ngcontent-%COMP%]{padding:10px 8px 0;gap:4px;border-radius:4px;border:1px solid #dddddd;font-size:18px;color:#000}.group-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0!important;top:0!important;left:unset!important}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0;left:unset}.card[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #dddddd}.btn-approve[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:32px;padding:2px 13px;gap:8px;border-radius:4px;opacity:0px;background-color:#f5fffb;color:#2d9d6c;border:1px solid #68c49c}.btn-approve[_ngcontent-%COMP%]:hover{background-color:#68c49c;color:#fff;transition:all .3s ease}.btn-reject[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:32px;padding:2px 13px;gap:8px;border-radius:4px;background:#ffefef;color:#f34a4a;border:1px solid #f34a4a}.btn-reject[_ngcontent-%COMP%]:hover{background-color:#f34a4a;color:#fff;transition:all .3s ease}"]}),i})();function ye(i,s){1&i&&(t.TgZ(0,"div",17),t._UZ(1,"span",18),t.qZA())}function ke(i,s){if(1&i&&t._UZ(0,"img",55),2&i){const o=t.oxw(2);t.Q6J("src",null==o.theGroup?null:o.theGroup.image,t.LSH)}}function Ze(i,s){if(1&i&&t._UZ(0,"img",56),2&i){const o=t.oxw(2);t.Q6J("src",null==o.theGroup||null==o.theGroup.admin?null:o.theGroup.admin.avatar,t.LSH)}}function Ie(i,s){1&i&&t._UZ(0,"img",56),2&i&&t.Q6J("src","./assets/man.png",t.LSH)}function Te(i,s){1&i&&t._UZ(0,"img",57),2&i&&t.Q6J("src","./assets/groups_default.jpg",t.LSH)}function Ge(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.deleteGroup())}),t.TgZ(1,"span",16),t._uU(2,"delete"),t.qZA(),t._uU(3," Delete Group "),t.qZA()}}function Ae(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.openEditGroup())}),t.TgZ(1,"span",16),t._uU(2,"edit"),t.qZA(),t._uU(3," Edit Group Details "),t.qZA()}}function qe(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.leaveGroup())}),t.TgZ(1,"span",16),t._uU(2,"logout"),t.qZA(),t._uU(3," Leave Group "),t.qZA()}}function Je(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.showMore=!n.showMore)}),t._uU(1),t.qZA()}if(2&i){const o=t.oxw(2);t.xp6(1),t.hij(" ",o.showMore?"Show less":"Show more"," ")}}function Ue(i,s){1&i&&(t.TgZ(0,"button",60),t._uU(1," Publishing... "),t.qZA()),2&i&&t.Q6J("disabled",!0)}function Se(i,s){1&i&&(t.TgZ(0,"button",61),t._uU(1," Publish "),t.qZA())}function Ne(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"span",65),t.NdJ("keyup",function(){t.CHM(o);const n=t.oxw(3);return t.KtG(n.clearSelected())})("click",function(){t.CHM(o);const n=t.oxw(3);return t.KtG(n.clearSelected())}),t._uU(1," close "),t.qZA()}}function Le(i,s){if(1&i&&t._UZ(0,"img",66),2&i){const o=t.oxw(3);t.Q6J("src",o.ImagePreview,t.LSH)}}function Qe(i,s){if(1&i&&(t.TgZ(0,"span",62),t.YNc(1,Ne,2,0,"span",63),t.YNc(2,Le,1,1,"img",64),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.ImagePreview),t.xp6(1),t.Q6J("ngIf",o.ImagePreview)}}function Ye(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",68)(1,"span",69),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(3);return t.KtG(n.clearSelected())})("keyup",function(){t.CHM(o);const n=t.oxw(3);return t.KtG(n.clearSelected())}),t._uU(2," close "),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()}if(2&i){const o=t.oxw(3);t.xp6(4),t.Oqu(null==o.file?null:o.file.name)}}function Fe(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ye,5,1,"div",67),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.captureType===o.captureTypes.Document)}}function ze(i,s){1&i&&(t.TgZ(0,"small",70),t._uU(1," Please enter post message. "),t.qZA())}function De(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22),t.YNc(5,ke,1,1,"img",23),t.YNc(6,Ze,1,1,"img",24),t.YNc(7,Ie,1,1,"ng-template",null,25,t.W1O),t.YNc(9,Te,1,1,"ng-template",null,26,t.W1O),t.qZA(),t.TgZ(11,"div",27)(12,"h3"),t._uU(13),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"a"),t._uU(18),t.TgZ(19,"span",28),t._uU(20,"Admin"),t.qZA()()(),t.TgZ(21,"div",29),t.ynx(22),t.TgZ(23,"div",30,31)(25,"a",32)(26,"span",16),t._uU(27,"more_horiz"),t.qZA()(),t.TgZ(28,"div",33),t.YNc(29,Ge,4,0,"button",34),t.YNc(30,Ae,4,0,"button",34),t.YNc(31,qe,4,0,"button",34),t.qZA()(),t.BQk(),t.TgZ(32,"button",35),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.inviteMember())}),t.TgZ(33,"span",36),t._uU(34,"person_add"),t.qZA(),t._uU(35,"Invite "),t.qZA()()(),t.TgZ(36,"div",37)(37,"span"),t._uU(38),t.ALo(39,"slice"),t.qZA(),t.YNc(40,Je,2,1,"a",38),t.qZA(),t._UZ(41,"hr"),t.TgZ(42,"form",39,40),t.NdJ("ngSubmit",function(){t.CHM(o);const n=t.MAs(43),r=t.oxw();return t.KtG(r.SubmitCreatePost(n))}),t.TgZ(44,"div",41)(45,"div",42),t._UZ(46,"textarea",43),t.YNc(47,Ue,2,1,"ng-template",null,44,t.W1O),t.YNc(49,Se,2,0,"button",45),t.qZA(),t.YNc(50,Qe,3,2,"span",46),t.YNc(51,Fe,2,1,"div",12),t.YNc(52,ze,2,0,"small",47),t.TgZ(53,"div",48)(54,"a",49),t.NdJ("keyup",function(){t.CHM(o);const n=t.MAs(56);return t.KtG(n.click())})("click",function(){t.CHM(o);const n=t.MAs(56);return t.KtG(n.click())}),t.TgZ(55,"input",50,51),t.NdJ("change",function(n){t.CHM(o);const r=t.oxw();return t.KtG(r.uploadDocument(n))}),t.qZA(),t.TgZ(57,"span",16),t._uU(58,"attach_file"),t.qZA()(),t.TgZ(59,"a",49),t.NdJ("keyup",function(){t.CHM(o);const n=t.MAs(61);return t.KtG(n.click())})("click",function(){t.CHM(o);const n=t.MAs(61);return t.KtG(n.click())}),t.TgZ(60,"input",52,53),t.NdJ("change",function(n){t.CHM(o);const r=t.oxw();return t.KtG(r.uploadMedia(n))}),t.qZA(),t.TgZ(62,"span",54),t._uU(63,"image"),t.qZA()()()()()()(),t.BQk()}if(2&i){const o=t.MAs(8),e=t.MAs(10),n=t.MAs(43),r=t.MAs(48),a=t.oxw();t.xp6(5),t.Q6J("ngIf",null==a.theGroup?null:a.theGroup.image)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf",null==a.theGroup||null==a.theGroup.admin?null:a.theGroup.admin.avatar)("ngIfElse",o),t.xp6(7),t.Oqu(null==a.theGroup?null:a.theGroup.name),t.xp6(2),t.hij("Create Date: ",t.lcZ(16,18,null==a.theGroup?null:a.theGroup.createdAt),""),t.xp6(3),t.hij("",null==a.theGroup||null==a.theGroup.admin?null:a.theGroup.admin.name," "),t.xp6(11),t.Q6J("ngIf",a.isAdmin),t.xp6(1),t.Q6J("ngIf",a.isAdmin),t.xp6(1),t.Q6J("ngIf",!a.isAdmin),t.xp6(7),t.Oqu(a.showMore?null==a.theGroup?null:a.theGroup.description:t.Dn7(39,20,null==a.theGroup?null:a.theGroup.description,0,250)+((null==a.theGroup||null==a.theGroup.description?null:a.theGroup.description.length)>250?"...":"")),t.xp6(2),t.Q6J("ngIf",(null==a.theGroup||null==a.theGroup.description?null:a.theGroup.description.length)>250),t.xp6(2),t.Q6J("formGroup",a.createPostForm),t.xp6(7),t.Q6J("ngIf",!a.loading)("ngIfElse",r),t.xp6(1),t.Q6J("ngIf",a.ImagePreview),t.xp6(1),t.Q6J("ngIf",a.file),t.xp6(1),t.Q6J("ngIf",a.title&&a.title.invalid&&(a.title.touched||n.submitted))}}function Ee(i,s){if(1&i&&t._UZ(0,"img",55),2&i){const o=t.oxw(2);t.Q6J("src",null==o.theGroup?null:o.theGroup.image,t.LSH)}}function je(i,s){if(1&i&&t._UZ(0,"img",56),2&i){const o=t.oxw(2);t.Q6J("src",null==o.theGroup||null==o.theGroup.admin?null:o.theGroup.admin.avatar,t.LSH)}}function He(i,s){1&i&&t._UZ(0,"img",56),2&i&&t.Q6J("src","./assets/man.png",t.LSH)}function Be(i,s){1&i&&t._UZ(0,"img",57),2&i&&t.Q6J("src","./assets/groups_default.jpg",t.LSH)}function Ve(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.showMore=!n.showMore)}),t._uU(1),t.qZA()}if(2&i){const o=t.oxw(2);t.xp6(1),t.hij(" ",o.showMore?"Show less":"Show more"," ")}}function Ke(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"button",76),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(3);return t.KtG(n.requestToJoin())}),t._uU(1," Request to join "),t.qZA()}}function $e(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"button",76),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(3);return t.KtG(n.joinGroup())}),t._uU(1," Join Group "),t.qZA()}}function Re(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(3);return t.KtG(n.approveGroupInvite("approved"))}),t._uU(1," Approve "),t.qZA()}if(2&i){const o=t.oxw(3);t.Q6J("disabled",o.isLoading)}}function We(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(3);return t.KtG(n.approveGroupInvite("rejected"))}),t._uU(1," Reject "),t.qZA()}if(2&i){const o=t.oxw(3);t.Q6J("disabled",o.isLoading)}}function Xe(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(3);return t.KtG(n.cancelRequest())}),t._uU(1," Cancel Request "),t.qZA()}}function to(i,s){if(1&i&&(t.TgZ(0,"div",72),t.YNc(1,Ke,2,0,"button",73),t.YNc(2,$e,2,0,"button",73),t.YNc(3,Re,2,1,"button",74),t.YNc(4,We,2,1,"button",74),t.YNc(5,Xe,2,0,"button",75),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf","private"===(null==o.theGroup||null==o.theGroup.status?null:o.theGroup.status.toLowerCase())&&!o.isRequested&&!o.isInvited),t.xp6(1),t.Q6J("ngIf","public"===(null==o.theGroup||null==o.theGroup.status?null:o.theGroup.status.toLowerCase())&&!o.isInvited),t.xp6(1),t.Q6J("ngIf",o.isInvited),t.xp6(1),t.Q6J("ngIf",o.isInvited),t.xp6(1),t.Q6J("ngIf",o.isRequested)}}function no(i,s){if(1&i&&(t.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22),t.YNc(4,Ee,1,1,"img",23),t.YNc(5,je,1,1,"img",24),t.YNc(6,He,1,1,"ng-template",null,25,t.W1O),t.YNc(8,Be,1,1,"ng-template",null,26,t.W1O),t.qZA(),t.TgZ(10,"div",27)(11,"h3"),t._uU(12),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"a"),t._uU(17),t.TgZ(18,"span",28),t._uU(19,"Admin"),t.qZA()()()(),t.TgZ(20,"div",37)(21,"span"),t._uU(22),t.ALo(23,"slice"),t.qZA(),t.YNc(24,Ve,2,1,"a",38),t.qZA(),t.YNc(25,to,6,5,"div",71),t._UZ(26,"hr"),t.qZA()()),2&i){const o=t.MAs(7),e=t.MAs(9),n=t.oxw();t.xp6(4),t.Q6J("ngIf",null==n.theGroup?null:n.theGroup.image)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf",null==n.theGroup||null==n.theGroup.admin?null:n.theGroup.admin.avatar)("ngIfElse",o),t.xp6(7),t.Oqu(null==n.theGroup?null:n.theGroup.name),t.xp6(2),t.hij("Create Date: ",t.lcZ(15,10,null==n.theGroup?null:n.theGroup.createdAt),""),t.xp6(3),t.hij("",null==n.theGroup||null==n.theGroup.admin?null:n.theGroup.admin.name," "),t.xp6(5),t.Oqu(n.showMore?null==n.theGroup?null:n.theGroup.description:t.Dn7(23,12,null==n.theGroup?null:n.theGroup.description,0,250)+((null==n.theGroup||null==n.theGroup.description?null:n.theGroup.description.length)>250?"...":"")),t.xp6(2),t.Q6J("ngIf",(null==n.theGroup||null==n.theGroup.description?null:n.theGroup.description.length)>250),t.xp6(1),t.Q6J("ngIf",!n.isMember)}}function eo(i,s){if(1&i&&t._UZ(0,"img",81),2&i){const o=t.oxw().$implicit;t.Q6J("src",null==o?null:o.profileImage,t.LSH)}}function oo(i,s){1&i&&t._UZ(0,"img",82)}function io(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,eo,1,1,"img",79),t.YNc(2,oo,1,0,"ng-template",null,80,t.W1O),t.qZA()),2&i){const o=s.$implicit,e=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null==o?null:o.profileImage)("ngIfElse",e)}}function ro(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.hij(" +",(null==o.groupMemberList?null:o.groupMemberList.length)-3," ")}}function so(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"button",83),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.showRequestedMember())}),t.TgZ(2,"span",16),t._uU(3," group_add "),t.qZA(),t._uU(4,"Requested "),t.qZA(),t.BQk()}if(2&i){const o=t.oxw();t.xp6(1),t.ekj("open",o.showRequested)}}function ao(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"app-post-card",84),t.BQk()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("groupsFeeds",o.groupsFeeds)("groupId",o.groupId)("profileImgSrc",o.profileImgSrc)("profileName",o.profileName)("isMember",o.isMember)("isLoading",o.isLoading)}}function co(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"app-group-member",85),t.NdJ("memberUpdated",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.memberUpdated())}),t.qZA(),t.BQk()}if(2&i){const o=t.oxw();t.xp6(1),t.Q6J("isAdmin",o.isAdmin)}}function po(i,s){if(1&i){const o=t.EpF();t.ynx(0),t.TgZ(1,"app-requested-member",86),t.NdJ("memberUpdated",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.memberUpdated())}),t.qZA(),t.BQk()}}const _o=[{path:"",component:se},{path:"create",component:I.t},{path:"gr/:groupId",component:(()=>{const s=class{constructor(e,n,r,a,c,l,g,h,f,b,M){this._auth=e,this._itemService=n,this._snapshot=r,this.modalService=a,this._fb=c,this._snackbarService=l,this._groupsService=g,this._postService=h,this._router=f,this._profileServiceV2=b,this._groupsServiceV2=M,this.groupRequestLoader=!1,this.loader=!1,this.loading=!1,this.showRequested=!1,this.isRequested=!1,this.isGroupJoined=!1,this.isAdmin=!1,this.isMember=!1,this.showMember=!1,this.isInvited=!1,this.userDetail={},this.apiFetched=!1,this.captureTypes=F.Z,this.showMore=!1,this.validDocumentList=["application/msword","application/vnd.ms-excel","application/vnd.ms-powerpoint","text/plain","application/pdf"],this.hasError=!1,this.errorMsg="",this.createPostForm=this._fb.group({title:new d.NI("",[d.kI.required])}),this.showComments=!1,this.profileName="",this.isLoading=!0;const m=this._auth.loadFromLocalStorage();this.entityId=m.entityId,this.userConceptId=m.userConcept}ngOnInit(){var e=this;return(0,p.Z)(function*(){e._snapshot.params.subscribe(n=>{e.groupId=n.groupId,e.getSingleGroupInfo(e.groupId),e.getGroupFeed(!0)}),e.getGroupMembers(),yield e.getUserProfile()})()}get title(){return this.createPostForm.get("title")}get access_type(){return this.createPostForm.get("access_type")}get group_id(){return this.createPostForm.get("group_id")}clearSelected(){this.file="",this.captureType="",this.ImagePreview="",this.errorMsg=""}inviteMember(){const e=this.modalService.open(H.g,{size:"md"});e.componentInstance.groupDetail=this.theGroup,e.componentInstance.userDetail=this.userDetail}getUserProfile(){var e=this;return(0,p.Z)(function*(){const n=yield e._profileServiceV2.fetchUserDetails(e.entityId);e.userDetail=n,e.profileImgSrc=n?.avatar,e.profileName=n?.firstname+" "+n?.lastname,e.email=n?.email})()}deleteGroup(){const e=this.modalService.open(V,{size:"md"});e.componentInstance.groupId=this.groupId,e.componentInstance.groupDeleted.subscribe(()=>{this._router.navigate(["/groups"])})}openEditGroup(){const e=this.modalService.open(B,{size:"lg"});e.componentInstance.groupData=this.theGroup,e.componentInstance.updatedInfo.subscribe(()=>{this.getSingleGroupInfo(this.groupId)})}getSingleGroupInfo(e){var n=this;return(0,p.Z)(function*(){n.groupRequestLoader=!0,n.loader=!0;const r=yield n._groupsServiceV2.getGroupDetails(Number(e),n.entityId);r?(n.theGroup=r,n.groupRequestLoader=!1,n.loader=!1,!0===r?.isRequested&&(n.isRequested=!0),(!0===r?.isMember||!0===r?.isAdmin)&&(n.isGroupJoined=!0),!0===r?.isAdmin&&(n.isAdmin=!0,n.isMember=!0),!0===r?.isMember&&(n.isMember=!0),!0===r?.isInvited&&(n.isInvited=!0),n.apiFetched=!0):(n.groupRequestLoader=!1,n.loader=!1,n.apiFetched=!1)})()}leaveGroup(){var e=this;return(0,p.Z)(function*(){const n=[e.entityId];(yield e._groupsService.leaveOrRemoveMember(e.groupId,n))?.length>0?(e._snackbarService.openSnackBar("Left group successfully!","success"),e._router.navigate(["groups"])):e._snackbarService.openSnackBar("Failed to leave group.","error")})()}showGroupMember(){this.showMember=!this.showMember,this.showRequested=!1}showRequestedMember(){this.showRequested=!this.showRequested,this.showMember=!1}getGroupFeed(e){var n=this;return(0,p.Z)(function*(){e&&(n.isLoading=!0),n.groupsFeeds=yield n._postService.listPostV2(n.groupId),console.log("groupsFeeds",n.groupsFeeds),n.isLoading=!1})()}uploadDocument(e){if(e.target.files&&e.target.files[0]){const n=e.target.files[0];["text/plain","application/pdf","application/txt","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"].includes(n.type)?(this.file=n,this.captureType="Document",this.ImagePreview=null):(this.file=null,this.captureType="",this.ImagePreview=null,alert("Please select a valid document file (PDF, Word, Excel, etc.)."))}else this.file=null,this.captureType="",this.ImagePreview=null}uploadMedia(e){if(e.target.files&&e.target.files[0]){const n=e.target.files[0];if(["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"].includes(n.type)){this.file=n,this.captureType="Image";const c=new FileReader;c.readAsDataURL(n),c.onload=()=>{this.ImagePreview=c.result}}else this.file=null,this.captureType="",this.ImagePreview=null,alert("Please select a valid image file (JPEG, PNG, GIF, etc.).")}else this.file=null,this.captureType="",this.ImagePreview=null}getGroupMembers(){var e=this;return(0,p.Z)(function*(){const n=yield e._groupsServiceV2.viewGroupMembers(e.groupId);e.groupMemberList=n?.membersJoined,e.memberCount=n?.membersJoined?.length})()}uploadFile(e){this.hasError=!1;const n=this.file?.type;if(this.file?.size/1024>2e3&&(this.hasError=!0,this.errorMsg="File size must be less than 2mb",this._snackbarService.openSnackBar(this.errorMsg,"error")),this.validDocumentList.includes(n)||(this.hasError=!0,this.errorMsg="File you uploaded is not a valid document.",this._snackbarService.openSnackBar(this.errorMsg,"error")),!this.hasError){const a=new FormData;a.append("file",this.file),this.loading=!0,this._itemService.uploadFile(a).subscribe({next:c=>{const l={filepath:c.data,filename:this.file?.name,title:this.createPostForm.value.title};this.loading=!1,this.createPost(l,e)},error:c=>{this.loading=!1,this._snackbarService.openSnackBar(c.message,"error")}})}}uploadImage(e){this.hasError=!1;const n=this.file?.type,r=this.file?.size/1024,a=n.split("/")[0];if(r>2e3&&(this.hasError=!0,this.errorMsg="File size must be less than 2mb",this._snackbarService.openSnackBar(this.errorMsg,"error")),"image"!=a&&(this.hasError=!0,this.errorMsg="File you uploaded is not a valid image format.",this._snackbarService.openSnackBar(this.errorMsg,"error")),!this.hasError){this.loading=!0;const c=new FormData;c.append("image",this.file),this._itemService.uploadNewImage(c).subscribe({next:l=>{this.createPost({filepath:l.data,filename:this.file?.name,title:this.createPostForm.value.title},e)},error:()=>{this.hasError=!0,this.loading=!1,this.errorMsg="Sorry, couldnot upload image at the moment.",this._snackbarService.openSnackBar(this.errorMsg,"error")}})}}SubmitCreatePost(e){if(this.createPostForm.valid)if(this.file&&this.captureType==F.Z.Document)this.uploadFile(e);else if(this.file&&this.captureType==F.Z.Image)this.uploadImage(e);else{const n={title:this.createPostForm.value.title};this.loading=!0,this.createPost(n,e)}}createPost(e,n){var r=this;return(0,p.Z)(function*(){(yield r._postService.createPost(e,r.groupId))&&(r.getGroupFeed(!1),r.loading=!1,r.file="",r.ImagePreview="",n.resetForm(),n.form.markAsPristine(),n.form.markAsUntouched())})()}requestToJoin(){var e=this;return(0,p.Z)(function*(){const n={groupId:e.groupId,entityId:e.entityId,adminId:e.theGroup?.admin?.conceptId,email:e.email};e.loader=!0;const r=yield e._groupsService.requestToJoinGroup(n);e.loader=!1,r.success&&(e.isRequested=!0,e.isMember=!1,e._snackbarService.openSnackBar(r.message,"success"))})()}joinGroup(){var e=this;return(0,p.Z)(function*(){const n=yield e._groupsService.joinGroup(e.groupId);n.success&&(e.isMember=!0,e._snackbarService.openSnackBar(n.message,"success"))})()}cancelRequest(){var e=this;return(0,p.Z)(function*(){e.loader=!0;const n=yield e._groupsService.cancelGroupRequest([e.entityId],e.groupId);e.loader=!1,n?.[0]?.success&&(e.isRequested=!1,e.isMember=!1,e._snackbarService.openSnackBar("Canceled request to join group!","warning"))})()}approveGroupInvite(e){var n=this;return(0,p.Z)(function*(){const r={groupId:n.groupId,entityId:n.entityId,status:e,email:n.email};if(n.isLoading=!0,(yield n._groupsService.approveGroupInvite(r))?.id){n.getGroupMembers(),n._snackbarService.openSnackBar("Joined group","success");const c=yield n._groupsService.getConceptIdFromEntityId(n.theGroup?.ownerId);if("approved"==e){n._snackbarService.openSnackBar("Joined group","success"),n.isMember=!0,n.isAdmin=!1,n.isInvited=!1,n.isGroupJoined=!0;const l={userConceptIds:[c],fs_notification:{timestamp:(new Date).toISOString(),title:"Group Invitation",body:`${n.email} has accepted your group invitation.`,link:`/groups/gr/${n.theGroup.id}`}};n._itemService.bulkNotification(l).subscribe({next:()=>{}}),n.isMember=!0,n.isLoading=!1}"rejected"==e&&(n._snackbarService.openSnackBar("Rejected group invitation","warning"),n._router.navigate(["/groups"]))}else n.isLoading=!1,n._snackbarService.openSnackBar("Could not join group.","error")})()}memberUpdated(){this.getGroupMembers()}};let i=s;return s.\u0275fac=function(n){return new(n||s)(t.Y36(O.e),t.Y36(Y.e),t.Y36(v.gz),t.Y36(C.FF),t.Y36(d.qu),t.Y36(Z.o),t.Y36(G.J),t.Y36(L),t.Y36(v.F0),t.Y36(N.S),t.Y36(k.c))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-group-view"]],decls:29,vars:13,consts:[[1,"back-btn-container"],[1,"back-btn",3,"routerLink"],[1,"material-symbols-outlined","back-icon"],["class","loading",4,"ngIf"],[1,"group-info"],[1,"row","container","w-full","m-auto"],[4,"ngIf","ngIfElse"],["noMember",""],[1,"col-md-3","members"],[1,"members-section"],[1,"chat-area-group"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"member-count"],[1,"members-buttons","mt-3"],[1,"btn-members",3,"click"],[1,"material-symbols-outlined"],[1,"loading"],[1,"loader"],[1,"col-md-9"],[1,"info-group"],[1,"group-header"],[1,"image-container"],["alt","Group Logo","class","group-logo",3,"src",4,"ngIf","ngIfElse"],["alt","","class","author-avatar",3,"src",4,"ngIf","ngIfElse"],["noUserProfile",""],["noGroupProfile",""],[1,"group-details"],[1,"role-badge"],[1,"invite-button"],["ngbDropdown","",1,"d-inline-block"],["myDrop","ngbDropdown"],["ngbDropdownToggle","","role","button",1,"more_vert","hide-dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","dropdownAccess",1,"dropdown_access"],["type","button","ngbDropdownItem","",3,"click",4,"ngIf"],[1,"btn-invite","mt-2",3,"click"],[1,"material-symbols-outlined","invite-icon"],[1,"description"],["href","javascript:void(0)",3,"click",4,"ngIf"],[3,"formGroup","ngSubmit"],["createFormId","ngForm"],[1,"post-container"],[1,"post-input-section"],["formControlName","title","placeholder","Add New Post...","rows","2",1,"textarea-newpost"],["loadings",""],["class","btn-publish","type","submit",4,"ngIf","ngIfElse"],["class","image-preview",4,"ngIf"],["class","err_msg",4,"ngIf"],[1,"attachment-icons"],["tabindex","",3,"keyup","click"],["type","file","accept","application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,\n                           text/plain, application/pdf",2,"display","none",3,"change"],["fileUploadInput",""],["type","file","accept","image/png, image/jpeg, image/jpg, image/gif, image/svg",2,"display","none",3,"change"],["mediaUploadInput",""],[1,"material-symbols-outlined","image"],["alt","Group Logo",1,"group-logo",3,"src"],["alt","",1,"author-avatar",3,"src"],["alt","",1,"group-logo",3,"src"],["type","button","ngbDropdownItem","",3,"click"],["href","javascript:void(0)",3,"click"],["type","button","disabled","",1,"btn-publish",3,"disabled"],["type","submit",1,"btn-publish"],[1,"image-preview"],["tabindex","0","class","remove-icon material-symbols-outlined",3,"keyup","click",4,"ngIf"],["alt","",3,"src",4,"ngIf"],["tabindex","0",1,"remove-icon","material-symbols-outlined",3,"keyup","click"],["alt","",3,"src"],["class","pdf-container image-preview",4,"ngIf"],[1,"pdf-container","image-preview"],["tabindex","0",1,"material-symbols-outlined","remove-icon-pdf",3,"click","keyup"],[1,"err_msg"],["class","d-flex justify-content-end gap-4",4,"ngIf"],[1,"d-flex","justify-content-end","gap-4"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-secondary",3,"click"],["class","chat-area-profile","alt","",3,"src",4,"ngIf","ngIfElse"],["noProfileImage",""],["alt","",1,"chat-area-profile",3,"src"],["src","./assets/man.png","alt","",1,"chat-area-profile"],[1,"btn-requested",3,"click"],[3,"groupsFeeds","groupId","profileImgSrc","profileName","isMember","isLoading"],[3,"isAdmin","memberUpdated"],[3,"memberUpdated"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"a",1)(2,"span",2),t._uU(3," arrow_back_ios "),t.qZA(),t._uU(4," Back"),t.qZA()(),t.YNc(5,ye,2,0,"div",3),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,De,64,24,"ng-container",6),t.YNc(9,no,27,16,"ng-template",null,7,t.W1O),t.TgZ(11,"div",8)(12,"div",9)(13,"h4"),t._uU(14,"Total Members"),t.qZA(),t.TgZ(15,"div",10),t.YNc(16,io,4,2,"div",11),t.YNc(17,ro,2,1,"span",12),t.qZA(),t.TgZ(18,"div",13),t._uU(19),t.qZA(),t.TgZ(20,"div",14)(21,"button",15),t.NdJ("click",function(){return r.showGroupMember()}),t.TgZ(22,"span",16),t._uU(23," group "),t.qZA(),t._uU(24," Members "),t.qZA(),t.YNc(25,so,5,2,"ng-container",12),t.qZA()()()()(),t.YNc(26,ao,2,6,"ng-container",12),t.YNc(27,co,2,1,"ng-container",12),t.YNc(28,po,2,0,"ng-container",12)),2&n){const a=t.MAs(10);t.xp6(1),t.Q6J("routerLink","/groups"),t.xp6(4),t.Q6J("ngIf",r.loader),t.xp6(3),t.Q6J("ngIf",r.isMember)("ngIfElse",a),t.xp6(8),t.Q6J("ngForOf",null==r.groupMemberList?null:r.groupMemberList.slice(0,3)),t.xp6(1),t.Q6J("ngIf",(null==r.groupMemberList?null:r.groupMemberList.length)>3),t.xp6(2),t.Oqu(r.memberCount),t.xp6(2),t.ekj("open",r.showMember),t.xp6(4),t.Q6J("ngIf",r.isAdmin&&"Private"===(null==r.theGroup?null:r.theGroup.status)),t.xp6(1),t.Q6J("ngIf",!r.showMember&&!r.showRequested&&r.profileName),t.xp6(1),t.Q6J("ngIf",r.showMember&&!r.showRequested),t.xp6(1),t.Q6J("ngIf",!r.showMember&&r.showRequested)}},dependencies:[u.sg,u.O5,v.rH,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,C.jt,C.iD,C.Vi,C.TH,Ce,we,E,u.OU,u.uU],styles:[".back-btn-container[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{margin:10px;background-color:#fff;border:none;padding:4px;display:flex;border-radius:5px;cursor:pointer;color:#000000b3;border:1px solid #ccc;align-items:center;width:-moz-fit-content;width:fit-content}.back-btn-container[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#000}.back-btn-container[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{font-size:18px!important;color:#000000b3}.description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:18px;color:#000000b2}.description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:10px;font-weight:700;line-height:18px;color:#000000b2}hr[_ngcontent-%COMP%]{margin:.5rem 0px}.post-container[_ngcontent-%COMP%]{margin-top:10px;border:1px solid #d9d9d9;border-radius:8px;padding:10px;background-color:#fff;display:flex;flex-direction:column}.post-input-section[_ngcontent-%COMP%]{display:flex;align-items:center}.textarea-newpost[_ngcontent-%COMP%]{width:100%;border:none;outline:none;resize:none;font-size:1rem;margin-right:10px}.btn-publish[_ngcontent-%COMP%]{padding:8px 16px;background:linear-gradient(45deg,#f857a6,#ff5858);border:none;border-radius:5px;color:#fff;font-weight:700;cursor:pointer;font-size:.9rem}.attachment-icons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.attachment-icons[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer}.btn-invite[_ngcontent-%COMP%]{padding:8px 16px;background-color:#37a8d9;border:none;border-radius:5px;color:#fff;cursor:pointer;font-size:.9rem;display:flex;gap:4px}.btn-invite[_ngcontent-%COMP%]   .invite-icon[_ngcontent-%COMP%]{color:#fff}.group-info[_ngcontent-%COMP%]{display:flex;align-items:center;background:linear-gradient(90deg,#ef598c 0%,#f48439 100%);padding:28px}.group-info[_ngcontent-%COMP%]   .group-logo[_ngcontent-%COMP%]{width:84px;height:84px;border-radius:4px;margin-right:15px;object-fit:cover}.group-info[_ngcontent-%COMP%]   .author-avatar[_ngcontent-%COMP%]{position:absolute;top:45px;left:60px;width:40px;height:40px;border-radius:50%;border:2px solid white}.group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]{flex-grow:1}.group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:700}.group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;font-size:12px;font-weight:500;line-height:16px;color:#00000080}.group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin-left:3px}.group-info[_ngcontent-%COMP%]   .group-details[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{background-color:#fff;padding:2px 8px;border-radius:4px;font-size:12px;font-weight:500;border:1px solid rgb(221,221,221)}.info-group[_ngcontent-%COMP%]{background-color:#f2f5f9;padding:15px;border-radius:5px}.more_vert[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #dddddd;font-size:18px;color:#000;padding:8px 8px 0;gap:4px}.members[_ngcontent-%COMP%]{background-color:#f2f5f9;padding:15px 15px 25px;border-radius:5px;text-align:center;height:-moz-fit-content;height:fit-content}.members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-size:bold}.members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:32px;color:#000;font-weight:700}.members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]   .btn-members[_ngcontent-%COMP%], .members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]   .btn-requested[_ngcontent-%COMP%]{color:#000;padding:4px 13px;border-radius:4px;cursor:pointer;gap:8px;border:1px solid #cecece;background-color:#fff;font-size:12px;font-weight:600;line-height:32px;display:inline-flex;justify-content:center;align-items:center}.members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]   .btn-members[_ngcontent-%COMP%]:hover, .members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]   .btn-requested[_ngcontent-%COMP%]:hover{color:#fff;background-color:#000}.members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]   .btn-members[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]   .btn-requested[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}.members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]   .btn-members.open[_ngcontent-%COMP%]{color:#fff;background-color:#000}.members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]   .btn-members.open[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]   .btn-requested.open[_ngcontent-%COMP%]{color:#fff;background-color:#000}.members[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-buttons[_ngcontent-%COMP%]   .btn-requested.open[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.author-avatar[_ngcontent-%COMP%]{border-radius:50%;position:absolute;bottom:10px;object-fit:cover;border:1px solid black;width:32px;height:32px;top:200px;left:120px}.invite-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.textarea-newpost[_ngcontent-%COMP%]{width:100%;border:none;resize:none;padding:10px;border-radius:5px}.group-header[_ngcontent-%COMP%]{display:flex;align-items:center}.group-logo[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-right:15px}.chat-area-profile[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50%;object-fit:cover}.chat-area-group[_ngcontent-%COMP%]{flex-shrink:0;cursor:pointer;display:flex;justify-content:center;margin:10px 0}.chat-area-group[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:-5px}.chat-area-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:32px;height:32px;background-color:#f0f7ff;color:#0086ff;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:14px;font-weight:500}.pdf-container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;border:1px solid #dc3545;padding:5px 50px 5px 10px;background-color:#fff;border-radius:20px;z-index:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;height:35px}.btn-attachment[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:20px}.post-item-profile-name[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.2rem;margin-left:4px}.post[_ngcontent-%COMP%]{background-color:#fff;padding:15px;margin-top:15px;border-radius:10px}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;align-items:center}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:10px}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:16px}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2196f3;text-decoration:none}.post[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:100%;border-radius:5px;margin-top:10px}.post[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;font-size:14px}.post[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}.post[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:20px}.top-10px[_ngcontent-%COMP%]{top:10px}.profile-cover[_ngcontent-%COMP%]{height:240px;overflow:hidden;object-fit:cover;position:relative;border:1px solid #dfdfdf;box-shadow:0 1px 2px #dfdfdf;text-align:center;background:#fff}.share_actions[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:24px;top:-20px;z-index:99}.share_actions[_ngcontent-%COMP%]:after{display:none}.edit-cover[_ngcontent-%COMP%], .edit-profile-image[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin:0}.dropdown_access[_ngcontent-%COMP%]{position:absolute!important;right:0!important;top:0!important;left:unset!important}.image-container[_ngcontent-%COMP%]{position:relative}.image-preview[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content}.image-preview[_ngcontent-%COMP%]   .remove-icon[_ngcontent-%COMP%]{position:absolute;right:2px;top:-1px;color:#fff;z-index:99999999;cursor:pointer}.image-preview[_ngcontent-%COMP%]   .remove-icon-pdf[_ngcontent-%COMP%]{position:absolute;right:2px;top:-1px;color:#000;z-index:99999999;cursor:pointer}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:auto;position:relative}.btn-primary[_ngcontent-%COMP%]{border-radius:4px}"]}),i})()},{path:"osin",component:j}];let go=(()=>{const s=class{};let i=s;return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[v.Bz.forChild(_o),v.Bz]}),i})();var uo=x(2271),mo=x(8255);let fo=(()=>{const s=class{};let i=s;return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[u.ez,go,v.Bz,d.u5,d.UX,D.xC,uo.m,C.IJ,mo.Tx]}),i})()},7156:J=>{function U(u,v,p,I,A,q,T){try{var t=u[q](T),y=t.value}catch(O){return void p(O)}t.done?v(y):Promise.resolve(y).then(I,A)}J.exports=function x(u){return function(){var v=this,p=arguments;return new Promise(function(I,A){var q=u.apply(v,p);function T(y){U(q,I,A,T,t,"next",y)}function t(y){U(q,I,A,T,t,"throw",y)}T(void 0)})}},J.exports.__esModule=!0,J.exports.default=J.exports}}]);